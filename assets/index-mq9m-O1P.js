var w1=Object.defineProperty;var M1=(m,e,p)=>e in m?w1(m,e,{enumerable:!0,configurable:!0,writable:!0,value:p}):m[e]=p;var vt=(m,e,p)=>M1(m,typeof e!="symbol"?e+"":e,p);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const P of document.querySelectorAll('link[rel="modulepreload"]'))T(P);new MutationObserver(P=>{for(const M of P)if(M.type==="childList")for(const f of M.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&T(f)}).observe(document,{childList:!0,subtree:!0});function p(P){const M={};return P.integrity&&(M.integrity=P.integrity),P.referrerPolicy&&(M.referrerPolicy=P.referrerPolicy),P.crossOrigin==="use-credentials"?M.credentials="include":P.crossOrigin==="anonymous"?M.credentials="omit":M.credentials="same-origin",M}function T(P){if(P.ep)return;P.ep=!0;const M=p(P);fetch(P.href,M)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function af(m){const e=Object.create(null);for(const p of m.split(","))e[p]=1;return p=>p in e}const te={},or=[],Ki=()=>{},I1=()=>!1,Ih=m=>m.charCodeAt(0)===111&&m.charCodeAt(1)===110&&(m.charCodeAt(2)>122||m.charCodeAt(2)<97),of=m=>m.startsWith("onUpdate:"),De=Object.assign,hf=(m,e)=>{const p=m.indexOf(e);p>-1&&m.splice(p,1)},L1=Object.prototype.hasOwnProperty,ne=(m,e)=>L1.call(m,e),It=Array.isArray,hr=m=>ba(m)==="[object Map]",Pr=m=>ba(m)==="[object Set]",Mc=m=>ba(m)==="[object Date]",Gt=m=>typeof m=="function",Ce=m=>typeof m=="string",Ni=m=>typeof m=="symbol",ue=m=>m!==null&&typeof m=="object",mm=m=>(ue(m)||Gt(m))&&Gt(m.then)&&Gt(m.catch),gm=Object.prototype.toString,ba=m=>gm.call(m),F1=m=>ba(m).slice(8,-1),ym=m=>ba(m)==="[object Object]",lf=m=>Ce(m)&&m!=="NaN"&&m[0]!=="-"&&""+parseInt(m,10)===m,ea=af(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Lh=m=>{const e=Object.create(null);return p=>e[p]||(e[p]=m(p))},O1=/-(\w)/g,bi=Lh(m=>m.replace(O1,(e,p)=>p?p.toUpperCase():"")),D1=/\B([A-Z])/g,Ts=Lh(m=>m.replace(D1,"-$1").toLowerCase()),uf=Lh(m=>m.charAt(0).toUpperCase()+m.slice(1)),Fl=Lh(m=>m?`on${uf(m)}`:""),li=(m,e)=>!Object.is(m,e),Ro=(m,...e)=>{for(let p=0;p<m.length;p++)m[p](...e)},xm=(m,e,p,T=!1)=>{Object.defineProperty(m,e,{configurable:!0,enumerable:!1,writable:T,value:p})},Ko=m=>{const e=parseFloat(m);return isNaN(e)?m:e},N1=m=>{const e=Ce(m)?Number(m):NaN;return isNaN(e)?m:e};let Ic;const Fh=()=>Ic||(Ic=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function qe(m){if(It(m)){const e={};for(let p=0;p<m.length;p++){const T=m[p],P=Ce(T)?U1(T):qe(T);if(P)for(const M in P)e[M]=P[M]}return e}else if(Ce(m)||ue(m))return m}const b1=/;(?![^(]*\))/g,B1=/:([^]+)/,V1=/\/\*[^]*?\*\//g;function U1(m){const e={};return m.replace(V1,"").split(b1).forEach(p=>{if(p){const T=p.split(B1);T.length>1&&(e[T[0].trim()]=T[1].trim())}}),e}function Zt(m){let e="";if(Ce(m))e=m;else if(It(m))for(let p=0;p<m.length;p++){const T=Zt(m[p]);T&&(e+=T+" ")}else if(ue(m))for(const p in m)m[p]&&(e+=p+" ");return e.trim()}const G1="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",z1=af(G1);function Tm(m){return!!m||m===""}function X1(m,e){if(m.length!==e.length)return!1;let p=!0;for(let T=0;p&&T<m.length;T++)p=Ln(m[T],e[T]);return p}function Ln(m,e){if(m===e)return!0;let p=Mc(m),T=Mc(e);if(p||T)return p&&T?m.getTime()===e.getTime():!1;if(p=Ni(m),T=Ni(e),p||T)return m===e;if(p=It(m),T=It(e),p||T)return p&&T?X1(m,e):!1;if(p=ue(m),T=ue(e),p||T){if(!p||!T)return!1;const P=Object.keys(m).length,M=Object.keys(e).length;if(P!==M)return!1;for(const f in m){const C=m.hasOwnProperty(f),t=e.hasOwnProperty(f);if(C&&!t||!C&&t||!Ln(m[f],e[f]))return!1}}return String(m)===String(e)}function ff(m,e){return m.findIndex(p=>Ln(p,e))}const Sm=m=>!!(m&&m.__v_isRef===!0),ee=m=>Ce(m)?m:m==null?"":It(m)||ue(m)&&(m.toString===gm||!Gt(m.toString))?Sm(m)?ee(m.value):JSON.stringify(m,Em,2):String(m),Em=(m,e)=>Sm(e)?Em(m,e.value):hr(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((p,[T,P],M)=>(p[Ol(T,M)+" =>"]=P,p),{})}:Pr(e)?{[`Set(${e.size})`]:[...e.values()].map(p=>Ol(p))}:Ni(e)?Ol(e):ue(e)&&!It(e)&&!ym(e)?String(e):e,Ol=(m,e="")=>{var p;return Ni(m)?`Symbol(${(p=m.description)!=null?p:e})`:m};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let si;class Cm{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=si,!e&&si&&(this.index=(si.scopes||(si.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,p;if(this.scopes)for(e=0,p=this.scopes.length;e<p;e++)this.scopes[e].pause();for(e=0,p=this.effects.length;e<p;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,p;if(this.scopes)for(e=0,p=this.scopes.length;e<p;e++)this.scopes[e].resume();for(e=0,p=this.effects.length;e<p;e++)this.effects[e].resume()}}run(e){if(this._active){const p=si;try{return si=this,e()}finally{si=p}}}on(){si=this}off(){si=this.parent}stop(e){if(this._active){this._active=!1;let p,T;for(p=0,T=this.effects.length;p<T;p++)this.effects[p].stop();for(this.effects.length=0,p=0,T=this.cleanups.length;p<T;p++)this.cleanups[p]();if(this.cleanups.length=0,this.scopes){for(p=0,T=this.scopes.length;p<T;p++)this.scopes[p].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const P=this.parent.scopes.pop();P&&P!==this&&(this.parent.scopes[this.index]=P,P.index=this.index)}this.parent=void 0}}}function Am(m){return new Cm(m)}function Pm(){return si}function W1(m,e=!1){si&&si.cleanups.push(m)}let de;const Dl=new WeakSet;class Rm{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,si&&si.active&&si.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Dl.has(this)&&(Dl.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Mm(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Lc(this),Im(this);const e=de,p=Fi;de=this,Fi=!0;try{return this.fn()}finally{Lm(this),de=e,Fi=p,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)vf(e);this.deps=this.depsTail=void 0,Lc(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Dl.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){cu(this)&&this.run()}get dirty(){return cu(this)}}let wm=0,ia,sa;function Mm(m,e=!1){if(m.flags|=8,e){m.next=sa,sa=m;return}m.next=ia,ia=m}function df(){wm++}function cf(){if(--wm>0)return;if(sa){let e=sa;for(sa=void 0;e;){const p=e.next;e.next=void 0,e.flags&=-9,e=p}}let m;for(;ia;){let e=ia;for(ia=void 0;e;){const p=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(T){m||(m=T)}e=p}}if(m)throw m}function Im(m){for(let e=m.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function Lm(m){let e,p=m.depsTail,T=p;for(;T;){const P=T.prevDep;T.version===-1?(T===p&&(p=P),vf(T),H1(T)):e=T,T.dep.activeLink=T.prevActiveLink,T.prevActiveLink=void 0,T=P}m.deps=e,m.depsTail=p}function cu(m){for(let e=m.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Fm(e.dep.computed)||e.dep.version!==e.version))return!0;return!!m._dirty}function Fm(m){if(m.flags&4&&!(m.flags&16)||(m.flags&=-17,m.globalVersion===ya))return;m.globalVersion=ya;const e=m.dep;if(m.flags|=2,e.version>0&&!m.isSSR&&m.deps&&!cu(m)){m.flags&=-3;return}const p=de,T=Fi;de=m,Fi=!0;try{Im(m);const P=m.fn(m._value);(e.version===0||li(P,m._value))&&(m._value=P,e.version++)}catch(P){throw e.version++,P}finally{de=p,Fi=T,Lm(m),m.flags&=-3}}function vf(m,e=!1){const{dep:p,prevSub:T,nextSub:P}=m;if(T&&(T.nextSub=P,m.prevSub=void 0),P&&(P.prevSub=T,m.nextSub=void 0),p.subs===m&&(p.subs=T,!T&&p.computed)){p.computed.flags&=-5;for(let M=p.computed.deps;M;M=M.nextDep)vf(M,!0)}!e&&!--p.sc&&p.map&&p.map.delete(p.key)}function H1(m){const{prevDep:e,nextDep:p}=m;e&&(e.nextDep=p,m.prevDep=void 0),p&&(p.prevDep=e,m.nextDep=void 0)}let Fi=!0;const Om=[];function rn(){Om.push(Fi),Fi=!1}function an(){const m=Om.pop();Fi=m===void 0?!0:m}function Lc(m){const{cleanup:e}=m;if(m.cleanup=void 0,e){const p=de;de=void 0;try{e()}finally{de=p}}}let ya=0;class Y1{constructor(e,p){this.sub=e,this.dep=p,this.version=p.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Oh{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!de||!Fi||de===this.computed)return;let p=this.activeLink;if(p===void 0||p.sub!==de)p=this.activeLink=new Y1(de,this),de.deps?(p.prevDep=de.depsTail,de.depsTail.nextDep=p,de.depsTail=p):de.deps=de.depsTail=p,Dm(p);else if(p.version===-1&&(p.version=this.version,p.nextDep)){const T=p.nextDep;T.prevDep=p.prevDep,p.prevDep&&(p.prevDep.nextDep=T),p.prevDep=de.depsTail,p.nextDep=void 0,de.depsTail.nextDep=p,de.depsTail=p,de.deps===p&&(de.deps=T)}return p}trigger(e){this.version++,ya++,this.notify(e)}notify(e){df();try{for(let p=this.subs;p;p=p.prevSub)p.sub.notify()&&p.sub.dep.notify()}finally{cf()}}}function Dm(m){if(m.dep.sc++,m.sub.flags&4){const e=m.dep.computed;if(e&&!m.dep.subs){e.flags|=20;for(let T=e.deps;T;T=T.nextDep)Dm(T)}const p=m.dep.subs;p!==m&&(m.prevSub=p,p&&(p.nextSub=m)),m.dep.subs=m}}const ko=new WeakMap,Rn=Symbol(""),vu=Symbol(""),xa=Symbol("");function Qe(m,e,p){if(Fi&&de){let T=ko.get(m);T||ko.set(m,T=new Map);let P=T.get(p);P||(T.set(p,P=new Oh),P.map=T,P.key=p),P.track()}}function as(m,e,p,T,P,M){const f=ko.get(m);if(!f){ya++;return}const C=t=>{t&&t.trigger()};if(df(),e==="clear")f.forEach(C);else{const t=It(m),h=t&&lf(p);if(t&&p==="length"){const g=Number(T);f.forEach((o,a)=>{(a==="length"||a===xa||!Ni(a)&&a>=g)&&C(o)})}else switch((p!==void 0||f.has(void 0))&&C(f.get(p)),h&&C(f.get(xa)),e){case"add":t?h&&C(f.get("length")):(C(f.get(Rn)),hr(m)&&C(f.get(vu)));break;case"delete":t||(C(f.get(Rn)),hr(m)&&C(f.get(vu)));break;case"set":hr(m)&&C(f.get(Rn));break}}cf()}function $1(m,e){const p=ko.get(m);return p&&p.get(e)}function Qn(m){const e=Kt(m);return e===m?e:(Qe(e,"iterate",xa),Pi(m)?e:e.map(Je))}function Dh(m){return Qe(m=Kt(m),"iterate",xa),m}const K1={__proto__:null,[Symbol.iterator](){return Nl(this,Symbol.iterator,Je)},concat(...m){return Qn(this).concat(...m.map(e=>It(e)?Qn(e):e))},entries(){return Nl(this,"entries",m=>(m[1]=Je(m[1]),m))},every(m,e){return ss(this,"every",m,e,void 0,arguments)},filter(m,e){return ss(this,"filter",m,e,p=>p.map(Je),arguments)},find(m,e){return ss(this,"find",m,e,Je,arguments)},findIndex(m,e){return ss(this,"findIndex",m,e,void 0,arguments)},findLast(m,e){return ss(this,"findLast",m,e,Je,arguments)},findLastIndex(m,e){return ss(this,"findLastIndex",m,e,void 0,arguments)},forEach(m,e){return ss(this,"forEach",m,e,void 0,arguments)},includes(...m){return bl(this,"includes",m)},indexOf(...m){return bl(this,"indexOf",m)},join(m){return Qn(this).join(m)},lastIndexOf(...m){return bl(this,"lastIndexOf",m)},map(m,e){return ss(this,"map",m,e,void 0,arguments)},pop(){return Kr(this,"pop")},push(...m){return Kr(this,"push",m)},reduce(m,...e){return Fc(this,"reduce",m,e)},reduceRight(m,...e){return Fc(this,"reduceRight",m,e)},shift(){return Kr(this,"shift")},some(m,e){return ss(this,"some",m,e,void 0,arguments)},splice(...m){return Kr(this,"splice",m)},toReversed(){return Qn(this).toReversed()},toSorted(m){return Qn(this).toSorted(m)},toSpliced(...m){return Qn(this).toSpliced(...m)},unshift(...m){return Kr(this,"unshift",m)},values(){return Nl(this,"values",Je)}};function Nl(m,e,p){const T=Dh(m),P=T[e]();return T!==m&&!Pi(m)&&(P._next=P.next,P.next=()=>{const M=P._next();return M.value&&(M.value=p(M.value)),M}),P}const k1=Array.prototype;function ss(m,e,p,T,P,M){const f=Dh(m),C=f!==m&&!Pi(m),t=f[e];if(t!==k1[e]){const o=t.apply(m,M);return C?Je(o):o}let h=p;f!==m&&(C?h=function(o,a){return p.call(this,Je(o),a,m)}:p.length>2&&(h=function(o,a){return p.call(this,o,a,m)}));const g=t.call(f,h,T);return C&&P?P(g):g}function Fc(m,e,p,T){const P=Dh(m);let M=p;return P!==m&&(Pi(m)?p.length>3&&(M=function(f,C,t){return p.call(this,f,C,t,m)}):M=function(f,C,t){return p.call(this,f,Je(C),t,m)}),P[e](M,...T)}function bl(m,e,p){const T=Kt(m);Qe(T,"iterate",xa);const P=T[e](...p);return(P===-1||P===!1)&&gf(p[0])?(p[0]=Kt(p[0]),T[e](...p)):P}function Kr(m,e,p=[]){rn(),df();const T=Kt(m)[e].apply(m,p);return cf(),an(),T}const j1=af("__proto__,__v_isRef,__isVue"),Nm=new Set(Object.getOwnPropertyNames(Symbol).filter(m=>m!=="arguments"&&m!=="caller").map(m=>Symbol[m]).filter(Ni));function Q1(m){Ni(m)||(m=String(m));const e=Kt(this);return Qe(e,"has",m),e.hasOwnProperty(m)}class bm{constructor(e=!1,p=!1){this._isReadonly=e,this._isShallow=p}get(e,p,T){if(p==="__v_skip")return e.__v_skip;const P=this._isReadonly,M=this._isShallow;if(p==="__v_isReactive")return!P;if(p==="__v_isReadonly")return P;if(p==="__v_isShallow")return M;if(p==="__v_raw")return T===(P?M?rT:Gm:M?Um:Vm).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(T)?e:void 0;const f=It(e);if(!P){let t;if(f&&(t=K1[p]))return t;if(p==="hasOwnProperty")return Q1}const C=Reflect.get(e,p,ae(e)?e:T);return(Ni(p)?Nm.has(p):j1(p))||(P||Qe(e,"get",p),M)?C:ae(C)?f&&lf(p)?C:C.value:ue(C)?P?zm(C):Nh(C):C}}class Bm extends bm{constructor(e=!1){super(!1,e)}set(e,p,T,P){let M=e[p];if(!this._isShallow){const t=Fn(M);if(!Pi(T)&&!Fn(T)&&(M=Kt(M),T=Kt(T)),!It(e)&&ae(M)&&!ae(T))return t?!1:(M.value=T,!0)}const f=It(e)&&lf(p)?Number(p)<e.length:ne(e,p),C=Reflect.set(e,p,T,ae(e)?e:P);return e===Kt(P)&&(f?li(T,M)&&as(e,"set",p,T):as(e,"add",p,T)),C}deleteProperty(e,p){const T=ne(e,p);e[p];const P=Reflect.deleteProperty(e,p);return P&&T&&as(e,"delete",p,void 0),P}has(e,p){const T=Reflect.has(e,p);return(!Ni(p)||!Nm.has(p))&&Qe(e,"has",p),T}ownKeys(e){return Qe(e,"iterate",It(e)?"length":Rn),Reflect.ownKeys(e)}}class J1 extends bm{constructor(e=!1){super(!0,e)}set(e,p){return!0}deleteProperty(e,p){return!0}}const Z1=new Bm,q1=new J1,_1=new Bm(!0);const pu=m=>m,fo=m=>Reflect.getPrototypeOf(m);function tT(m,e,p){return function(...T){const P=this.__v_raw,M=Kt(P),f=hr(M),C=m==="entries"||m===Symbol.iterator&&f,t=m==="keys"&&f,h=P[m](...T),g=p?pu:e?mu:Je;return!e&&Qe(M,"iterate",t?vu:Rn),{next(){const{value:o,done:a}=h.next();return a?{value:o,done:a}:{value:C?[g(o[0]),g(o[1])]:g(o),done:a}},[Symbol.iterator](){return this}}}}function co(m){return function(...e){return m==="delete"?!1:m==="clear"?void 0:this}}function eT(m,e){const p={get(P){const M=this.__v_raw,f=Kt(M),C=Kt(P);m||(li(P,C)&&Qe(f,"get",P),Qe(f,"get",C));const{has:t}=fo(f),h=e?pu:m?mu:Je;if(t.call(f,P))return h(M.get(P));if(t.call(f,C))return h(M.get(C));M!==f&&M.get(P)},get size(){const P=this.__v_raw;return!m&&Qe(Kt(P),"iterate",Rn),Reflect.get(P,"size",P)},has(P){const M=this.__v_raw,f=Kt(M),C=Kt(P);return m||(li(P,C)&&Qe(f,"has",P),Qe(f,"has",C)),P===C?M.has(P):M.has(P)||M.has(C)},forEach(P,M){const f=this,C=f.__v_raw,t=Kt(C),h=e?pu:m?mu:Je;return!m&&Qe(t,"iterate",Rn),C.forEach((g,o)=>P.call(M,h(g),h(o),f))}};return De(p,m?{add:co("add"),set:co("set"),delete:co("delete"),clear:co("clear")}:{add(P){!e&&!Pi(P)&&!Fn(P)&&(P=Kt(P));const M=Kt(this);return fo(M).has.call(M,P)||(M.add(P),as(M,"add",P,P)),this},set(P,M){!e&&!Pi(M)&&!Fn(M)&&(M=Kt(M));const f=Kt(this),{has:C,get:t}=fo(f);let h=C.call(f,P);h||(P=Kt(P),h=C.call(f,P));const g=t.call(f,P);return f.set(P,M),h?li(M,g)&&as(f,"set",P,M):as(f,"add",P,M),this},delete(P){const M=Kt(this),{has:f,get:C}=fo(M);let t=f.call(M,P);t||(P=Kt(P),t=f.call(M,P)),C&&C.call(M,P);const h=M.delete(P);return t&&as(M,"delete",P,void 0),h},clear(){const P=Kt(this),M=P.size!==0,f=P.clear();return M&&as(P,"clear",void 0,void 0),f}}),["keys","values","entries",Symbol.iterator].forEach(P=>{p[P]=tT(P,m,e)}),p}function pf(m,e){const p=eT(m,e);return(T,P,M)=>P==="__v_isReactive"?!m:P==="__v_isReadonly"?m:P==="__v_raw"?T:Reflect.get(ne(p,P)&&P in T?p:T,P,M)}const iT={get:pf(!1,!1)},sT={get:pf(!1,!0)},nT={get:pf(!0,!1)};const Vm=new WeakMap,Um=new WeakMap,Gm=new WeakMap,rT=new WeakMap;function aT(m){switch(m){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function oT(m){return m.__v_skip||!Object.isExtensible(m)?0:aT(F1(m))}function Nh(m){return Fn(m)?m:mf(m,!1,Z1,iT,Vm)}function hT(m){return mf(m,!1,_1,sT,Um)}function zm(m){return mf(m,!0,q1,nT,Gm)}function mf(m,e,p,T,P){if(!ue(m)||m.__v_raw&&!(e&&m.__v_isReactive))return m;const M=P.get(m);if(M)return M;const f=oT(m);if(f===0)return m;const C=new Proxy(m,f===2?T:p);return P.set(m,C),C}function cs(m){return Fn(m)?cs(m.__v_raw):!!(m&&m.__v_isReactive)}function Fn(m){return!!(m&&m.__v_isReadonly)}function Pi(m){return!!(m&&m.__v_isShallow)}function gf(m){return m?!!m.__v_raw:!1}function Kt(m){const e=m&&m.__v_raw;return e?Kt(e):m}function yf(m){return!ne(m,"__v_skip")&&Object.isExtensible(m)&&xm(m,"__v_skip",!0),m}const Je=m=>ue(m)?Nh(m):m,mu=m=>ue(m)?zm(m):m;function ae(m){return m?m.__v_isRef===!0:!1}function Bt(m){return Xm(m,!1)}function lT(m){return Xm(m,!0)}function Xm(m,e){return ae(m)?m:new uT(m,e)}class uT{constructor(e,p){this.dep=new Oh,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=p?e:Kt(e),this._value=p?e:Je(e),this.__v_isShallow=p}get value(){return this.dep.track(),this._value}set value(e){const p=this._rawValue,T=this.__v_isShallow||Pi(e)||Fn(e);e=T?e:Kt(e),li(e,p)&&(this._rawValue=e,this._value=T?e:Je(e),this.dep.trigger())}}function ot(m){return ae(m)?m.value:m}const fT={get:(m,e,p)=>e==="__v_raw"?m:ot(Reflect.get(m,e,p)),set:(m,e,p,T)=>{const P=m[e];return ae(P)&&!ae(p)?(P.value=p,!0):Reflect.set(m,e,p,T)}};function Wm(m){return cs(m)?m:new Proxy(m,fT)}class dT{constructor(e){this.__v_isRef=!0,this._value=void 0;const p=this.dep=new Oh,{get:T,set:P}=e(p.track.bind(p),p.trigger.bind(p));this._get=T,this._set=P}get value(){return this._value=this._get()}set value(e){this._set(e)}}function cT(m){return new dT(m)}function vT(m){const e=It(m)?new Array(m.length):{};for(const p in m)e[p]=Hm(m,p);return e}class pT{constructor(e,p,T){this._object=e,this._key=p,this._defaultValue=T,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return $1(Kt(this._object),this._key)}}class mT{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function gT(m,e,p){return ae(m)?m:Gt(m)?new mT(m):ue(m)&&arguments.length>1?Hm(m,e,p):Bt(m)}function Hm(m,e,p){const T=m[e];return ae(T)?T:new pT(m,e,p)}class yT{constructor(e,p,T){this.fn=e,this.setter=p,this._value=void 0,this.dep=new Oh(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=ya-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!p,this.isSSR=T}notify(){if(this.flags|=16,!(this.flags&8)&&de!==this)return Mm(this,!0),!0}get value(){const e=this.dep.track();return Fm(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function xT(m,e,p=!1){let T,P;return Gt(m)?T=m:(T=m.get,P=m.set),new yT(T,P,p)}const vo={},jo=new WeakMap;let xn;function TT(m,e=!1,p=xn){if(p){let T=jo.get(p);T||jo.set(p,T=[]),T.push(m)}}function ST(m,e,p=te){const{immediate:T,deep:P,once:M,scheduler:f,augmentJob:C,call:t}=p,h=c=>P?c:Pi(c)||P===!1||P===0?os(c,1):os(c);let g,o,a,r,i=!1,n=!1;if(ae(m)?(o=()=>m.value,i=Pi(m)):cs(m)?(o=()=>h(m),i=!0):It(m)?(n=!0,i=m.some(c=>cs(c)||Pi(c)),o=()=>m.map(c=>{if(ae(c))return c.value;if(cs(c))return h(c);if(Gt(c))return t?t(c,2):c()})):Gt(m)?e?o=t?()=>t(m,2):m:o=()=>{if(a){rn();try{a()}finally{an()}}const c=xn;xn=g;try{return t?t(m,3,[r]):m(r)}finally{xn=c}}:o=Ki,e&&P){const c=o,v=P===!0?1/0:P;o=()=>os(c(),v)}const l=Pm(),s=()=>{g.stop(),l&&l.active&&hf(l.effects,g)};if(M&&e){const c=e;e=(...v)=>{c(...v),s()}}let u=n?new Array(m.length).fill(vo):vo;const d=c=>{if(!(!(g.flags&1)||!g.dirty&&!c))if(e){const v=g.run();if(P||i||(n?v.some((y,x)=>li(y,u[x])):li(v,u))){a&&a();const y=xn;xn=g;try{const x=[v,u===vo?void 0:n&&u[0]===vo?[]:u,r];t?t(e,3,x):e(...x),u=v}finally{xn=y}}}else g.run()};return C&&C(d),g=new Rm(o),g.scheduler=f?()=>f(d,!1):d,r=c=>TT(c,!1,g),a=g.onStop=()=>{const c=jo.get(g);if(c){if(t)t(c,4);else for(const v of c)v();jo.delete(g)}},e?T?d(!0):u=g.run():f?f(d.bind(null,!0),!0):g.run(),s.pause=g.pause.bind(g),s.resume=g.resume.bind(g),s.stop=s,s}function os(m,e=1/0,p){if(e<=0||!ue(m)||m.__v_skip||(p=p||new Set,p.has(m)))return m;if(p.add(m),e--,ae(m))os(m.value,e,p);else if(It(m))for(let T=0;T<m.length;T++)os(m[T],e,p);else if(Pr(m)||hr(m))m.forEach(T=>{os(T,e,p)});else if(ym(m)){for(const T in m)os(m[T],e,p);for(const T of Object.getOwnPropertySymbols(m))Object.prototype.propertyIsEnumerable.call(m,T)&&os(m[T],e,p)}return m}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Ba(m,e,p,T){try{return T?m(...T):m()}catch(P){bh(P,e,p)}}function Bi(m,e,p,T){if(Gt(m)){const P=Ba(m,e,p,T);return P&&mm(P)&&P.catch(M=>{bh(M,e,p)}),P}if(It(m)){const P=[];for(let M=0;M<m.length;M++)P.push(Bi(m[M],e,p,T));return P}}function bh(m,e,p,T=!0){const P=e?e.vnode:null,{errorHandler:M,throwUnhandledErrorInProduction:f}=e&&e.appContext.config||te;if(e){let C=e.parent;const t=e.proxy,h=`https://vuejs.org/error-reference/#runtime-${p}`;for(;C;){const g=C.ec;if(g){for(let o=0;o<g.length;o++)if(g[o](m,t,h)===!1)return}C=C.parent}if(M){rn(),Ba(M,null,10,[m,t,h]),an();return}}ET(m,p,P,T,f)}function ET(m,e,p,T=!0,P=!1){if(P)throw m;console.error(m)}const ni=[];let Hi=-1;const lr=[];let Os=null,Zn=0;const Ym=Promise.resolve();let Qo=null;function xf(m){const e=Qo||Ym;return m?e.then(this?m.bind(this):m):e}function CT(m){let e=Hi+1,p=ni.length;for(;e<p;){const T=e+p>>>1,P=ni[T],M=Ta(P);M<m||M===m&&P.flags&2?e=T+1:p=T}return e}function Tf(m){if(!(m.flags&1)){const e=Ta(m),p=ni[ni.length-1];!p||!(m.flags&2)&&e>=Ta(p)?ni.push(m):ni.splice(CT(e),0,m),m.flags|=1,$m()}}function $m(){Qo||(Qo=Ym.then(km))}function AT(m){It(m)?lr.push(...m):Os&&m.id===-1?Os.splice(Zn+1,0,m):m.flags&1||(lr.push(m),m.flags|=1),$m()}function Oc(m,e,p=Hi+1){for(;p<ni.length;p++){const T=ni[p];if(T&&T.flags&2){if(m&&T.id!==m.uid)continue;ni.splice(p,1),p--,T.flags&4&&(T.flags&=-2),T(),T.flags&4||(T.flags&=-2)}}}function Km(m){if(lr.length){const e=[...new Set(lr)].sort((p,T)=>Ta(p)-Ta(T));if(lr.length=0,Os){Os.push(...e);return}for(Os=e,Zn=0;Zn<Os.length;Zn++){const p=Os[Zn];p.flags&4&&(p.flags&=-2),p.flags&8||p(),p.flags&=-2}Os=null,Zn=0}}const Ta=m=>m.id==null?m.flags&2?-1:1/0:m.id;function km(m){try{for(Hi=0;Hi<ni.length;Hi++){const e=ni[Hi];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Ba(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;Hi<ni.length;Hi++){const e=ni[Hi];e&&(e.flags&=-2)}Hi=-1,ni.length=0,Km(),Qo=null,(ni.length||lr.length)&&km()}}let Le=null,jm=null;function Jo(m){const e=Le;return Le=m,jm=m&&m.type.__scopeId||null,e}function Vt(m,e=Le,p){if(!e||m._n)return m;const T=(...P)=>{T._d&&$c(-1);const M=Jo(e);let f;try{f=m(...P)}finally{Jo(M),T._d&&$c(1)}return f};return T._n=!0,T._c=!0,T._d=!0,T}function ki(m,e){if(Le===null)return m;const p=Wh(Le),T=m.dirs||(m.dirs=[]);for(let P=0;P<e.length;P++){let[M,f,C,t=te]=e[P];M&&(Gt(M)&&(M={mounted:M,updated:M}),M.deep&&os(f),T.push({dir:M,instance:p,value:f,oldValue:void 0,arg:C,modifiers:t}))}return m}function pn(m,e,p,T){const P=m.dirs,M=e&&e.dirs;for(let f=0;f<P.length;f++){const C=P[f];M&&(C.oldValue=M[f].value);let t=C.dir[T];t&&(rn(),Bi(t,p,8,[m.el,C,m,e]),an())}}const Qm=Symbol("_vte"),Jm=m=>m.__isTeleport,na=m=>m&&(m.disabled||m.disabled===""),Dc=m=>m&&(m.defer||m.defer===""),Nc=m=>typeof SVGElement<"u"&&m instanceof SVGElement,bc=m=>typeof MathMLElement=="function"&&m instanceof MathMLElement,gu=(m,e)=>{const p=m&&m.to;return Ce(p)?e?e(p):null:p},Zm={name:"Teleport",__isTeleport:!0,process(m,e,p,T,P,M,f,C,t,h){const{mc:g,pc:o,pbc:a,o:{insert:r,querySelector:i,createText:n,createComment:l}}=h,s=na(e.props);let{shapeFlag:u,children:d,dynamicChildren:c}=e;if(m==null){const v=e.el=n(""),y=e.anchor=n("");r(v,p,T),r(y,p,T);const x=(E,A)=>{u&16&&(P&&P.isCE&&(P.ce._teleportTarget=E),g(d,E,A,P,M,f,C,t))},S=()=>{const E=e.target=gu(e.props,i),A=qm(E,e,n,r);E&&(f!=="svg"&&Nc(E)?f="svg":f!=="mathml"&&bc(E)&&(f="mathml"),s||(x(E,A),wo(e,!1)))};s&&(x(p,y),wo(e,!0)),Dc(e.props)?ii(()=>{S(),e.el.__isMounted=!0},M):S()}else{if(Dc(e.props)&&!m.el.__isMounted){ii(()=>{Zm.process(m,e,p,T,P,M,f,C,t,h),delete m.el.__isMounted},M);return}e.el=m.el,e.targetStart=m.targetStart;const v=e.anchor=m.anchor,y=e.target=m.target,x=e.targetAnchor=m.targetAnchor,S=na(m.props),E=S?p:y,A=S?v:x;if(f==="svg"||Nc(y)?f="svg":(f==="mathml"||bc(y))&&(f="mathml"),c?(a(m.dynamicChildren,c,E,P,M,f,C),Ef(m,e,!0)):t||o(m,e,E,A,P,M,f,C,!1),s)S?e.props&&m.props&&e.props.to!==m.props.to&&(e.props.to=m.props.to):po(e,p,v,h,1);else if((e.props&&e.props.to)!==(m.props&&m.props.to)){const R=e.target=gu(e.props,i);R&&po(e,R,null,h,0)}else S&&po(e,y,x,h,1);wo(e,s)}},remove(m,e,p,{um:T,o:{remove:P}},M){const{shapeFlag:f,children:C,anchor:t,targetStart:h,targetAnchor:g,target:o,props:a}=m;if(o&&(P(h),P(g)),M&&P(t),f&16){const r=M||!na(a);for(let i=0;i<C.length;i++){const n=C[i];T(n,e,p,r,!!n.dynamicChildren)}}},move:po,hydrate:PT};function po(m,e,p,{o:{insert:T},m:P},M=2){M===0&&T(m.targetAnchor,e,p);const{el:f,anchor:C,shapeFlag:t,children:h,props:g}=m,o=M===2;if(o&&T(f,e,p),(!o||na(g))&&t&16)for(let a=0;a<h.length;a++)P(h[a],e,p,2);o&&T(C,e,p)}function PT(m,e,p,T,P,M,{o:{nextSibling:f,parentNode:C,querySelector:t,insert:h,createText:g}},o){const a=e.target=gu(e.props,t);if(a){const r=na(e.props),i=a._lpa||a.firstChild;if(e.shapeFlag&16)if(r)e.anchor=o(f(m),e,C(m),p,T,P,M),e.targetStart=i,e.targetAnchor=i&&f(i);else{e.anchor=f(m);let n=i;for(;n;){if(n&&n.nodeType===8){if(n.data==="teleport start anchor")e.targetStart=n;else if(n.data==="teleport anchor"){e.targetAnchor=n,a._lpa=e.targetAnchor&&f(e.targetAnchor);break}}n=f(n)}e.targetAnchor||qm(a,e,g,h),o(i&&f(i),e,a,p,T,P,M)}wo(e,r)}return e.anchor&&f(e.anchor)}const Bh=Zm;function wo(m,e){const p=m.ctx;if(p&&p.ut){let T,P;for(e?(T=m.el,P=m.anchor):(T=m.targetStart,P=m.targetAnchor);T&&T!==P;)T.nodeType===1&&T.setAttribute("data-v-owner",p.uid),T=T.nextSibling;p.ut()}}function qm(m,e,p,T){const P=e.targetStart=p(""),M=e.targetAnchor=p("");return P[Qm]=M,m&&(T(P,m),T(M,m)),M}const Ds=Symbol("_leaveCb"),mo=Symbol("_enterCb");function RT(){const m={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Es(()=>{m.isMounted=!0}),Vn(()=>{m.isUnmounting=!0}),m}const Ci=[Function,Array],_m={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Ci,onEnter:Ci,onAfterEnter:Ci,onEnterCancelled:Ci,onBeforeLeave:Ci,onLeave:Ci,onAfterLeave:Ci,onLeaveCancelled:Ci,onBeforeAppear:Ci,onAppear:Ci,onAfterAppear:Ci,onAppearCancelled:Ci},tg=m=>{const e=m.subTree;return e.component?tg(e.component):e},wT={name:"BaseTransition",props:_m,setup(m,{slots:e}){const p=Xh(),T=RT();return()=>{const P=e.default&&sg(e.default(),!0);if(!P||!P.length)return;const M=eg(P),f=Kt(m),{mode:C}=f;if(T.isLeaving)return Bl(M);const t=Bc(M);if(!t)return Bl(M);let h=yu(t,f,T,p,o=>h=o);t.type!==ri&&Sa(t,h);let g=p.subTree&&Bc(p.subTree);if(g&&g.type!==ri&&!Sn(t,g)&&tg(p).type!==ri){let o=yu(g,f,T,p);if(Sa(g,o),C==="out-in"&&t.type!==ri)return T.isLeaving=!0,o.afterLeave=()=>{T.isLeaving=!1,p.job.flags&8||p.update(),delete o.afterLeave,g=void 0},Bl(M);C==="in-out"&&t.type!==ri?o.delayLeave=(a,r,i)=>{const n=ig(T,g);n[String(g.key)]=g,a[Ds]=()=>{r(),a[Ds]=void 0,delete h.delayedLeave,g=void 0},h.delayedLeave=()=>{i(),delete h.delayedLeave,g=void 0}}:g=void 0}else g&&(g=void 0);return M}}};function eg(m){let e=m[0];if(m.length>1){for(const p of m)if(p.type!==ri){e=p;break}}return e}const MT=wT;function ig(m,e){const{leavingVNodes:p}=m;let T=p.get(e.type);return T||(T=Object.create(null),p.set(e.type,T)),T}function yu(m,e,p,T,P){const{appear:M,mode:f,persisted:C=!1,onBeforeEnter:t,onEnter:h,onAfterEnter:g,onEnterCancelled:o,onBeforeLeave:a,onLeave:r,onAfterLeave:i,onLeaveCancelled:n,onBeforeAppear:l,onAppear:s,onAfterAppear:u,onAppearCancelled:d}=e,c=String(m.key),v=ig(p,m),y=(E,A)=>{E&&Bi(E,T,9,A)},x=(E,A)=>{const R=A[1];y(E,A),It(E)?E.every(w=>w.length<=1)&&R():E.length<=1&&R()},S={mode:f,persisted:C,beforeEnter(E){let A=t;if(!p.isMounted)if(M)A=l||t;else return;E[Ds]&&E[Ds](!0);const R=v[c];R&&Sn(m,R)&&R.el[Ds]&&R.el[Ds](),y(A,[E])},enter(E){let A=h,R=g,w=o;if(!p.isMounted)if(M)A=s||h,R=u||g,w=d||o;else return;let I=!1;const O=E[mo]=F=>{I||(I=!0,F?y(w,[E]):y(R,[E]),S.delayedLeave&&S.delayedLeave(),E[mo]=void 0)};A?x(A,[E,O]):O()},leave(E,A){const R=String(m.key);if(E[mo]&&E[mo](!0),p.isUnmounting)return A();y(a,[E]);let w=!1;const I=E[Ds]=O=>{w||(w=!0,A(),O?y(n,[E]):y(i,[E]),E[Ds]=void 0,v[R]===m&&delete v[R])};v[R]=m,r?x(r,[E,I]):I()},clone(E){const A=yu(E,e,p,T,P);return P&&P(A),A}};return S}function Bl(m){if(Vh(m))return m=js(m),m.children=null,m}function Bc(m){if(!Vh(m))return Jm(m.type)&&m.children?eg(m.children):m;const{shapeFlag:e,children:p}=m;if(p){if(e&16)return p[0];if(e&32&&Gt(p.default))return p.default()}}function Sa(m,e){m.shapeFlag&6&&m.component?(m.transition=e,Sa(m.component.subTree,e)):m.shapeFlag&128?(m.ssContent.transition=e.clone(m.ssContent),m.ssFallback.transition=e.clone(m.ssFallback)):m.transition=e}function sg(m,e=!1,p){let T=[],P=0;for(let M=0;M<m.length;M++){let f=m[M];const C=p==null?f.key:String(p)+String(f.key!=null?f.key:M);f.type===ce?(f.patchFlag&128&&P++,T=T.concat(sg(f.children,e,C))):(e||f.type!==ri)&&T.push(C!=null?js(f,{key:C}):f)}if(P>1)for(let M=0;M<T.length;M++)T[M].patchFlag=-2;return T}/*! #__NO_SIDE_EFFECTS__ */function se(m,e){return Gt(m)?De({name:m.name},e,{setup:m}):m}function ng(m){m.ids=[m.ids[0]+m.ids[2]+++"-",0,0]}function wn(m){const e=Xh(),p=lT(null);if(e){const P=e.refs===te?e.refs={}:e.refs;Object.defineProperty(P,m,{enumerable:!0,get:()=>p.value,set:M=>p.value=M})}return p}function Zo(m,e,p,T,P=!1){if(It(m)){m.forEach((i,n)=>Zo(i,e&&(It(e)?e[n]:e),p,T,P));return}if(ur(T)&&!P){T.shapeFlag&512&&T.type.__asyncResolved&&T.component.subTree.component&&Zo(m,e,p,T.component.subTree);return}const M=T.shapeFlag&4?Wh(T.component):T.el,f=P?null:M,{i:C,r:t}=m,h=e&&e.r,g=C.refs===te?C.refs={}:C.refs,o=C.setupState,a=Kt(o),r=o===te?()=>!1:i=>ne(a,i);if(h!=null&&h!==t&&(Ce(h)?(g[h]=null,r(h)&&(o[h]=null)):ae(h)&&(h.value=null)),Gt(t))Ba(t,C,12,[f,g]);else{const i=Ce(t),n=ae(t);if(i||n){const l=()=>{if(m.f){const s=i?r(t)?o[t]:g[t]:t.value;P?It(s)&&hf(s,M):It(s)?s.includes(M)||s.push(M):i?(g[t]=[M],r(t)&&(o[t]=g[t])):(t.value=[M],m.k&&(g[m.k]=t.value))}else i?(g[t]=f,r(t)&&(o[t]=f)):n&&(t.value=f,m.k&&(g[m.k]=f))};f?(l.id=-1,ii(l,p)):l()}}}Fh().requestIdleCallback;Fh().cancelIdleCallback;const ur=m=>!!m.type.__asyncLoader,Vh=m=>m.type.__isKeepAlive;function IT(m,e){rg(m,"a",e)}function LT(m,e){rg(m,"da",e)}function rg(m,e,p=be){const T=m.__wdc||(m.__wdc=()=>{let P=p;for(;P;){if(P.isDeactivated)return;P=P.parent}return m()});if(Uh(e,T,p),p){let P=p.parent;for(;P&&P.parent;)Vh(P.parent.vnode)&&FT(T,e,p,P),P=P.parent}}function FT(m,e,p,T){const P=Uh(e,m,T,!0);Un(()=>{hf(T[e],P)},p)}function Uh(m,e,p=be,T=!1){if(p){const P=p[m]||(p[m]=[]),M=e.__weh||(e.__weh=(...f)=>{rn();const C=Va(p),t=Bi(e,p,m,f);return C(),an(),t});return T?P.unshift(M):P.push(M),M}}const Ss=m=>(e,p=be)=>{(!Aa||m==="sp")&&Uh(m,(...T)=>e(...T),p)},ag=Ss("bm"),Es=Ss("m"),OT=Ss("bu"),DT=Ss("u"),Vn=Ss("bum"),Un=Ss("um"),NT=Ss("sp"),bT=Ss("rtg"),BT=Ss("rtc");function VT(m,e=be){Uh("ec",m,e)}const UT="directives",GT=Symbol.for("v-ndc");function og(m){return zT(UT,m)}function zT(m,e,p=!0,T=!1){const P=Le||be;if(P){const M=P.type,f=Vc(P[m]||M[m],e)||Vc(P.appContext[m],e);return!f&&T?M:f}}function Vc(m,e){return m&&(m[e]||m[bi(e)]||m[uf(bi(e))])}function ji(m,e,p,T){let P;const M=p,f=It(m);if(f||Ce(m)){const C=f&&cs(m);let t=!1;C&&(t=!Pi(m),m=Dh(m)),P=new Array(m.length);for(let h=0,g=m.length;h<g;h++)P[h]=e(t?Je(m[h]):m[h],h,void 0,M)}else if(typeof m=="number"){P=new Array(m);for(let C=0;C<m;C++)P[C]=e(C+1,C,void 0,M)}else if(ue(m))if(m[Symbol.iterator])P=Array.from(m,(C,t)=>e(C,t,void 0,M));else{const C=Object.keys(m);P=new Array(C.length);for(let t=0,h=C.length;t<h;t++){const g=C[t];P[t]=e(m[g],g,t,M)}}else P=[];return P}function ve(m,e,p={},T,P){if(Le.ce||Le.parent&&ur(Le.parent)&&Le.parent.ce)return e!=="default"&&(p.name=e),gt(),Ie(ce,null,[Ct("slot",p,T&&T())],64);let M=m[e];M&&M._c&&(M._d=!1),gt();const f=M&&hg(M(p)),C=p.key||f&&f.key,t=Ie(ce,{key:(C&&!Ni(C)?C:`_${e}`)+(!f&&T?"_fb":"")},f||(T?T():[]),f&&m._===1?64:-2);return t.scopeId&&(t.slotScopeIds=[t.scopeId+"-s"]),M&&M._c&&(M._d=!0),t}function hg(m){return m.some(e=>Ca(e)?!(e.type===ri||e.type===ce&&!hg(e.children)):!0)?m:null}const xu=m=>m?Mg(m)?Wh(m):xu(m.parent):null,ra=De(Object.create(null),{$:m=>m,$el:m=>m.vnode.el,$data:m=>m.data,$props:m=>m.props,$attrs:m=>m.attrs,$slots:m=>m.slots,$refs:m=>m.refs,$parent:m=>xu(m.parent),$root:m=>xu(m.root),$host:m=>m.ce,$emit:m=>m.emit,$options:m=>ug(m),$forceUpdate:m=>m.f||(m.f=()=>{Tf(m.update)}),$nextTick:m=>m.n||(m.n=xf.bind(m.proxy)),$watch:m=>fS.bind(m)}),Vl=(m,e)=>m!==te&&!m.__isScriptSetup&&ne(m,e),XT={get({_:m},e){if(e==="__v_skip")return!0;const{ctx:p,setupState:T,data:P,props:M,accessCache:f,type:C,appContext:t}=m;let h;if(e[0]!=="$"){const r=f[e];if(r!==void 0)switch(r){case 1:return T[e];case 2:return P[e];case 4:return p[e];case 3:return M[e]}else{if(Vl(T,e))return f[e]=1,T[e];if(P!==te&&ne(P,e))return f[e]=2,P[e];if((h=m.propsOptions[0])&&ne(h,e))return f[e]=3,M[e];if(p!==te&&ne(p,e))return f[e]=4,p[e];Tu&&(f[e]=0)}}const g=ra[e];let o,a;if(g)return e==="$attrs"&&Qe(m.attrs,"get",""),g(m);if((o=C.__cssModules)&&(o=o[e]))return o;if(p!==te&&ne(p,e))return f[e]=4,p[e];if(a=t.config.globalProperties,ne(a,e))return a[e]},set({_:m},e,p){const{data:T,setupState:P,ctx:M}=m;return Vl(P,e)?(P[e]=p,!0):T!==te&&ne(T,e)?(T[e]=p,!0):ne(m.props,e)||e[0]==="$"&&e.slice(1)in m?!1:(M[e]=p,!0)},has({_:{data:m,setupState:e,accessCache:p,ctx:T,appContext:P,propsOptions:M}},f){let C;return!!p[f]||m!==te&&ne(m,f)||Vl(e,f)||(C=M[0])&&ne(C,f)||ne(T,f)||ne(ra,f)||ne(P.config.globalProperties,f)},defineProperty(m,e,p){return p.get!=null?m._.accessCache[e]=0:ne(p,"value")&&this.set(m,e,p.value,null),Reflect.defineProperty(m,e,p)}};function Gn(){return WT().slots}function WT(){const m=Xh();return m.setupContext||(m.setupContext=Lg(m))}function qo(m){return It(m)?m.reduce((e,p)=>(e[p]=null,e),{}):m}function vi(m,e){return!m||!e?m||e:It(m)&&It(e)?m.concat(e):De({},qo(m),qo(e))}let Tu=!0;function HT(m){const e=ug(m),p=m.proxy,T=m.ctx;Tu=!1,e.beforeCreate&&Uc(e.beforeCreate,m,"bc");const{data:P,computed:M,methods:f,watch:C,provide:t,inject:h,created:g,beforeMount:o,mounted:a,beforeUpdate:r,updated:i,activated:n,deactivated:l,beforeDestroy:s,beforeUnmount:u,destroyed:d,unmounted:c,render:v,renderTracked:y,renderTriggered:x,errorCaptured:S,serverPrefetch:E,expose:A,inheritAttrs:R,components:w,directives:I,filters:O}=e;if(h&&YT(h,T,null),f)for(const D in f){const b=f[D];Gt(b)&&(T[D]=b.bind(p))}if(P){const D=P.call(p,p);ue(D)&&(m.data=Nh(D))}if(Tu=!0,M)for(const D in M){const b=M[D],G=Gt(b)?b.bind(p,p):Gt(b.get)?b.get.bind(p,p):Ki,W=!Gt(b)&&Gt(b.set)?b.set.bind(p):Ki,Y=Ot({get:G,set:W});Object.defineProperty(T,D,{enumerable:!0,configurable:!0,get:()=>Y.value,set:H=>Y.value=H})}if(C)for(const D in C)lg(C[D],T,p,D);if(t){const D=Gt(t)?t.call(p):t;Reflect.ownKeys(D).forEach(b=>{JT(b,D[b])})}g&&Uc(g,m,"c");function L(D,b){It(b)?b.forEach(G=>D(G.bind(p))):b&&D(b.bind(p))}if(L(ag,o),L(Es,a),L(OT,r),L(DT,i),L(IT,n),L(LT,l),L(VT,S),L(BT,y),L(bT,x),L(Vn,u),L(Un,c),L(NT,E),It(A))if(A.length){const D=m.exposed||(m.exposed={});A.forEach(b=>{Object.defineProperty(D,b,{get:()=>p[b],set:G=>p[b]=G})})}else m.exposed||(m.exposed={});v&&m.render===Ki&&(m.render=v),R!=null&&(m.inheritAttrs=R),w&&(m.components=w),I&&(m.directives=I),E&&ng(m)}function YT(m,e,p=Ki){It(m)&&(m=Su(m));for(const T in m){const P=m[T];let M;ue(P)?"default"in P?M=fr(P.from||T,P.default,!0):M=fr(P.from||T):M=fr(P),ae(M)?Object.defineProperty(e,T,{enumerable:!0,configurable:!0,get:()=>M.value,set:f=>M.value=f}):e[T]=M}}function Uc(m,e,p){Bi(It(m)?m.map(T=>T.bind(e.proxy)):m.bind(e.proxy),e,p)}function lg(m,e,p,T){let P=T.includes(".")?Eg(p,T):()=>p[T];if(Ce(m)){const M=e[m];Gt(M)&&fi(P,M)}else if(Gt(m))fi(P,m.bind(p));else if(ue(m))if(It(m))m.forEach(M=>lg(M,e,p,T));else{const M=Gt(m.handler)?m.handler.bind(p):e[m.handler];Gt(M)&&fi(P,M,m)}}function ug(m){const e=m.type,{mixins:p,extends:T}=e,{mixins:P,optionsCache:M,config:{optionMergeStrategies:f}}=m.appContext,C=M.get(e);let t;return C?t=C:!P.length&&!p&&!T?t=e:(t={},P.length&&P.forEach(h=>_o(t,h,f,!0)),_o(t,e,f)),ue(e)&&M.set(e,t),t}function _o(m,e,p,T=!1){const{mixins:P,extends:M}=e;M&&_o(m,M,p,!0),P&&P.forEach(f=>_o(m,f,p,!0));for(const f in e)if(!(T&&f==="expose")){const C=$T[f]||p&&p[f];m[f]=C?C(m[f],e[f]):e[f]}return m}const $T={data:Gc,props:zc,emits:zc,methods:jr,computed:jr,beforeCreate:ei,created:ei,beforeMount:ei,mounted:ei,beforeUpdate:ei,updated:ei,beforeDestroy:ei,beforeUnmount:ei,destroyed:ei,unmounted:ei,activated:ei,deactivated:ei,errorCaptured:ei,serverPrefetch:ei,components:jr,directives:jr,watch:kT,provide:Gc,inject:KT};function Gc(m,e){return e?m?function(){return De(Gt(m)?m.call(this,this):m,Gt(e)?e.call(this,this):e)}:e:m}function KT(m,e){return jr(Su(m),Su(e))}function Su(m){if(It(m)){const e={};for(let p=0;p<m.length;p++)e[m[p]]=m[p];return e}return m}function ei(m,e){return m?[...new Set([].concat(m,e))]:e}function jr(m,e){return m?De(Object.create(null),m,e):e}function zc(m,e){return m?It(m)&&It(e)?[...new Set([...m,...e])]:De(Object.create(null),qo(m),qo(e??{})):e}function kT(m,e){if(!m)return e;if(!e)return m;const p=De(Object.create(null),m);for(const T in e)p[T]=ei(m[T],e[T]);return p}function fg(){return{app:null,config:{isNativeTag:I1,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let jT=0;function QT(m,e){return function(T,P=null){Gt(T)||(T=De({},T)),P!=null&&!ue(P)&&(P=null);const M=fg(),f=new WeakSet,C=[];let t=!1;const h=M.app={_uid:jT++,_component:T,_props:P,_container:null,_context:M,_instance:null,version:LS,get config(){return M.config},set config(g){},use(g,...o){return f.has(g)||(g&&Gt(g.install)?(f.add(g),g.install(h,...o)):Gt(g)&&(f.add(g),g(h,...o))),h},mixin(g){return M.mixins.includes(g)||M.mixins.push(g),h},component(g,o){return o?(M.components[g]=o,h):M.components[g]},directive(g,o){return o?(M.directives[g]=o,h):M.directives[g]},mount(g,o,a){if(!t){const r=h._ceVNode||Ct(T,P);return r.appContext=M,a===!0?a="svg":a===!1&&(a=void 0),m(r,g,a),t=!0,h._container=g,g.__vue_app__=h,Wh(r.component)}},onUnmount(g){C.push(g)},unmount(){t&&(Bi(C,h._instance,16),m(null,h._container),delete h._container.__vue_app__)},provide(g,o){return M.provides[g]=o,h},runWithContext(g){const o=Mn;Mn=h;try{return g()}finally{Mn=o}}};return h}}let Mn=null;function JT(m,e){if(be){let p=be.provides;const T=be.parent&&be.parent.provides;T===p&&(p=be.provides=Object.create(T)),p[m]=e}}function fr(m,e,p=!1){const T=be||Le;if(T||Mn){const P=Mn?Mn._context.provides:T?T.parent==null?T.vnode.appContext&&T.vnode.appContext.provides:T.parent.provides:void 0;if(P&&m in P)return P[m];if(arguments.length>1)return p&&Gt(e)?e.call(T&&T.proxy):e}}function ZT(){return!!(be||Le||Mn)}const dg={},cg=()=>Object.create(dg),vg=m=>Object.getPrototypeOf(m)===dg;function qT(m,e,p,T=!1){const P={},M=cg();m.propsDefaults=Object.create(null),pg(m,e,P,M);for(const f in m.propsOptions[0])f in P||(P[f]=void 0);p?m.props=T?P:hT(P):m.type.props?m.props=P:m.props=M,m.attrs=M}function _T(m,e,p,T){const{props:P,attrs:M,vnode:{patchFlag:f}}=m,C=Kt(P),[t]=m.propsOptions;let h=!1;if((T||f>0)&&!(f&16)){if(f&8){const g=m.vnode.dynamicProps;for(let o=0;o<g.length;o++){let a=g[o];if(Gh(m.emitsOptions,a))continue;const r=e[a];if(t)if(ne(M,a))r!==M[a]&&(M[a]=r,h=!0);else{const i=bi(a);P[i]=Eu(t,C,i,r,m,!1)}else r!==M[a]&&(M[a]=r,h=!0)}}}else{pg(m,e,P,M)&&(h=!0);let g;for(const o in C)(!e||!ne(e,o)&&((g=Ts(o))===o||!ne(e,g)))&&(t?p&&(p[o]!==void 0||p[g]!==void 0)&&(P[o]=Eu(t,C,o,void 0,m,!0)):delete P[o]);if(M!==C)for(const o in M)(!e||!ne(e,o))&&(delete M[o],h=!0)}h&&as(m.attrs,"set","")}function pg(m,e,p,T){const[P,M]=m.propsOptions;let f=!1,C;if(e)for(let t in e){if(ea(t))continue;const h=e[t];let g;P&&ne(P,g=bi(t))?!M||!M.includes(g)?p[g]=h:(C||(C={}))[g]=h:Gh(m.emitsOptions,t)||(!(t in T)||h!==T[t])&&(T[t]=h,f=!0)}if(M){const t=Kt(p),h=C||te;for(let g=0;g<M.length;g++){const o=M[g];p[o]=Eu(P,t,o,h[o],m,!ne(h,o))}}return f}function Eu(m,e,p,T,P,M){const f=m[p];if(f!=null){const C=ne(f,"default");if(C&&T===void 0){const t=f.default;if(f.type!==Function&&!f.skipFactory&&Gt(t)){const{propsDefaults:h}=P;if(p in h)T=h[p];else{const g=Va(P);T=h[p]=t.call(null,e),g()}}else T=t;P.ce&&P.ce._setProp(p,T)}f[0]&&(M&&!C?T=!1:f[1]&&(T===""||T===Ts(p))&&(T=!0))}return T}const tS=new WeakMap;function mg(m,e,p=!1){const T=p?tS:e.propsCache,P=T.get(m);if(P)return P;const M=m.props,f={},C=[];let t=!1;if(!Gt(m)){const g=o=>{t=!0;const[a,r]=mg(o,e,!0);De(f,a),r&&C.push(...r)};!p&&e.mixins.length&&e.mixins.forEach(g),m.extends&&g(m.extends),m.mixins&&m.mixins.forEach(g)}if(!M&&!t)return ue(m)&&T.set(m,or),or;if(It(M))for(let g=0;g<M.length;g++){const o=bi(M[g]);Xc(o)&&(f[o]=te)}else if(M)for(const g in M){const o=bi(g);if(Xc(o)){const a=M[g],r=f[o]=It(a)||Gt(a)?{type:a}:De({},a),i=r.type;let n=!1,l=!0;if(It(i))for(let s=0;s<i.length;++s){const u=i[s],d=Gt(u)&&u.name;if(d==="Boolean"){n=!0;break}else d==="String"&&(l=!1)}else n=Gt(i)&&i.name==="Boolean";r[0]=n,r[1]=l,(n||ne(r,"default"))&&C.push(o)}}const h=[f,C];return ue(m)&&T.set(m,h),h}function Xc(m){return m[0]!=="$"&&!ea(m)}const gg=m=>m[0]==="_"||m==="$stable",Sf=m=>It(m)?m.map($i):[$i(m)],eS=(m,e,p)=>{if(e._n)return e;const T=Vt((...P)=>Sf(e(...P)),p);return T._c=!1,T},yg=(m,e,p)=>{const T=m._ctx;for(const P in m){if(gg(P))continue;const M=m[P];if(Gt(M))e[P]=eS(P,M,T);else if(M!=null){const f=Sf(M);e[P]=()=>f}}},xg=(m,e)=>{const p=Sf(e);m.slots.default=()=>p},Tg=(m,e,p)=>{for(const T in e)(p||T!=="_")&&(m[T]=e[T])},iS=(m,e,p)=>{const T=m.slots=cg();if(m.vnode.shapeFlag&32){const P=e._;P?(Tg(T,e,p),p&&xm(T,"_",P,!0)):yg(e,T)}else e&&xg(m,e)},sS=(m,e,p)=>{const{vnode:T,slots:P}=m;let M=!0,f=te;if(T.shapeFlag&32){const C=e._;C?p&&C===1?M=!1:Tg(P,e,p):(M=!e.$stable,yg(e,P)),f=e}else e&&(xg(m,e),f={default:1});if(M)for(const C in P)!gg(C)&&f[C]==null&&delete P[C]},ii=gS;function nS(m){return rS(m)}function rS(m,e){const p=Fh();p.__VUE__=!0;const{insert:T,remove:P,patchProp:M,createElement:f,createText:C,createComment:t,setText:h,setElementText:g,parentNode:o,nextSibling:a,setScopeId:r=Ki,insertStaticContent:i}=m,n=(j,Z,_,et=null,it=null,st=null,nt=void 0,ut=null,ft=!!Z.dynamicChildren)=>{if(j===Z)return;j&&!Sn(j,Z)&&(et=z(j),H(j,it,st,!0),j=null),Z.patchFlag===-2&&(ft=!1,Z.dynamicChildren=null);const{type:ht,ref:rt,shapeFlag:lt}=Z;switch(ht){case zh:l(j,Z,_,et);break;case ri:s(j,Z,_,et);break;case Gl:j==null&&u(Z,_,et,nt);break;case ce:w(j,Z,_,et,it,st,nt,ut,ft);break;default:lt&1?v(j,Z,_,et,it,st,nt,ut,ft):lt&6?I(j,Z,_,et,it,st,nt,ut,ft):(lt&64||lt&128)&&ht.process(j,Z,_,et,it,st,nt,ut,ft,J)}rt!=null&&it&&Zo(rt,j&&j.ref,st,Z||j,!Z)},l=(j,Z,_,et)=>{if(j==null)T(Z.el=C(Z.children),_,et);else{const it=Z.el=j.el;Z.children!==j.children&&h(it,Z.children)}},s=(j,Z,_,et)=>{j==null?T(Z.el=t(Z.children||""),_,et):Z.el=j.el},u=(j,Z,_,et)=>{[j.el,j.anchor]=i(j.children,Z,_,et,j.el,j.anchor)},d=({el:j,anchor:Z},_,et)=>{let it;for(;j&&j!==Z;)it=a(j),T(j,_,et),j=it;T(Z,_,et)},c=({el:j,anchor:Z})=>{let _;for(;j&&j!==Z;)_=a(j),P(j),j=_;P(Z)},v=(j,Z,_,et,it,st,nt,ut,ft)=>{Z.type==="svg"?nt="svg":Z.type==="math"&&(nt="mathml"),j==null?y(Z,_,et,it,st,nt,ut,ft):E(j,Z,it,st,nt,ut,ft)},y=(j,Z,_,et,it,st,nt,ut)=>{let ft,ht;const{props:rt,shapeFlag:lt,transition:dt,dirs:yt}=j;if(ft=j.el=f(j.type,st,rt&&rt.is,rt),lt&8?g(ft,j.children):lt&16&&S(j.children,ft,null,et,it,Ul(j,st),nt,ut),yt&&pn(j,null,et,"created"),x(ft,j,j.scopeId,nt,et),rt){for(const At in rt)At!=="value"&&!ea(At)&&M(ft,At,null,rt[At],st,et);"value"in rt&&M(ft,"value",null,rt.value,st),(ht=rt.onVnodeBeforeMount)&&Xi(ht,et,j)}yt&&pn(j,null,et,"beforeMount");const xt=aS(it,dt);xt&&dt.beforeEnter(ft),T(ft,Z,_),((ht=rt&&rt.onVnodeMounted)||xt||yt)&&ii(()=>{ht&&Xi(ht,et,j),xt&&dt.enter(ft),yt&&pn(j,null,et,"mounted")},it)},x=(j,Z,_,et,it)=>{if(_&&r(j,_),et)for(let st=0;st<et.length;st++)r(j,et[st]);if(it){let st=it.subTree;if(Z===st||Pg(st.type)&&(st.ssContent===Z||st.ssFallback===Z)){const nt=it.vnode;x(j,nt,nt.scopeId,nt.slotScopeIds,it.parent)}}},S=(j,Z,_,et,it,st,nt,ut,ft=0)=>{for(let ht=ft;ht<j.length;ht++){const rt=j[ht]=ut?Ns(j[ht]):$i(j[ht]);n(null,rt,Z,_,et,it,st,nt,ut)}},E=(j,Z,_,et,it,st,nt)=>{const ut=Z.el=j.el;let{patchFlag:ft,dynamicChildren:ht,dirs:rt}=Z;ft|=j.patchFlag&16;const lt=j.props||te,dt=Z.props||te;let yt;if(_&&mn(_,!1),(yt=dt.onVnodeBeforeUpdate)&&Xi(yt,_,Z,j),rt&&pn(Z,j,_,"beforeUpdate"),_&&mn(_,!0),(lt.innerHTML&&dt.innerHTML==null||lt.textContent&&dt.textContent==null)&&g(ut,""),ht?A(j.dynamicChildren,ht,ut,_,et,Ul(Z,it),st):nt||b(j,Z,ut,null,_,et,Ul(Z,it),st,!1),ft>0){if(ft&16)R(ut,lt,dt,_,it);else if(ft&2&&lt.class!==dt.class&&M(ut,"class",null,dt.class,it),ft&4&&M(ut,"style",lt.style,dt.style,it),ft&8){const xt=Z.dynamicProps;for(let At=0;At<xt.length;At++){const Et=xt[At],Lt=lt[Et],Xt=dt[Et];(Xt!==Lt||Et==="value")&&M(ut,Et,Lt,Xt,it,_)}}ft&1&&j.children!==Z.children&&g(ut,Z.children)}else!nt&&ht==null&&R(ut,lt,dt,_,it);((yt=dt.onVnodeUpdated)||rt)&&ii(()=>{yt&&Xi(yt,_,Z,j),rt&&pn(Z,j,_,"updated")},et)},A=(j,Z,_,et,it,st,nt)=>{for(let ut=0;ut<Z.length;ut++){const ft=j[ut],ht=Z[ut],rt=ft.el&&(ft.type===ce||!Sn(ft,ht)||ft.shapeFlag&70)?o(ft.el):_;n(ft,ht,rt,null,et,it,st,nt,!0)}},R=(j,Z,_,et,it)=>{if(Z!==_){if(Z!==te)for(const st in Z)!ea(st)&&!(st in _)&&M(j,st,Z[st],null,it,et);for(const st in _){if(ea(st))continue;const nt=_[st],ut=Z[st];nt!==ut&&st!=="value"&&M(j,st,ut,nt,it,et)}"value"in _&&M(j,"value",Z.value,_.value,it)}},w=(j,Z,_,et,it,st,nt,ut,ft)=>{const ht=Z.el=j?j.el:C(""),rt=Z.anchor=j?j.anchor:C("");let{patchFlag:lt,dynamicChildren:dt,slotScopeIds:yt}=Z;yt&&(ut=ut?ut.concat(yt):yt),j==null?(T(ht,_,et),T(rt,_,et),S(Z.children||[],_,rt,it,st,nt,ut,ft)):lt>0&&lt&64&&dt&&j.dynamicChildren?(A(j.dynamicChildren,dt,_,it,st,nt,ut),(Z.key!=null||it&&Z===it.subTree)&&Ef(j,Z,!0)):b(j,Z,_,rt,it,st,nt,ut,ft)},I=(j,Z,_,et,it,st,nt,ut,ft)=>{Z.slotScopeIds=ut,j==null?Z.shapeFlag&512?it.ctx.activate(Z,_,et,nt,ft):O(Z,_,et,it,st,nt,ft):F(j,Z,ft)},O=(j,Z,_,et,it,st,nt)=>{const ut=j.component=AS(j,et,it);if(Vh(j)&&(ut.ctx.renderer=J),PS(ut,!1,nt),ut.asyncDep){if(it&&it.registerDep(ut,L,nt),!j.el){const ft=ut.subTree=Ct(ri);s(null,ft,Z,_)}}else L(ut,j,Z,_,it,st,nt)},F=(j,Z,_)=>{const et=Z.component=j.component;if(pS(j,Z,_))if(et.asyncDep&&!et.asyncResolved){D(et,Z,_);return}else et.next=Z,et.update();else Z.el=j.el,et.vnode=Z},L=(j,Z,_,et,it,st,nt)=>{const ut=()=>{if(j.isMounted){let{next:lt,bu:dt,u:yt,parent:xt,vnode:At}=j;{const Nt=Sg(j);if(Nt){lt&&(lt.el=At.el,D(j,lt,nt)),Nt.asyncDep.then(()=>{j.isUnmounted||ut()});return}}let Et=lt,Lt;mn(j,!1),lt?(lt.el=At.el,D(j,lt,nt)):lt=At,dt&&Ro(dt),(Lt=lt.props&&lt.props.onVnodeBeforeUpdate)&&Xi(Lt,xt,lt,At),mn(j,!0);const Xt=Hc(j),qt=j.subTree;j.subTree=Xt,n(qt,Xt,o(qt.el),z(qt),j,it,st),lt.el=Xt.el,Et===null&&mS(j,Xt.el),yt&&ii(yt,it),(Lt=lt.props&&lt.props.onVnodeUpdated)&&ii(()=>Xi(Lt,xt,lt,At),it)}else{let lt;const{el:dt,props:yt}=Z,{bm:xt,m:At,parent:Et,root:Lt,type:Xt}=j,qt=ur(Z);mn(j,!1),xt&&Ro(xt),!qt&&(lt=yt&&yt.onVnodeBeforeMount)&&Xi(lt,Et,Z),mn(j,!0);{Lt.ce&&Lt.ce._injectChildStyle(Xt);const Nt=j.subTree=Hc(j);n(null,Nt,_,et,j,it,st),Z.el=Nt.el}if(At&&ii(At,it),!qt&&(lt=yt&&yt.onVnodeMounted)){const Nt=Z;ii(()=>Xi(lt,Et,Nt),it)}(Z.shapeFlag&256||Et&&ur(Et.vnode)&&Et.vnode.shapeFlag&256)&&j.a&&ii(j.a,it),j.isMounted=!0,Z=_=et=null}};j.scope.on();const ft=j.effect=new Rm(ut);j.scope.off();const ht=j.update=ft.run.bind(ft),rt=j.job=ft.runIfDirty.bind(ft);rt.i=j,rt.id=j.uid,ft.scheduler=()=>Tf(rt),mn(j,!0),ht()},D=(j,Z,_)=>{Z.component=j;const et=j.vnode.props;j.vnode=Z,j.next=null,_T(j,Z.props,et,_),sS(j,Z.children,_),rn(),Oc(j),an()},b=(j,Z,_,et,it,st,nt,ut,ft=!1)=>{const ht=j&&j.children,rt=j?j.shapeFlag:0,lt=Z.children,{patchFlag:dt,shapeFlag:yt}=Z;if(dt>0){if(dt&128){W(ht,lt,_,et,it,st,nt,ut,ft);return}else if(dt&256){G(ht,lt,_,et,it,st,nt,ut,ft);return}}yt&8?(rt&16&&B(ht,it,st),lt!==ht&&g(_,lt)):rt&16?yt&16?W(ht,lt,_,et,it,st,nt,ut,ft):B(ht,it,st,!0):(rt&8&&g(_,""),yt&16&&S(lt,_,et,it,st,nt,ut,ft))},G=(j,Z,_,et,it,st,nt,ut,ft)=>{j=j||or,Z=Z||or;const ht=j.length,rt=Z.length,lt=Math.min(ht,rt);let dt;for(dt=0;dt<lt;dt++){const yt=Z[dt]=ft?Ns(Z[dt]):$i(Z[dt]);n(j[dt],yt,_,null,it,st,nt,ut,ft)}ht>rt?B(j,it,st,!0,!1,lt):S(Z,_,et,it,st,nt,ut,ft,lt)},W=(j,Z,_,et,it,st,nt,ut,ft)=>{let ht=0;const rt=Z.length;let lt=j.length-1,dt=rt-1;for(;ht<=lt&&ht<=dt;){const yt=j[ht],xt=Z[ht]=ft?Ns(Z[ht]):$i(Z[ht]);if(Sn(yt,xt))n(yt,xt,_,null,it,st,nt,ut,ft);else break;ht++}for(;ht<=lt&&ht<=dt;){const yt=j[lt],xt=Z[dt]=ft?Ns(Z[dt]):$i(Z[dt]);if(Sn(yt,xt))n(yt,xt,_,null,it,st,nt,ut,ft);else break;lt--,dt--}if(ht>lt){if(ht<=dt){const yt=dt+1,xt=yt<rt?Z[yt].el:et;for(;ht<=dt;)n(null,Z[ht]=ft?Ns(Z[ht]):$i(Z[ht]),_,xt,it,st,nt,ut,ft),ht++}}else if(ht>dt)for(;ht<=lt;)H(j[ht],it,st,!0),ht++;else{const yt=ht,xt=ht,At=new Map;for(ht=xt;ht<=dt;ht++){const jt=Z[ht]=ft?Ns(Z[ht]):$i(Z[ht]);jt.key!=null&&At.set(jt.key,ht)}let Et,Lt=0;const Xt=dt-xt+1;let qt=!1,Nt=0;const Jt=new Array(Xt);for(ht=0;ht<Xt;ht++)Jt[ht]=0;for(ht=yt;ht<=lt;ht++){const jt=j[ht];if(Lt>=Xt){H(jt,it,st,!0);continue}let Pe;if(jt.key!=null)Pe=At.get(jt.key);else for(Et=xt;Et<=dt;Et++)if(Jt[Et-xt]===0&&Sn(jt,Z[Et])){Pe=Et;break}Pe===void 0?H(jt,it,st,!0):(Jt[Pe-xt]=ht+1,Pe>=Nt?Nt=Pe:qt=!0,n(jt,Z[Pe],_,null,it,st,nt,ut,ft),Lt++)}const le=qt?oS(Jt):or;for(Et=le.length-1,ht=Xt-1;ht>=0;ht--){const jt=xt+ht,Pe=Z[jt],Ei=jt+1<rt?Z[jt+1].el:et;Jt[ht]===0?n(null,Pe,_,Ei,it,st,nt,ut,ft):qt&&(Et<0||ht!==le[Et]?Y(Pe,_,Ei,2):Et--)}}},Y=(j,Z,_,et,it=null)=>{const{el:st,type:nt,transition:ut,children:ft,shapeFlag:ht}=j;if(ht&6){Y(j.component.subTree,Z,_,et);return}if(ht&128){j.suspense.move(Z,_,et);return}if(ht&64){nt.move(j,Z,_,J);return}if(nt===ce){T(st,Z,_);for(let lt=0;lt<ft.length;lt++)Y(ft[lt],Z,_,et);T(j.anchor,Z,_);return}if(nt===Gl){d(j,Z,_);return}if(et!==2&&ht&1&&ut)if(et===0)ut.beforeEnter(st),T(st,Z,_),ii(()=>ut.enter(st),it);else{const{leave:lt,delayLeave:dt,afterLeave:yt}=ut,xt=()=>T(st,Z,_),At=()=>{lt(st,()=>{xt(),yt&&yt()})};dt?dt(st,xt,At):At()}else T(st,Z,_)},H=(j,Z,_,et=!1,it=!1)=>{const{type:st,props:nt,ref:ut,children:ft,dynamicChildren:ht,shapeFlag:rt,patchFlag:lt,dirs:dt,cacheIndex:yt}=j;if(lt===-2&&(it=!1),ut!=null&&Zo(ut,null,_,j,!0),yt!=null&&(Z.renderCache[yt]=void 0),rt&256){Z.ctx.deactivate(j);return}const xt=rt&1&&dt,At=!ur(j);let Et;if(At&&(Et=nt&&nt.onVnodeBeforeUnmount)&&Xi(Et,Z,j),rt&6)V(j.component,_,et);else{if(rt&128){j.suspense.unmount(_,et);return}xt&&pn(j,null,Z,"beforeUnmount"),rt&64?j.type.remove(j,Z,_,J,et):ht&&!ht.hasOnce&&(st!==ce||lt>0&&lt&64)?B(ht,Z,_,!1,!0):(st===ce&&lt&384||!it&&rt&16)&&B(ft,Z,_),et&&U(j)}(At&&(Et=nt&&nt.onVnodeUnmounted)||xt)&&ii(()=>{Et&&Xi(Et,Z,j),xt&&pn(j,null,Z,"unmounted")},_)},U=j=>{const{type:Z,el:_,anchor:et,transition:it}=j;if(Z===ce){X(_,et);return}if(Z===Gl){c(j);return}const st=()=>{P(_),it&&!it.persisted&&it.afterLeave&&it.afterLeave()};if(j.shapeFlag&1&&it&&!it.persisted){const{leave:nt,delayLeave:ut}=it,ft=()=>nt(_,st);ut?ut(j.el,st,ft):ft()}else st()},X=(j,Z)=>{let _;for(;j!==Z;)_=a(j),P(j),j=_;P(Z)},V=(j,Z,_)=>{const{bum:et,scope:it,job:st,subTree:nt,um:ut,m:ft,a:ht}=j;Wc(ft),Wc(ht),et&&Ro(et),it.stop(),st&&(st.flags|=8,H(nt,j,Z,_)),ut&&ii(ut,Z),ii(()=>{j.isUnmounted=!0},Z),Z&&Z.pendingBranch&&!Z.isUnmounted&&j.asyncDep&&!j.asyncResolved&&j.suspenseId===Z.pendingId&&(Z.deps--,Z.deps===0&&Z.resolve())},B=(j,Z,_,et=!1,it=!1,st=0)=>{for(let nt=st;nt<j.length;nt++)H(j[nt],Z,_,et,it)},z=j=>{if(j.shapeFlag&6)return z(j.component.subTree);if(j.shapeFlag&128)return j.suspense.next();const Z=a(j.anchor||j.el),_=Z&&Z[Qm];return _?a(_):Z};let K=!1;const k=(j,Z,_)=>{j==null?Z._vnode&&H(Z._vnode,null,null,!0):n(Z._vnode||null,j,Z,null,null,null,_),Z._vnode=j,K||(K=!0,Oc(),Km(),K=!1)},J={p:n,um:H,m:Y,r:U,mt:O,mc:S,pc:b,pbc:A,n:z,o:m};return{render:k,hydrate:void 0,createApp:QT(k)}}function Ul({type:m,props:e},p){return p==="svg"&&m==="foreignObject"||p==="mathml"&&m==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:p}function mn({effect:m,job:e},p){p?(m.flags|=32,e.flags|=4):(m.flags&=-33,e.flags&=-5)}function aS(m,e){return(!m||m&&!m.pendingBranch)&&e&&!e.persisted}function Ef(m,e,p=!1){const T=m.children,P=e.children;if(It(T)&&It(P))for(let M=0;M<T.length;M++){const f=T[M];let C=P[M];C.shapeFlag&1&&!C.dynamicChildren&&((C.patchFlag<=0||C.patchFlag===32)&&(C=P[M]=Ns(P[M]),C.el=f.el),!p&&C.patchFlag!==-2&&Ef(f,C)),C.type===zh&&(C.el=f.el)}}function oS(m){const e=m.slice(),p=[0];let T,P,M,f,C;const t=m.length;for(T=0;T<t;T++){const h=m[T];if(h!==0){if(P=p[p.length-1],m[P]<h){e[T]=P,p.push(T);continue}for(M=0,f=p.length-1;M<f;)C=M+f>>1,m[p[C]]<h?M=C+1:f=C;h<m[p[M]]&&(M>0&&(e[T]=p[M-1]),p[M]=T)}}for(M=p.length,f=p[M-1];M-- >0;)p[M]=f,f=e[f];return p}function Sg(m){const e=m.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Sg(e)}function Wc(m){if(m)for(let e=0;e<m.length;e++)m[e].flags|=8}const hS=Symbol.for("v-scx"),lS=()=>fr(hS);function uS(m,e){return Cf(m,null,{flush:"sync"})}function fi(m,e,p){return Cf(m,e,p)}function Cf(m,e,p=te){const{immediate:T,deep:P,flush:M,once:f}=p,C=De({},p),t=e&&T||!e&&M!=="post";let h;if(Aa){if(M==="sync"){const r=lS();h=r.__watcherHandles||(r.__watcherHandles=[])}else if(!t){const r=()=>{};return r.stop=Ki,r.resume=Ki,r.pause=Ki,r}}const g=be;C.call=(r,i,n)=>Bi(r,g,i,n);let o=!1;M==="post"?C.scheduler=r=>{ii(r,g&&g.suspense)}:M!=="sync"&&(o=!0,C.scheduler=(r,i)=>{i?r():Tf(r)}),C.augmentJob=r=>{e&&(r.flags|=4),o&&(r.flags|=2,g&&(r.id=g.uid,r.i=g))};const a=ST(m,e,C);return Aa&&(h?h.push(a):t&&a()),a}function fS(m,e,p){const T=this.proxy,P=Ce(m)?m.includes(".")?Eg(T,m):()=>T[m]:m.bind(T,T);let M;Gt(e)?M=e:(M=e.handler,p=e);const f=Va(this),C=Cf(P,M.bind(T),p);return f(),C}function Eg(m,e){const p=e.split(".");return()=>{let T=m;for(let P=0;P<p.length&&T;P++)T=T[p[P]];return T}}function Ui(m,e,p=te){const T=Xh(),P=bi(e),M=Ts(e),f=Cg(m,P),C=cT((t,h)=>{let g,o=te,a;return uS(()=>{const r=m[P];li(g,r)&&(g=r,h())}),{get(){return t(),p.get?p.get(g):g},set(r){const i=p.set?p.set(r):r;if(!li(i,g)&&!(o!==te&&li(r,o)))return;const n=T.vnode.props;n&&(e in n||P in n||M in n)&&(`onUpdate:${e}`in n||`onUpdate:${P}`in n||`onUpdate:${M}`in n)||(g=r,h()),T.emit(`update:${e}`,i),li(r,i)&&li(r,o)&&!li(i,a)&&h(),o=r,a=i}}});return C[Symbol.iterator]=()=>{let t=0;return{next(){return t<2?{value:t++?f||te:C,done:!1}:{done:!0}}}},C}const Cg=(m,e)=>e==="modelValue"||e==="model-value"?m.modelModifiers:m[`${e}Modifiers`]||m[`${bi(e)}Modifiers`]||m[`${Ts(e)}Modifiers`];function dS(m,e,...p){if(m.isUnmounted)return;const T=m.vnode.props||te;let P=p;const M=e.startsWith("update:"),f=M&&Cg(T,e.slice(7));f&&(f.trim&&(P=p.map(g=>Ce(g)?g.trim():g)),f.number&&(P=p.map(Ko)));let C,t=T[C=Fl(e)]||T[C=Fl(bi(e))];!t&&M&&(t=T[C=Fl(Ts(e))]),t&&Bi(t,m,6,P);const h=T[C+"Once"];if(h){if(!m.emitted)m.emitted={};else if(m.emitted[C])return;m.emitted[C]=!0,Bi(h,m,6,P)}}function Ag(m,e,p=!1){const T=e.emitsCache,P=T.get(m);if(P!==void 0)return P;const M=m.emits;let f={},C=!1;if(!Gt(m)){const t=h=>{const g=Ag(h,e,!0);g&&(C=!0,De(f,g))};!p&&e.mixins.length&&e.mixins.forEach(t),m.extends&&t(m.extends),m.mixins&&m.mixins.forEach(t)}return!M&&!C?(ue(m)&&T.set(m,null),null):(It(M)?M.forEach(t=>f[t]=null):De(f,M),ue(m)&&T.set(m,f),f)}function Gh(m,e){return!m||!Ih(e)?!1:(e=e.slice(2).replace(/Once$/,""),ne(m,e[0].toLowerCase()+e.slice(1))||ne(m,Ts(e))||ne(m,e))}function Hc(m){const{type:e,vnode:p,proxy:T,withProxy:P,propsOptions:[M],slots:f,attrs:C,emit:t,render:h,renderCache:g,props:o,data:a,setupState:r,ctx:i,inheritAttrs:n}=m,l=Jo(m);let s,u;try{if(p.shapeFlag&4){const c=P||T,v=c;s=$i(h.call(v,c,g,o,r,a,i)),u=C}else{const c=e;s=$i(c.length>1?c(o,{attrs:C,slots:f,emit:t}):c(o,null)),u=e.props?C:cS(C)}}catch(c){aa.length=0,bh(c,m,1),s=Ct(ri)}let d=s;if(u&&n!==!1){const c=Object.keys(u),{shapeFlag:v}=d;c.length&&v&7&&(M&&c.some(of)&&(u=vS(u,M)),d=js(d,u,!1,!0))}return p.dirs&&(d=js(d,null,!1,!0),d.dirs=d.dirs?d.dirs.concat(p.dirs):p.dirs),p.transition&&Sa(d,p.transition),s=d,Jo(l),s}const cS=m=>{let e;for(const p in m)(p==="class"||p==="style"||Ih(p))&&((e||(e={}))[p]=m[p]);return e},vS=(m,e)=>{const p={};for(const T in m)(!of(T)||!(T.slice(9)in e))&&(p[T]=m[T]);return p};function pS(m,e,p){const{props:T,children:P,component:M}=m,{props:f,children:C,patchFlag:t}=e,h=M.emitsOptions;if(e.dirs||e.transition)return!0;if(p&&t>=0){if(t&1024)return!0;if(t&16)return T?Yc(T,f,h):!!f;if(t&8){const g=e.dynamicProps;for(let o=0;o<g.length;o++){const a=g[o];if(f[a]!==T[a]&&!Gh(h,a))return!0}}}else return(P||C)&&(!C||!C.$stable)?!0:T===f?!1:T?f?Yc(T,f,h):!0:!!f;return!1}function Yc(m,e,p){const T=Object.keys(e);if(T.length!==Object.keys(m).length)return!0;for(let P=0;P<T.length;P++){const M=T[P];if(e[M]!==m[M]&&!Gh(p,M))return!0}return!1}function mS({vnode:m,parent:e},p){for(;e;){const T=e.subTree;if(T.suspense&&T.suspense.activeBranch===m&&(T.el=m.el),T===m)(m=e.vnode).el=p,e=e.parent;else break}}const Pg=m=>m.__isSuspense;function gS(m,e){e&&e.pendingBranch?It(m)?e.effects.push(...m):e.effects.push(m):AT(m)}const ce=Symbol.for("v-fgt"),zh=Symbol.for("v-txt"),ri=Symbol.for("v-cmt"),Gl=Symbol.for("v-stc"),aa=[];let gi=null;function gt(m=!1){aa.push(gi=m?null:[])}function yS(){aa.pop(),gi=aa[aa.length-1]||null}let Ea=1;function $c(m,e=!1){Ea+=m,m<0&&gi&&e&&(gi.hasOnce=!0)}function Rg(m){return m.dynamicChildren=Ea>0?gi||or:null,yS(),Ea>0&&gi&&gi.push(m),m}function Tt(m,e,p,T,P,M){return Rg(wt(m,e,p,T,P,M,!0))}function Ie(m,e,p,T,P){return Rg(Ct(m,e,p,T,P,!0))}function Ca(m){return m?m.__v_isVNode===!0:!1}function Sn(m,e){return m.type===e.type&&m.key===e.key}const wg=({key:m})=>m??null,Mo=({ref:m,ref_key:e,ref_for:p})=>(typeof m=="number"&&(m=""+m),m!=null?Ce(m)||ae(m)||Gt(m)?{i:Le,r:m,k:e,f:!!p}:m:null);function wt(m,e=null,p=null,T=0,P=null,M=m===ce?0:1,f=!1,C=!1){const t={__v_isVNode:!0,__v_skip:!0,type:m,props:e,key:e&&wg(e),ref:e&&Mo(e),scopeId:jm,slotScopeIds:null,children:p,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:M,patchFlag:T,dynamicProps:P,dynamicChildren:null,appContext:null,ctx:Le};return C?(Af(t,p),M&128&&m.normalize(t)):p&&(t.shapeFlag|=Ce(p)?8:16),Ea>0&&!f&&gi&&(t.patchFlag>0||M&6)&&t.patchFlag!==32&&gi.push(t),t}const Ct=xS;function xS(m,e=null,p=null,T=0,P=null,M=!1){if((!m||m===GT)&&(m=ri),Ca(m)){const C=js(m,e,!0);return p&&Af(C,p),Ea>0&&!M&&gi&&(C.shapeFlag&6?gi[gi.indexOf(m)]=C:gi.push(C)),C.patchFlag=-2,C}if(MS(m)&&(m=m.__vccOpts),e){e=TS(e);let{class:C,style:t}=e;C&&!Ce(C)&&(e.class=Zt(C)),ue(t)&&(gf(t)&&!It(t)&&(t=De({},t)),e.style=qe(t))}const f=Ce(m)?1:Pg(m)?128:Jm(m)?64:ue(m)?4:Gt(m)?2:0;return wt(m,e,p,T,P,f,M,!0)}function TS(m){return m?gf(m)||vg(m)?De({},m):m:null}function js(m,e,p=!1,T=!1){const{props:P,ref:M,patchFlag:f,children:C,transition:t}=m,h=e?SS(P||{},e):P,g={__v_isVNode:!0,__v_skip:!0,type:m.type,props:h,key:h&&wg(h),ref:e&&e.ref?p&&M?It(M)?M.concat(Mo(e)):[M,Mo(e)]:Mo(e):M,scopeId:m.scopeId,slotScopeIds:m.slotScopeIds,children:C,target:m.target,targetStart:m.targetStart,targetAnchor:m.targetAnchor,staticCount:m.staticCount,shapeFlag:m.shapeFlag,patchFlag:e&&m.type!==ce?f===-1?16:f|16:f,dynamicProps:m.dynamicProps,dynamicChildren:m.dynamicChildren,appContext:m.appContext,dirs:m.dirs,transition:t,component:m.component,suspense:m.suspense,ssContent:m.ssContent&&js(m.ssContent),ssFallback:m.ssFallback&&js(m.ssFallback),el:m.el,anchor:m.anchor,ctx:m.ctx,ce:m.ce};return t&&T&&Sa(g,t.clone(g)),g}function re(m=" ",e=0){return Ct(zh,null,m,e)}function Ht(m="",e=!1){return e?(gt(),Ie(ri,null,m)):Ct(ri,null,m)}function $i(m){return m==null||typeof m=="boolean"?Ct(ri):It(m)?Ct(ce,null,m.slice()):Ca(m)?Ns(m):Ct(zh,null,String(m))}function Ns(m){return m.el===null&&m.patchFlag!==-1||m.memo?m:js(m)}function Af(m,e){let p=0;const{shapeFlag:T}=m;if(e==null)e=null;else if(It(e))p=16;else if(typeof e=="object")if(T&65){const P=e.default;P&&(P._c&&(P._d=!1),Af(m,P()),P._c&&(P._d=!0));return}else{p=32;const P=e._;!P&&!vg(e)?e._ctx=Le:P===3&&Le&&(Le.slots._===1?e._=1:(e._=2,m.patchFlag|=1024))}else Gt(e)?(e={default:e,_ctx:Le},p=32):(e=String(e),T&64?(p=16,e=[re(e)]):p=8);m.children=e,m.shapeFlag|=p}function SS(...m){const e={};for(let p=0;p<m.length;p++){const T=m[p];for(const P in T)if(P==="class")e.class!==T.class&&(e.class=Zt([e.class,T.class]));else if(P==="style")e.style=qe([e.style,T.style]);else if(Ih(P)){const M=e[P],f=T[P];f&&M!==f&&!(It(M)&&M.includes(f))&&(e[P]=M?[].concat(M,f):f)}else P!==""&&(e[P]=T[P])}return e}function Xi(m,e,p,T=null){Bi(m,e,7,[p,T])}const ES=fg();let CS=0;function AS(m,e,p){const T=m.type,P=(e?e.appContext:m.appContext)||ES,M={uid:CS++,vnode:m,type:T,parent:e,appContext:P,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Cm(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(P.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:mg(T,P),emitsOptions:Ag(T,P),emit:null,emitted:null,propsDefaults:te,inheritAttrs:T.inheritAttrs,ctx:te,data:te,props:te,attrs:te,slots:te,refs:te,setupState:te,setupContext:null,suspense:p,suspenseId:p?p.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return M.ctx={_:M},M.root=e?e.root:M,M.emit=dS.bind(null,M),m.ce&&m.ce(M),M}let be=null;const Xh=()=>be||Le;let th,Cu;{const m=Fh(),e=(p,T)=>{let P;return(P=m[p])||(P=m[p]=[]),P.push(T),M=>{P.length>1?P.forEach(f=>f(M)):P[0](M)}};th=e("__VUE_INSTANCE_SETTERS__",p=>be=p),Cu=e("__VUE_SSR_SETTERS__",p=>Aa=p)}const Va=m=>{const e=be;return th(m),m.scope.on(),()=>{m.scope.off(),th(e)}},Kc=()=>{be&&be.scope.off(),th(null)};function Mg(m){return m.vnode.shapeFlag&4}let Aa=!1;function PS(m,e=!1,p=!1){e&&Cu(e);const{props:T,children:P}=m.vnode,M=Mg(m);qT(m,T,M,e),iS(m,P,p);const f=M?RS(m,e):void 0;return e&&Cu(!1),f}function RS(m,e){const p=m.type;m.accessCache=Object.create(null),m.proxy=new Proxy(m.ctx,XT);const{setup:T}=p;if(T){rn();const P=m.setupContext=T.length>1?Lg(m):null,M=Va(m),f=Ba(T,m,0,[m.props,P]),C=mm(f);if(an(),M(),(C||m.sp)&&!ur(m)&&ng(m),C){if(f.then(Kc,Kc),e)return f.then(t=>{kc(m,t)}).catch(t=>{bh(t,m,0)});m.asyncDep=f}else kc(m,f)}else Ig(m)}function kc(m,e,p){Gt(e)?m.type.__ssrInlineRender?m.ssrRender=e:m.render=e:ue(e)&&(m.setupState=Wm(e)),Ig(m)}function Ig(m,e,p){const T=m.type;m.render||(m.render=T.render||Ki);{const P=Va(m);rn();try{HT(m)}finally{an(),P()}}}const wS={get(m,e){return Qe(m,"get",""),m[e]}};function Lg(m){const e=p=>{m.exposed=p||{}};return{attrs:new Proxy(m.attrs,wS),slots:m.slots,emit:m.emit,expose:e}}function Wh(m){return m.exposed?m.exposeProxy||(m.exposeProxy=new Proxy(Wm(yf(m.exposed)),{get(e,p){if(p in e)return e[p];if(p in ra)return ra[p](m)},has(e,p){return p in e||p in ra}})):m.proxy}function MS(m){return Gt(m)&&"__vccOpts"in m}const Ot=(m,e)=>xT(m,e,Aa);function IS(m,e,p){const T=arguments.length;return T===2?ue(e)&&!It(e)?Ca(e)?Ct(m,null,[e]):Ct(m,e):Ct(m,null,e):(T>3?p=Array.prototype.slice.call(arguments,2):T===3&&Ca(p)&&(p=[p]),Ct(m,e,p))}const LS="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Au;const jc=typeof window<"u"&&window.trustedTypes;if(jc)try{Au=jc.createPolicy("vue",{createHTML:m=>m})}catch{}const Fg=Au?m=>Au.createHTML(m):m=>m,FS="http://www.w3.org/2000/svg",OS="http://www.w3.org/1998/Math/MathML",rs=typeof document<"u"?document:null,Qc=rs&&rs.createElement("template"),DS={insert:(m,e,p)=>{e.insertBefore(m,p||null)},remove:m=>{const e=m.parentNode;e&&e.removeChild(m)},createElement:(m,e,p,T)=>{const P=e==="svg"?rs.createElementNS(FS,m):e==="mathml"?rs.createElementNS(OS,m):p?rs.createElement(m,{is:p}):rs.createElement(m);return m==="select"&&T&&T.multiple!=null&&P.setAttribute("multiple",T.multiple),P},createText:m=>rs.createTextNode(m),createComment:m=>rs.createComment(m),setText:(m,e)=>{m.nodeValue=e},setElementText:(m,e)=>{m.textContent=e},parentNode:m=>m.parentNode,nextSibling:m=>m.nextSibling,querySelector:m=>rs.querySelector(m),setScopeId(m,e){m.setAttribute(e,"")},insertStaticContent(m,e,p,T,P,M){const f=p?p.previousSibling:e.lastChild;if(P&&(P===M||P.nextSibling))for(;e.insertBefore(P.cloneNode(!0),p),!(P===M||!(P=P.nextSibling)););else{Qc.innerHTML=Fg(T==="svg"?`<svg>${m}</svg>`:T==="mathml"?`<math>${m}</math>`:m);const C=Qc.content;if(T==="svg"||T==="mathml"){const t=C.firstChild;for(;t.firstChild;)C.appendChild(t.firstChild);C.removeChild(t)}e.insertBefore(C,p)}return[f?f.nextSibling:e.firstChild,p?p.previousSibling:e.lastChild]}},Ms="transition",kr="animation",Pa=Symbol("_vtc"),Og={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},NS=De({},_m,Og),bS=m=>(m.displayName="Transition",m.props=NS,m),BS=bS((m,{slots:e})=>IS(MT,VS(m),e)),gn=(m,e=[])=>{It(m)?m.forEach(p=>p(...e)):m&&m(...e)},Jc=m=>m?It(m)?m.some(e=>e.length>1):m.length>1:!1;function VS(m){const e={};for(const w in m)w in Og||(e[w]=m[w]);if(m.css===!1)return e;const{name:p="v",type:T,duration:P,enterFromClass:M=`${p}-enter-from`,enterActiveClass:f=`${p}-enter-active`,enterToClass:C=`${p}-enter-to`,appearFromClass:t=M,appearActiveClass:h=f,appearToClass:g=C,leaveFromClass:o=`${p}-leave-from`,leaveActiveClass:a=`${p}-leave-active`,leaveToClass:r=`${p}-leave-to`}=m,i=US(P),n=i&&i[0],l=i&&i[1],{onBeforeEnter:s,onEnter:u,onEnterCancelled:d,onLeave:c,onLeaveCancelled:v,onBeforeAppear:y=s,onAppear:x=u,onAppearCancelled:S=d}=e,E=(w,I,O,F)=>{w._enterCancelled=F,yn(w,I?g:C),yn(w,I?h:f),O&&O()},A=(w,I)=>{w._isLeaving=!1,yn(w,o),yn(w,r),yn(w,a),I&&I()},R=w=>(I,O)=>{const F=w?x:u,L=()=>E(I,w,O);gn(F,[I,L]),Zc(()=>{yn(I,w?t:M),ns(I,w?g:C),Jc(F)||qc(I,T,n,L)})};return De(e,{onBeforeEnter(w){gn(s,[w]),ns(w,M),ns(w,f)},onBeforeAppear(w){gn(y,[w]),ns(w,t),ns(w,h)},onEnter:R(!1),onAppear:R(!0),onLeave(w,I){w._isLeaving=!0;const O=()=>A(w,I);ns(w,o),w._enterCancelled?(ns(w,a),ev()):(ev(),ns(w,a)),Zc(()=>{w._isLeaving&&(yn(w,o),ns(w,r),Jc(c)||qc(w,T,l,O))}),gn(c,[w,O])},onEnterCancelled(w){E(w,!1,void 0,!0),gn(d,[w])},onAppearCancelled(w){E(w,!0,void 0,!0),gn(S,[w])},onLeaveCancelled(w){A(w),gn(v,[w])}})}function US(m){if(m==null)return null;if(ue(m))return[zl(m.enter),zl(m.leave)];{const e=zl(m);return[e,e]}}function zl(m){return N1(m)}function ns(m,e){e.split(/\s+/).forEach(p=>p&&m.classList.add(p)),(m[Pa]||(m[Pa]=new Set)).add(e)}function yn(m,e){e.split(/\s+/).forEach(T=>T&&m.classList.remove(T));const p=m[Pa];p&&(p.delete(e),p.size||(m[Pa]=void 0))}function Zc(m){requestAnimationFrame(()=>{requestAnimationFrame(m)})}let GS=0;function qc(m,e,p,T){const P=m._endId=++GS,M=()=>{P===m._endId&&T()};if(p!=null)return setTimeout(M,p);const{type:f,timeout:C,propCount:t}=zS(m,e);if(!f)return T();const h=f+"end";let g=0;const o=()=>{m.removeEventListener(h,a),M()},a=r=>{r.target===m&&++g>=t&&o()};setTimeout(()=>{g<t&&o()},C+1),m.addEventListener(h,a)}function zS(m,e){const p=window.getComputedStyle(m),T=i=>(p[i]||"").split(", "),P=T(`${Ms}Delay`),M=T(`${Ms}Duration`),f=_c(P,M),C=T(`${kr}Delay`),t=T(`${kr}Duration`),h=_c(C,t);let g=null,o=0,a=0;e===Ms?f>0&&(g=Ms,o=f,a=M.length):e===kr?h>0&&(g=kr,o=h,a=t.length):(o=Math.max(f,h),g=o>0?f>h?Ms:kr:null,a=g?g===Ms?M.length:t.length:0);const r=g===Ms&&/\b(transform|all)(,|$)/.test(T(`${Ms}Property`).toString());return{type:g,timeout:o,propCount:a,hasTransform:r}}function _c(m,e){for(;m.length<e.length;)m=m.concat(m);return Math.max(...e.map((p,T)=>tv(p)+tv(m[T])))}function tv(m){return m==="auto"?0:Number(m.slice(0,-1).replace(",","."))*1e3}function ev(){return document.body.offsetHeight}function XS(m,e,p){const T=m[Pa];T&&(e=(e?[e,...T]:[...T]).join(" ")),e==null?m.removeAttribute("class"):p?m.setAttribute("class",e):m.className=e}const iv=Symbol("_vod"),WS=Symbol("_vsh"),HS=Symbol(""),YS=/(^|;)\s*display\s*:/;function $S(m,e,p){const T=m.style,P=Ce(p);let M=!1;if(p&&!P){if(e)if(Ce(e))for(const f of e.split(";")){const C=f.slice(0,f.indexOf(":")).trim();p[C]==null&&Io(T,C,"")}else for(const f in e)p[f]==null&&Io(T,f,"");for(const f in p)f==="display"&&(M=!0),Io(T,f,p[f])}else if(P){if(e!==p){const f=T[HS];f&&(p+=";"+f),T.cssText=p,M=YS.test(p)}}else e&&m.removeAttribute("style");iv in m&&(m[iv]=M?T.display:"",m[WS]&&(T.display="none"))}const sv=/\s*!important$/;function Io(m,e,p){if(It(p))p.forEach(T=>Io(m,e,T));else if(p==null&&(p=""),e.startsWith("--"))m.setProperty(e,p);else{const T=KS(m,e);sv.test(p)?m.setProperty(Ts(T),p.replace(sv,""),"important"):m[T]=p}}const nv=["Webkit","Moz","ms"],Xl={};function KS(m,e){const p=Xl[e];if(p)return p;let T=bi(e);if(T!=="filter"&&T in m)return Xl[e]=T;T=uf(T);for(let P=0;P<nv.length;P++){const M=nv[P]+T;if(M in m)return Xl[e]=M}return e}const rv="http://www.w3.org/1999/xlink";function av(m,e,p,T,P,M=z1(e)){T&&e.startsWith("xlink:")?p==null?m.removeAttributeNS(rv,e.slice(6,e.length)):m.setAttributeNS(rv,e,p):p==null||M&&!Tm(p)?m.removeAttribute(e):m.setAttribute(e,M?"":Ni(p)?String(p):p)}function ov(m,e,p,T,P){if(e==="innerHTML"||e==="textContent"){p!=null&&(m[e]=e==="innerHTML"?Fg(p):p);return}const M=m.tagName;if(e==="value"&&M!=="PROGRESS"&&!M.includes("-")){const C=M==="OPTION"?m.getAttribute("value")||"":m.value,t=p==null?m.type==="checkbox"?"on":"":String(p);(C!==t||!("_value"in m))&&(m.value=t),p==null&&m.removeAttribute(e),m._value=p;return}let f=!1;if(p===""||p==null){const C=typeof m[e];C==="boolean"?p=Tm(p):p==null&&C==="string"?(p="",f=!0):C==="number"&&(p=0,f=!0)}try{m[e]=p}catch{}f&&m.removeAttribute(P||e)}function hs(m,e,p,T){m.addEventListener(e,p,T)}function kS(m,e,p,T){m.removeEventListener(e,p,T)}const hv=Symbol("_vei");function jS(m,e,p,T,P=null){const M=m[hv]||(m[hv]={}),f=M[e];if(T&&f)f.value=T;else{const[C,t]=QS(e);if(T){const h=M[e]=qS(T,P);hs(m,C,h,t)}else f&&(kS(m,C,f,t),M[e]=void 0)}}const lv=/(?:Once|Passive|Capture)$/;function QS(m){let e;if(lv.test(m)){e={};let T;for(;T=m.match(lv);)m=m.slice(0,m.length-T[0].length),e[T[0].toLowerCase()]=!0}return[m[2]===":"?m.slice(3):Ts(m.slice(2)),e]}let Wl=0;const JS=Promise.resolve(),ZS=()=>Wl||(JS.then(()=>Wl=0),Wl=Date.now());function qS(m,e){const p=T=>{if(!T._vts)T._vts=Date.now();else if(T._vts<=p.attached)return;Bi(_S(T,p.value),e,5,[T])};return p.value=m,p.attached=ZS(),p}function _S(m,e){if(It(e)){const p=m.stopImmediatePropagation;return m.stopImmediatePropagation=()=>{p.call(m),m._stopped=!0},e.map(T=>P=>!P._stopped&&T&&T(P))}else return e}const uv=m=>m.charCodeAt(0)===111&&m.charCodeAt(1)===110&&m.charCodeAt(2)>96&&m.charCodeAt(2)<123,tE=(m,e,p,T,P,M)=>{const f=P==="svg";e==="class"?XS(m,T,f):e==="style"?$S(m,p,T):Ih(e)?of(e)||jS(m,e,p,T,M):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):eE(m,e,T,f))?(ov(m,e,T),!m.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&av(m,e,T,f,M,e!=="value")):m._isVueCE&&(/[A-Z]/.test(e)||!Ce(T))?ov(m,bi(e),T,M,e):(e==="true-value"?m._trueValue=T:e==="false-value"&&(m._falseValue=T),av(m,e,T,f))};function eE(m,e,p,T){if(T)return!!(e==="innerHTML"||e==="textContent"||e in m&&uv(e)&&Gt(p));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&m.tagName==="INPUT"||e==="type"&&m.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const P=m.tagName;if(P==="IMG"||P==="VIDEO"||P==="CANVAS"||P==="SOURCE")return!1}return uv(e)&&Ce(p)?!1:e in m}const Qs=m=>{const e=m.props["onUpdate:modelValue"]||!1;return It(e)?p=>Ro(e,p):e};function iE(m){m.target.composing=!0}function fv(m){const e=m.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Ri=Symbol("_assign"),mr={created(m,{modifiers:{lazy:e,trim:p,number:T}},P){m[Ri]=Qs(P);const M=T||P.props&&P.props.type==="number";hs(m,e?"change":"input",f=>{if(f.target.composing)return;let C=m.value;p&&(C=C.trim()),M&&(C=Ko(C)),m[Ri](C)}),p&&hs(m,"change",()=>{m.value=m.value.trim()}),e||(hs(m,"compositionstart",iE),hs(m,"compositionend",fv),hs(m,"change",fv))},mounted(m,{value:e}){m.value=e??""},beforeUpdate(m,{value:e,oldValue:p,modifiers:{lazy:T,trim:P,number:M}},f){if(m[Ri]=Qs(f),m.composing)return;const C=(M||m.type==="number")&&!/^0\d/.test(m.value)?Ko(m.value):m.value,t=e??"";C!==t&&(document.activeElement===m&&m.type!=="range"&&(T&&e===p||P&&m.value.trim()===t)||(m.value=t))}},Pf={deep:!0,created(m,e,p){m[Ri]=Qs(p),hs(m,"change",()=>{const T=m._modelValue,P=gr(m),M=m.checked,f=m[Ri];if(It(T)){const C=ff(T,P),t=C!==-1;if(M&&!t)f(T.concat(P));else if(!M&&t){const h=[...T];h.splice(C,1),f(h)}}else if(Pr(T)){const C=new Set(T);M?C.add(P):C.delete(P),f(C)}else f(Ng(m,M))})},mounted:dv,beforeUpdate(m,e,p){m[Ri]=Qs(p),dv(m,e,p)}};function dv(m,{value:e,oldValue:p},T){m._modelValue=e;let P;if(It(e))P=ff(e,T.props.value)>-1;else if(Pr(e))P=e.has(T.props.value);else{if(e===p)return;P=Ln(e,Ng(m,!0))}m.checked!==P&&(m.checked=P)}const sE={created(m,{value:e},p){m.checked=Ln(e,p.props.value),m[Ri]=Qs(p),hs(m,"change",()=>{m[Ri](gr(m))})},beforeUpdate(m,{value:e,oldValue:p},T){m[Ri]=Qs(T),e!==p&&(m.checked=Ln(e,T.props.value))}},Dg={deep:!0,created(m,{value:e,modifiers:{number:p}},T){const P=Pr(e);hs(m,"change",()=>{const M=Array.prototype.filter.call(m.options,f=>f.selected).map(f=>p?Ko(gr(f)):gr(f));m[Ri](m.multiple?P?new Set(M):M:M[0]),m._assigning=!0,xf(()=>{m._assigning=!1})}),m[Ri]=Qs(T)},mounted(m,{value:e}){cv(m,e)},beforeUpdate(m,e,p){m[Ri]=Qs(p)},updated(m,{value:e}){m._assigning||cv(m,e)}};function cv(m,e){const p=m.multiple,T=It(e);if(!(p&&!T&&!Pr(e))){for(let P=0,M=m.options.length;P<M;P++){const f=m.options[P],C=gr(f);if(p)if(T){const t=typeof C;t==="string"||t==="number"?f.selected=e.some(h=>String(h)===String(C)):f.selected=ff(e,C)>-1}else f.selected=e.has(C);else if(Ln(gr(f),e)){m.selectedIndex!==P&&(m.selectedIndex=P);return}}!p&&m.selectedIndex!==-1&&(m.selectedIndex=-1)}}function gr(m){return"_value"in m?m._value:m.value}function Ng(m,e){const p=e?"_trueValue":"_falseValue";return p in m?m[p]:e}const nE={created(m,e,p){go(m,e,p,null,"created")},mounted(m,e,p){go(m,e,p,null,"mounted")},beforeUpdate(m,e,p,T){go(m,e,p,T,"beforeUpdate")},updated(m,e,p,T){go(m,e,p,T,"updated")}};function rE(m,e){switch(m){case"SELECT":return Dg;case"TEXTAREA":return mr;default:switch(e){case"checkbox":return Pf;case"radio":return sE;default:return mr}}}function go(m,e,p,T,P){const f=rE(m.tagName,p.props&&p.props.type)[P];f&&f(m,e,p,T)}const aE=["ctrl","shift","alt","meta"],oE={stop:m=>m.stopPropagation(),prevent:m=>m.preventDefault(),self:m=>m.target!==m.currentTarget,ctrl:m=>!m.ctrlKey,shift:m=>!m.shiftKey,alt:m=>!m.altKey,meta:m=>!m.metaKey,left:m=>"button"in m&&m.button!==0,middle:m=>"button"in m&&m.button!==1,right:m=>"button"in m&&m.button!==2,exact:(m,e)=>aE.some(p=>m[`${p}Key`]&&!e.includes(p))},Ua=(m,e)=>{const p=m._withMods||(m._withMods={}),T=e.join(".");return p[T]||(p[T]=(P,...M)=>{for(let f=0;f<e.length;f++){const C=oE[e[f]];if(C&&C(P,e))return}return m(P,...M)})},hE={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},lE=(m,e)=>{const p=m._withKeys||(m._withKeys={}),T=e.join(".");return p[T]||(p[T]=P=>{if(!("key"in P))return;const M=Ts(P.key);if(e.some(f=>f===M||hE[f]===M))return m(P)})},uE=De({patchProp:tE},DS);let vv;function fE(){return vv||(vv=nS(uE))}const dE=(...m)=>{const e=fE().createApp(...m),{mount:p}=e;return e.mount=T=>{const P=vE(T);if(!P)return;const M=e._component;!Gt(M)&&!M.render&&!M.template&&(M.template=P.innerHTML),P.nodeType===1&&(P.textContent="");const f=p(P,!1,cE(P));return P instanceof Element&&(P.removeAttribute("v-cloak"),P.setAttribute("data-v-app","")),f},e};function cE(m){if(m instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&m instanceof MathMLElement)return"mathml"}function vE(m){return Ce(m)?document.querySelector(m):m}/*!
 * pinia v3.0.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let bg;const Hh=m=>bg=m,Bg=Symbol();function Pu(m){return m&&typeof m=="object"&&Object.prototype.toString.call(m)==="[object Object]"&&typeof m.toJSON!="function"}var oa;(function(m){m.direct="direct",m.patchObject="patch object",m.patchFunction="patch function"})(oa||(oa={}));function pE(){const m=Am(!0),e=m.run(()=>Bt({}));let p=[],T=[];const P=yf({install(M){Hh(P),P._a=M,M.provide(Bg,P),M.config.globalProperties.$pinia=P,T.forEach(f=>p.push(f)),T=[]},use(M){return this._a?p.push(M):T.push(M),this},_p:p,_a:null,_e:m,_s:new Map,state:e});return P}const Vg=()=>{};function pv(m,e,p,T=Vg){m.push(e);const P=()=>{const M=m.indexOf(e);M>-1&&(m.splice(M,1),T())};return!p&&Pm()&&W1(P),P}function Jn(m,...e){m.slice().forEach(p=>{p(...e)})}const mE=m=>m(),mv=Symbol(),Hl=Symbol();function Ru(m,e){m instanceof Map&&e instanceof Map?e.forEach((p,T)=>m.set(T,p)):m instanceof Set&&e instanceof Set&&e.forEach(m.add,m);for(const p in e){if(!e.hasOwnProperty(p))continue;const T=e[p],P=m[p];Pu(P)&&Pu(T)&&m.hasOwnProperty(p)&&!ae(T)&&!cs(T)?m[p]=Ru(P,T):m[p]=T}return m}const gE=Symbol();function yE(m){return!Pu(m)||!m.hasOwnProperty(gE)}const{assign:Fs}=Object;function xE(m){return!!(ae(m)&&m.effect)}function TE(m,e,p,T){const{state:P,actions:M,getters:f}=e,C=p.state.value[m];let t;function h(){C||(p.state.value[m]=P?P():{});const g=vT(p.state.value[m]);return Fs(g,M,Object.keys(f||{}).reduce((o,a)=>(o[a]=yf(Ot(()=>{Hh(p);const r=p._s.get(m);return f[a].call(r,r)})),o),{}))}return t=Ug(m,h,e,p,T,!0),t}function Ug(m,e,p={},T,P,M){let f;const C=Fs({actions:{}},p),t={deep:!0};let h,g,o=[],a=[],r;const i=T.state.value[m];!M&&!i&&(T.state.value[m]={}),Bt({});let n;function l(S){let E;h=g=!1,typeof S=="function"?(S(T.state.value[m]),E={type:oa.patchFunction,storeId:m,events:r}):(Ru(T.state.value[m],S),E={type:oa.patchObject,payload:S,storeId:m,events:r});const A=n=Symbol();xf().then(()=>{n===A&&(h=!0)}),g=!0,Jn(o,E,T.state.value[m])}const s=M?function(){const{state:E}=p,A=E?E():{};this.$patch(R=>{Fs(R,A)})}:Vg;function u(){f.stop(),o=[],a=[],T._s.delete(m)}const d=(S,E="")=>{if(mv in S)return S[Hl]=E,S;const A=function(){Hh(T);const R=Array.from(arguments),w=[],I=[];function O(D){w.push(D)}function F(D){I.push(D)}Jn(a,{args:R,name:A[Hl],store:v,after:O,onError:F});let L;try{L=S.apply(this&&this.$id===m?this:v,R)}catch(D){throw Jn(I,D),D}return L instanceof Promise?L.then(D=>(Jn(w,D),D)).catch(D=>(Jn(I,D),Promise.reject(D))):(Jn(w,L),L)};return A[mv]=!0,A[Hl]=E,A},c={_p:T,$id:m,$onAction:pv.bind(null,a),$patch:l,$reset:s,$subscribe(S,E={}){const A=pv(o,S,E.detached,()=>R()),R=f.run(()=>fi(()=>T.state.value[m],w=>{(E.flush==="sync"?g:h)&&S({storeId:m,type:oa.direct,events:r},w)},Fs({},t,E)));return A},$dispose:u},v=Nh(c);T._s.set(m,v);const x=(T._a&&T._a.runWithContext||mE)(()=>T._e.run(()=>(f=Am()).run(()=>e({action:d}))));for(const S in x){const E=x[S];if(ae(E)&&!xE(E)||cs(E))M||(i&&yE(E)&&(ae(E)?E.value=i[S]:Ru(E,i[S])),T.state.value[m][S]=E);else if(typeof E=="function"){const A=d(E,S);x[S]=A,C.actions[S]=E}}return Fs(v,x),Fs(Kt(v),x),Object.defineProperty(v,"$state",{get:()=>T.state.value[m],set:S=>{l(E=>{Fs(E,S)})}}),T._p.forEach(S=>{Fs(v,f.run(()=>S({store:v,app:T._a,pinia:T,options:C})))}),i&&M&&p.hydrate&&p.hydrate(v.$state,i),h=!0,g=!0,v}/*! #__NO_SIDE_EFFECTS__ */function zn(m,e,p){let T;const P=typeof e=="function";T=P?p:e;function M(f,C){const t=ZT();return f=f||(t?fr(Bg,null):null),f&&Hh(f),f=bg,f._s.has(m)||(P?Ug(m,e,T,f):TE(m,T,f)),f._s.get(m)}return M.$id=m,M}function He(m){const e=Kt(m),p={};for(const T in e){const P=e[T];P.effect?p[T]=Ot({get:()=>m[T],set(M){m[T]=M}}):(ae(P)||cs(P))&&(p[T]=gT(m,T))}return p}const SE={beforeMount(m,e){const p=P=>{!m.contains(P.target)&&typeof e.value=="function"&&e.value(P)},T=m.ownerDocument||document;m.__clickOutsideHandler__=p,T.addEventListener("click",p,e.modifiers.capture)},beforeUnmount(m,e){m.__clickOutsideHandler__&&((m.ownerDocument||document).removeEventListener("click",m.__clickOutsideHandler__,e.modifiers.capture),delete m.__clickOutsideHandler__)}},EE={install:(m,e={})=>{m.directive("click-outside",SE),m.provide("libEnv",e)}};var he=(m=>(m.Top="top",m.TopLeft="top-left",m.TopRight="top-right",m.Bottom="bottom",m.BottomLeft="bottom-left",m.BottomRight="bottom-right",m.Left="left",m.Right="right",m))(he||{}),pe=(m=>(m.Default="default",m.Primary="primary",m.Secondary="secondary",m.Success="success",m.Warning="warning",m.Danger="danger",m.Info="info",m))(pe||{}),Yt=(m=>(m.XSmall="xs",m.Small="sm",m.Medium="md",m.Large="lg",m.XLarge="xl",m))(Yt||{}),Ye=(m=>(m.Solid="solid",m.Outline="outline",m.Ghost="ghost",m.Text="text",m))(Ye||{}),on=(m=>(m.Rectangle="rectangle",m.Square="square",m.Circle="circle",m))(on||{}),ar=(m=>(m.Image="image",m.Video="video",m.Audio="audio",m))(ar||{}),Gg=(m=>(m.Classic="classic",m.Modern="modern",m))(Gg||{}),ha=(m=>(m.Text="text",m.Password="password",m.Email="email",m.Number="number",m.Tel="tel",m.Url="url",m.Search="search",m.Date="date",m.Time="time",m.DateTimeLocal="datetime-local",m.Month="month",m.Week="week",m.Color="color",m))(ha||{}),zg=(m=>(m.Single="single",m.Multiple="multiple",m))(zg||{}),Xg=(m=>(m.Esc="Escape",m))(Xg||{});class CE{static getFormattedMessage(e,p){let T=e,P=p;return(typeof e!="string"||!e.toLowerCase().startsWith("nyx"))&&(T="NYX",P=[e,...p]),`%c${T}%c ${P.join(" ")}`}static getPrefixStyle(){return"background: #9F50F0; color: white; padding: 4px 8px; border-radius: 2px; font-weight: bold; line-height: 1.5; margin-bottom: 4px; display: inline-flex;"}static getMessageStyle(e){switch(e){case"info":return"color: #4CAF50; font-weight: normal; line-height: 1.5; padding: 4px; display: inline-flex;";case"warn":return"color: #FF9800; font-weight: normal; line-height: 1.5; padding: 4px; display: inline-flex;";case"error":return"color: #F44336; font-weight: normal; line-height: 1.5; padding: 4px; display: inline-flex;";default:return""}}static getArgsStrings(e){return e.filter(p=>typeof p=="string")}static getArgsOther(e){return e.filter(p=>typeof p!="string")}static getCaller(){const e=new Error().stack;return e?e.split(`
`)[3]??"unknown":"unknown"}static info(e,...p){console.log.apply(console,[this.getFormattedMessage(e,this.getArgsStrings(p)),this.getPrefixStyle(),this.getMessageStyle("info"),...this.getArgsOther(p)])}static warn(e,...p){console.warn.apply(console,[this.getFormattedMessage(e,this.getArgsStrings(p)),this.getPrefixStyle(),this.getMessageStyle("warn"),...this.getArgsOther(p)])}static error(e,...p){console.error.apply(console,[this.getFormattedMessage(e,this.getArgsStrings(p)),this.getPrefixStyle(),this.getMessageStyle("error"),...this.getArgsOther(p)])}}const AE=m=>typeof m=="object"&&!Array.isArray(m)&&m!==null,Wg=(m=16)=>{const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let p="";const T=e.length;for(let P=0;P<m;P++)p+=e.charAt(Math.floor(Math.random()*T));return p},PE=m=>{try{return new URL(m,window.location.origin).origin===window.location.origin}catch{return!1}},Ai=(m,e,p)=>Math.max(e,Math.min(m,p)),Hg=(m,e,p=0)=>{const T=(m-p)%e;return T<e/2?m-T:m+(e-T)},Wi=(m,e,p=1)=>{const T=Math.random()*(e-m)+m;return Hg(T,p)},gv=m=>m===" "?"SPACE":m.toUpperCase(),yv=["ALT","SHIFT","CTRL","META"],RE=(m,e)=>{const p=yv.includes(m),T=yv.includes(e);return p&&!T?-1:!p&&T?1:0},wE=m=>{const e=new Set,p=P=>{const M=gv(P.key);e.add(M);const f=Array.from(e).sort(RE).join("+");m[f]&&(P.preventDefault(),m[f](P))},T=P=>{e.delete(gv(P.key))};Es(()=>{window.addEventListener("keydown",p),window.addEventListener("keyup",T)}),Un(()=>{window.removeEventListener("keydown",p),window.removeEventListener("keyup",T)})},ME=(m,e)=>{const p=T=>{T.key===m&&e(T)};Es(()=>{window.addEventListener("keydown",p)}),Un(()=>{window.removeEventListener("keydown",p)})},Rf=(m,e,p)=>{const T=(p==null?void 0:p.position)??Bt(he.Bottom),P=!!(p!=null&&p.isEqualWidth),M=Ot(()=>{var a;return((a=p==null?void 0:p.isUpdateAllowed)==null?void 0:a.value)!==!1}),f=(p==null?void 0:p.offsetX)??0,C=(p==null?void 0:p.offsetY)??0,t=Ot(()=>{var r;if(!((r=p==null?void 0:p.gap)!=null&&r.value))return 0;const a=window.getComputedStyle(document.body).getPropertyValue(`--nyx-gap-${p.gap.value}`)??"0";return a.endsWith("rem")?parseFloat(a)*16:parseFloat(a)}),h=Bt({"--top":"0px","--left":"0px","--width":"auto"}),g=Bt(T.value),o=()=>{if(!m.value||!e.value||!M.value)return;const a="getBoundingClientRect"in m.value?m.value.getBoundingClientRect():m.value.$el.getBoundingClientRect(),r="getBoundingClientRect"in e.value?e.value.getBoundingClientRect():e.value.$el.getBoundingClientRect(),{top:i,bottom:n,left:l,right:s,width:u,height:d}=a,{width:c,height:v}=r,y=P?u:c;let x=n,S=l;const E=n+v<=window.innerHeight,A=i-v>=0,R=l-c>=0,w=s+c<=window.innerWidth,I=O=>{switch(O){case he.BottomLeft:return E?O:he.TopLeft;case he.BottomRight:return E?O:he.TopRight;case he.Bottom:return E?O:he.Top;case he.TopLeft:return A?O:he.BottomLeft;case he.TopRight:return A?O:he.BottomRight;case he.Top:return A?O:he.Bottom;case he.Left:return R?O:he.Right;case he.Right:return w?O:he.Left;default:return O}};switch(g.value=I(T.value),g.value){case he.BottomLeft:x=n+t.value+C,S=l+f;break;case he.BottomRight:x=n+t.value+C,S=s-y+f;break;case he.Bottom:x=n+t.value+C,S=l+(u-y)/2+f;break;case he.TopLeft:x=i-v-t.value+C,S=l+f;break;case he.TopRight:x=i-v-t.value+C,S=s-y+f;break;case he.Top:x=i-v-t.value+C,S=l+(u-y)/2+f;break;case he.Left:x=i+(d-v)/2+C,S=l-c-t.value+f;break;case he.Right:x=i+(d-v)/2+C,S=s+t.value+f;break}x=Ai(x,0,window.innerHeight-v),S=Ai(S,0,window.innerWidth-y),h.value={...h.value,"--top":`${x}px`,"--left":`${S}px`,"--width":P?`${u}px`:"auto"}};return fi([M,m,e,T],o,{immediate:!0}),Es(()=>{window.addEventListener("resize",o),window.addEventListener("scroll",o,!0)}),Vn(()=>{window.removeEventListener("resize",o),window.removeEventListener("scroll",o,!0)}),{cssVariables:h,updateCssVariables:o,computedPosition:g}},IE=["src","alt","title","loading"],LE=["src","title","loading"],FE=["src"],OE=["src","title","loading"],DE=["src"],NE={key:3},wf=se({__name:"NyxMedia",props:{src:{},type:{default:ar.Image},shape:{default:on.Rectangle},alt:{},title:{},caption:{},track:{},loading:{default:"lazy"}},setup(m){const e=m;return(p,T)=>(gt(),Tt("figure",{class:Zt(["nyx-media",`shape-${e.shape}`])},[e.type===ot(ar).Image?(gt(),Tt("img",{key:0,src:e.src,alt:e.alt,title:e.title,loading:p.loading},null,8,IE)):e.type===ot(ar).Video?(gt(),Tt("video",{key:1,src:e.src,title:e.title,controls:"",loading:e.loading},[e.track?(gt(),Tt("track",{key:0,kind:"subtitles",src:e.track},null,8,FE)):Ht("",!0)],8,LE)):e.type===ot(ar).Audio?(gt(),Tt("audio",{key:2,src:e.src,title:e.title,controls:"",loading:e.loading},[e.track?(gt(),Tt("track",{key:0,kind:"subtitles",src:e.track},null,8,DE)):Ht("",!0)],8,OE)):Ht("",!0),e.caption?(gt(),Tt("figcaption",NE,ee(e.caption),1)):Ht("",!0)],2))}}),bE=["theme","size","shape","variant","gradient","backlight","position"],Cs=(m,e="Nyx")=>{const p=fr("libEnv")??{},T=Ot(()=>m.gradient!==!1&&m.variant!==Ye.Solid?(CE.error(e,"Gradients are only supported by NyxVariant.Solid"),m.theme):m.gradient===!0?m.theme:m.gradient),P=Ot(()=>m.backlight===!0?m.theme:m.backlight);return{classList:Ot(()=>{const M=[];for(const f of bE)m[f]===void 0||m[f]===!1||(m[f]===!0&&m.theme!==void 0?M.push(`${f}-${m.theme}`):M.push(`${f}-${m[f]}`));return(m.pixel||p.pixel)&&M.push("pixel"),M}),gradient:T,backlight:P}},BE={key:1,class:"nyx-avatar__image"},VE={key:2,class:"nyx-avatar__name"},UE=se({__name:"NyxAvatar",props:{src:{},name:{},showName:{type:Boolean,default:!1},placeholder:{},color:{},size:{default:Yt.Medium},shape:{default:on.Circle},pixel:{type:Boolean,default:!1}},setup(m){const e=m,p=Ot(()=>e.placeholder?e.placeholder:e.name?e.name.split(" ").map(M=>M.charAt(0).toUpperCase()).join(""):""),T=Ot(()=>e.name??e.placeholder??""),{classList:P}=Cs(e);return(M,f)=>(gt(),Tt("div",{class:Zt(["nyx-avatar",ot(P)]),style:qe({"--nyx-c-avatar":e.color})},[e.src?(gt(),Ie(wf,{key:0,class:"nyx-avatar__image",type:ot(ar).Image,src:e.src,alt:T.value,title:T.value},null,8,["type","src","alt","title"])):(gt(),Tt("span",BE,[ve(M.$slots,"default",{},()=>[re(ee(p.value),1)])])),e.name&&e.showName?(gt(),Tt("span",VE,ee(e.name),1)):Ht("",!0)],6))}}),GE=["type","disabled"],zE=["href","target","disabled"],Be=se({__name:"NyxButton",props:{type:{default:"button"},theme:{default:pe.Default},variant:{default:Ye.Solid},size:{default:Yt.Medium},shape:{default:on.Rectangle},disabled:{type:Boolean,default:!1},href:{},gradient:{type:[Boolean,String],default:!1},backlight:{type:[Boolean,String],default:!1},pixel:{type:Boolean,default:!1}},emits:["click"],setup(m,{emit:e}){const p=m,T=e,{classList:P}=Cs(p),M=Ot(()=>p.href&&PE(p.href)?"_self":"_blank");return(f,C)=>p.href?(gt(),Tt("a",{key:1,class:Zt(["nyx-button",ot(P)]),href:p.href,target:M.value,disabled:p.disabled,onClick:C[1]||(C[1]=t=>T("click"))},[ve(f.$slots,"default",{},()=>[C[3]||(C[3]=re("Click me"))])],10,zE)):(gt(),Tt("button",{key:0,class:Zt(["nyx-button",ot(P)]),type:p.type,disabled:p.disabled,onClick:C[0]||(C[0]=t=>T("click"))},[ve(f.$slots,"default",{},()=>[C[2]||(C[2]=re("Click me"))])],10,GE))}});pe.Default,Ye.Solid,Yt.Medium;const XE=["href","size","variant","onClick"],WE={key:0,class:"nyx-breadcrumbs__separator"};pe.Default,Yt.Medium,Ye.Text;const HE={key:0,class:"nyx-card__header"},YE={class:"nyx-card__body"},$E={key:1,class:"nyx-card__footer"},KE=se({__name:"NyxCard",props:{theme:{default:pe.Default},size:{default:Yt.Medium},variant:{default:Ye.Solid},gradient:{type:[Boolean,String]},backlight:{type:[Boolean,String]},title:{},src:{},textAlign:{default:"left"},layout:{default:"media-first"},blendMedia:{type:Boolean,default:!1},pixel:{type:Boolean,default:!1}},emits:["click"],setup(m,{emit:e}){const p=m,T=e,P=Gn(),{classList:M}=Cs(p),f=Ot(()=>({"--nyx-card-text-align":p.textAlign})),C=()=>T("click");return(t,h)=>(gt(),Tt("article",{class:Zt(["nyx-card",[...ot(M),p.layout,p.blendMedia&&"blend-media"]]),style:qe(f.value),onClick:Ua(C,["self"])},[ve(t.$slots,"media",{},()=>[p.src?(gt(),Ie(wf,{key:0,src:p.src,alt:p.title,title:p.title},null,8,["src","alt","title"])):Ht("",!0)]),ot(P).header||p.title?(gt(),Tt("header",HE,[ve(t.$slots,"header",{},()=>[wt("h1",null,ee(p.title),1)])])):Ht("",!0),wt("section",YE,[ve(t.$slots,"default")]),ot(P).footer?(gt(),Tt("footer",$E,[ve(t.$slots,"footer")])):Ht("",!0)],6))}}),kE={key:1},jE={key:2,class:"nyx-carousel__dots"},QE=["onClick"];pe.Default;const JE=["disabled","aria-label","id"],ZE=["for"],Lo=se({__name:"NyxCheckbox",props:vi({label:{default:""},disabled:{type:Boolean,default:!1},size:{default:Yt.Medium},theme:{default:pe.Default},id:{},checkmark:{default:""},pixel:{type:Boolean,default:!1}},{modelValue:{type:Boolean,default:!1},modelModifiers:{}}),emits:["update:modelValue"],setup(m){const e=m,p=Ui(m,"modelValue"),{classList:T}=Cs(e),P=Ot(()=>e.id??`nyx-checkbox-${Wg(16)}`);return(M,f)=>(gt(),Tt("div",{class:Zt(["nyx-checkbox",ot(T)])},[ki(wt("input",{type:"checkbox","onUpdate:modelValue":f[0]||(f[0]=C=>p.value=C),disabled:e.disabled,"aria-label":e.label,id:P.value},null,8,JE),[[Pf,p.value]]),wt("span",{class:"nyx-checkbox__checkbox",onClick:f[1]||(f[1]=C=>p.value=!p.value)}),e.label?(gt(),Tt("label",{key:0,for:P.value,class:"nyx-checkbox__label"},ee(e.label),9,ZE)):Ht("",!0)],2))}}),Yg=se({__name:"NyxForm",props:{size:{default:Yt.Medium}},emits:["submit"],setup(m,{emit:e}){const p=m,T=e,P=M=>T("submit",M);return(M,f)=>(gt(),Tt("form",{class:Zt(["nyx-form",[`size-${p.size}`]]),onSubmit:Ua(P,["prevent"])},[ve(M.$slots,"default",{},()=>[f[0]||(f[0]=re("NyxForm"))])],34))}}),qE={class:"nyx-form-field"},bs=se({__name:"NyxFormField",props:{label:{}},setup(m){const e=m,p=`nyx-form-field-${Wg(16)}`;return(T,P)=>(gt(),Tt("div",qE,[e.label?(gt(),Tt("label",{key:0,for:p,class:"nyx-form-field__label"},ee(T.label),1)):Ht("",!0),ve(T.$slots,"default",{id:p},()=>[P[0]||(P[0]=re("NyxFormField"))])]))}}),_E=["type","placeholder","disabled","readonly","maxlength","minlength","pattern","required","autocomplete","autofocus","tabindex","id"],Yl=se({__name:"NyxInput",props:vi({type:{default:ha.Text},theme:{default:pe.Default},variant:{default:Ye.Outline},size:{default:Yt.Medium},pixel:{type:Boolean},id:{},disabled:{type:Boolean},readonly:{type:Boolean},required:{type:Boolean},autofocus:{type:Boolean},placeholder:{},autocomplete:{},minlength:{},maxlength:{},pattern:{},tabindex:{}},{modelValue:{},modelModifiers:{}}),emits:vi(["click","focus","blur"],["update:modelValue"]),setup(m,{emit:e}){const p=m,T=e,P=Ui(m,"modelValue"),{classList:M}=Cs(p);return(f,C)=>(gt(),Tt("div",{class:Zt(["nyx-input",ot(M)])},[ki(wt("input",{type:p.type,placeholder:p.placeholder,disabled:p.disabled,readonly:p.readonly,maxlength:p.maxlength,minlength:p.minlength,pattern:p.pattern,required:p.required,autocomplete:p.autocomplete,autofocus:p.autofocus,tabindex:p.tabindex,id:f.id,"onUpdate:modelValue":C[0]||(C[0]=t=>P.value=t),onClick:C[1]||(C[1]=t=>T("click")),onFocus:C[2]||(C[2]=t=>T("focus")),onBlur:C[3]||(C[3]=t=>T("blur"))},null,40,_E),[[nE,P.value]])],2))}}),tC={class:"nyx-modal__content"},eC={key:0,class:"nyx-modal__header"},iC={class:"nyx-modal__body"},sC={key:1,class:"nyx-modal__footer"},Rr=se({__name:"NyxModal",props:vi({title:{},confirmText:{},cancelText:{default:"Close"},size:{default:Yt.Medium},static:{type:Boolean,default:!1},backdrop:{type:Boolean,default:!0},customClass:{},pixel:{type:Boolean,default:!1}},{modelValue:{type:Boolean,default:!1},modelModifiers:{}}),emits:vi(["close","cancel","confirm","open"],["update:modelValue"]),setup(m,{emit:e}){const p=m,T=e,P=Ui(m,"modelValue"),M=Gn(),f=()=>{p.static||(P.value=!1,T("close"))};ME(Xg.Esc,f);const C=Ot(()=>!!M.header||!!p.title),t=Ot(()=>!!M.footer||!!p.confirmText),h=()=>{T("cancel"),f()},g=()=>{T("confirm"),f()},{classList:o}=Cs(p);return(a,r)=>(gt(),Ie(Bh,{to:"body"},[wt("div",{class:Zt(["nyx-modal",[...ot(o),!!a.customClass&&`${a.customClass}`,{"nyx-modal--open":P.value||p.static},{"nyx-modal--no-backdrop":!p.backdrop}]]),onClick:Ua(f,["self"])},[wt("article",tC,[C.value?(gt(),Tt("header",eC,[ve(a.$slots,"header",{},()=>[wt("h1",null,ee(a.title),1)]),p.static?Ht("",!0):(gt(),Tt("button",{key:0,class:"nyx-modal__close",onClick:f},""))])):Ht("",!0),wt("section",iC,[ve(a.$slots,"default",{},()=>[r[0]||(r[0]=re("NyxModal body"))])]),t.value?(gt(),Tt("footer",sC,[ve(a.$slots,"footer",{},()=>[p.static?Ht("",!0):(gt(),Ie(Be,{key:0,theme:ot(pe).Default,variant:ot(Ye).Outline,onClick:h},{default:Vt(()=>[re(ee(p.cancelText),1)]),_:1},8,["theme","variant"])),p.confirmText?(gt(),Ie(Be,{key:1,theme:ot(pe).Primary,onClick:g},{default:Vt(()=>[re(ee(a.confirmText),1)]),_:1},8,["theme"])):Ht("",!0)])])):Ht("",!0)])],2)]))}}),wu=se({__name:"NyxProgress",props:vi({max:{default:100},theme:{},variant:{default:Ye.Solid},shape:{default:on.Rectangle},gradient:{type:[String,Boolean],default:!1},size:{},showValue:{}},{modelValue:{default:null},modelModifiers:{}}),emits:["update:modelValue"],setup(m){const e=m,p=Ui(m,"modelValue"),{classList:T}=Cs(e),P=Ot(()=>p.value===null?"100%":`${Math.min(100,p.value/e.max*100)}%`),M=Ot(()=>({"--progress":P.value}));return(f,C)=>(gt(),Tt("div",{class:Zt(["nyx-progress",ot(T)]),style:qe(M.value)},[wt("div",{class:Zt(["nyx-progress__bar",{indeterminate:p.value===null}])},null,2),f.showValue&&p.value!==null?(gt(),Tt("span",{key:0,class:Zt(["nyx-progress__label",`nyx-progress__label--${f.showValue}`])},ee(Math.round(p.value)),3)):Ht("",!0)],6))}}),nC=["placeholder"],rC=["onClick"],aC=["id","multiple"],oC=["value"],TL=se({__name:"NyxSelect",props:vi({type:{default:zg.Single},theme:{default:pe.Default},variant:{default:Ye.Outline},size:{default:Yt.Medium},disabled:{type:Boolean},placeholder:{},options:{},id:{},multiple:{type:Boolean,default:!1}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(m){const e=m,p=Ui(m,"modelValue"),T=Ot({get:()=>p.value??(e.multiple?[]:""),set:d=>{p.value=d}}),P=wn("nyx-select-input"),M=Bt(""),f=wn("elControl"),C=wn("elDropdown"),t=Bt(!1),{cssVariables:h,computedPosition:g}=Rf(f,C,{isEqualWidth:!0,isUpdateAllowed:t}),o=Ot(()=>{var d;return e.multiple?T.value.map(c=>{var v;return((v=e.options.find(y=>y.value===c))==null?void 0:v.label)??""}).join(", "):((d=e.options.find(c=>c.value===T.value))==null?void 0:d.label)??""}),a=Ot(()=>M.value?e.options.filter(d=>d.label.toLowerCase().includes(M.value.toLowerCase())):e.options),r=()=>{t.value=!t.value},i=()=>{t.value=!1},n=({value:d,label:c})=>{if(e.multiple){const v=T.value;v.indexOf(d)===-1?T.value=[...v,d]:T.value=v.filter(y=>y!==d),M.value=""}else T.value=d,M.value=c,t.value=!1},l=d=>{M.value=d===void 0?o.value:d},s=()=>{var d;t.value=!0,(d=P.value)==null||d.focus()},u=d=>e.multiple?T.value.includes(d):d===T.value;return fi(t,d=>{d?l(""):l()}),(d,c)=>{const v=og("click-outside");return gt(),Tt("div",{class:Zt(["nyx-select",[`theme-${e.theme}`,`variant-${e.variant}`,`size-${e.size}`]])},[ki((gt(),Tt("div",{class:Zt(["nyx-select__control",[`nyx-select__control--${ot(g)}`,{"nyx-select__control--open":t.value}]]),ref_key:"elControl",ref:f,onClick:s,onKeyup:lE(i,["esc"])},[ki(wt("input",{type:"search","onUpdate:modelValue":c[0]||(c[0]=y=>M.value=y),class:"nyx-select__input",placeholder:e.multiple?"Select multiple...":"Select...",ref:"nyx-select-input"},null,8,nC),[[mr,M.value]]),wt("span",{class:"nyx-select__arrow",onClick:r},"")],34)),[[v,i]]),(gt(),Ie(Bh,{to:"body"},[wt("div",{class:Zt(["nyx-select__dropdown",[`theme-${e.theme}`,`variant-${e.variant}`,`size-${e.size}`,`nyx-select__dropdown--${ot(g)}`,{"nyx-select__dropdown--open":t.value}]]),ref_key:"elDropdown",ref:C,role:"listbox",style:qe(ot(h))},[wt("ul",null,[(gt(!0),Tt(ce,null,ji(a.value,y=>(gt(),Tt("li",{key:y.value,class:Zt(["nyx-select__option",{"nyx-select__option--selected":u(y.value),"nyx-select__option--disabled":!!y.disabled}]),onClick:x=>n(y)},[wt("span",null,ee(y.label),1)],10,rC))),128)),a.value.length===0?(gt(),Tt("li",{key:0,class:"nyx-select__option nyx-select__option--empty",onClick:c[1]||(c[1]=Ua(y=>{var x;return(x=ot(P))==null?void 0:x.focus()},["prevent","stop"]))},[ve(d.$slots,"empty",{},()=>[c[3]||(c[3]=wt("span",null,"No results found",-1))])])):Ht("",!0)])],6)])),ki(wt("select",{"onUpdate:modelValue":c[2]||(c[2]=y=>T.value=y),class:"sr-only",id:e.id,multiple:e.multiple},[(gt(!0),Tt(ce,null,ji(e.options,y=>(gt(),Tt("option",{value:y.value,key:y.value},ee(y.label),9,oC))),128))],8,aC),[[Dg,T.value]])],2)}}}),hC=["min","max","step","aria-valuenow","aria-valuemin","aria-valuemax"],lC=["aria-valuenow","aria-valuemin","aria-valuemax"],uC=["min","max","step","aria-valuenow","aria-valuemin","aria-valuemax"],fC=["aria-valuenow","aria-valuemin","aria-valuemax"],dC=se({__name:"NyxSlider",props:vi({min:{default:0},max:{default:100},step:{},tooltip:{default:"interact"},theme:{default:pe.Default},shape:{default:on.Circle},direction:{default:"row"},pixel:{type:Boolean,default:!1}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(m){const e=m,p=Ui(m,"modelValue"),T=Bt(null),P=Bt(null),M=Ot(()=>Array.isArray(p.value)),f=Ot(()=>M.value?p.value[0]:p.value),C=Ot(()=>M.value?p.value[1]:null),t=Ot(()=>(f.value-e.min)/(e.max-e.min)*100),h=Ot(()=>M.value?(C.value-e.min)/(e.max-e.min)*100:0),g=u=>e.step?Hg(u,e.step,e.min):u,o=(u,d)=>{if(d=g(d),M.value){let c=[...p.value];c[u]=d,c[0]>c[1]&&(c=[c[1],c[0]],P.value=P.value===0?1:0),p.value=c}else p.value=d},a=(u,d)=>{d.preventDefault(),P.value=u,document.addEventListener("mousemove",r),document.addEventListener("mouseup",i)},r=u=>{if(P.value===null||!T.value)return;const d=T.value.getBoundingClientRect();let c=(u.clientX-d.left)/d.width;c=Math.min(Math.max(c,0),1);const v=e.min+c*(e.max-e.min);o(P.value,v)},i=()=>{document.removeEventListener("mousemove",r),document.removeEventListener("mouseup",i),P.value=null},n=u=>{if(!T.value)return;const d=T.value.getBoundingClientRect();let c=(u.clientX-d.left)/d.width;c=Math.min(Math.max(c,0),1);const v=e.min+c*(e.max-e.min);if(M.value){const y=Math.abs(v-f.value),x=Math.abs(v-C.value);let S=y<x?0:1;o(S,v),P.value=S}else p.value=v},l=(u,d)=>{let c=M.value?p.value[d]:p.value;const v=e.step??1;switch(u.key){case"ArrowLeft":case"ArrowDown":c=Math.max(e.min,c-v);break;case"ArrowRight":case"ArrowUp":c=Math.min(e.max,c+v);break;case"Home":c=e.min;break;case"End":c=e.max;break;default:return}u.preventDefault(),o(d,c)},{classList:s}=Cs(e);return Vn(()=>{document.removeEventListener("mousemove",r),document.removeEventListener("mouseup",i)}),(u,d)=>(gt(),Tt("div",{class:Zt(["nyx-slider",ot(s)]),ref_key:"track",ref:T,onMousedown:n},[M.value?(gt(),Tt("div",{key:0,class:"nyx-slider__track-highlight",style:qe({left:Math.min(t.value,h.value)+"%",width:Math.abs(h.value-t.value)+"%"})},null,4)):Ht("",!0),ki(wt("input",{type:"range",min:e.min,max:e.max,step:e.step||"any","onUpdate:modelValue":d[0]||(d[0]=c=>p.value=c),onKeydown:d[1]||(d[1]=c=>l(c,0)),"aria-label":"Slider value","aria-valuenow":f.value,"aria-valuemin":e.min,"aria-valuemax":e.max,class:"sr-only"},null,40,hC),[[mr,p.value]]),wt("div",{class:"nyx-slider__thumb",style:qe({left:t.value+"%"}),role:"slider",tabindex:"0","aria-valuenow":f.value,"aria-valuemin":e.min,"aria-valuemax":e.max,onMousedown:d[2]||(d[2]=c=>a(0,c)),onKeydown:d[3]||(d[3]=c=>l(c,0))},null,44,lC),M.value&&Array.isArray(p.value)&&p.value[1]?(gt(),Tt(ce,{key:1},[ki(wt("input",{type:"range",min:e.min,max:e.max,step:e.step||"any","onUpdate:modelValue":d[4]||(d[4]=c=>p.value[1]=c),onKeydown:d[5]||(d[5]=c=>l(c,1)),"aria-label":"Slider second value","aria-valuenow":C.value??void 0,"aria-valuemin":e.min,"aria-valuemax":e.max,class:"sr-only"},null,40,uC),[[mr,p.value[1]]]),wt("div",{class:"nyx-slider__thumb",style:qe({left:h.value+"%"}),role:"slider",tabindex:"0","aria-valuenow":C.value??void 0,"aria-valuemin":e.min,"aria-valuemax":e.max,onMousedown:d[6]||(d[6]=c=>a(1,c)),onKeydown:d[7]||(d[7]=c=>l(c,1))},null,44,fC)],64)):Ht("",!0)],34))}});pe.Default;const cC=["id"];pe.Success,Yt.Medium,Ye.Solid;const vC=(m,e)=>{const p=m.__vccOpts||m;for(const[T,P]of e)p[T]=P;return p},pC={};function mC(m,e){return gt(),Tt("td",null,[wt("span",null,[ve(m.$slots,"default")])])}const la=vC(pC,[["render",mC]]),gC={key:0},yC={key:0},$g=se({__name:"NyxTable",props:vi({theme:{default:pe.Default},size:{default:Yt.Medium},variant:{default:Ye.Outline},itemKey:{},disabled:{type:Boolean,default:!1},columns:{},columnTitles:{},gridTemplateColumns:{},header:{type:[String,Boolean],default:!0},striped:{type:Boolean,default:!1},colWhitelist:{default:()=>[]},colBlacklist:{default:()=>[]}},{modelValue:{default:[]},modelModifiers:{}}),emits:["update:modelValue"],setup(m){const e=Gn(),p=m,T=Ui(m,"modelValue"),P=Ot(()=>{if(p.columnTitles)return p.columnTitles;if(T.value.length===0)return[];const t=T.value[0];return AE(t)?(p.colWhitelist.length>0?p.colWhitelist:Object.keys(t)).filter(h=>!p.colBlacklist.includes(h)):[]}),M=Ot(()=>{const t=e.actions?1:0;return p.columns!==void 0?p.columns+t:T.value.length===0?1+t:P.value.length+t}),f=Ot(()=>{const t=(p.colWhitelist.length>0?p.colWhitelist:Object.keys(T.value[0]??{})).filter(h=>!p.colBlacklist.includes(h));return T.value.map(h=>{const g={};for(const o of t)g[o]=h[o];return g})}),C=Ot(()=>{const t=e.actions?"auto":"";return{"--grid-template-columns":p.gridTemplateColumns?`${p.gridTemplateColumns} ${t}`:`repeat(${M.value}, 1fr)`}});return(t,h)=>(gt(),Tt("table",{class:Zt(["nyx-table",[`size-${p.size}`,`theme-${p.theme}`,`variant-${p.variant}`,{striped:t.striped},{sticky:p.header==="sticky"}]]),style:qe(C.value)},[p.header?(gt(),Tt("thead",gC,[wt("tr",null,[(gt(!0),Tt(ce,null,ji(P.value,g=>(gt(),Tt("th",{key:g},ee(g),1))),128)),ot(e).actions?(gt(),Tt("th",yC,"")):Ht("",!0)])])):Ht("",!0),wt("tbody",null,[(gt(!0),Tt(ce,null,ji(f.value,g=>(gt(),Tt("tr",{key:typeof g=="object"&&p.itemKey?g[p.itemKey]:g},[ve(t.$slots,"default",{item:g},()=>[(gt(!0),Tt(ce,null,ji(Object.values(g??{}),o=>(gt(),Ie(la,{key:o},{default:Vt(()=>[re(ee(o),1)]),_:2},1024))),128))]),ot(e).actions?(gt(),Ie(la,{key:0,class:"nyx-table__actions"},{default:Vt(()=>[ve(t.$slots,"actions",{item:g})]),_:2},1024)):Ht("",!0)]))),128))])],6))}}),xC=["onClick"],TC={class:"nyx-tabs__container"},SC={key:0};pe.Default,Yt.Medium,Gg.Modern,he.TopLeft;const EC=["placeholder","disabled","readonly","maxlength","minlength","pattern","required","autocomplete","autofocus","id"];pe.Default,Ye.Outline,Yt.Medium;const CC=["data-position"],AC={class:"nyx-tooltip__content-wrapper"};pe.Default,Ye.Solid,Yt.Medium,he.Top;const $l=[{assetUrl:"https://freesound.org/people/kp2494/sounds/486309/",assetName:"Cthulu/Monster_Roar.mp3",authorUrl:"https://freesound.org/people/kp2494/",authorName:"kp2494",licenseUrl:"http://creativecommons.org/licenses/by/3.0/",licenseName:"Attribution 3.0"},{assetUrl:"https://freesound.org/people/szegvari/sounds/546507/",assetName:"Ghost Creature Monster Scream SFX 201129_0079.wav",authorUrl:"https://freesound.org/people/szegvari/",authorName:"szegvari",licenseUrl:"http://creativecommons.org/publicdomain/zero/1.0/",licenseName:"Creative Commons 0"},{assetUrl:"https://freesound.org/people/bevibeldesign/sounds/315769/",assetName:"dragon growl omnious.aiff",authorUrl:"https://freesound.org/people/bevibeldesign/",authorName:"bevibeldesign",licenseUrl:"http://creativecommons.org/publicdomain/zero/1.0/",licenseName:"Creative Commons 0"},{assetUrl:"https://freesound.org/people/JavierZumer/sounds/257231/",assetName:"charging loop 2",authorUrl:"https://freesound.org/people/JavierZumer/",authorName:"JavierZumer",licenseUrl:"https://creativecommons.org/licenses/by/4.0/",licenseName:"Attribution 4.0"},{assetUrl:"https://freesound.org/people/Andromadax24/sounds/177450/",assetName:"S_Pain_Slith_17.wav",authorUrl:"https://freesound.org/people/Andromadax24/",authorName:"Andromadax24",licenseUrl:"https://creativecommons.org/licenses/by/4.0/",licenseName:"Attribution 4.0"},{assetUrl:"https://freesound.org/people/modusmogulus/sounds/789383/",assetName:"Cartoon dash / dodge type SFX",authorUrl:"https://freesound.org/people/modusmogulus/",authorName:"modusmogulus",licenseUrl:"http://creativecommons.org/publicdomain/zero/1.0/",licenseName:"Creative Commons 0"},{assetUrl:"https://freesound.org/people/cabled_mess/sounds/340809/",assetName:"Retro Sci-Fi, horror 06",authorurl:"https://freesound.org/people/cabled_mess/",authorName:"cabled_mess",licenseurl:"http://creativecommons.org/publicdomain/zero/1.0/",licenseName:"Creative Commons 0"}],PC={class:"credits"},RC=["href"],wC=["href"],MC=["href"],IC=se({__name:"Credits",setup(m){const e=Bt(!1),p=()=>e.value=!e.value;return(T,P)=>(gt(),Tt("div",PC,[Ct(ot(Be),{ref:"nyxButton",class:"debug__button",size:ot(Yt).Small,variant:ot(Ye).Outline,tabindex:"-1",onClick:p},{default:Vt(()=>P[2]||(P[2]=[re("Credits")])),_:1},8,["size","variant"]),Ct(ot(Rr),{modelValue:e.value,"onUpdate:modelValue":P[1]||(P[1]=M=>e.value=M),title:"Credits",size:ot(Yt).Large},{default:Vt(()=>[P[3]||(P[3]=wt("p",null," Special thanks to our esteemed testers, Jeroen Vanlessen and Tibo Swinnen, who bravely subjected themselves to the countless bugs, crashes, and questionable design choices that this game had to offer. Their patience, resilience, and willingness to repeatedly drift into asteroid swarms, miscalculate beam shots, and accidentally turn the entire screen into a blinding explosion of space debris have been invaluable. ",-1)),P[4]||(P[4]=wt("p",null,"Without them, this game would still be a flaming mess. With them, it is now a slightly less flaming mess.",-1)),P[5]||(P[5]=wt("p",null,"May their keyboards rest in peace. ",-1)),Ct(ot($g),{class:"credits__table",modelValue:ot($l),"onUpdate:modelValue":P[0]||(P[0]=M=>ae($l)?$l.value=M:null),size:ot(Yt).Small,columnTitles:["Asset","Author","License"],gridTemplateColumns:"50% 25% 25%"},{default:Vt(({item:M})=>[Ct(ot(la),null,{default:Vt(()=>[wt("a",{href:M.assetUrl,target:"_blank"},ee(M.assetName),9,RC)]),_:2},1024),Ct(ot(la),null,{default:Vt(()=>[wt("a",{href:M.authorUrl,target:"_blank"},ee(M.authorName),9,wC)]),_:2},1024),Ct(ot(la),null,{default:Vt(()=>[wt("a",{href:M.licenseUrl,target:"_blank"},ee(M.licenseName),9,MC)]),_:2},1024)]),_:1},8,["modelValue","size"])]),_:1},8,["modelValue","size"])]))}}),Yh=(m,e)=>{const p=m.__vccOpts||m;for(const[T,P]of e)p[T]=P;return p},LC=Yh(IC,[["__scopeId","data-v-b3507c7a"]]);let FC=class{constructor(){vt(this,"_isEnabled",!1);vt(this,"_isCollisionDisabled",!1);vt(this,"_hasInfiniteEnergy",!0);vt(this,"_isImmortal",!0);const e=JSON.parse(localStorage.getItem("debug")??"{}");this._isEnabled=!1,this._isCollisionDisabled=this.load(e,"_isCollisionDisabled"),this._hasInfiniteEnergy=this.load(e,"_hasInfiniteEnergy"),this._isImmortal=this.load(e,"_isImmortal")}load(e,p){return e[p]===void 0?!!this[p]:e[p]}get isEnabled(){return this._isEnabled}set isEnabled(e){this._isEnabled=e,this.save()}get isCollisionDisabled(){return this.isEnabled&&this._isCollisionDisabled}set isCollisionDisabled(e){this._isCollisionDisabled=e,this.save()}get hasInfiniteEnergy(){return this.isEnabled&&this._hasInfiniteEnergy}set hasInfiniteEnergy(e){this._hasInfiniteEnergy=e,this.save()}get isImmortal(){return this.isEnabled&&this._isImmortal}set isImmortal(e){this._isImmortal=e,this.save()}save(){localStorage.setItem("debug",JSON.stringify(this))}};const Mt={player:{hpStart:100,hpMax:100,hpRegen:0,energyStart:25,energyMax:100,energyRegen:.015,energyDrainRate:.1,dashDistance:250,dashSpeed:30,dashCooldown:500,dashDamageReduction:.5,dashEnergyCost:2,teleportDistance:250,teleportCooldown:1e3,velocity:2,maxVelocity:4,acceleration:.2,deceleration:.1,boundsPadding:50,colorDash:43775,colorDamage:16755370},asteroid:{baseSpawnRate:4e3,minSpeed:2,maxSpeedMultiplier:3,rotationSpeed:.01,small:{hp:50,damage:20,speed:1,size:[2,2.5],score:10},large:{hp:100,damage:40,speed:1,size:[4.5,5],score:25}},powerUp:{rotationSpeed:.01,hpSmall:1,hpMedium:5,hpLarge:15,energySmall:3,energyMedium:20,energyLarge:50},beam:{damage:1,speed:10,maxScale:40,scaleDuration:500,minAngle:-Math.PI/3,maxAngle:Math.PI/3,scaleX:3},hiscores:{threshold:1e3}},Kl=m=>m[Math.floor(Math.random()*m.length)],Ue=[];for(let m=0;m<256;++m)Ue.push((m+256).toString(16).slice(1));function OC(m,e=0){return(Ue[m[e+0]]+Ue[m[e+1]]+Ue[m[e+2]]+Ue[m[e+3]]+"-"+Ue[m[e+4]]+Ue[m[e+5]]+"-"+Ue[m[e+6]]+Ue[m[e+7]]+"-"+Ue[m[e+8]]+Ue[m[e+9]]+"-"+Ue[m[e+10]]+Ue[m[e+11]]+Ue[m[e+12]]+Ue[m[e+13]]+Ue[m[e+14]]+Ue[m[e+15]]).toLowerCase()}let kl;const DC=new Uint8Array(16);function NC(){if(!kl){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");kl=crypto.getRandomValues.bind(crypto)}return kl(DC)}const bC=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),xv={randomUUID:bC};function Mf(m,e,p){var P;if(xv.randomUUID&&!m)return xv.randomUUID();m=m||{};const T=m.random??((P=m.rng)==null?void 0:P.call(m))??NC();if(T.length<16)throw new Error("Random bytes length must be >= 16");return T[6]=T[6]&15|64,T[8]=T[8]&63|128,OC(T)}class BC{constructor(e,p){vt(this,"id");vt(this,"sprite");vt(this,"_hp",1);vt(this,"maxHp",1);vt(this,"maxSpeed",3);vt(this,"minSpeed",Mt.asteroid.minSpeed);vt(this,"isLarge",!1);vt(this,"onDestroy");vt(this,"scene");vt(this,"key");vt(this,"size",1);vt(this,"angle",0);this.id=Mf(),this.key=`asteroid/${Wi(1,6)}`,this.scene=e,this.maxSpeed=(p.maxSpeed??1)*Mt.asteroid.maxSpeedMultiplier,this.isLarge=p.isLarge??!1,this.size=this.isLarge?Wi(Mt.asteroid.large.size[0],Mt.asteroid.large.size[1],.1):Wi(Mt.asteroid.small.size[0],Mt.asteroid.small.size[1],.1),this.hp=this.isLarge?Mt.asteroid.large.hp:Mt.asteroid.small.hp,this.maxHp=this.hp,this.sprite=this.create(),this.onDestroy=p.onDestroy}get hp(){return this._hp}set hp(e){if(this._hp=e,e<=0){this.destroy(!0);return}if(!this.sprite)return;const p=this._hp/this.maxHp,M=Phaser.Display.Color.Interpolate.ColorWithColor(Phaser.Display.Color.ValueToColor(16766336),Phaser.Display.Color.ValueToColor(16777215),100,p*100);this.sprite.setTint(Phaser.Display.Color.GetColor(M.r,M.g,M.b))}get damage(){const e=this.isLarge?Mt.asteroid.large.damage:Mt.asteroid.small.damage,p=this.hp/this.maxHp;return e*p}get speed(){const e=this.hp/this.maxHp,p=this.minSpeed+(this.maxSpeed-this.minSpeed)*e;return Ai(p,this.minSpeed,this.maxSpeed)}get velocity(){return{x:-this.speed*Math.cos(this.angle),y:this.speed*.5*Math.sin(this.angle)}}create(){const e=this.scene.textures.get(this.key).getSourceImage(),p=Math.random()<.75;let T,P;return p?(T=this.scene.scale.width+e.width,P=Wi(0,this.scene.scale.height-e.height),this.angle=Wi(-15,15)*Math.PI/180):Math.random()<.5?(T=Wi(this.scene.scale.width/2,this.scene.scale.width)+e.width,P=-e.height,this.angle=Wi(15,30)*Math.PI/180):(T=Wi(0,this.scene.scale.width-e.width),P=this.scene.scale.height+e.height,this.angle=Wi(-15,-30)*Math.PI/180),this.scene.add.image(T,P,this.key).setScale(this.size).setDepth(100)}update(){this.sprite.x+=this.velocity.x,this.sprite.y+=this.velocity.y,this.sprite.rotation+=Mt.asteroid.rotationSpeed;const e=500;(this.sprite.x<-this.sprite.width-e||this.sprite.y>this.scene.scale.height+this.sprite.height+e)&&this.destroy()}destroy(e=!1){var f,C;const p={x:this.sprite.x,y:this.sprite.y};this.onDestroy(this.id,{isDestroyedByPlayer:e,position:p,size:this.size,isLarge:this.isLarge});const{x:T,y:P}={x:this.sprite.x,y:this.sprite.y};this.sprite.destroy(),e&&((C=(f=this.scene.audio)==null?void 0:f.sfx.asteroidExplosion)==null||C.play());const M=this.scene.add.sprite(T,P,"explosion/md").setScale(this.size*.5).setDepth(100);M.anims.play("explosion/md").once("animationcomplete",()=>M.destroy())}}var Fo={exports:{}},VC=Fo.exports,Tv;function UC(){return Tv||(Tv=1,function(m,e){(function(T,P){m.exports=P()})(VC,()=>(()=>{var p={50792:f=>{var C=Object.prototype.hasOwnProperty,t="~";function h(){}Object.create&&(h.prototype=Object.create(null),new h().__proto__||(t=!1));function g(i,n,l){this.fn=i,this.context=n,this.once=l||!1}function o(i,n,l,s,u){if(typeof l!="function")throw new TypeError("The listener must be a function");var d=new g(l,s||i,u),c=t?t+n:n;return i._events[c]?i._events[c].fn?i._events[c]=[i._events[c],d]:i._events[c].push(d):(i._events[c]=d,i._eventsCount++),i}function a(i,n){--i._eventsCount===0?i._events=new h:delete i._events[n]}function r(){this._events=new h,this._eventsCount=0}r.prototype.eventNames=function(){var n=[],l,s;if(this._eventsCount===0)return n;for(s in l=this._events)C.call(l,s)&&n.push(t?s.slice(1):s);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(l)):n},r.prototype.listeners=function(n){var l=t?t+n:n,s=this._events[l];if(!s)return[];if(s.fn)return[s.fn];for(var u=0,d=s.length,c=new Array(d);u<d;u++)c[u]=s[u].fn;return c},r.prototype.listenerCount=function(n){var l=t?t+n:n,s=this._events[l];return s?s.fn?1:s.length:0},r.prototype.emit=function(n,l,s,u,d,c){var v=t?t+n:n;if(!this._events[v])return!1;var y=this._events[v],x=arguments.length,S,E;if(y.fn){switch(y.once&&this.removeListener(n,y.fn,void 0,!0),x){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,l),!0;case 3:return y.fn.call(y.context,l,s),!0;case 4:return y.fn.call(y.context,l,s,u),!0;case 5:return y.fn.call(y.context,l,s,u,d),!0;case 6:return y.fn.call(y.context,l,s,u,d,c),!0}for(E=1,S=new Array(x-1);E<x;E++)S[E-1]=arguments[E];y.fn.apply(y.context,S)}else{var A=y.length,R;for(E=0;E<A;E++)switch(y[E].once&&this.removeListener(n,y[E].fn,void 0,!0),x){case 1:y[E].fn.call(y[E].context);break;case 2:y[E].fn.call(y[E].context,l);break;case 3:y[E].fn.call(y[E].context,l,s);break;case 4:y[E].fn.call(y[E].context,l,s,u);break;default:if(!S)for(R=1,S=new Array(x-1);R<x;R++)S[R-1]=arguments[R];y[E].fn.apply(y[E].context,S)}}return!0},r.prototype.on=function(n,l,s){return o(this,n,l,s,!1)},r.prototype.once=function(n,l,s){return o(this,n,l,s,!0)},r.prototype.removeListener=function(n,l,s,u){var d=t?t+n:n;if(!this._events[d])return this;if(!l)return a(this,d),this;var c=this._events[d];if(c.fn)c.fn===l&&(!u||c.once)&&(!s||c.context===s)&&a(this,d);else{for(var v=0,y=[],x=c.length;v<x;v++)(c[v].fn!==l||u&&!c[v].once||s&&c[v].context!==s)&&y.push(c[v]);y.length?this._events[d]=y.length===1?y[0]:y:a(this,d)}return this},r.prototype.removeAllListeners=function(n){var l;return n?(l=t?t+n:n,this._events[l]&&a(this,l)):(this._events=new h,this._eventsCount=0),this},r.prototype.off=r.prototype.removeListener,r.prototype.addListener=r.prototype.on,r.prefixed=t,r.EventEmitter=r,f.exports=r},11517:(f,C,t)=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(38829),g=function(o,a,r,i){for(var n=o[0],l=1;l<o.length;l++){var s=o[l];h(s,n,a,r,i),n=s}return o};f.exports=g},80318:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66979),g=function(o,a,r,i,n){return h(o,"angle",a,r,i,n)};f.exports=g},60757:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h,g){for(var o=0;o<t.length;o++){var a=t[o];h.call(g,a)}return t};f.exports=C},69927:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h,g){g===void 0&&(g=0);for(var o=g;o<t.length;o++){var a=t[o],r=!0;for(var i in h)a[i]!==h[i]&&(r=!1);if(r)return a}return null};f.exports=C},32265:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h,g){g===void 0&&(g=0);for(var o=t.length-1;o>=g;o--){var a=t[o],r=!0;for(var i in h)a[i]!==h[i]&&(r=!1);if(r)return a}return null};f.exports=C},94420:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(11879),g=t(60461),o=t(95540),a=t(29747),r=t(41481),i=new r({sys:{queueDepthSort:a,events:{once:a}}},0,0,1,1).setOrigin(0,0),n=function(l,s){s===void 0&&(s={});var u=s.hasOwnProperty("width"),d=s.hasOwnProperty("height"),c=o(s,"width",-1),v=o(s,"height",-1),y=o(s,"cellWidth",1),x=o(s,"cellHeight",y),S=o(s,"position",g.TOP_LEFT),E=o(s,"x",0),A=o(s,"y",0),R=0,w=0,I=c*y,O=v*x;i.setPosition(E,A),i.setSize(y,x);for(var F=0;F<l.length;F++)if(h(l[F],i,S),u&&c===-1)i.x+=y;else if(d&&v===-1)i.y+=x;else if(d&&!u){if(w+=x,i.y+=x,w===O&&(w=0,R+=y,i.y=A,i.x+=y,R===I))break}else if(R+=y,i.x+=y,R===I&&(R=0,w+=x,i.x=E,i.y+=x,w===O))break;return l};f.exports=n},41721:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66979),g=function(o,a,r,i,n){return h(o,"alpha",a,r,i,n)};f.exports=g},67285:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66979),g=function(o,a,r,i,n){return h(o,"x",a,r,i,n)};f.exports=g},9074:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66979),g=function(o,a,r,i,n,l,s){return r==null&&(r=a),h(o,"x",a,i,l,s),h(o,"y",r,n,l,s)};f.exports=g},75222:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66979),g=function(o,a,r,i,n){return h(o,"y",a,r,i,n)};f.exports=g},22983:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h,g,o){g===void 0&&(g=0),o===void 0&&(o=6.28);for(var a=g,r=(o-g)/t.length,i=h.x,n=h.y,l=h.radius,s=0;s<t.length;s++)t[s].x=i+l*Math.cos(a),t[s].y=n+l*Math.sin(a),a+=r;return t};f.exports=C},95253:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h,g,o){g===void 0&&(g=0),o===void 0&&(o=6.28);for(var a=g,r=(o-g)/t.length,i=h.width/2,n=h.height/2,l=0;l<t.length;l++)t[l].x=h.x+i*Math.cos(a),t[l].y=h.y+n*Math.sin(a),a+=r;return t};f.exports=C},88505:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(15258),g=t(26708),o=function(a,r,i){var n;i?n=g(r,i,a.length):n=h(r,a.length);for(var l=0;l<a.length;l++){var s=a[l],u=n[l];s.x=u.x,s.y=u.y}return a};f.exports=o},41346:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(14649),g=t(86003),o=t(49498),a=function(r,i,n){n===void 0&&(n=0);var l=h(i,!1,r.length);n>0?g(l,n):n<0&&o(l,Math.abs(n));for(var s=0;s<r.length;s++)r[s].x=l[s].x,r[s].y=l[s].y;return r};f.exports=a},11575:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(84993),g=function(o,a,r){var i=h({x1:a.x1,y1:a.y1,x2:a.x2,y2:a.y2},r),n=h({x1:a.x2,y1:a.y2,x2:a.x3,y2:a.y3},r),l=h({x1:a.x3,y1:a.y3,x2:a.x1,y2:a.y1},r);i.pop(),n.pop(),l.pop(),i=i.concat(n,l);for(var s=i.length/o.length,u=0,d=0;d<o.length;d++){var c=o[d],v=i[Math.floor(u)];c.x=v.x,c.y=v.y,u+=s}return o};f.exports=g},29953:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h,g){for(var o=0;o<t.length;o++){var a=t[o];a.anims&&a.anims.play(h,g)}return t};f.exports=C},66979:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h,g,o,a,r){o===void 0&&(o=0),a===void 0&&(a=0),r===void 0&&(r=1);var i,n=0,l=t.length;if(r===1)for(i=a;i<l;i++)t[i][h]+=g+n*o,n++;else for(i=a;i>=0;i--)t[i][h]+=g+n*o,n++;return t};f.exports=C},43967:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h,g,o,a,r){o===void 0&&(o=0),a===void 0&&(a=0),r===void 0&&(r=1);var i,n=0,l=t.length;if(r===1)for(i=a;i<l;i++)t[i][h]=g+n*o,n++;else for(i=a;i>=0;i--)t[i][h]=g+n*o,n++;return t};f.exports=C},88926:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(28176),g=function(o,a){for(var r=0;r<o.length;r++)h(a,o[r]);return o};f.exports=g},33286:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(24820),g=function(o,a){for(var r=0;r<o.length;r++)h(a,o[r]);return o};f.exports=g},96e3:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(65822),g=function(o,a){for(var r=0;r<o.length;r++)h(a,o[r]);return o};f.exports=g},28789:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26597),g=function(o,a){for(var r=0;r<o.length;r++)h(a,o[r]);return o};f.exports=g},97154:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(90260),g=function(o,a){for(var r=0;r<o.length;r++)h(a,o[r]);return o};f.exports=g},20510:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66979),g=function(o,a,r,i,n){return h(o,"rotation",a,r,i,n)};f.exports=g},91051:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(1163),g=t(20339),o=function(a,r,i){for(var n=r.x,l=r.y,s=0;s<a.length;s++){var u=a[s];h(u,n,l,i,Math.max(1,g(u.x,u.y,n,l)))}return a};f.exports=o},76332:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(1163),g=function(o,a,r,i){var n=a.x,l=a.y;if(i===0)return o;for(var s=0;s<o.length;s++)h(o[s],n,l,r,i);return o};f.exports=g},61619:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66979),g=function(o,a,r,i,n){return h(o,"scaleX",a,r,i,n)};f.exports=g},94868:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66979),g=function(o,a,r,i,n,l,s){return r==null&&(r=a),h(o,"scaleX",a,i,l,s),h(o,"scaleY",r,n,l,s)};f.exports=g},95532:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66979),g=function(o,a,r,i,n){return h(o,"scaleY",a,r,i,n)};f.exports=g},8689:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(43967),g=function(o,a,r,i,n){return h(o,"alpha",a,r,i,n)};f.exports=g},2645:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(43967),g=function(o,a,r,i){return h(o,"blendMode",a,0,r,i)};f.exports=g},32372:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(43967),g=function(o,a,r,i,n){return h(o,"depth",a,r,i,n)};f.exports=g},85373:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h,g){for(var o=0;o<t.length;o++)t[o].setInteractive(h,g);return t};f.exports=C},81583:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(43967),g=function(o,a,r,i,n,l,s){return r==null&&(r=a),h(o,"originX",a,i,l,s),h(o,"originY",r,n,l,s),o.forEach(function(u){u.updateDisplayOrigin()}),o};f.exports=g},79939:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(43967),g=function(o,a,r,i,n){return h(o,"rotation",a,r,i,n)};f.exports=g},2699:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(43967),g=function(o,a,r,i,n,l,s){return r==null&&(r=a),h(o,"scaleX",a,i,l,s),h(o,"scaleY",r,n,l,s)};f.exports=g},98739:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(43967),g=function(o,a,r,i,n){return h(o,"scaleX",a,r,i,n)};f.exports=g},98476:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(43967),g=function(o,a,r,i,n){return h(o,"scaleY",a,r,i,n)};f.exports=g},6207:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(43967),g=function(o,a,r,i,n,l,s){return r==null&&(r=a),h(o,"scrollFactorX",a,i,l,s),h(o,"scrollFactorY",r,n,l,s)};f.exports=g},6607:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(43967),g=function(o,a,r,i,n){return h(o,"scrollFactorX",a,r,i,n)};f.exports=g},72248:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(43967),g=function(o,a,r,i,n){return h(o,"scrollFactorY",a,r,i,n)};f.exports=g},14036:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h,g,o,a){for(var r=0;r<t.length;r++)t[r].setTint(h,g,o,a);return t};f.exports=C},50159:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(43967),g=function(o,a,r,i){return h(o,"visible",a,0,r,i)};f.exports=g},77597:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(43967),g=function(o,a,r,i,n){return h(o,"x",a,r,i,n)};f.exports=g},83194:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(43967),g=function(o,a,r,i,n,l,s){return r==null&&(r=a),h(o,"x",a,i,l,s),h(o,"y",r,n,l,s)};f.exports=g},67678:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(43967),g=function(o,a,r,i,n){return h(o,"y",a,r,i,n)};f.exports=g},35850:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26099),g=function(o,a,r,i,n){i===void 0&&(i=0),n===void 0&&(n=new h);var l,s,u=o.length;if(u===1)l=o[0].x,s=o[0].y,o[0].x=a,o[0].y=r;else{var d=1,c=0;i===0&&(c=u-1,d=u-2),l=o[c].x,s=o[c].y,o[c].x=a,o[c].y=r;for(var v=0;v<u;v++)if(!(d>=u||d===-1)){var y=o[d],x=y.x,S=y.y;y.x=l,y.y=s,l=x,s=S,i===0?d--:d++}}return n.x=l,n.y=s,n};f.exports=g},8628:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(33680),g=function(o){return h(o)};f.exports=g},21837:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7602),g=function(o,a,r,i,n){n===void 0&&(n=!1);var l=Math.abs(i-r)/o.length,s;if(n)for(s=0;s<o.length;s++)o[s][a]+=h(s*l,r,i);else for(s=0;s<o.length;s++)o[s][a]=h(s*l,r,i);return o};f.exports=g},21910:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(54261),g=function(o,a,r,i,n){n===void 0&&(n=!1);var l=Math.abs(i-r)/o.length,s;if(n)for(s=0;s<o.length;s++)o[s][a]+=h(s*l,r,i);else for(s=0;s<o.length;s++)o[s][a]=h(s*l,r,i);return o};f.exports=g},62054:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h,g,o,a){if(a===void 0&&(a=!1),t.length===0)return t;if(t.length===1)return a?t[0][h]+=(o+g)/2:t[0][h]=(o+g)/2,t;var r=Math.abs(o-g)/(t.length-1),i;if(a)for(i=0;i<t.length;i++)t[i][h]+=i*r+g;else for(i=0;i<t.length;i++)t[i][h]=i*r+g;return t};f.exports=C},79815:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t){for(var h=0;h<t.length;h++)t[h].visible=!t[h].visible;return t};f.exports=C},39665:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       samme <samme.npm@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(15994),g=function(o,a,r){r===void 0&&(r=0);for(var i=0;i<o.length;i++){var n=o[i];n.x=h(n.x,a.left-r,a.right+r),n.y=h(n.y,a.top-r,a.bottom+r)}return o};f.exports=g},61061:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={AlignTo:t(11517),Angle:t(80318),Call:t(60757),GetFirst:t(69927),GetLast:t(32265),GridAlign:t(94420),IncAlpha:t(41721),IncX:t(67285),IncXY:t(9074),IncY:t(75222),PlaceOnCircle:t(22983),PlaceOnEllipse:t(95253),PlaceOnLine:t(88505),PlaceOnRectangle:t(41346),PlaceOnTriangle:t(11575),PlayAnimation:t(29953),PropertyValueInc:t(66979),PropertyValueSet:t(43967),RandomCircle:t(88926),RandomEllipse:t(33286),RandomLine:t(96e3),RandomRectangle:t(28789),RandomTriangle:t(97154),Rotate:t(20510),RotateAround:t(91051),RotateAroundDistance:t(76332),ScaleX:t(61619),ScaleXY:t(94868),ScaleY:t(95532),SetAlpha:t(8689),SetBlendMode:t(2645),SetDepth:t(32372),SetHitArea:t(85373),SetOrigin:t(81583),SetRotation:t(79939),SetScale:t(2699),SetScaleX:t(98739),SetScaleY:t(98476),SetScrollFactor:t(6207),SetScrollFactorX:t(6607),SetScrollFactorY:t(72248),SetTint:t(14036),SetVisible:t(50159),SetX:t(77597),SetXY:t(83194),SetY:t(67678),ShiftPosition:t(35850),Shuffle:t(8628),SmootherStep:t(21910),SmoothStep:t(21837),Spread:t(62054),ToggleVisible:t(79815),WrapInRectangle:t(39665)}},42099:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(45319),g=t(83419),o=t(74943),a=t(81957),r=t(41138),i=t(35154),n=t(90126),l=new g({initialize:function(u,d,c){this.manager=u,this.key=d,this.type="frame",this.frames=this.getFrames(u.textureManager,i(c,"frames",[]),i(c,"defaultTextureKey",null),i(c,"sortFrames",!0)),this.frameRate=i(c,"frameRate",null),this.duration=i(c,"duration",null),this.msPerFrame,this.skipMissedFrames=i(c,"skipMissedFrames",!0),this.delay=i(c,"delay",0),this.repeat=i(c,"repeat",0),this.repeatDelay=i(c,"repeatDelay",0),this.yoyo=i(c,"yoyo",!1),this.showBeforeDelay=i(c,"showBeforeDelay",!1),this.showOnStart=i(c,"showOnStart",!1),this.hideOnComplete=i(c,"hideOnComplete",!1),this.randomFrame=i(c,"randomFrame",!1),this.paused=!1,this.calculateDuration(this,this.getTotalFrames(),this.duration,this.frameRate),this.manager.on&&(this.manager.on(o.PAUSE_ALL,this.pause,this),this.manager.on(o.RESUME_ALL,this.resume,this))},getTotalFrames:function(){return this.frames.length},calculateDuration:function(s,u,d,c){d===null&&c===null?(s.frameRate=24,s.duration=24/u*1e3):d&&c===null?(s.duration=d,s.frameRate=u/(d/1e3)):(s.frameRate=c,s.duration=u/c*1e3),s.msPerFrame=1e3/s.frameRate},addFrame:function(s){return this.addFrameAt(this.frames.length,s)},addFrameAt:function(s,u){var d=this.getFrames(this.manager.textureManager,u);if(d.length>0){if(s===0)this.frames=d.concat(this.frames);else if(s===this.frames.length)this.frames=this.frames.concat(d);else{var c=this.frames.slice(0,s),v=this.frames.slice(s);this.frames=c.concat(d,v)}this.updateFrameSequence()}return this},checkFrame:function(s){return s>=0&&s<this.frames.length},getFirstTick:function(s){s.accumulator=0,s.nextTick=s.msPerFrame||s.currentFrame.duration},getFrameAt:function(s){return this.frames[s]},getFrames:function(s,u,d,c){c===void 0&&(c=!0);var v=[],y,x,S=1,E,A;if(typeof u=="string"){if(A=u,!s.exists(A))return console.warn('Texture "%s" not found',A),v;var R=s.get(A),w=R.getFrameNames();c&&n(w),u=[],w.forEach(function(b){u.push({key:A,frame:b})})}if(!Array.isArray(u)||u.length===0)return v;for(E=0;E<u.length;E++){var I=u[E],O=i(I,"key",d);if(O){var F=i(I,"frame",0),L=s.getFrame(O,F);if(!L){console.warn('Texture "%s" not found',O);continue}x=new r(O,F,S,L),x.duration=i(I,"duration",0),x.isFirst=!y,y&&(y.nextFrame=x,x.prevFrame=y),v.push(x),y=x,S++}}if(v.length>0){x.isLast=!0,x.nextFrame=v[0],v[0].prevFrame=x;var D=1/(v.length-1);for(E=0;E<v.length;E++)v[E].progress=E*D}return v},getNextTick:function(s){s.accumulator-=s.nextTick,s.nextTick=s.msPerFrame||s.currentFrame.duration},getFrameByProgress:function(s){return s=h(s,0,1),a(s,this.frames,"progress")},nextFrame:function(s){var u=s.currentFrame;u.isLast?s.yoyo?this.handleYoyoFrame(s,!1):s.repeatCounter>0?s.inReverse&&s.forward?s.forward=!1:this.repeatAnimation(s):s.complete():this.updateAndGetNextTick(s,u.nextFrame)},handleYoyoFrame:function(s,u){if(u||(u=!1),s.inReverse===!u&&s.repeatCounter>0){(s.repeatDelay===0||s.pendingRepeat)&&(s.forward=u),this.repeatAnimation(s);return}if(s.inReverse!==u&&s.repeatCounter===0){s.complete();return}s.forward=u;var d=u?s.currentFrame.nextFrame:s.currentFrame.prevFrame;this.updateAndGetNextTick(s,d)},getLastFrame:function(){return this.frames[this.frames.length-1]},previousFrame:function(s){var u=s.currentFrame;u.isFirst?s.yoyo?this.handleYoyoFrame(s,!0):s.repeatCounter>0?s.inReverse&&!s.forward?this.repeatAnimation(s):(s.forward=!0,this.repeatAnimation(s)):s.complete():this.updateAndGetNextTick(s,u.prevFrame)},updateAndGetNextTick:function(s,u){s.setCurrentFrame(u),this.getNextTick(s)},removeFrame:function(s){var u=this.frames.indexOf(s);return u!==-1&&this.removeFrameAt(u),this},removeFrameAt:function(s){return this.frames.splice(s,1),this.updateFrameSequence(),this},repeatAnimation:function(s){if(s._pendingStop===2){if(s._pendingStopValue===0)return s.stop();s._pendingStopValue--}s.repeatDelay>0&&!s.pendingRepeat?(s.pendingRepeat=!0,s.accumulator-=s.nextTick,s.nextTick+=s.repeatDelay):(s.repeatCounter--,s.forward?s.setCurrentFrame(s.currentFrame.nextFrame):s.setCurrentFrame(s.currentFrame.prevFrame),s.isPlaying&&(this.getNextTick(s),s.handleRepeat()))},toJSON:function(){var s={key:this.key,type:this.type,frames:[],frameRate:this.frameRate,duration:this.duration,skipMissedFrames:this.skipMissedFrames,delay:this.delay,repeat:this.repeat,repeatDelay:this.repeatDelay,yoyo:this.yoyo,showBeforeDelay:this.showBeforeDelay,showOnStart:this.showOnStart,randomFrame:this.randomFrame,hideOnComplete:this.hideOnComplete};return this.frames.forEach(function(u){s.frames.push(u.toJSON())}),s},updateFrameSequence:function(){for(var s=this.frames.length,u=1/(s-1),d,c=0;c<s;c++)d=this.frames[c],d.index=c+1,d.isFirst=!1,d.isLast=!1,d.progress=c*u,c===0?(d.isFirst=!0,s===1?(d.isLast=!0,d.nextFrame=d,d.prevFrame=d):(d.isLast=!1,d.prevFrame=this.frames[s-1],d.nextFrame=this.frames[c+1])):c===s-1&&s>1?(d.isLast=!0,d.prevFrame=this.frames[s-2],d.nextFrame=this.frames[0]):s>1&&(d.prevFrame=this.frames[c-1],d.nextFrame=this.frames[c+1]);return this},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this},destroy:function(){this.manager.off&&(this.manager.off(o.PAUSE_ALL,this.pause,this),this.manager.off(o.RESUME_ALL,this.resume,this)),this.manager.remove(this.key);for(var s=0;s<this.frames.length;s++)this.frames[s].destroy();this.frames=[],this.manager=null}});f.exports=l},41138:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=new h({initialize:function(a,r,i,n,l){l===void 0&&(l=!1),this.textureKey=a,this.textureFrame=r,this.index=i,this.frame=n,this.isFirst=!1,this.isLast=!1,this.prevFrame=null,this.nextFrame=null,this.duration=0,this.progress=0,this.isKeyFrame=l},toJSON:function(){return{key:this.textureKey,frame:this.textureFrame,duration:this.duration,keyframe:this.isKeyFrame}},destroy:function(){this.frame=void 0}});f.exports=g},60848:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(42099),g=t(83419),o=t(90330),a=t(50792),r=t(74943),i=t(8443),n=t(95540),l=t(35154),s=t(36383),u=t(20283),d=t(41836),c=new g({Extends:a,initialize:function(y){a.call(this),this.game=y,this.textureManager=null,this.globalTimeScale=1,this.anims=new o,this.mixes=new o,this.paused=!1,this.name="AnimationManager",y.events.once(i.BOOT,this.boot,this)},boot:function(){this.textureManager=this.game.textures,this.game.events.once(i.DESTROY,this.destroy,this)},addMix:function(v,y,x){var S=this.anims,E=this.mixes,A=typeof v=="string"?v:v.key,R=typeof y=="string"?y:y.key;if(S.has(A)&&S.has(R)){var w=E.get(A);w||(w={}),w[R]=x,E.set(A,w)}return this},removeMix:function(v,y){var x=this.mixes,S=typeof v=="string"?v:v.key,E=x.get(S);if(E)if(y){var A=typeof y=="string"?y:y.key;E.hasOwnProperty(A)&&delete E[A]}else y||x.delete(S);return this},getMix:function(v,y){var x=this.mixes,S=typeof v=="string"?v:v.key,E=typeof y=="string"?y:y.key,A=x.get(S);return A&&A.hasOwnProperty(E)?A[E]:0},add:function(v,y){return this.anims.has(v)?(console.warn("Animation key exists: "+v),this):(y.key=v,this.anims.set(v,y),this.emit(r.ADD_ANIMATION,v,y),this)},exists:function(v){return this.anims.has(v)},createFromAseprite:function(v,y,x){var S=[],E=this.game.cache.json.get(v);if(!E)return console.warn("No Aseprite data found for: "+v),S;var A=this,R=l(E,"meta",null),w=l(E,"frames",null);if(R&&w){var I=l(R,"frameTags",[]);I.forEach(function(O){var F=[],L=n(O,"name",null),D=n(O,"from",0),b=n(O,"to",0),G=n(O,"direction","forward");if(L&&(!y||y&&y.indexOf(L)>-1)){for(var W=0,Y=D;Y<=b;Y++){var H=Y.toString(),U=w[H];if(U){var X=n(U,"duration",s.MAX_SAFE_INTEGER);F.push({key:v,frame:H,duration:X}),W+=X}}G==="reverse"&&(F=F.reverse());var V={key:L,frames:F,duration:W,yoyo:G==="pingpong"},B;x?x.anims&&(B=x.anims.create(V)):B=A.create(V),B&&S.push(B)}})}return S},create:function(v){var y=v.key,x=!1;return y&&(x=this.get(y),x?console.warn("AnimationManager key already exists: "+y):(x=new h(this,y,v),this.anims.set(y,x),this.emit(r.ADD_ANIMATION,y,x))),x},fromJSON:function(v,y){y===void 0&&(y=!1),y&&this.anims.clear(),typeof v=="string"&&(v=JSON.parse(v));var x=[];if(v.hasOwnProperty("anims")&&Array.isArray(v.anims)){for(var S=0;S<v.anims.length;S++)x.push(this.create(v.anims[S]));v.hasOwnProperty("globalTimeScale")&&(this.globalTimeScale=v.globalTimeScale)}else v.hasOwnProperty("key")&&v.type==="frame"&&x.push(this.create(v));return x},generateFrameNames:function(v,y){var x=l(y,"prefix",""),S=l(y,"start",0),E=l(y,"end",0),A=l(y,"suffix",""),R=l(y,"zeroPad",0),w=l(y,"outputArray",[]),I=l(y,"frames",!1);if(!this.textureManager.exists(v))return console.warn('Texture "%s" not found',v),w;var O=this.textureManager.get(v);if(!O)return w;var F;if(y)for(I||(I=u(S,E)),F=0;F<I.length;F++){var L=x+d(I[F],R,"0",1)+A;O.has(L)?w.push({key:v,frame:L}):console.warn('Frame "%s" not found in texture "%s"',L,v)}else for(I=O.getFrameNames(),F=0;F<I.length;F++)w.push({key:v,frame:I[F]});return w},generateFrameNumbers:function(v,y){var x=l(y,"start",0),S=l(y,"end",-1),E=l(y,"first",!1),A=l(y,"outputArray",[]),R=l(y,"frames",!1);if(!this.textureManager.exists(v))return console.warn('Texture "%s" not found',v),A;var w=this.textureManager.get(v);if(!w)return A;E&&w.has(E)&&A.push({key:v,frame:E}),R||(S===-1&&(S=w.frameTotal-2),R=u(x,S));for(var I=0;I<R.length;I++){var O=R[I];w.has(O)?A.push({key:v,frame:O}):console.warn('Frame "%s" not found in texture "%s"',O,v)}return A},get:function(v){return this.anims.get(v)},getAnimsFromTexture:function(v){for(var y=this.textureManager.get(v),x=y.key,S=this.anims.getArray(),E=[],A=0;A<S.length;A++)for(var R=S[A],w=R.frames,I=0;I<w.length;I++)if(w[I].textureKey===x){E.push(R.key);break}return E},pauseAll:function(){return this.paused||(this.paused=!0,this.emit(r.PAUSE_ALL)),this},play:function(v,y){Array.isArray(y)||(y=[y]);for(var x=0;x<y.length;x++)y[x].anims.play(v);return this},staggerPlay:function(v,y,x,S){x===void 0&&(x=0),S===void 0&&(S=!0),Array.isArray(y)||(y=[y]);var E=y.length;S||E--;for(var A=0;A<y.length;A++){var R=x<0?Math.abs(x)*(E-A):x*A;y[A].anims.playAfterDelay(v,R)}return this},remove:function(v){var y=this.get(v);return y&&(this.emit(r.REMOVE_ANIMATION,v,y),this.anims.delete(v),this.removeMix(v)),y},resumeAll:function(){return this.paused&&(this.paused=!1,this.emit(r.RESUME_ALL)),this},toJSON:function(v){var y={anims:[],globalTimeScale:this.globalTimeScale};return v!==void 0&&v!==""?y.anims.push(this.anims.get(v).toJSON()):this.anims.each(function(x,S){y.anims.push(S.toJSON())}),y},destroy:function(){this.anims.clear(),this.mixes.clear(),this.textureManager=null,this.game=null}});f.exports=c},9674:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(42099),g=t(30976),o=t(83419),a=t(90330),r=t(74943),i=t(95540),n=new o({initialize:function(s){this.parent=s,this.animationManager=s.scene.sys.anims,this.animationManager.on(r.REMOVE_ANIMATION,this.globalRemove,this),this.textureManager=this.animationManager.textureManager,this.anims=null,this.isPlaying=!1,this.hasStarted=!1,this.currentAnim=null,this.currentFrame=null,this.nextAnim=null,this.nextAnimsQueue=[],this.timeScale=1,this.frameRate=0,this.duration=0,this.msPerFrame=0,this.skipMissedFrames=!0,this.randomFrame=!1,this.delay=0,this.repeat=0,this.repeatDelay=0,this.yoyo=!1,this.showBeforeDelay=!1,this.showOnStart=!1,this.hideOnComplete=!1,this.forward=!0,this.inReverse=!1,this.accumulator=0,this.nextTick=0,this.delayCounter=0,this.repeatCounter=0,this.pendingRepeat=!1,this._paused=!1,this._wasPlaying=!1,this._pendingStop=0,this._pendingStopValue},chain:function(l){var s=this.parent;if(l===void 0)return this.nextAnimsQueue.length=0,this.nextAnim=null,s;Array.isArray(l)||(l=[l]);for(var u=0;u<l.length;u++){var d=l[u];this.nextAnim?this.nextAnimsQueue.push(d):this.nextAnim=d}return this.parent},getName:function(){return this.currentAnim?this.currentAnim.key:""},getFrameName:function(){return this.currentFrame?this.currentFrame.textureFrame:""},load:function(l){this.isPlaying&&this.stop();var s=this.animationManager,u=typeof l=="string"?l:i(l,"key",null),d=this.exists(u)?this.get(u):s.get(u);if(!d)console.warn("Missing animation: "+u);else{this.currentAnim=d;var c=d.getTotalFrames(),v=i(l,"frameRate",d.frameRate),y=i(l,"duration",d.duration);d.calculateDuration(this,c,y,v),this.delay=i(l,"delay",d.delay),this.repeat=i(l,"repeat",d.repeat),this.repeatDelay=i(l,"repeatDelay",d.repeatDelay),this.yoyo=i(l,"yoyo",d.yoyo),this.showBeforeDelay=i(l,"showBeforeDelay",d.showBeforeDelay),this.showOnStart=i(l,"showOnStart",d.showOnStart),this.hideOnComplete=i(l,"hideOnComplete",d.hideOnComplete),this.skipMissedFrames=i(l,"skipMissedFrames",d.skipMissedFrames),this.randomFrame=i(l,"randomFrame",d.randomFrame),this.timeScale=i(l,"timeScale",this.timeScale);var x=i(l,"startFrame",0);x>c&&(x=0),this.randomFrame&&(x=g(0,c-1));var S=d.frames[x];x===0&&!this.forward&&(S=d.getLastFrame()),this.currentFrame=S}return this.parent},pause:function(l){return this._paused||(this._paused=!0,this._wasPlaying=this.isPlaying,this.isPlaying=!1),l!==void 0&&this.setCurrentFrame(l),this.parent},resume:function(l){return this._paused&&(this._paused=!1,this.isPlaying=this._wasPlaying),l!==void 0&&this.setCurrentFrame(l),this.parent},playAfterDelay:function(l,s){if(!this.isPlaying)this.delayCounter=s,this.play(l,!0);else{var u=this.nextAnim,d=this.nextAnimsQueue;u&&d.unshift(u),this.nextAnim=l,this._pendingStop=1,this._pendingStopValue=s}return this.parent},playAfterRepeat:function(l,s){if(s===void 0&&(s=1),!this.isPlaying)this.play(l);else{var u=this.nextAnim,d=this.nextAnimsQueue;u&&d.unshift(u),this.repeatCounter!==-1&&s>this.repeatCounter&&(s=this.repeatCounter),this.nextAnim=l,this._pendingStop=2,this._pendingStopValue=s}return this.parent},play:function(l,s){s===void 0&&(s=!1);var u=this.currentAnim,d=this.parent,c=typeof l=="string"?l:l.key;if(s&&this.isPlaying&&u.key===c)return d;if(u&&this.isPlaying){var v=this.animationManager.getMix(u.key,l);if(v>0)return this.playAfterDelay(l,v)}return this.forward=!0,this.inReverse=!1,this._paused=!1,this._wasPlaying=!0,this.startAnimation(l)},playReverse:function(l,s){s===void 0&&(s=!1);var u=typeof l=="string"?l:l.key;return s&&this.isPlaying&&this.currentAnim.key===u?this.parent:(this.forward=!1,this.inReverse=!0,this._paused=!1,this._wasPlaying=!0,this.startAnimation(l))},startAnimation:function(l){this.load(l);var s=this.currentAnim,u=this.parent;return s&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat,s.getFirstTick(this),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!1,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.delayCounter+=this.delay,this.delayCounter===0?this.handleStart():this.showBeforeDelay&&this.setCurrentFrame(this.currentFrame)),u},handleStart:function(){this.showOnStart&&this.parent.setVisible(!0),this.setCurrentFrame(this.currentFrame),this.hasStarted=!0,this.emitEvents(r.ANIMATION_START)},handleRepeat:function(){this.pendingRepeat=!1,this.emitEvents(r.ANIMATION_REPEAT)},handleStop:function(){this._pendingStop=0,this.isPlaying=!1,this.emitEvents(r.ANIMATION_STOP)},handleComplete:function(){this._pendingStop=0,this.isPlaying=!1,this.hideOnComplete&&this.parent.setVisible(!1),this.emitEvents(r.ANIMATION_COMPLETE,r.ANIMATION_COMPLETE_KEY)},emitEvents:function(l,s){var u=this.currentAnim;if(u){var d=this.currentFrame,c=this.parent,v=d.textureFrame;c.emit(l,u,d,c,v),s&&c.emit(s+u.key,u,d,c,v)}},reverse:function(){return this.isPlaying&&(this.inReverse=!this.inReverse,this.forward=!this.forward),this.parent},getProgress:function(){var l=this.currentFrame;if(!l)return 0;var s=l.progress;return this.inReverse&&(s*=-1),s},setProgress:function(l){return this.forward||(l=1-l),this.setCurrentFrame(this.currentAnim.getFrameByProgress(l)),this.parent},setRepeat:function(l){return this.repeatCounter=l===-1?Number.MAX_VALUE:l,this.parent},globalRemove:function(l,s){s===void 0&&(s=this.currentAnim),this.isPlaying&&s.key===this.currentAnim.key&&(this.stop(),this.setCurrentFrame(this.currentAnim.frames[0]))},restart:function(l,s){l===void 0&&(l=!1),s===void 0&&(s=!1);var u=this.currentAnim,d=this.parent;return u?(s&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat),u.getFirstTick(this),this.emitEvents(r.ANIMATION_RESTART),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!l,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.setCurrentFrame(u.frames[0]),this.parent):d},complete:function(){if(this._pendingStop=0,this.isPlaying=!1,this.currentAnim&&this.handleComplete(),this.nextAnim){var l=this.nextAnim;this.nextAnim=this.nextAnimsQueue.length>0?this.nextAnimsQueue.shift():null,this.play(l)}return this.parent},stop:function(){if(this._pendingStop=0,this.isPlaying=!1,this.delayCounter=0,this.currentAnim&&this.handleStop(),this.nextAnim){var l=this.nextAnim;this.nextAnim=this.nextAnimsQueue.shift(),this.play(l)}return this.parent},stopAfterDelay:function(l){return this._pendingStop=1,this._pendingStopValue=l,this.parent},stopAfterRepeat:function(l){return l===void 0&&(l=1),this.repeatCounter!==-1&&l>this.repeatCounter&&(l=this.repeatCounter),this._pendingStop=2,this._pendingStopValue=l,this.parent},stopOnFrame:function(l){return this._pendingStop=3,this._pendingStopValue=l,this.parent},getTotalFrames:function(){return this.currentAnim?this.currentAnim.getTotalFrames():0},update:function(l,s){var u=this.currentAnim;if(!(!this.isPlaying||!u||u.paused)){if(this.accumulator+=s*this.timeScale*this.animationManager.globalTimeScale,this._pendingStop===1&&(this._pendingStopValue-=s,this._pendingStopValue<=0))return this.stop();if(!this.hasStarted)this.accumulator>=this.delayCounter&&(this.accumulator-=this.delayCounter,this.handleStart());else if(this.accumulator>=this.nextTick&&(this.forward?u.nextFrame(this):u.previousFrame(this),this.isPlaying&&this._pendingStop===0&&this.skipMissedFrames&&this.accumulator>this.nextTick)){var d=0;do this.forward?u.nextFrame(this):u.previousFrame(this),d++;while(this.isPlaying&&this.accumulator>this.nextTick&&d<60)}}},setCurrentFrame:function(l){var s=this.parent;return this.currentFrame=l,s.texture=l.frame.texture,s.frame=l.frame,s.isCropped&&s.frame.updateCropUVs(s._crop,s.flipX,s.flipY),l.setAlpha&&(s.alpha=l.alpha),s.setSizeToFrame(),s._originComponent&&(l.frame.customPivot?s.setOrigin(l.frame.pivotX,l.frame.pivotY):s.updateDisplayOrigin()),this.isPlaying&&this.hasStarted&&(this.emitEvents(r.ANIMATION_UPDATE),this._pendingStop===3&&this._pendingStopValue===l&&this.stop()),s},nextFrame:function(){return this.currentAnim&&this.currentAnim.nextFrame(this),this.parent},previousFrame:function(){return this.currentAnim&&this.currentAnim.previousFrame(this),this.parent},get:function(l){return this.anims?this.anims.get(l):null},exists:function(l){return this.anims?this.anims.has(l):!1},create:function(l){var s=l.key,u=!1;return s&&(u=this.get(s),u?console.warn("Animation key already exists: "+s):(u=new h(this,s,l),this.anims||(this.anims=new a),this.anims.set(s,u))),u},createFromAseprite:function(l,s){return this.animationManager.createFromAseprite(l,s,this.parent)},generateFrameNames:function(l,s){return this.animationManager.generateFrameNames(l,s)},generateFrameNumbers:function(l,s){return this.animationManager.generateFrameNumbers(l,s)},remove:function(l){var s=this.get(l);return s&&(this.currentAnim===s&&this.stop(),this.anims.delete(l)),s},destroy:function(){this.animationManager.off(r.REMOVE_ANIMATION,this.globalRemove,this),this.anims&&this.anims.clear(),this.animationManager=null,this.parent=null,this.nextAnim=null,this.nextAnimsQueue.length=0,this.currentAnim=null,this.currentFrame=null},isPaused:{get:function(){return this._paused}}});f.exports=n},57090:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="add"},25312:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="animationcomplete"},89580:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="animationcomplete-"},52860:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="animationrepeat"},63850:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="animationrestart"},99085:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="animationstart"},28087:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="animationstop"},1794:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="animationupdate"},52562:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="pauseall"},57953:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="remove"},68339:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="resumeall"},74943:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={ADD_ANIMATION:t(57090),ANIMATION_COMPLETE:t(25312),ANIMATION_COMPLETE_KEY:t(89580),ANIMATION_REPEAT:t(52860),ANIMATION_RESTART:t(63850),ANIMATION_START:t(99085),ANIMATION_STOP:t(28087),ANIMATION_UPDATE:t(1794),PAUSE_ALL:t(52562),REMOVE_ANIMATION:t(57953),RESUME_ALL:t(68339)}},60421:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={Animation:t(42099),AnimationFrame:t(41138),AnimationManager:t(60848),AnimationState:t(9674),Events:t(74943)}},2161:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(90330),o=t(50792),a=t(24736),r=new h({initialize:function(){this.entries=new g,this.events=new o},add:function(i,n){return this.entries.set(i,n),this.events.emit(a.ADD,this,i,n),this},has:function(i){return this.entries.has(i)},exists:function(i){return this.entries.has(i)},get:function(i){return this.entries.get(i)},remove:function(i){var n=this.get(i);return n&&(this.entries.delete(i),this.events.emit(a.REMOVE,this,i,n.data)),this},getKeys:function(){return this.entries.keys()},destroy:function(){this.entries.clear(),this.events.removeAllListeners(),this.entries=null,this.events=null}});f.exports=r},24047:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2161),g=t(83419),o=t(8443),a=new g({initialize:function(i){this.game=i,this.binary=new h,this.bitmapFont=new h,this.json=new h,this.physics=new h,this.shader=new h,this.audio=new h,this.video=new h,this.text=new h,this.html=new h,this.obj=new h,this.tilemap=new h,this.xml=new h,this.custom={},this.game.events.once(o.DESTROY,this.destroy,this)},addCustom:function(r){return this.custom.hasOwnProperty(r)||(this.custom[r]=new h),this.custom[r]},destroy:function(){for(var r=["binary","bitmapFont","json","physics","shader","audio","video","text","html","obj","tilemap","xml"],i=0;i<r.length;i++)this[r[i]].destroy(),this[r[i]]=null;for(var n in this.custom)this.custom[n].destroy();this.custom=null,this.game=null}});f.exports=a},51464:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="add"},59261:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="remove"},24736:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={ADD:t(51464),REMOVE:t(59261)}},83388:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={BaseCache:t(2161),CacheManager:t(24047),Events:t(24736)}},71911:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(31401),o=t(39506),a=t(50792),r=t(19715),i=t(87841),n=t(61340),l=t(80333),s=t(26099),u=new h({Extends:a,Mixins:[g.AlphaSingle,g.Visible],initialize:function(c,v,y,x){c===void 0&&(c=0),v===void 0&&(v=0),y===void 0&&(y=0),x===void 0&&(x=0),a.call(this),this.scene,this.sceneManager,this.scaleManager,this.cameraManager,this.id=0,this.name="",this.roundPixels=!1,this.useBounds=!1,this.worldView=new i,this.dirty=!0,this._x=c,this._y=v,this._width=y,this._height=x,this._bounds=new i,this._scrollX=0,this._scrollY=0,this._zoomX=1,this._zoomY=1,this._rotation=0,this.matrix=new n,this.transparent=!0,this.backgroundColor=l("rgba(0,0,0,0)"),this.disableCull=!1,this.culledObjects=[],this.midPoint=new s(y/2,x/2),this.originX=.5,this.originY=.5,this._customViewport=!1,this.mask=null,this._maskCamera=null,this.renderList=[],this.isSceneCamera=!0,this.renderRoundPixels=!0},addToRenderList:function(d){this.renderList.push(d)},setOrigin:function(d,c){return d===void 0&&(d=.5),c===void 0&&(c=d),this.originX=d,this.originY=c,this},getScroll:function(d,c,v){v===void 0&&(v=new s);var y=this.width*.5,x=this.height*.5;return v.x=d-y,v.y=c-x,this.useBounds&&(v.x=this.clampX(v.x),v.y=this.clampY(v.y)),v},centerOnX:function(d){var c=this.width*.5;return this.midPoint.x=d,this.scrollX=d-c,this.useBounds&&(this.scrollX=this.clampX(this.scrollX)),this},centerOnY:function(d){var c=this.height*.5;return this.midPoint.y=d,this.scrollY=d-c,this.useBounds&&(this.scrollY=this.clampY(this.scrollY)),this},centerOn:function(d,c){return this.centerOnX(d),this.centerOnY(c),this},centerToBounds:function(){if(this.useBounds){var d=this._bounds,c=this.width*.5,v=this.height*.5;this.midPoint.set(d.centerX,d.centerY),this.scrollX=d.centerX-c,this.scrollY=d.centerY-v}return this},centerToSize:function(){return this.scrollX=this.width*.5,this.scrollY=this.height*.5,this},cull:function(d){if(this.disableCull)return d;var c=this.matrix.matrix,v=c[0],y=c[1],x=c[2],S=c[3],E=v*S-y*x;if(!E)return d;var A=c[4],R=c[5],w=this.scrollX,I=this.scrollY,O=this.width,F=this.height,L=this.y,D=L+F,b=this.x,G=b+O,W=this.culledObjects,Y=d.length;E=1/E,W.length=0;for(var H=0;H<Y;++H){var U=d[H];if(!U.hasOwnProperty("width")||U.parentContainer){W.push(U);continue}var X=U.width,V=U.height,B=U.x-w*U.scrollFactorX-X*U.originX,z=U.y-I*U.scrollFactorY-V*U.originY,K=B*v+z*x+A,k=B*y+z*S+R,J=(B+X)*v+(z+V)*x+A,q=(B+X)*y+(z+V)*S+R;J>b&&K<G&&q>L&&k<D&&W.push(U)}return W},getWorldPoint:function(d,c,v){v===void 0&&(v=new s);var y=this.matrix.matrix,x=y[0],S=y[1],E=y[2],A=y[3],R=y[4],w=y[5],I=x*A-S*E;if(!I)return v.x=d,v.y=c,v;I=1/I;var O=A*I,F=-S*I,L=-E*I,D=x*I,b=(E*w-A*R)*I,G=(S*R-x*w)*I,W=Math.cos(this.rotation),Y=Math.sin(this.rotation),H=this.zoomX,U=this.zoomY,X=this.scrollX,V=this.scrollY,B=d+(X*W-V*Y)*H,z=c+(X*Y+V*W)*U;return v.x=B*O+z*L+b,v.y=B*F+z*D+G,v},ignore:function(d){var c=this.id;Array.isArray(d)||(d=[d]);for(var v=0;v<d.length;v++){var y=d[v];Array.isArray(y)?this.ignore(y):y.isParent?this.ignore(y.getChildren()):y.cameraFilter|=c}return this},clampX:function(d){var c=this._bounds,v=this.displayWidth,y=c.x+(v-this.width)/2,x=Math.max(y,y+c.width-v);return d<y?d=y:d>x&&(d=x),d},clampY:function(d){var c=this._bounds,v=this.displayHeight,y=c.y+(v-this.height)/2,x=Math.max(y,y+c.height-v);return d<y?d=y:d>x&&(d=x),d},removeBounds:function(){return this.useBounds=!1,this.dirty=!0,this._bounds.setEmpty(),this},setAngle:function(d){return d===void 0&&(d=0),this.rotation=o(d),this},setBackgroundColor:function(d){return d===void 0&&(d="rgba(0,0,0,0)"),this.backgroundColor=l(d),this.transparent=this.backgroundColor.alpha===0,this},setBounds:function(d,c,v,y,x){return x===void 0&&(x=!1),this._bounds.setTo(d,c,v,y),this.dirty=!0,this.useBounds=!0,x?this.centerToBounds():(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},getBounds:function(d){d===void 0&&(d=new i);var c=this._bounds;return d.setTo(c.x,c.y,c.width,c.height),d},setName:function(d){return d===void 0&&(d=""),this.name=d,this},setPosition:function(d,c){return c===void 0&&(c=d),this.x=d,this.y=c,this},setRotation:function(d){return d===void 0&&(d=0),this.rotation=d,this},setRoundPixels:function(d){return this.roundPixels=d,this},setScene:function(d,c){c===void 0&&(c=!0),this.scene&&this._customViewport&&this.sceneManager.customViewports--,this.scene=d,this.isSceneCamera=c;var v=d.sys;return this.sceneManager=v.game.scene,this.scaleManager=v.scale,this.cameraManager=v.cameras,this.updateSystem(),this},setScroll:function(d,c){return c===void 0&&(c=d),this.scrollX=d,this.scrollY=c,this},setSize:function(d,c){return c===void 0&&(c=d),this.width=d,this.height=c,this},setViewport:function(d,c,v,y){return this.x=d,this.y=c,this.width=v,this.height=y,this},setZoom:function(d,c){return d===void 0&&(d=1),c===void 0&&(c=d),d===0&&(d=.001),c===0&&(c=.001),this.zoomX=d,this.zoomY=c,this},setMask:function(d,c){return c===void 0&&(c=!0),this.mask=d,this._maskCamera=c?this.cameraManager.default:this,this},clearMask:function(d){return d===void 0&&(d=!1),d&&this.mask&&this.mask.destroy(),this.mask=null,this},toJSON:function(){var d={name:this.name,x:this.x,y:this.y,width:this.width,height:this.height,zoom:this.zoom,rotation:this.rotation,roundPixels:this.roundPixels,scrollX:this.scrollX,scrollY:this.scrollY,backgroundColor:this.backgroundColor.rgba};return this.useBounds&&(d.bounds={x:this._bounds.x,y:this._bounds.y,width:this._bounds.width,height:this._bounds.height}),d},update:function(){},setIsSceneCamera:function(d){return this.isSceneCamera=d,this},updateSystem:function(){if(!(!this.scaleManager||!this.isSceneCamera)){var d=this._x!==0||this._y!==0||this.scaleManager.width!==this._width||this.scaleManager.height!==this._height,c=this.sceneManager;d&&!this._customViewport?c.customViewports++:!d&&this._customViewport&&c.customViewports--,this.dirty=!0,this._customViewport=d}},destroy:function(){this.emit(r.DESTROY,this),this.removeAllListeners(),this.matrix.destroy(),this.culledObjects=[],this._customViewport&&this.sceneManager.customViewports--,this.renderList=[],this._bounds=null,this.scene=null,this.scaleManager=null,this.sceneManager=null,this.cameraManager=null},x:{get:function(){return this._x},set:function(d){this._x=d,this.updateSystem()}},y:{get:function(){return this._y},set:function(d){this._y=d,this.updateSystem()}},width:{get:function(){return this._width},set:function(d){this._width=d,this.updateSystem()}},height:{get:function(){return this._height},set:function(d){this._height=d,this.updateSystem()}},scrollX:{get:function(){return this._scrollX},set:function(d){d!==this._scrollX&&(this._scrollX=d,this.dirty=!0)}},scrollY:{get:function(){return this._scrollY},set:function(d){d!==this._scrollY&&(this._scrollY=d,this.dirty=!0)}},zoom:{get:function(){return(this._zoomX+this._zoomY)/2},set:function(d){this._zoomX=d,this._zoomY=d,this.dirty=!0}},zoomX:{get:function(){return this._zoomX},set:function(d){this._zoomX=d,this.dirty=!0}},zoomY:{get:function(){return this._zoomY},set:function(d){this._zoomY=d,this.dirty=!0}},rotation:{get:function(){return this._rotation},set:function(d){this._rotation=d,this.dirty=!0}},centerX:{get:function(){return this.x+.5*this.width}},centerY:{get:function(){return this.y+.5*this.height}},displayWidth:{get:function(){return this.width/this.zoomX}},displayHeight:{get:function(){return this.height/this.zoomY}}});f.exports=u},38058:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(71911),g=t(67502),o=t(45319),a=t(83419),r=t(31401),i=t(20052),n=t(19715),l=t(28915),s=t(87841),u=t(26099),d=new a({Extends:h,Mixins:[r.PostPipeline],initialize:function(v,y,x,S){h.call(this,v,y,x,S),this.initPostPipeline(),this.inputEnabled=!0,this.fadeEffect=new i.Fade(this),this.flashEffect=new i.Flash(this),this.shakeEffect=new i.Shake(this),this.panEffect=new i.Pan(this),this.rotateToEffect=new i.RotateTo(this),this.zoomEffect=new i.Zoom(this),this.lerp=new u(1,1),this.followOffset=new u,this.deadzone=null,this._follow=null},setDeadzone:function(c,v){if(c===void 0)this.deadzone=null;else{if(this.deadzone?(this.deadzone.width=c,this.deadzone.height=v):this.deadzone=new s(0,0,c,v),this._follow){var y=this.width/2,x=this.height/2,S=this._follow.x-this.followOffset.x,E=this._follow.y-this.followOffset.y;this.midPoint.set(S,E),this.scrollX=S-y,this.scrollY=E-x}g(this.deadzone,this.midPoint.x,this.midPoint.y)}return this},fadeIn:function(c,v,y,x,S,E){return this.fadeEffect.start(!1,c,v,y,x,!0,S,E)},fadeOut:function(c,v,y,x,S,E){return this.fadeEffect.start(!0,c,v,y,x,!0,S,E)},fadeFrom:function(c,v,y,x,S,E,A){return this.fadeEffect.start(!1,c,v,y,x,S,E,A)},fade:function(c,v,y,x,S,E,A){return this.fadeEffect.start(!0,c,v,y,x,S,E,A)},flash:function(c,v,y,x,S,E,A){return this.flashEffect.start(c,v,y,x,S,E,A)},shake:function(c,v,y,x,S){return this.shakeEffect.start(c,v,y,x,S)},pan:function(c,v,y,x,S,E,A){return this.panEffect.start(c,v,y,x,S,E,A)},rotateTo:function(c,v,y,x,S,E,A){return this.rotateToEffect.start(c,v,y,x,S,E,A)},zoomTo:function(c,v,y,x,S,E){return this.zoomEffect.start(c,v,y,x,S,E)},preRender:function(){this.renderList.length=0;var c=this.width,v=this.height,y=c*.5,x=v*.5,S=this.zoomX,E=this.zoomY,A=this.matrix;this.renderRoundPixels=this.roundPixels&&Number.isInteger(S)&&Number.isInteger(E);var R=c*this.originX,w=v*this.originY,I=this._follow,O=this.deadzone,F=this.scrollX,L=this.scrollY;O&&g(O,this.midPoint.x,this.midPoint.y);var D=!1;if(I&&!this.panEffect.isRunning){var b=this.lerp,G=I.x-this.followOffset.x,W=I.y-this.followOffset.y;O?(G<O.x?F=l(F,F-(O.x-G),b.x):G>O.right&&(F=l(F,F+(G-O.right),b.x)),W<O.y?L=l(L,L-(O.y-W),b.y):W>O.bottom&&(L=l(L,L+(W-O.bottom),b.y))):(F=l(F,G-R,b.x),L=l(L,W-w,b.y)),D=!0}this.roundPixels&&(F=Math.floor(F),L=Math.floor(L)),this.useBounds&&(F=this.clampX(F),L=this.clampY(L)),this.scrollX=F,this.scrollY=L;var Y=F+y,H=L+x;this.midPoint.set(Y,H);var U=Math.floor(c/S+.5),X=Math.floor(v/E+.5),V=Math.floor(Y-U/2+.5),B=Math.floor(H-X/2+.5);this.worldView.setTo(V,B,U,X),A.applyITRS(Math.floor(this.x+R+.5),Math.floor(this.y+w+.5),this.rotation,S,E),A.translate(-R,-w),this.shakeEffect.preRender(),D&&this.emit(n.FOLLOW_UPDATE,this,I)},setLerp:function(c,v){return c===void 0&&(c=1),v===void 0&&(v=c),this.lerp.set(c,v),this},setFollowOffset:function(c,v){return c===void 0&&(c=0),v===void 0&&(v=0),this.followOffset.set(c,v),this},startFollow:function(c,v,y,x,S,E){v===void 0&&(v=!1),y===void 0&&(y=1),x===void 0&&(x=y),S===void 0&&(S=0),E===void 0&&(E=S),this._follow=c,this.roundPixels=v,y=o(y,0,1),x=o(x,0,1),this.lerp.set(y,x),this.followOffset.set(S,E);var A=this.width/2,R=this.height/2,w=c.x-S,I=c.y-E;return this.midPoint.set(w,I),this.scrollX=w-A,this.scrollY=I-R,this.useBounds&&(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},stopFollow:function(){return this._follow=null,this},resetFX:function(){return this.rotateToEffect.reset(),this.panEffect.reset(),this.shakeEffect.reset(),this.flashEffect.reset(),this.fadeEffect.reset(),this},update:function(c,v){this.visible&&(this.rotateToEffect.update(c,v),this.panEffect.update(c,v),this.zoomEffect.update(c,v),this.shakeEffect.update(c,v),this.flashEffect.update(c,v),this.fadeEffect.update(c,v))},destroy:function(){this.resetFX(),h.prototype.destroy.call(this),this._follow=null,this.deadzone=null}});f.exports=d},32743:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(38058),g=t(83419),o=t(95540),a=t(37277),r=t(37303),i=t(97480),n=t(44594),l=new g({initialize:function(u){this.scene=u,this.systems=u.sys,this.roundPixels=u.sys.game.config.roundPixels,this.cameras=[],this.main,this.default,u.sys.events.once(n.BOOT,this.boot,this),u.sys.events.on(n.START,this.start,this)},boot:function(){var s=this.systems;s.settings.cameras?this.fromJSON(s.settings.cameras):this.add(),this.main=this.cameras[0],this.default=new h(0,0,s.scale.width,s.scale.height).setScene(this.scene),s.game.scale.on(i.RESIZE,this.onResize,this),this.systems.events.once(n.DESTROY,this.destroy,this)},start:function(){if(!this.main){var s=this.systems;s.settings.cameras?this.fromJSON(s.settings.cameras):this.add(),this.main=this.cameras[0]}var u=this.systems.events;u.on(n.UPDATE,this.update,this),u.once(n.SHUTDOWN,this.shutdown,this)},add:function(s,u,d,c,v,y){s===void 0&&(s=0),u===void 0&&(u=0),d===void 0&&(d=this.scene.sys.scale.width),c===void 0&&(c=this.scene.sys.scale.height),v===void 0&&(v=!1),y===void 0&&(y="");var x=new h(s,u,d,c);return x.setName(y),x.setScene(this.scene),x.setRoundPixels(this.roundPixels),x.id=this.getNextID(),this.cameras.push(x),v&&(this.main=x),x},addExisting:function(s,u){u===void 0&&(u=!1);var d=this.cameras.indexOf(s);return d===-1?(s.id=this.getNextID(),s.setRoundPixels(this.roundPixels),this.cameras.push(s),u&&(this.main=s),s):null},getNextID:function(){for(var s=this.cameras,u=1,d=0;d<32;d++){for(var c=!1,v=0;v<s.length;v++){var y=s[v];if(y&&y.id===u){c=!0;continue}}if(c)u=u<<1;else return u}return 0},getTotal:function(s){s===void 0&&(s=!1);for(var u=0,d=this.cameras,c=0;c<d.length;c++){var v=d[c];(!s||s&&v.visible)&&u++}return u},fromJSON:function(s){Array.isArray(s)||(s=[s]);for(var u=this.scene.sys.scale.width,d=this.scene.sys.scale.height,c=0;c<s.length;c++){var v=s[c],y=o(v,"x",0),x=o(v,"y",0),S=o(v,"width",u),E=o(v,"height",d),A=this.add(y,x,S,E);A.name=o(v,"name",""),A.zoom=o(v,"zoom",1),A.rotation=o(v,"rotation",0),A.scrollX=o(v,"scrollX",0),A.scrollY=o(v,"scrollY",0),A.roundPixels=o(v,"roundPixels",!1),A.visible=o(v,"visible",!0);var R=o(v,"backgroundColor",!1);R&&A.setBackgroundColor(R);var w=o(v,"bounds",null);if(w){var I=o(w,"x",0),O=o(w,"y",0),F=o(w,"width",u),L=o(w,"height",d);A.setBounds(I,O,F,L)}}return this},getCamera:function(s){for(var u=this.cameras,d=0;d<u.length;d++)if(u[d].name===s)return u[d];return null},getCamerasBelowPointer:function(s){for(var u=this.cameras,d=s.x,c=s.y,v=[],y=0;y<u.length;y++){var x=u[y];x.visible&&x.inputEnabled&&r(x,d,c)&&v.unshift(x)}return v},remove:function(s,u){u===void 0&&(u=!0),Array.isArray(s)||(s=[s]);for(var d=0,c=this.cameras,v=0;v<s.length;v++){var y=c.indexOf(s[v]);y!==-1&&(u?c[y].destroy():c[y].renderList=[],c.splice(y,1),d++)}return!this.main&&c[0]&&(this.main=c[0]),d},render:function(s,u){for(var d=this.scene,c=this.cameras,v=0;v<c.length;v++){var y=c[v];if(y.visible&&y.alpha>0){y.preRender();var x=this.getVisibleChildren(u.getChildren(),y);s.render(d,x,y)}}},getVisibleChildren:function(s,u){return s.filter(function(d){return d.willRender(u)})},resetAll:function(){for(var s=0;s<this.cameras.length;s++)this.cameras[s].destroy();return this.cameras=[],this.main=this.add(),this.main},update:function(s,u){for(var d=0;d<this.cameras.length;d++)this.cameras[d].update(s,u)},onResize:function(s,u,d,c,v){for(var y=0;y<this.cameras.length;y++){var x=this.cameras[y];x._x===0&&x._y===0&&x._width===c&&x._height===v&&x.setSize(u.width,u.height)}},resize:function(s,u){for(var d=0;d<this.cameras.length;d++)this.cameras[d].setSize(s,u)},shutdown:function(){this.main=void 0;for(var s=0;s<this.cameras.length;s++)this.cameras[s].destroy();this.cameras=[];var u=this.systems.events;u.off(n.UPDATE,this.update,this),u.off(n.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.default.destroy(),this.systems.events.off(n.START,this.start,this),this.systems.events.off(n.DESTROY,this.destroy,this),this.systems.game.scale.off(i.RESIZE,this.onResize,this),this.scene=null,this.systems=null}});a.register("CameraManager",l,"cameras"),f.exports=l},5020:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(45319),g=t(83419),o=t(19715),a=new g({initialize:function(i){this.camera=i,this.isRunning=!1,this.isComplete=!1,this.direction=!0,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(r,i,n,l,s,u,d,c){if(r===void 0&&(r=!0),i===void 0&&(i=1e3),n===void 0&&(n=0),l===void 0&&(l=0),s===void 0&&(s=0),u===void 0&&(u=!1),d===void 0&&(d=null),c===void 0&&(c=this.camera.scene),!u&&this.isRunning)return this.camera;this.isRunning=!0,this.isComplete=!1,this.duration=i,this.direction=r,this.progress=0,this.red=n,this.green=l,this.blue=s,this.alpha=r?Number.MIN_VALUE:1,this._elapsed=0,this._onUpdate=d,this._onUpdateScope=c;var v=r?o.FADE_OUT_START:o.FADE_IN_START;return this.camera.emit(v,this.camera,this,i,n,l,s),this.camera},update:function(r,i){this.isRunning&&(this._elapsed+=i,this.progress=h(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this.direction?this.progress:1-this.progress:(this.alpha=this.direction?1:0,this.effectComplete()))},postRenderCanvas:function(r){if(!this.isRunning&&!this.isComplete)return!1;var i=this.camera;return r.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",r.fillRect(i.x,i.y,i.width,i.height),!0},postRenderWebGL:function(r,i){if(!this.isRunning&&!this.isComplete)return!1;var n=this.camera,l=this.red/255,s=this.green/255,u=this.blue/255;return r.drawFillRect(n.x,n.y,n.width,n.height,i(u,s,l,1),this.alpha),!0},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.isComplete=!0;var r=this.direction?o.FADE_OUT_COMPLETE:o.FADE_IN_COMPLETE;this.camera.emit(r,this.camera,this)},reset:function(){this.isRunning=!1,this.isComplete=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});f.exports=a},10662:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(45319),g=t(83419),o=t(19715),a=new g({initialize:function(i){this.camera=i,this.isRunning=!1,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=1,this.progress=0,this._elapsed=0,this._alpha,this._onUpdate,this._onUpdateScope},start:function(r,i,n,l,s,u,d){return r===void 0&&(r=250),i===void 0&&(i=255),n===void 0&&(n=255),l===void 0&&(l=255),s===void 0&&(s=!1),u===void 0&&(u=null),d===void 0&&(d=this.camera.scene),!s&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=r,this.progress=0,this.red=i,this.green=n,this.blue=l,this._alpha=this.alpha,this._elapsed=0,this._onUpdate=u,this._onUpdateScope=d,this.camera.emit(o.FLASH_START,this.camera,this,r,i,n,l),this.camera)},update:function(r,i){this.isRunning&&(this._elapsed+=i,this.progress=h(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this._alpha*(1-this.progress):this.effectComplete())},postRenderCanvas:function(r){if(!this.isRunning)return!1;var i=this.camera;return r.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",r.fillRect(i.x,i.y,i.width,i.height),!0},postRenderWebGL:function(r,i){if(!this.isRunning)return!1;var n=this.camera,l=this.red/255,s=this.green/255,u=this.blue/255;return r.drawFillRect(n.x,n.y,n.width,n.height,i(u,s,l,1),this.alpha),!0},effectComplete:function(){this.alpha=this._alpha,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(o.FLASH_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});f.exports=a},20359:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(45319),g=t(83419),o=t(62640),a=t(19715),r=t(26099),i=new g({initialize:function(l){this.camera=l,this.isRunning=!1,this.duration=0,this.source=new r,this.current=new r,this.destination=new r,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(n,l,s,u,d,c,v){s===void 0&&(s=1e3),u===void 0&&(u=o.Linear),d===void 0&&(d=!1),c===void 0&&(c=null),v===void 0&&(v=this.camera.scene);var y=this.camera;return!d&&this.isRunning||(this.isRunning=!0,this.duration=s,this.progress=0,this.source.set(y.scrollX,y.scrollY),this.destination.set(n,l),y.getScroll(n,l,this.current),typeof u=="string"&&o.hasOwnProperty(u)?this.ease=o[u]:typeof u=="function"&&(this.ease=u),this._elapsed=0,this._onUpdate=c,this._onUpdateScope=v,this.camera.emit(a.PAN_START,this.camera,this,s,n,l)),y},update:function(n,l){if(this.isRunning){this._elapsed+=l;var s=h(this._elapsed/this.duration,0,1);this.progress=s;var u=this.camera;if(this._elapsed<this.duration){var d=this.ease(s);u.getScroll(this.destination.x,this.destination.y,this.current);var c=this.source.x+(this.current.x-this.source.x)*d,v=this.source.y+(this.current.y-this.source.y)*d;u.setScroll(c,v),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,u,s,c,v)}else u.centerOn(this.destination.x,this.destination.y),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,u,s,u.scrollX,u.scrollY),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(a.PAN_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});f.exports=i},34208:(f,C,t)=>{/**
 * @author       Jason Nicholls <nicholls.jason@gmail.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var h=t(45319),g=t(83419),o=t(19715),a=t(62640),r=new g({initialize:function(n){this.camera=n,this.isRunning=!1,this.duration=0,this.source=0,this.current=0,this.destination=0,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope,this.clockwise=!0,this.shortestPath=!1},start:function(i,n,l,s,u,d,c){l===void 0&&(l=1e3),s===void 0&&(s=a.Linear),u===void 0&&(u=!1),d===void 0&&(d=null),c===void 0&&(c=this.camera.scene),n===void 0&&(n=!1),this.shortestPath=n;var v=i;i<0?(v=-1*i,this.clockwise=!1):this.clockwise=!0;var y=360*Math.PI/180;v=v-Math.floor(v/y)*y;var x=this.camera;if(!u&&this.isRunning)return x;if(this.isRunning=!0,this.duration=l,this.progress=0,this.source=x.rotation,this.destination=v,typeof s=="string"&&a.hasOwnProperty(s)?this.ease=a[s]:typeof s=="function"&&(this.ease=s),this._elapsed=0,this._onUpdate=d,this._onUpdateScope=c,this.shortestPath){var S=0,E=0;this.destination>this.source?S=Math.abs(this.destination-this.source):S=Math.abs(this.destination+y)-this.source,this.source>this.destination?E=Math.abs(this.source-this.destination):E=Math.abs(this.source+y)-this.destination,S<E?this.clockwise=!0:S>E&&(this.clockwise=!1)}return this.camera.emit(o.ROTATE_START,this.camera,this,l,v),x},update:function(i,n){if(this.isRunning){this._elapsed+=n;var l=h(this._elapsed/this.duration,0,1);this.progress=l;var s=this.camera;if(this._elapsed<this.duration){var u=this.ease(l);this.current=s.rotation;var d=0,c=360*Math.PI/180,v=this.destination,y=this.current;this.clockwise===!1&&(v=this.current,y=this.destination),v>=y?d=Math.abs(v-y):d=Math.abs(v+c)-y;var x=0;this.clockwise?x=s.rotation+d*u:x=s.rotation-d*u,s.rotation=x,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,s,l,x)}else s.rotation=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,s,l,this.destination),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(o.ROTATE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});f.exports=r},30330:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(45319),g=t(83419),o=t(19715),a=t(26099),r=new g({initialize:function(n){this.camera=n,this.isRunning=!1,this.duration=0,this.intensity=new a,this.progress=0,this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate,this._onUpdateScope},start:function(i,n,l,s,u){return i===void 0&&(i=100),n===void 0&&(n=.05),l===void 0&&(l=!1),s===void 0&&(s=null),u===void 0&&(u=this.camera.scene),!l&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=i,this.progress=0,typeof n=="number"?this.intensity.set(n):this.intensity.set(n.x,n.y),this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate=s,this._onUpdateScope=u,this.camera.emit(o.SHAKE_START,this.camera,this,i,n),this.camera)},preRender:function(){this.isRunning&&this.camera.matrix.translate(this._offsetX,this._offsetY)},update:function(i,n){if(this.isRunning)if(this._elapsed+=n,this.progress=h(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration){var l=this.intensity,s=this.camera.width,u=this.camera.height,d=this.camera.zoom;this._offsetX=(Math.random()*l.x*s*2-l.x*s)*d,this._offsetY=(Math.random()*l.y*u*2-l.y*u)*d,this.camera.roundPixels&&(this._offsetX=Math.round(this._offsetX),this._offsetY=Math.round(this._offsetY))}else this.effectComplete()},effectComplete:function(){this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(o.SHAKE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.intensity=null}});f.exports=r},45641:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(45319),g=t(83419),o=t(62640),a=t(19715),r=new g({initialize:function(n){this.camera=n,this.isRunning=!1,this.duration=0,this.source=1,this.destination=1,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(i,n,l,s,u,d){n===void 0&&(n=1e3),l===void 0&&(l=o.Linear),s===void 0&&(s=!1),u===void 0&&(u=null),d===void 0&&(d=this.camera.scene);var c=this.camera;return!s&&this.isRunning||(this.isRunning=!0,this.duration=n,this.progress=0,this.source=c.zoom,this.destination=i,typeof l=="string"&&o.hasOwnProperty(l)?this.ease=o[l]:typeof l=="function"&&(this.ease=l),this._elapsed=0,this._onUpdate=u,this._onUpdateScope=d,this.camera.emit(a.ZOOM_START,this.camera,this,n,i)),c},update:function(i,n){this.isRunning&&(this._elapsed+=n,this.progress=h(this._elapsed/this.duration,0,1),this._elapsed<this.duration?(this.camera.zoom=this.source+(this.destination-this.source)*this.ease(this.progress),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.camera.zoom)):(this.camera.zoom=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.destination),this.effectComplete()))},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(a.ZOOM_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});f.exports=r},20052:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={Fade:t(5020),Flash:t(10662),Pan:t(20359),Shake:t(30330),RotateTo:t(34208),Zoom:t(45641)}},16438:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="cameradestroy"},32726:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="camerafadeincomplete"},87807:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="camerafadeinstart"},45917:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="camerafadeoutcomplete"},95666:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="camerafadeoutstart"},47056:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="cameraflashcomplete"},91261:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="cameraflashstart"},45047:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="followupdate"},81927:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="camerapancomplete"},74264:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="camerapanstart"},54419:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="postrender"},79330:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="prerender"},93183:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="camerarotatecomplete"},80112:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="camerarotatestart"},62252:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="camerashakecomplete"},86017:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="camerashakestart"},539:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="camerazoomcomplete"},51892:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="camerazoomstart"},19715:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={DESTROY:t(16438),FADE_IN_COMPLETE:t(32726),FADE_IN_START:t(87807),FADE_OUT_COMPLETE:t(45917),FADE_OUT_START:t(95666),FLASH_COMPLETE:t(47056),FLASH_START:t(91261),FOLLOW_UPDATE:t(45047),PAN_COMPLETE:t(81927),PAN_START:t(74264),POST_RENDER:t(54419),PRE_RENDER:t(79330),ROTATE_COMPLETE:t(93183),ROTATE_START:t(80112),SHAKE_COMPLETE:t(62252),SHAKE_START:t(86017),ZOOM_COMPLETE:t(539),ZOOM_START:t(51892)}},87969:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={Camera:t(38058),BaseCamera:t(71911),CameraManager:t(32743),Effects:t(20052),Events:t(19715)}},63091:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(35154),o=new h({initialize:function(r){this.camera=g(r,"camera",null),this.left=g(r,"left",null),this.right=g(r,"right",null),this.up=g(r,"up",null),this.down=g(r,"down",null),this.zoomIn=g(r,"zoomIn",null),this.zoomOut=g(r,"zoomOut",null),this.zoomSpeed=g(r,"zoomSpeed",.01),this.minZoom=g(r,"minZoom",.001),this.maxZoom=g(r,"maxZoom",1e3),this.speedX=0,this.speedY=0;var i=g(r,"speed",null);typeof i=="number"?(this.speedX=i,this.speedY=i):(this.speedX=g(r,"speed.x",0),this.speedY=g(r,"speed.y",0)),this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(a){return this.camera=a,this},update:function(a){if(this.active){a===void 0&&(a=1);var r=this.camera;this.up&&this.up.isDown?r.scrollY-=this.speedY*a|0:this.down&&this.down.isDown&&(r.scrollY+=this.speedY*a|0),this.left&&this.left.isDown?r.scrollX-=this.speedX*a|0:this.right&&this.right.isDown&&(r.scrollX+=this.speedX*a|0),this.zoomIn&&this.zoomIn.isDown?(r.zoom-=this.zoomSpeed,r.zoom<this.minZoom&&(r.zoom=this.minZoom)):this.zoomOut&&this.zoomOut.isDown&&(r.zoom+=this.zoomSpeed,r.zoom>this.maxZoom&&(r.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});f.exports=o},58818:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(35154),o=new h({initialize:function(r){this.camera=g(r,"camera",null),this.left=g(r,"left",null),this.right=g(r,"right",null),this.up=g(r,"up",null),this.down=g(r,"down",null),this.zoomIn=g(r,"zoomIn",null),this.zoomOut=g(r,"zoomOut",null),this.zoomSpeed=g(r,"zoomSpeed",.01),this.minZoom=g(r,"minZoom",.001),this.maxZoom=g(r,"maxZoom",1e3),this.accelX=0,this.accelY=0;var i=g(r,"acceleration",null);typeof i=="number"?(this.accelX=i,this.accelY=i):(this.accelX=g(r,"acceleration.x",0),this.accelY=g(r,"acceleration.y",0)),this.dragX=0,this.dragY=0;var n=g(r,"drag",null);typeof n=="number"?(this.dragX=n,this.dragY=n):(this.dragX=g(r,"drag.x",0),this.dragY=g(r,"drag.y",0)),this.maxSpeedX=0,this.maxSpeedY=0;var l=g(r,"maxSpeed",null);typeof l=="number"?(this.maxSpeedX=l,this.maxSpeedY=l):(this.maxSpeedX=g(r,"maxSpeed.x",0),this.maxSpeedY=g(r,"maxSpeed.y",0)),this._speedX=0,this._speedY=0,this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(a){return this.camera=a,this},update:function(a){if(this.active){a===void 0&&(a=1);var r=this.camera;this._speedX>0?(this._speedX-=this.dragX*a,this._speedX<0&&(this._speedX=0)):this._speedX<0&&(this._speedX+=this.dragX*a,this._speedX>0&&(this._speedX=0)),this._speedY>0?(this._speedY-=this.dragY*a,this._speedY<0&&(this._speedY=0)):this._speedY<0&&(this._speedY+=this.dragY*a,this._speedY>0&&(this._speedY=0)),this.up&&this.up.isDown?(this._speedY+=this.accelY,this._speedY>this.maxSpeedY&&(this._speedY=this.maxSpeedY)):this.down&&this.down.isDown&&(this._speedY-=this.accelY,this._speedY<-this.maxSpeedY&&(this._speedY=-this.maxSpeedY)),this.left&&this.left.isDown?(this._speedX+=this.accelX,this._speedX>this.maxSpeedX&&(this._speedX=this.maxSpeedX)):this.right&&this.right.isDown&&(this._speedX-=this.accelX,this._speedX<-this.maxSpeedX&&(this._speedX=-this.maxSpeedX)),this.zoomIn&&this.zoomIn.isDown?this._zoom=-this.zoomSpeed:this.zoomOut&&this.zoomOut.isDown?this._zoom=this.zoomSpeed:this._zoom=0,this._speedX!==0&&(r.scrollX-=this._speedX*a|0),this._speedY!==0&&(r.scrollY-=this._speedY*a|0),this._zoom!==0&&(r.zoom+=this._zoom,r.zoom<this.minZoom?r.zoom=this.minZoom:r.zoom>this.maxZoom&&(r.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});f.exports=o},38865:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={FixedKeyControl:t(63091),SmoothedKeyControl:t(58818)}},26638:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={Controls:t(38865),Scene2D:t(87969)}},8054:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h={VERSION:"3.88.2",LOG_VERSION:"v388",BlendModes:t(10312),ScaleModes:t(29795),AUTO:0,CANVAS:1,WEBGL:2,HEADLESS:3,FOREVER:-1,NONE:4,UP:5,DOWN:6,LEFT:7,RIGHT:8};f.exports=h},69547:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(8054),o=t(42363),a=t(82264),r=t(95540),i=t(35154),n=t(41212),l=t(29747),s=t(75508),u=t(36060),d=t(80333),c=new h({initialize:function(y){y===void 0&&(y={});var x=["#ff0000","#ffff00","#00ff00","#00ffff","#000000"],S="#ffffff",E=i(y,"scale",null);this.width=i(E,"width",1024,y),this.height=i(E,"height",768,y),this.zoom=i(E,"zoom",1,y),this.parent=i(E,"parent",void 0,y),this.scaleMode=i(E,E?"mode":"scaleMode",0,y),this.expandParent=i(E,"expandParent",!0,y),this.autoRound=i(E,"autoRound",!1,y),this.autoCenter=i(E,"autoCenter",0,y),this.resizeInterval=i(E,"resizeInterval",500,y),this.fullscreenTarget=i(E,"fullscreenTarget",null,y),this.minWidth=i(E,"min.width",0,y),this.maxWidth=i(E,"max.width",0,y),this.minHeight=i(E,"min.height",0,y),this.maxHeight=i(E,"max.height",0,y),this.snapWidth=i(E,"snap.width",0,y),this.snapHeight=i(E,"snap.height",0,y),this.renderType=i(y,"type",g.AUTO),this.canvas=i(y,"canvas",null),this.context=i(y,"context",null),this.canvasStyle=i(y,"canvasStyle",null),this.customEnvironment=i(y,"customEnvironment",!1),this.sceneConfig=i(y,"scene",null),this.seed=i(y,"seed",[(Date.now()*Math.random()).toString()]),s.RND=new s.RandomDataGenerator(this.seed),this.gameTitle=i(y,"title",""),this.gameURL=i(y,"url","https://phaser.io/"+g.LOG_VERSION),this.gameVersion=i(y,"version",""),this.autoFocus=i(y,"autoFocus",!0),this.stableSort=i(y,"stableSort",-1),this.stableSort===-1&&(this.stableSort=a.browser.es2019?1:0),a.features.stableSort=this.stableSort,this.domCreateContainer=i(y,"dom.createContainer",!1),this.domPointerEvents=i(y,"dom.pointerEvents","none"),this.inputKeyboard=i(y,"input.keyboard",!0),this.inputKeyboardEventTarget=i(y,"input.keyboard.target",window),this.inputKeyboardCapture=i(y,"input.keyboard.capture",[]),this.inputMouse=i(y,"input.mouse",!0),this.inputMouseEventTarget=i(y,"input.mouse.target",null),this.inputMousePreventDefaultDown=i(y,"input.mouse.preventDefaultDown",!0),this.inputMousePreventDefaultUp=i(y,"input.mouse.preventDefaultUp",!0),this.inputMousePreventDefaultMove=i(y,"input.mouse.preventDefaultMove",!0),this.inputMousePreventDefaultWheel=i(y,"input.mouse.preventDefaultWheel",!0),this.inputTouch=i(y,"input.touch",a.input.touch),this.inputTouchEventTarget=i(y,"input.touch.target",null),this.inputTouchCapture=i(y,"input.touch.capture",!0),this.inputActivePointers=i(y,"input.activePointers",1),this.inputSmoothFactor=i(y,"input.smoothFactor",0),this.inputWindowEvents=i(y,"input.windowEvents",!0),this.inputGamepad=i(y,"input.gamepad",!1),this.inputGamepadEventTarget=i(y,"input.gamepad.target",window),this.disableContextMenu=i(y,"disableContextMenu",!1),this.audio=i(y,"audio",{}),this.hideBanner=i(y,"banner",null)===!1,this.hidePhaser=i(y,"banner.hidePhaser",!1),this.bannerTextColor=i(y,"banner.text",S),this.bannerBackgroundColor=i(y,"banner.background",x),this.gameTitle===""&&this.hidePhaser&&(this.hideBanner=!0),this.fps=i(y,"fps",null),this.disablePreFX=i(y,"disablePreFX",!1),this.disablePostFX=i(y,"disablePostFX",!1);var A=i(y,"render",null);this.pipeline=i(A,"pipeline",null,y),this.autoMobilePipeline=i(A,"autoMobilePipeline",!0,y),this.defaultPipeline=i(A,"defaultPipeline",u.MULTI_PIPELINE,y),this.antialias=i(A,"antialias",!0,y),this.antialiasGL=i(A,"antialiasGL",!0,y),this.mipmapFilter=i(A,"mipmapFilter","",y),this.desynchronized=i(A,"desynchronized",!1,y),this.roundPixels=i(A,"roundPixels",!1,y),this.pixelArt=i(A,"pixelArt",this.zoom!==1,y),this.pixelArt&&(this.antialias=!1,this.antialiasGL=!1,this.roundPixels=!0),this.transparent=i(A,"transparent",!1,y),this.clearBeforeRender=i(A,"clearBeforeRender",!0,y),this.preserveDrawingBuffer=i(A,"preserveDrawingBuffer",!1,y),this.premultipliedAlpha=i(A,"premultipliedAlpha",!0,y),this.failIfMajorPerformanceCaveat=i(A,"failIfMajorPerformanceCaveat",!1,y),this.powerPreference=i(A,"powerPreference","default",y),this.batchSize=i(A,"batchSize",4096,y),this.maxTextures=i(A,"maxTextures",-1,y),this.maxLights=i(A,"maxLights",10,y);var R=i(y,"backgroundColor",0);this.backgroundColor=d(R),this.transparent&&(this.backgroundColor=d(0),this.backgroundColor.alpha=0),this.preBoot=i(y,"callbacks.preBoot",l),this.postBoot=i(y,"callbacks.postBoot",l),this.physics=i(y,"physics",{}),this.defaultPhysicsSystem=i(this.physics,"default",!1),this.loaderBaseURL=i(y,"loader.baseURL",""),this.loaderPath=i(y,"loader.path",""),this.loaderMaxParallelDownloads=i(y,"loader.maxParallelDownloads",a.os.android?6:32),this.loaderCrossOrigin=i(y,"loader.crossOrigin",void 0),this.loaderResponseType=i(y,"loader.responseType",""),this.loaderAsync=i(y,"loader.async",!0),this.loaderUser=i(y,"loader.user",""),this.loaderPassword=i(y,"loader.password",""),this.loaderTimeout=i(y,"loader.timeout",0),this.loaderMaxRetries=i(y,"loader.maxRetries",2),this.loaderWithCredentials=i(y,"loader.withCredentials",!1),this.loaderImageLoadType=i(y,"loader.imageLoadType","XHR"),this.loaderLocalScheme=i(y,"loader.localScheme",["file://","capacitor://"]),this.glowFXQuality=i(y,"fx.glow.quality",.1),this.glowFXDistance=i(y,"fx.glow.distance",10),this.installGlobalPlugins=[],this.installScenePlugins=[];var w=i(y,"plugins",null),I=o.DefaultScene;w&&(Array.isArray(w)?this.defaultPlugins=w:n(w)&&(this.installGlobalPlugins=r(w,"global",[]),this.installScenePlugins=r(w,"scene",[]),Array.isArray(w.default)?I=w.default:Array.isArray(w.defaultMerge)&&(I=I.concat(w.defaultMerge)))),this.defaultPlugins=I;var O="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAg";this.defaultImage=i(y,"images.default",O+"AQMAAABJtOi3AAAAA1BMVEX///+nxBvIAAAAAXRSTlMAQObYZgAAABVJREFUeF7NwIEAAAAAgKD9qdeocAMAoAABm3DkcAAAAABJRU5ErkJggg=="),this.missingImage=i(y,"images.missing",O+"CAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJ9JREFUeNq01ssOwyAMRFG46v//Mt1ESmgh+DFmE2GPOBARKb2NVjo+17PXLD8a1+pl5+A+wSgFygymWYHBb0FtsKhJDdZlncG2IzJ4ayoMDv20wTmSMzClEgbWYNTAkQ0Z+OJ+A/eWnAaR9+oxCF4Os0H8htsMUp+pwcgBBiMNnAwF8GqIgL2hAzaGFFgZauDPKABmowZ4GL369/0rwACp2yA/ttmvsQAAAABJRU5ErkJggg=="),this.whiteImage=i(y,"images.white","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAIAAAAmkwkpAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABdJREFUeNpi/P//PwMMMDEgAdwcgAADAJZuAwXJYZOzAAAAAElFTkSuQmCC"),window&&(window.FORCE_WEBGL?this.renderType=g.WEBGL:window.FORCE_CANVAS&&(this.renderType=g.CANVAS))}});f.exports=c},86054:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(20623),g=t(27919),o=t(8054),a=t(89357),r=function(i){var n=i.config;if((n.customEnvironment||n.canvas)&&n.renderType===o.AUTO)throw new Error("Must set explicit renderType in custom environment");if(!n.customEnvironment&&!n.canvas&&n.renderType!==o.HEADLESS)if(n.renderType===o.AUTO&&(n.renderType=a.webGL?o.WEBGL:o.CANVAS),n.renderType===o.WEBGL){if(!a.webGL)throw new Error("Cannot create WebGL context, aborting.")}else if(n.renderType===o.CANVAS){if(!a.canvas)throw new Error("Cannot create Canvas context, aborting.")}else throw new Error("Unknown value for renderer type: "+n.renderType);n.antialias||g.disableSmoothing();var l=i.scale.baseSize,s=l.width,u=l.height;if(n.canvas?(i.canvas=n.canvas,i.canvas.width=s,i.canvas.height=u):i.canvas=g.create(i,s,u,n.renderType),n.canvasStyle&&(i.canvas.style=n.canvasStyle),n.antialias||h.setCrisp(i.canvas),n.renderType!==o.HEADLESS){var d,c;d=t(68627),c=t(74797),n.renderType===o.WEBGL?i.renderer=new c(i):(i.renderer=new d(i),i.context=i.renderer.gameContext)}};f.exports=r},96391:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(8054),g=function(o){var a=o.config;if(!a.hideBanner){var r="WebGL";a.renderType===h.CANVAS?r="Canvas":a.renderType===h.HEADLESS&&(r="Headless");var i=a.audio,n=o.device.audio,l;if(n.webAudio&&!i.disableWebAudio?l="Web Audio":i.noAudio||!n.webAudio&&!n.audioData?l="No Audio":l="HTML5 Audio",o.device.browser.ie)window.console&&console.log("Phaser v"+h.VERSION+" / https://phaser.io");else{var s="",u=[s];if(Array.isArray(a.bannerBackgroundColor)){var d;a.bannerBackgroundColor.forEach(function(v){s=s.concat("%c "),u.push("background: "+v),d=v}),u[u.length-1]="color: "+a.bannerTextColor+"; background: "+d}else s=s.concat("%c "),u.push("color: "+a.bannerTextColor+"; background: "+a.bannerBackgroundColor);u.push("background: transparent"),a.gameTitle&&(s=s.concat(a.gameTitle),a.gameVersion&&(s=s.concat(" v"+a.gameVersion)),a.hidePhaser||(s=s.concat(" / ")));var c="";a.hidePhaser||(s=s.concat("Phaser v"+h.VERSION+c+" ("+r+" | "+l+")")),s=s.concat(" %c "+a.gameURL),u[0]=s,console.log.apply(console,u)}}};f.exports=g},50127:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(40366),g=t(60848),o=t(24047),a=t(27919),r=t(83419),i=t(69547),n=t(83719),l=t(86054),s=t(45893),u=t(96391),d=t(82264),c=t(57264),v=t(50792),y=t(8443),x=t(7003),S=t(37277),E=t(77332),A=t(76531),R=t(60903),w=t(69442),I=t(17130),O=t(65898),F=t(51085),L=t(14747),D=new r({initialize:function(G){this.config=new i(G),this.renderer=null,this.domContainer=null,this.canvas=null,this.context=null,this.isBooted=!1,this.isRunning=!1,this.events=new v,this.anims=new g(this),this.textures=new I(this),this.cache=new o(this),this.registry=new s(this,new v),this.input=new x(this,this.config),this.scene=new R(this,this.config.sceneConfig),this.device=d,this.scale=new A(this,this.config),this.sound=null,this.sound=L.create(this),this.loop=new O(this,this.config.fps),this.plugins=new E(this,this.config),this.pendingDestroy=!1,this.removeCanvas=!1,this.noReturn=!1,this.hasFocus=!1,this.isPaused=!1,c(this.boot.bind(this))},boot:function(){if(!S.hasCore("EventEmitter")){console.warn("Aborting. Core Plugins missing.");return}this.isBooted=!0,this.config.preBoot(this),this.scale.preBoot(),l(this),n(this),u(this),h(this.canvas,this.config.parent),this.textures.once(w.READY,this.texturesReady,this),this.events.emit(y.BOOT)},texturesReady:function(){this.events.emit(y.READY),this.start()},start:function(){this.isRunning=!0,this.config.postBoot(this),this.renderer?this.loop.start(this.step.bind(this)):this.loop.start(this.headlessStep.bind(this)),F(this);var b=this.events;b.on(y.HIDDEN,this.onHidden,this),b.on(y.VISIBLE,this.onVisible,this),b.on(y.BLUR,this.onBlur,this),b.on(y.FOCUS,this.onFocus,this)},step:function(b,G){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var W=this.events;W.emit(y.PRE_STEP,b,G),W.emit(y.STEP,b,G),this.scene.update(b,G),W.emit(y.POST_STEP,b,G);var Y=this.renderer;Y.preRender(),W.emit(y.PRE_RENDER,Y,b,G),this.scene.render(Y),Y.postRender(),W.emit(y.POST_RENDER,Y,b,G)}},headlessStep:function(b,G){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var W=this.events;W.emit(y.PRE_STEP,b,G),W.emit(y.STEP,b,G),this.scene.update(b,G),W.emit(y.POST_STEP,b,G),this.scene.isProcessing=!1,W.emit(y.PRE_RENDER,null,b,G),W.emit(y.POST_RENDER,null,b,G)}},onHidden:function(){this.loop.pause(),this.events.emit(y.PAUSE)},pause:function(){var b=this.isPaused;this.isPaused=!0,b||this.events.emit(y.PAUSE)},onVisible:function(){this.loop.resume(),this.events.emit(y.RESUME,this.loop.pauseDuration)},resume:function(){var b=this.isPaused;this.isPaused=!1,b&&this.events.emit(y.RESUME,0)},onBlur:function(){this.hasFocus=!1,this.loop.blur()},onFocus:function(){this.hasFocus=!0,this.loop.focus()},getFrame:function(){return this.loop.frame},getTime:function(){return this.loop.now},destroy:function(b,G){G===void 0&&(G=!1),this.pendingDestroy=!0,this.removeCanvas=b,this.noReturn=G},runDestroy:function(){this.scene.destroy(),this.events.emit(y.DESTROY),this.events.removeAllListeners(),this.renderer&&this.renderer.destroy(),this.removeCanvas&&this.canvas&&(a.remove(this.canvas),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)),this.domContainer&&this.domContainer.parentNode&&this.domContainer.parentNode.removeChild(this.domContainer),this.loop.destroy(),this.pendingDestroy=!1}});f.exports=D},65898:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(35154),o=t(29747),a=t(43092),r=new h({initialize:function(n,l){this.game=n,this.raf=new a,this.started=!1,this.running=!1,this.minFps=g(l,"min",5),this.targetFps=g(l,"target",60),this.fpsLimit=g(l,"limit",0),this.hasFpsLimit=this.fpsLimit>0,this._limitRate=this.hasFpsLimit?1e3/this.fpsLimit:0,this._min=1e3/this.minFps,this._target=1e3/this.targetFps,this.actualFps=this.targetFps,this.nextFpsUpdate=0,this.framesThisSecond=0,this.callback=o,this.forceSetTimeOut=g(l,"forceSetTimeOut",!1),this.time=0,this.startTime=0,this.lastTime=0,this.frame=0,this.inFocus=!0,this.pauseDuration=0,this._pauseTime=0,this._coolDown=0,this.delta=0,this.deltaIndex=0,this.deltaHistory=[],this.deltaSmoothingMax=g(l,"deltaHistory",10),this.panicMax=g(l,"panicMax",120),this.rawDelta=0,this.now=0,this.smoothStep=g(l,"smoothStep",!0)},blur:function(){this.inFocus=!1},focus:function(){this.inFocus=!0,this.resetDelta()},pause:function(){this._pauseTime=window.performance.now()},resume:function(){this.resetDelta(),this.pauseDuration=this.time-this._pauseTime,this.startTime+=this.pauseDuration},resetDelta:function(){var i=window.performance.now();this.time=i,this.lastTime=i,this.nextFpsUpdate=i+1e3,this.framesThisSecond=0;for(var n=0;n<this.deltaSmoothingMax;n++)this.deltaHistory[n]=Math.min(this._target,this.deltaHistory[n]);this.delta=0,this.deltaIndex=0,this._coolDown=this.panicMax},start:function(i){if(this.started)return this;this.started=!0,this.running=!0;for(var n=0;n<this.deltaSmoothingMax;n++)this.deltaHistory[n]=this._target;this.resetDelta(),this.startTime=window.performance.now(),this.callback=i;var l=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(l,this.forceSetTimeOut,this._target)},smoothDelta:function(i){var n=this.deltaIndex,l=this.deltaHistory,s=this.deltaSmoothingMax;(this._coolDown>0||!this.inFocus)&&(this._coolDown--,i=Math.min(i,this._target)),i>this._min&&(i=l[n],i=Math.min(i,this._min)),l[n]=i,this.deltaIndex++,this.deltaIndex>=s&&(this.deltaIndex=0);for(var u=0,d=0;d<s;d++)u+=l[d];return u/=s,u},updateFPS:function(i){this.actualFps=.25*this.framesThisSecond+.75*this.actualFps,this.nextFpsUpdate=i+1e3,this.framesThisSecond=0},stepLimitFPS:function(i){this.now=i;var n=Math.max(0,i-this.lastTime);this.rawDelta=n,this.time+=this.rawDelta,this.smoothStep&&(n=this.smoothDelta(n)),this.delta+=n,i>=this.nextFpsUpdate&&this.updateFPS(i),this.framesThisSecond++,this.delta>=this._limitRate&&(this.callback(i,this.delta),this.delta=0),this.lastTime=i,this.frame++},step:function(i){this.now=i;var n=Math.max(0,i-this.lastTime);this.rawDelta=n,this.time+=this.rawDelta,this.smoothStep&&(n=this.smoothDelta(n)),this.delta=n,i>=this.nextFpsUpdate&&this.updateFPS(i),this.framesThisSecond++,this.callback(i,n),this.lastTime=i,this.frame++},tick:function(){var i=window.performance.now();this.hasFpsLimit?this.stepLimitFPS(i):this.step(i)},sleep:function(){this.running&&(this.raf.stop(),this.running=!1)},wake:function(i){i===void 0&&(i=!1);var n=window.performance.now();if(!this.running){i&&(this.startTime+=-this.lastTime+(this.lastTime+n));var l=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(l,this.forceSetTimeOut,this._target),this.running=!0,this.nextFpsUpdate=n+1e3,this.framesThisSecond=0,this.fpsLimitTriggered=!1,this.tick()}},getDuration:function(){return Math.round(this.lastTime-this.startTime)/1e3},getDurationMS:function(){return Math.round(this.lastTime-this.startTime)},stop:function(){return this.running=!1,this.started=!1,this.raf.stop(),this},destroy:function(){this.stop(),this.raf.destroy(),this.raf=null,this.game=null,this.callback=null}});f.exports=r},51085:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(8443),g=function(o){var a,r=o.events;if(document.hidden!==void 0)a="visibilitychange";else{var i=["webkit","moz","ms"];i.forEach(function(l){document[l+"Hidden"]!==void 0&&(document.hidden=function(){return document[l+"Hidden"]},a=l+"visibilitychange")})}var n=function(l){document.hidden||l.type==="pause"?r.emit(h.HIDDEN):r.emit(h.VISIBLE)};a&&document.addEventListener(a,n,!1),window.onblur=function(){r.emit(h.BLUR)},window.onfocus=function(){r.emit(h.FOCUS)},window.focus&&o.config.autoFocus&&window.focus()};f.exports=g},97217:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="blur"},47548:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="boot"},19814:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="contextlost"},68446:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="destroy"},41700:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="focus"},25432:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="hidden"},65942:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="pause"},59211:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="postrender"},47789:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="poststep"},39066:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="prerender"},460:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="prestep"},16175:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="ready"},42331:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="resume"},11966:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="step"},32969:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="systemready"},94830:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="visible"},8443:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={BLUR:t(97217),BOOT:t(47548),CONTEXT_LOST:t(19814),DESTROY:t(68446),FOCUS:t(41700),HIDDEN:t(25432),PAUSE:t(65942),POST_RENDER:t(59211),POST_STEP:t(47789),PRE_RENDER:t(39066),PRE_STEP:t(460),READY:t(16175),RESUME:t(42331),STEP:t(11966),SYSTEM_READY:t(32969),VISIBLE:t(94830)}},42857:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={Config:t(69547),CreateRenderer:t(86054),DebugHeader:t(96391),Events:t(8443),TimeStep:t(65898),VisibilityHandler:t(51085)}},99584:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(5290),g=t(27919),o=t(35154),a=function(r){var i=o(r,"data",[]),n=o(r,"canvas",null),l=o(r,"palette",h),s=o(r,"pixelWidth",1),u=o(r,"pixelHeight",s),d=o(r,"resizeCanvas",!0),c=o(r,"clearCanvas",!0),v=o(r,"preRender",null),y=o(r,"postRender",null),x=Math.floor(Math.abs(i[0].length*s)),S=Math.floor(Math.abs(i.length*u));n||(n=g.create2D(this,x,S),d=!1,c=!1),d&&(n.width=x,n.height=S);var E=n.getContext("2d",{willReadFrequently:!0});c&&E.clearRect(0,0,x,S),v&&v(n,E);for(var A=0;A<i.length;A++)for(var R=i[A],w=0;w<R.length;w++){var I=R[w];I!=="."&&I!==" "&&(E.fillStyle=l[I],E.fillRect(w*s,A*u,s,u))}return y&&y(n,E),n};f.exports=a},15822:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={GenerateTexture:t(99584),Palettes:t(57763)}},5290:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={0:"#000",1:"#9D9D9D",2:"#FFF",3:"#BE2633",4:"#E06F8B",5:"#493C2B",6:"#A46422",7:"#EB8931",8:"#F7E26B",9:"#2F484E",A:"#44891A",B:"#A3CE27",C:"#1B2632",D:"#005784",E:"#31A2F2",F:"#B2DCEF"}},23816:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={0:"#000",1:"#fff",2:"#8b4131",3:"#7bbdc5",4:"#8b41ac",5:"#6aac41",6:"#3931a4",7:"#d5de73",8:"#945a20",9:"#5a4100",A:"#bd736a",B:"#525252",C:"#838383",D:"#acee8b",E:"#7b73de",F:"#acacac"}},9866:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={0:"#000",1:"#2234d1",2:"#0c7e45",3:"#44aacc",4:"#8a3622",5:"#5c2e78",6:"#aa5c3d",7:"#b5b5b5",8:"#5e606e",9:"#4c81fb",A:"#6cd947",B:"#7be2f9",C:"#eb8a60",D:"#e23d69",E:"#ffd93f",F:"#fff"}},77552:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#f5f4eb"}},92259:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#fff"}},57763:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={ARNE16:t(5290),C64:t(23816),CGA:t(9866),JMP:t(77552),MSX:t(92259)}},46728:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(36316),o=t(80021),a=t(26099),r=new h({Extends:o,initialize:function(n,l,s,u){o.call(this,"CubicBezierCurve"),Array.isArray(n)&&(u=new a(n[6],n[7]),s=new a(n[4],n[5]),l=new a(n[2],n[3]),n=new a(n[0],n[1])),this.p0=n,this.p1=l,this.p2=s,this.p3=u},getStartPoint:function(i){return i===void 0&&(i=new a),i.copy(this.p0)},getResolution:function(i){return i},getPoint:function(i,n){n===void 0&&(n=new a);var l=this.p0,s=this.p1,u=this.p2,d=this.p3;return n.set(g(i,l.x,s.x,u.x,d.x),g(i,l.y,s.y,u.y,d.y))},draw:function(i,n){n===void 0&&(n=32);var l=this.getPoints(n);i.beginPath(),i.moveTo(this.p0.x,this.p0.y);for(var s=1;s<l.length;s++)i.lineTo(l[s].x,l[s].y);return i.strokePath(),i},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y,this.p3.x,this.p3.y]}}});r.fromJSON=function(i){var n=i.points,l=new a(n[0],n[1]),s=new a(n[2],n[3]),u=new a(n[4],n[5]),d=new a(n[6],n[7]);return new r(l,s,u,d)},f.exports=r},80021:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(19217),o=t(87841),a=t(26099),r=new h({initialize:function(n){this.type=n,this.defaultDivisions=5,this.arcLengthDivisions=100,this.cacheArcLengths=[],this.needsUpdate=!0,this.active=!0,this._tmpVec2A=new a,this._tmpVec2B=new a},draw:function(i,n){return n===void 0&&(n=32),i.strokePoints(this.getPoints(n))},getBounds:function(i,n){i||(i=new o),n===void 0&&(n=16);var l=this.getLength();n>l&&(n=l/2);var s=Math.max(1,Math.round(l/n));return g(this.getSpacedPoints(s),i)},getDistancePoints:function(i){var n=this.getLength(),l=Math.max(1,n/i);return this.getSpacedPoints(l)},getEndPoint:function(i){return i===void 0&&(i=new a),this.getPointAt(1,i)},getLength:function(){var i=this.getLengths();return i[i.length-1]},getLengths:function(i){if(i===void 0&&(i=this.arcLengthDivisions),this.cacheArcLengths.length===i+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var n=[],l,s=this.getPoint(0,this._tmpVec2A),u=0;n.push(0);for(var d=1;d<=i;d++)l=this.getPoint(d/i,this._tmpVec2B),u+=l.distance(s),n.push(u),s.copy(l);return this.cacheArcLengths=n,n},getPointAt:function(i,n){var l=this.getUtoTmapping(i);return this.getPoint(l,n)},getPoints:function(i,n,l){l===void 0&&(l=[]),i||(n?i=this.getLength()/n:i=this.defaultDivisions);for(var s=0;s<=i;s++)l.push(this.getPoint(s/i));return l},getRandomPoint:function(i){return i===void 0&&(i=new a),this.getPoint(Math.random(),i)},getSpacedPoints:function(i,n,l){l===void 0&&(l=[]),i||(n?i=this.getLength()/n:i=this.defaultDivisions);for(var s=0;s<=i;s++){var u=this.getUtoTmapping(s/i,null,i);l.push(this.getPoint(u))}return l},getStartPoint:function(i){return i===void 0&&(i=new a),this.getPointAt(0,i)},getTangent:function(i,n){n===void 0&&(n=new a);var l=1e-4,s=i-l,u=i+l;return s<0&&(s=0),u>1&&(u=1),this.getPoint(s,this._tmpVec2A),this.getPoint(u,n),n.subtract(this._tmpVec2A).normalize()},getTangentAt:function(i,n){var l=this.getUtoTmapping(i);return this.getTangent(l,n)},getTFromDistance:function(i,n){return i<=0?0:this.getUtoTmapping(0,i,n)},getUtoTmapping:function(i,n,l){var s=this.getLengths(l),u=0,d=s.length,c;n?c=Math.min(n,s[d-1]):c=i*s[d-1];for(var v=0,y=d-1,x;v<=y;)if(u=Math.floor(v+(y-v)/2),x=s[u]-c,x<0)v=u+1;else if(x>0)y=u-1;else{y=u;break}if(u=y,s[u]===c)return u/(d-1);var S=s[u],E=s[u+1],A=E-S,R=(c-S)/A;return(u+R)/(d-1)},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()}});f.exports=r},73825:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(80021),o=t(39506),a=t(35154),r=t(43396),i=t(26099),n=new h({Extends:g,initialize:function(s,u,d,c,v,y,x,S){if(typeof s=="object"){var E=s;s=a(E,"x",0),u=a(E,"y",0),d=a(E,"xRadius",0),c=a(E,"yRadius",d),v=a(E,"startAngle",0),y=a(E,"endAngle",360),x=a(E,"clockwise",!1),S=a(E,"rotation",0)}else c===void 0&&(c=d),v===void 0&&(v=0),y===void 0&&(y=360),x===void 0&&(x=!1),S===void 0&&(S=0);g.call(this,"EllipseCurve"),this.p0=new i(s,u),this._xRadius=d,this._yRadius=c,this._startAngle=o(v),this._endAngle=o(y),this._clockwise=x,this._rotation=o(S)},getStartPoint:function(l){return l===void 0&&(l=new i),this.getPoint(0,l)},getResolution:function(l){return l*2},getPoint:function(l,s){s===void 0&&(s=new i);for(var u=Math.PI*2,d=this._endAngle-this._startAngle,c=Math.abs(d)<Number.EPSILON;d<0;)d+=u;for(;d>u;)d-=u;d<Number.EPSILON&&(c?d=0:d=u),this._clockwise&&!c&&(d===u?d=-u:d=d-u);var v=this._startAngle+l*d,y=this.p0.x+this._xRadius*Math.cos(v),x=this.p0.y+this._yRadius*Math.sin(v);if(this._rotation!==0){var S=Math.cos(this._rotation),E=Math.sin(this._rotation),A=y-this.p0.x,R=x-this.p0.y;y=A*S-R*E+this.p0.x,x=A*E+R*S+this.p0.y}return s.set(y,x)},setXRadius:function(l){return this.xRadius=l,this},setYRadius:function(l){return this.yRadius=l,this},setWidth:function(l){return this.xRadius=l/2,this},setHeight:function(l){return this.yRadius=l/2,this},setStartAngle:function(l){return this.startAngle=l,this},setEndAngle:function(l){return this.endAngle=l,this},setClockwise:function(l){return this.clockwise=l,this},setRotation:function(l){return this.rotation=l,this},x:{get:function(){return this.p0.x},set:function(l){this.p0.x=l}},y:{get:function(){return this.p0.y},set:function(l){this.p0.y=l}},xRadius:{get:function(){return this._xRadius},set:function(l){this._xRadius=l}},yRadius:{get:function(){return this._yRadius},set:function(l){this._yRadius=l}},startAngle:{get:function(){return r(this._startAngle)},set:function(l){this._startAngle=o(l)}},endAngle:{get:function(){return r(this._endAngle)},set:function(l){this._endAngle=o(l)}},clockwise:{get:function(){return this._clockwise},set:function(l){this._clockwise=l}},angle:{get:function(){return r(this._rotation)},set:function(l){this._rotation=o(l)}},rotation:{get:function(){return this._rotation},set:function(l){this._rotation=l}},toJSON:function(){return{type:this.type,x:this.p0.x,y:this.p0.y,xRadius:this._xRadius,yRadius:this._yRadius,startAngle:r(this._startAngle),endAngle:r(this._endAngle),clockwise:this._clockwise,rotation:r(this._rotation)}}});n.fromJSON=function(l){return new n(l)},f.exports=n},33951:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(80021),o=t(19217),a=t(87841),r=t(26099),i=new h({Extends:g,initialize:function(l,s){g.call(this,"LineCurve"),Array.isArray(l)&&(s=new r(l[2],l[3]),l=new r(l[0],l[1])),this.p0=l,this.p1=s,this.arcLengthDivisions=1},getBounds:function(n){return n===void 0&&(n=new a),o([this.p0,this.p1],n)},getStartPoint:function(n){return n===void 0&&(n=new r),n.copy(this.p0)},getResolution:function(n){return n===void 0&&(n=1),n},getPoint:function(n,l){return l===void 0&&(l=new r),n===1?l.copy(this.p1):(l.copy(this.p1).subtract(this.p0).scale(n).add(this.p0),l)},getPointAt:function(n,l){return this.getPoint(n,l)},getTangent:function(n,l){return l===void 0&&(l=new r),l.copy(this.p1).subtract(this.p0).normalize(),l},getUtoTmapping:function(n,l,s){var u;if(l){var d=this.getLengths(s),c=d[d.length-1],v=Math.min(l,c);u=v/c}else u=n;return u},draw:function(n){return n.lineBetween(this.p0.x,this.p0.y,this.p1.x,this.p1.y),n},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y]}}});i.fromJSON=function(n){var l=n.points,s=new r(l[0],l[1]),u=new r(l[2],l[3]);return new i(s,u)},f.exports=i},14744:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(80021),o=t(32112),a=t(26099),r=new h({Extends:g,initialize:function(n,l,s){g.call(this,"QuadraticBezierCurve"),Array.isArray(n)&&(s=new a(n[4],n[5]),l=new a(n[2],n[3]),n=new a(n[0],n[1])),this.p0=n,this.p1=l,this.p2=s},getStartPoint:function(i){return i===void 0&&(i=new a),i.copy(this.p0)},getResolution:function(i){return i},getPoint:function(i,n){n===void 0&&(n=new a);var l=this.p0,s=this.p1,u=this.p2;return n.set(o(i,l.x,s.x,u.x),o(i,l.y,s.y,u.y))},draw:function(i,n){n===void 0&&(n=32);var l=this.getPoints(n);i.beginPath(),i.moveTo(this.p0.x,this.p0.y);for(var s=1;s<l.length;s++)i.lineTo(l[s].x,l[s].y);return i.strokePath(),i},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y]}}});r.fromJSON=function(i){var n=i.points,l=new a(n[0],n[1]),s=new a(n[2],n[3]),u=new a(n[4],n[5]);return new r(l,s,u)},f.exports=r},42534:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87842),g=t(83419),o=t(80021),a=t(26099),r=new g({Extends:o,initialize:function(n){n===void 0&&(n=[]),o.call(this,"SplineCurve"),this.points=[],this.addPoints(n)},addPoints:function(i){for(var n=0;n<i.length;n++){var l=new a;typeof i[n]=="number"?(l.x=i[n],l.y=i[n+1],n++):Array.isArray(i[n])?(l.x=i[n][0],l.y=i[n][1]):(l.x=i[n].x,l.y=i[n].y),this.points.push(l)}return this},addPoint:function(i,n){var l=new a(i,n);return this.points.push(l),l},getStartPoint:function(i){return i===void 0&&(i=new a),i.copy(this.points[0])},getResolution:function(i){return i*this.points.length},getPoint:function(i,n){n===void 0&&(n=new a);var l=this.points,s=(l.length-1)*i,u=Math.floor(s),d=s-u,c=l[u===0?u:u-1],v=l[u],y=l[u>l.length-2?l.length-1:u+1],x=l[u>l.length-3?l.length-1:u+2];return n.set(h(d,c.x,v.x,y.x,x.x),h(d,c.y,v.y,y.y,x.y))},toJSON:function(){for(var i=[],n=0;n<this.points.length;n++)i.push(this.points[n].x),i.push(this.points[n].y);return{type:this.type,points:i}}});r.fromJSON=function(i){return new r(i.points)},f.exports=r},25410:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={Path:t(46669),MoveTo:t(68618),CubicBezier:t(46728),Curve:t(80021),Ellipse:t(73825),Line:t(33951),QuadraticBezier:t(14744),Spline:t(42534)}},68618:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(26099),o=new h({initialize:function(r,i){this.active=!1,this.p0=new g(r,i)},getPoint:function(a,r){return r===void 0&&(r=new g),r.copy(this.p0)},getPointAt:function(a,r){return this.getPoint(a,r)},getResolution:function(){return 1},getLength:function(){return 0},toJSON:function(){return{type:"MoveTo",points:[this.p0.x,this.p0.y]}}});f.exports=o},46669:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(46728),o=t(73825),a=t(39429),r=t(33951),i=t(68618),n=t(14744),l=t(87841),s=t(42534),u=t(26099),d=t(36383),c=new h({initialize:function(y,x){y===void 0&&(y=0),x===void 0&&(x=0),this.name="",this.defaultDivisions=12,this.curves=[],this.cacheLengths=[],this.autoClose=!1,this.startPoint=new u,this._tmpVec2A=new u,this._tmpVec2B=new u,typeof y=="object"?this.fromJSON(y):this.startPoint.set(y,x)},add:function(v){return this.curves.push(v),this},circleTo:function(v,y,x){return y===void 0&&(y=!1),this.ellipseTo(v,v,0,360,y,x)},closePath:function(){var v=this.curves[0].getPoint(0),y=this.curves[this.curves.length-1].getPoint(1);return v.equals(y)||this.curves.push(new r(y,v)),this},cubicBezierTo:function(v,y,x,S,E,A){var R=this.getEndPoint(),w,I,O;return v instanceof u?(w=v,I=y,O=x):(w=new u(x,S),I=new u(E,A),O=new u(v,y)),this.add(new g(R,w,I,O))},quadraticBezierTo:function(v,y,x,S){var E=this.getEndPoint(),A,R;return v instanceof u?(A=v,R=y):(A=new u(x,S),R=new u(v,y)),this.add(new n(E,A,R))},draw:function(v,y){for(var x=0;x<this.curves.length;x++){var S=this.curves[x];S.active&&S.draw(v,y)}return v},ellipseTo:function(v,y,x,S,E,A){var R=new o(0,0,v,y,x,S,E,A),w=this.getEndPoint(this._tmpVec2A),I=R.getStartPoint(this._tmpVec2B);return w.subtract(I),R.x=w.x,R.y=w.y,this.add(R)},fromJSON:function(v){this.curves=[],this.cacheLengths=[],this.startPoint.set(v.x,v.y),this.autoClose=v.autoClose;for(var y=0;y<v.curves.length;y++){var x=v.curves[y];switch(x.type){case"LineCurve":this.add(r.fromJSON(x));break;case"EllipseCurve":this.add(o.fromJSON(x));break;case"SplineCurve":this.add(s.fromJSON(x));break;case"CubicBezierCurve":this.add(g.fromJSON(x));break;case"QuadraticBezierCurve":this.add(n.fromJSON(x));break}}return this},getBounds:function(v,y){v===void 0&&(v=new l),y===void 0&&(y=16),v.x=Number.MAX_VALUE,v.y=Number.MAX_VALUE;for(var x=new l,S=d.MIN_SAFE_INTEGER,E=d.MIN_SAFE_INTEGER,A=0;A<this.curves.length;A++){var R=this.curves[A];R.active&&(R.getBounds(x,y),v.x=Math.min(v.x,x.x),v.y=Math.min(v.y,x.y),S=Math.max(S,x.right),E=Math.max(E,x.bottom))}return v.right=S,v.bottom=E,v},getCurveLengths:function(){if(this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var v=[],y=0,x=0;x<this.curves.length;x++)y+=this.curves[x].getLength(),v.push(y);return this.cacheLengths=v,v},getCurveAt:function(v){for(var y=v*this.getLength(),x=this.getCurveLengths(),S=0;S<x.length;){if(x[S]>=y)return this.curves[S];S++}return null},getEndPoint:function(v){return v===void 0&&(v=new u),this.curves.length>0?this.curves[this.curves.length-1].getPoint(1,v):v.copy(this.startPoint),v},getLength:function(){var v=this.getCurveLengths();return v[v.length-1]},getPoint:function(v,y){y===void 0&&(y=new u);for(var x=v*this.getLength(),S=this.getCurveLengths(),E=0;E<S.length;){if(S[E]>=x){var A=S[E]-x,R=this.curves[E],w=R.getLength(),I=w===0?0:1-A/w;return R.getPointAt(I,y)}E++}return null},getPoints:function(v,y){!v&&!y&&(v=this.defaultDivisions);for(var x=[],S,E=0;E<this.curves.length;E++){var A=this.curves[E];if(A.active)for(var R=A.getResolution(v),w=A.getPoints(R,y),I=0;I<w.length;I++){var O=w[I];S&&S.equals(O)||(x.push(O),S=O)}}return this.autoClose&&x.length>1&&!x[x.length-1].equals(x[0])&&x.push(x[0]),x},getRandomPoint:function(v){return v===void 0&&(v=new u),this.getPoint(Math.random(),v)},getSpacedPoints:function(v){v===void 0&&(v=40);for(var y=[],x=0;x<=v;x++)y.push(this.getPoint(x/v));return this.autoClose&&y.push(y[0]),y},getStartPoint:function(v){return v===void 0&&(v=new u),v.copy(this.startPoint)},getTangent:function(v,y){y===void 0&&(y=new u);for(var x=v*this.getLength(),S=this.getCurveLengths(),E=0;E<S.length;){if(S[E]>=x){var A=S[E]-x,R=this.curves[E],w=R.getLength(),I=w===0?0:1-A/w;return R.getTangentAt(I,y)}E++}return null},lineTo:function(v,y){v instanceof u?this._tmpVec2B.copy(v):typeof v=="object"?this._tmpVec2B.setFromObject(v):this._tmpVec2B.set(v,y);var x=this.getEndPoint(this._tmpVec2A);return this.add(new r([x.x,x.y,this._tmpVec2B.x,this._tmpVec2B.y]))},splineTo:function(v){return v.unshift(this.getEndPoint()),this.add(new s(v))},moveTo:function(v,y){return v instanceof u?this.add(new i(v.x,v.y)):this.add(new i(v,y))},toJSON:function(){for(var v=[],y=0;y<this.curves.length;y++)v.push(this.curves[y].toJSON());return{type:"Path",x:this.startPoint.x,y:this.startPoint.y,autoClose:this.autoClose,curves:v}},updateArcLengths:function(){this.cacheLengths=[],this.getCurveLengths()},destroy:function(){this.curves.length=0,this.cacheLengths.length=0,this.startPoint=void 0}});a.register("path",function(v,y){return new c(v,y)}),f.exports=c},45893:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(24882),o=new h({initialize:function(r,i){this.parent=r,this.events=i,i||(this.events=r.events?r.events:r),this.list={},this.values={},this._frozen=!1,!r.hasOwnProperty("sys")&&this.events&&this.events.once(g.DESTROY,this.destroy,this)},get:function(a){var r=this.list;if(Array.isArray(a)){for(var i=[],n=0;n<a.length;n++)i.push(r[a[n]]);return i}else return r[a]},getAll:function(){var a={};for(var r in this.list)this.list.hasOwnProperty(r)&&(a[r]=this.list[r]);return a},query:function(a){var r={};for(var i in this.list)this.list.hasOwnProperty(i)&&i.match(a)&&(r[i]=this.list[i]);return r},set:function(a,r){if(this._frozen)return this;if(typeof a=="string")return this.setValue(a,r);for(var i in a)this.setValue(i,a[i]);return this},inc:function(a,r){if(this._frozen)return this;r===void 0&&(r=1);var i=this.get(a);return i===void 0&&(i=0),this.set(a,i+r),this},toggle:function(a){return this._frozen?this:(this.set(a,!this.get(a)),this)},setValue:function(a,r){if(this._frozen)return this;if(this.has(a))this.values[a]=r;else{var i=this,n=this.list,l=this.events,s=this.parent;Object.defineProperty(this.values,a,{enumerable:!0,configurable:!0,get:function(){return n[a]},set:function(u){if(!i._frozen){var d=n[a];n[a]=u,l.emit(g.CHANGE_DATA,s,a,u,d),l.emit(g.CHANGE_DATA_KEY+a,s,u,d)}}}),n[a]=r,l.emit(g.SET_DATA,s,a,r)}return this},each:function(a,r){for(var i=[this.parent,null,void 0],n=1;n<arguments.length;n++)i.push(arguments[n]);for(var l in this.list)i[1]=l,i[2]=this.list[l],a.apply(r,i);return this},merge:function(a,r){r===void 0&&(r=!0);for(var i in a)a.hasOwnProperty(i)&&(r||!r&&!this.has(i))&&this.setValue(i,a[i]);return this},remove:function(a){if(this._frozen)return this;if(Array.isArray(a))for(var r=0;r<a.length;r++)this.removeValue(a[r]);else return this.removeValue(a);return this},removeValue:function(a){if(this.has(a)){var r=this.list[a];delete this.list[a],delete this.values[a],this.events.emit(g.REMOVE_DATA,this.parent,a,r)}return this},pop:function(a){var r=void 0;return!this._frozen&&this.has(a)&&(r=this.list[a],delete this.list[a],delete this.values[a],this.events.emit(g.REMOVE_DATA,this.parent,a,r)),r},has:function(a){return this.list.hasOwnProperty(a)},setFreeze:function(a){return this._frozen=a,this},reset:function(){for(var a in this.list)delete this.list[a],delete this.values[a];return this._frozen=!1,this},destroy:function(){this.reset(),this.events.off(g.CHANGE_DATA),this.events.off(g.SET_DATA),this.events.off(g.REMOVE_DATA),this.parent=null},freeze:{get:function(){return this._frozen},set:function(a){this._frozen=!!a}},count:{get:function(){var a=0;for(var r in this.list)this.list[r]!==void 0&&a++;return a}}});f.exports=o},63646:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(45893),o=t(37277),a=t(44594),r=new h({Extends:g,initialize:function(n){g.call(this,n,n.sys.events),this.scene=n,this.systems=n.sys,n.sys.events.once(a.BOOT,this.boot,this),n.sys.events.on(a.START,this.start,this)},boot:function(){this.events=this.systems.events,this.events.once(a.DESTROY,this.destroy,this)},start:function(){this.events.once(a.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.systems.events.off(a.SHUTDOWN,this.shutdown,this)},destroy:function(){g.prototype.destroy.call(this),this.events.off(a.START,this.start,this),this.scene=null,this.systems=null}});o.register("DataManagerPlugin",r,"data"),f.exports=r},10700:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="changedata"},93608:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="changedata-"},60883:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="destroy"},69780:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="removedata"},22166:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="setdata"},24882:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={CHANGE_DATA:t(10700),CHANGE_DATA_KEY:t(93608),DESTROY:t(60883),REMOVE_DATA:t(69780),SET_DATA:t(22166)}},44965:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={DataManager:t(45893),DataManagerPlugin:t(63646),Events:t(24882)}},7098:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(84148),g={flac:!1,aac:!1,audioData:!1,dolby:!1,m4a:!1,mp3:!1,ogg:!1,opus:!1,wav:!1,webAudio:!1,webm:!1};function o(){if(typeof importScripts=="function")return g;g.audioData=!!window.Audio,g.webAudio=!!(window.AudioContext||window.webkitAudioContext);var a=document.createElement("audio"),r=!!a.canPlayType;try{if(r){var i=function(s,u){var d=a.canPlayType("audio/"+s).replace(/^no$/,"");return u?!!(d||a.canPlayType("audio/"+u).replace(/^no$/,"")):!!d};if(g.ogg=i('ogg; codecs="vorbis"'),g.opus=i('ogg; codecs="opus"',"opus"),g.mp3=i("mpeg"),g.wav=i("wav"),g.m4a=i("x-m4a"),g.aac=i("aac"),g.flac=i("flac","x-flac"),g.webm=i('webm; codecs="vorbis"'),a.canPlayType('audio/mp4; codecs="ec-3"')!==""){if(h.edge)g.dolby=!0;else if(h.safari&&h.safariVersion>=9&&/Mac OS X (\d+)_(\d+)/.test(navigator.userAgent)){var n=parseInt(RegExp.$1,10),l=parseInt(RegExp.$2,10);(n===10&&l>=11||n>10)&&(g.dolby=!0)}}}}catch{}return g}f.exports=o()},84148:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25892),g={chrome:!1,chromeVersion:0,edge:!1,firefox:!1,firefoxVersion:0,ie:!1,ieVersion:0,mobileSafari:!1,opera:!1,safari:!1,safariVersion:0,silk:!1,trident:!1,tridentVersion:0,es2019:!1};function o(){var a=navigator.userAgent;return/Edg\/\d+/.test(a)?(g.edge=!0,g.es2019=!0):/OPR/.test(a)?(g.opera=!0,g.es2019=!0):/Chrome\/(\d+)/.test(a)&&!h.windowsPhone?(g.chrome=!0,g.chromeVersion=parseInt(RegExp.$1,10),g.es2019=g.chromeVersion>69):/Firefox\D+(\d+)/.test(a)?(g.firefox=!0,g.firefoxVersion=parseInt(RegExp.$1,10),g.es2019=g.firefoxVersion>10):/AppleWebKit\/(?!.*CriOS)/.test(a)&&h.iOS?(g.mobileSafari=!0,g.es2019=!0):/MSIE (\d+\.\d+);/.test(a)?(g.ie=!0,g.ieVersion=parseInt(RegExp.$1,10)):/Version\/(\d+\.\d+(\.\d+)?) Safari/.test(a)&&!h.windowsPhone?(g.safari=!0,g.safariVersion=parseInt(RegExp.$1,10),g.es2019=g.safariVersion>10):/Trident\/(\d+\.\d+)(.*)rv:(\d+\.\d+)/.test(a)&&(g.ie=!0,g.trident=!0,g.tridentVersion=parseInt(RegExp.$1,10),g.ieVersion=parseInt(RegExp.$3,10)),/Silk/.test(a)&&(g.silk=!0),g}f.exports=o()},89289:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(27919),g={supportInverseAlpha:!1,supportNewBlendModes:!1};function o(){var i="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/",n="AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==",l=new Image;return l.onload=function(){var s=new Image;s.onload=function(){var u=h.create2D(s,6),d=u.getContext("2d",{willReadFrequently:!0});if(d.globalCompositeOperation="multiply",d.drawImage(l,0,0),d.drawImage(s,2,0),!d.getImageData(2,0,1,1))return!1;var c=d.getImageData(2,0,1,1).data;h.remove(s),g.supportNewBlendModes=c[0]===255&&c[1]===0&&c[2]===0},s.src=i+"/wCKxvRF"+n},l.src=i+"AP804Oa6"+n,!1}function a(){var i=h.create2D(this,2),n=i.getContext("2d",{willReadFrequently:!0});n.fillStyle="rgba(10, 20, 30, 0.5)",n.fillRect(0,0,1,1);var l=n.getImageData(0,0,1,1);if(l===null)return!1;n.putImageData(l,1,0);var s=n.getImageData(1,0,1,1),u=s.data[0]===l.data[0]&&s.data[1]===l.data[1]&&s.data[2]===l.data[2]&&s.data[3]===l.data[3];return h.remove(this),u}function r(){return typeof importScripts!="function"&&document!==void 0&&(g.supportNewBlendModes=o(),g.supportInverseAlpha=a()),g}f.exports=r()},89357:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25892),g=t(84148),o=t(27919),a={canvas:!1,canvasBitBltShift:null,file:!1,fileSystem:!1,getUserMedia:!0,littleEndian:!1,localStorage:!1,pointerLock:!1,stableSort:!1,support32bit:!1,vibration:!1,webGL:!1,worker:!1};function r(){var n=new ArrayBuffer(4),l=new Uint8Array(n),s=new Uint32Array(n);return l[0]=161,l[1]=178,l[2]=195,l[3]=212,s[0]===3569595041?!0:s[0]===2712847316?!1:null}function i(){if(typeof importScripts=="function")return a;a.canvas=!!window.CanvasRenderingContext2D;try{a.localStorage=!!localStorage.getItem}catch{a.localStorage=!1}a.file=!!window.File&&!!window.FileReader&&!!window.FileList&&!!window.Blob,a.fileSystem=!!window.requestFileSystem;var n=!1,l=function(){if(window.WebGLRenderingContext)try{var s=o.createWebGL(this),u=s.getContext("webgl")||s.getContext("experimental-webgl"),d=o.create2D(this),c=d.getContext("2d",{willReadFrequently:!0}),v=c.createImageData(1,1);return n=v.data instanceof Uint8ClampedArray,o.remove(s),o.remove(d),!!u}catch{return!1}return!1};return a.webGL=l(),a.worker=!!window.Worker,a.pointerLock="pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.oGetUserMedia,window.URL=window.URL||window.webkitURL||window.mozURL||window.msURL,a.getUserMedia=a.getUserMedia&&!!navigator.getUserMedia&&!!window.URL,g.firefox&&g.firefoxVersion<21&&(a.getUserMedia=!1),!h.iOS&&(g.ie||g.firefox||g.chrome)&&(a.canvasBitBltShift=!0),(g.safari||g.mobileSafari)&&(a.canvasBitBltShift=!1),navigator.vibrate=navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate,navigator.vibrate&&(a.vibration=!0),typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint32Array<"u"&&(a.littleEndian=r()),a.support32bit=typeof ArrayBuffer<"u"&&typeof Uint8ClampedArray<"u"&&typeof Int32Array<"u"&&a.littleEndian!==null&&n,a}f.exports=i()},91639:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={available:!1,cancel:"",keyboard:!1,request:""};function t(){if(typeof importScripts=="function")return C;var h,g="Fullscreen",o="FullScreen",a=["request"+g,"request"+o,"webkitRequest"+g,"webkitRequest"+o,"msRequest"+g,"msRequest"+o,"mozRequest"+o,"mozRequest"+g];for(h=0;h<a.length;h++)if(document.documentElement[a[h]]){C.available=!0,C.request=a[h];break}var r=["cancel"+o,"exit"+g,"webkitCancel"+o,"webkitExit"+g,"msCancel"+o,"msExit"+g,"mozCancel"+o,"mozExit"+g];if(C.available){for(h=0;h<r.length;h++)if(document[r[h]]){C.cancel=r[h];break}}return window.Element&&Element.ALLOW_KEYBOARD_INPUT&&!/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)&&(C.keyboard=!0),Object.defineProperty(C,"active",{get:function(){return!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)}}),C}f.exports=t()},31784:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(84148),g={gamepads:!1,mspointer:!1,touch:!1,wheelEvent:null};function o(){return typeof importScripts=="function"||(("ontouchstart"in document.documentElement||navigator.maxTouchPoints&&navigator.maxTouchPoints>=1)&&(g.touch=!0),(navigator.msPointerEnabled||navigator.pointerEnabled)&&(g.mspointer=!0),navigator.getGamepads&&(g.gamepads=!0),"onwheel"in window||h.ie&&"WheelEvent"in window?g.wheelEvent="wheel":"onmousewheel"in window?g.wheelEvent="mousewheel":h.firefox&&"MouseScrollEvent"in window&&(g.wheelEvent="DOMMouseScroll")),g}f.exports=o()},25892:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={android:!1,chromeOS:!1,cordova:!1,crosswalk:!1,desktop:!1,ejecta:!1,electron:!1,iOS:!1,iOSVersion:0,iPad:!1,iPhone:!1,kindle:!1,linux:!1,macOS:!1,node:!1,nodeWebkit:!1,pixelRatio:1,webApp:!1,windows:!1,windowsPhone:!1};function t(){if(typeof importScripts=="function")return C;var h=navigator.userAgent;/Windows/.test(h)?C.windows=!0:/Mac OS/.test(h)&&!/like Mac OS/.test(h)?navigator.maxTouchPoints&&navigator.maxTouchPoints>2?(C.iOS=!0,C.iPad=!0,navigator.appVersion.match(/Version\/(\d+)/),C.iOSVersion=parseInt(RegExp.$1,10)):C.macOS=!0:/Android/.test(h)?C.android=!0:/Linux/.test(h)?C.linux=!0:/iP[ao]d|iPhone/i.test(h)?(C.iOS=!0,navigator.appVersion.match(/OS (\d+)/),C.iOSVersion=parseInt(RegExp.$1,10),C.iPhone=h.toLowerCase().indexOf("iphone")!==-1,C.iPad=h.toLowerCase().indexOf("ipad")!==-1):/Kindle/.test(h)||/\bKF[A-Z][A-Z]+/.test(h)||/Silk.*Mobile Safari/.test(h)?C.kindle=!0:/CrOS/.test(h)&&(C.chromeOS=!0),(/Windows Phone/i.test(h)||/IEMobile/i.test(h))&&(C.android=!1,C.iOS=!1,C.macOS=!1,C.windows=!0,C.windowsPhone=!0);var g=/Silk/.test(h);return(C.windows||C.macOS||C.linux&&!g||C.chromeOS)&&(C.desktop=!0),(C.windowsPhone||/Windows NT/i.test(h)&&/Touch/i.test(h))&&(C.desktop=!1),navigator.standalone&&(C.webApp=!0),typeof importScripts!="function"&&(window.cordova!==void 0&&(C.cordova=!0),window.ejecta!==void 0&&(C.ejecta=!0)),typeof process<"u"&&process.versions&&process.versions.node&&(C.node=!0),C.node&&typeof process.versions=="object"&&(C.nodeWebkit=!!process.versions["node-webkit"],C.electron=!!process.versions.electron),/Crosswalk/.test(h)&&(C.crosswalk=!0),C.pixelRatio=window.devicePixelRatio||1,C}f.exports=t()},43267:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(95540),g={h264:!1,hls:!1,mp4:!1,m4v:!1,ogg:!1,vp9:!1,webm:!1,hasRequestVideoFrame:!1};function o(){if(typeof importScripts=="function")return g;var a=document.createElement("video"),r=!!a.canPlayType,i=/^no$/;try{r&&(a.canPlayType('video/ogg; codecs="theora"').replace(i,"")&&(g.ogg=!0),a.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(i,"")&&(g.h264=!0,g.mp4=!0),a.canPlayType("video/x-m4v").replace(i,"")&&(g.m4v=!0),a.canPlayType('video/webm; codecs="vp8, vorbis"').replace(i,"")&&(g.webm=!0),a.canPlayType('video/webm; codecs="vp9"').replace(i,"")&&(g.vp9=!0),a.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(i,"")&&(g.hls=!0))}catch{}return a.parentNode&&a.parentNode.removeChild(a),g.getVideoURL=function(n){Array.isArray(n)||(n=[n]);for(var l=0;l<n.length;l++){var s=h(n[l],"url",n[l]);if(s.indexOf("blob:")===0)return{url:s,type:""};var u;if(s.indexOf("data:")===0?u=s.split(",")[0].match(/\/(.*?);/):u=s.match(/\.([a-zA-Z0-9]+)($|\?)/),u=h(n[l],"type",u?u[1]:"").toLowerCase(),g[u])return{url:s,type:u}}return null},g}f.exports=o()},82264:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={os:t(25892),browser:t(84148),features:t(89357),input:t(31784),audio:t(7098),video:t(43267),fullscreen:t(91639),canvasFeatures:t(89289)}},89422:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=new Float32Array(20),o=new h({initialize:function(){this._matrix=new Float32Array(20),this.alpha=1,this._dirty=!0,this._data=new Float32Array(20),this.reset()},set:function(a){return this._matrix.set(a),this._dirty=!0,this},reset:function(){var a=this._matrix;return a.fill(0),a[0]=1,a[6]=1,a[12]=1,a[18]=1,this.alpha=1,this._dirty=!0,this},getData:function(){var a=this._data;return this._dirty&&(a.set(this._matrix),a[4]/=255,a[9]/=255,a[14]/=255,a[19]/=255,this._dirty=!1),a},brightness:function(a,r){a===void 0&&(a=0),r===void 0&&(r=!1);var i=a;return this.multiply([i,0,0,0,0,0,i,0,0,0,0,0,i,0,0,0,0,0,1,0],r)},saturate:function(a,r){a===void 0&&(a=0),r===void 0&&(r=!1);var i=a*2/3+1,n=(i-1)*-.5;return this.multiply([i,n,n,0,0,n,i,n,0,0,n,n,i,0,0,0,0,0,1,0],r)},desaturate:function(a){return a===void 0&&(a=!1),this.saturate(-1,a)},hue:function(a,r){a===void 0&&(a=0),r===void 0&&(r=!1),a=a/180*Math.PI;var i=Math.cos(a),n=Math.sin(a),l=.213,s=.715,u=.072;return this.multiply([l+i*(1-l)+n*-.213,s+i*-.715+n*-.715,u+i*-.072+n*(1-u),0,0,l+i*-.213+n*.143,s+i*(1-s)+n*.14,u+i*-.072+n*-.283,0,0,l+i*-.213+n*-.787,s+i*-.715+n*s,u+i*(1-u)+n*u,0,0,0,0,0,1,0],r)},grayscale:function(a,r){return a===void 0&&(a=1),r===void 0&&(r=!1),this.saturate(-a,r)},blackWhite:function(a){return a===void 0&&(a=!1),this.multiply(o.BLACK_WHITE,a)},contrast:function(a,r){a===void 0&&(a=0),r===void 0&&(r=!1);var i=a+1,n=-.5*(i-1);return this.multiply([i,0,0,0,n,0,i,0,0,n,0,0,i,0,n,0,0,0,1,0],r)},negative:function(a){return a===void 0&&(a=!1),this.multiply(o.NEGATIVE,a)},desaturateLuminance:function(a){return a===void 0&&(a=!1),this.multiply(o.DESATURATE_LUMINANCE,a)},sepia:function(a){return a===void 0&&(a=!1),this.multiply(o.SEPIA,a)},night:function(a,r){return a===void 0&&(a=.1),r===void 0&&(r=!1),this.multiply([a*-2,-a,0,0,0,-a,0,a,0,0,0,a,a*2,0,0,0,0,0,1,0],r)},lsd:function(a){return a===void 0&&(a=!1),this.multiply(o.LSD,a)},brown:function(a){return a===void 0&&(a=!1),this.multiply(o.BROWN,a)},vintagePinhole:function(a){return a===void 0&&(a=!1),this.multiply(o.VINTAGE,a)},kodachrome:function(a){return a===void 0&&(a=!1),this.multiply(o.KODACHROME,a)},technicolor:function(a){return a===void 0&&(a=!1),this.multiply(o.TECHNICOLOR,a)},polaroid:function(a){return a===void 0&&(a=!1),this.multiply(o.POLAROID,a)},shiftToBGR:function(a){return a===void 0&&(a=!1),this.multiply(o.SHIFT_BGR,a)},multiply:function(a,r){r===void 0&&(r=!1),r||this.reset();var i=this._matrix,n=g;return n.set(i),i.set([n[0]*a[0]+n[1]*a[5]+n[2]*a[10]+n[3]*a[15],n[0]*a[1]+n[1]*a[6]+n[2]*a[11]+n[3]*a[16],n[0]*a[2]+n[1]*a[7]+n[2]*a[12]+n[3]*a[17],n[0]*a[3]+n[1]*a[8]+n[2]*a[13]+n[3]*a[18],n[0]*a[4]+n[1]*a[9]+n[2]*a[14]+n[3]*a[19]+n[4],n[5]*a[0]+n[6]*a[5]+n[7]*a[10]+n[8]*a[15],n[5]*a[1]+n[6]*a[6]+n[7]*a[11]+n[8]*a[16],n[5]*a[2]+n[6]*a[7]+n[7]*a[12]+n[8]*a[17],n[5]*a[3]+n[6]*a[8]+n[7]*a[13]+n[8]*a[18],n[5]*a[4]+n[6]*a[9]+n[7]*a[14]+n[8]*a[19]+n[9],n[10]*a[0]+n[11]*a[5]+n[12]*a[10]+n[13]*a[15],n[10]*a[1]+n[11]*a[6]+n[12]*a[11]+n[13]*a[16],n[10]*a[2]+n[11]*a[7]+n[12]*a[12]+n[13]*a[17],n[10]*a[3]+n[11]*a[8]+n[12]*a[13]+n[13]*a[18],n[10]*a[4]+n[11]*a[9]+n[12]*a[14]+n[13]*a[19]+n[14],n[15]*a[0]+n[16]*a[5]+n[17]*a[10]+n[18]*a[15],n[15]*a[1]+n[16]*a[6]+n[17]*a[11]+n[18]*a[16],n[15]*a[2]+n[16]*a[7]+n[17]*a[12]+n[18]*a[17],n[15]*a[3]+n[16]*a[8]+n[17]*a[13]+n[18]*a[18],n[15]*a[4]+n[16]*a[9]+n[17]*a[14]+n[18]*a[19]+n[19]]),this._dirty=!0,this}});o.BLACK_WHITE=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],o.NEGATIVE=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],o.DESATURATE_LUMINANCE=[.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,0,0,0,1,0],o.SEPIA=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],o.LSD=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],o.BROWN=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],o.VINTAGE=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],o.KODACHROME=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],o.TECHNICOLOR=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],o.POLAROID=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],o.SHIFT_BGR=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],f.exports=o},51767:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(29747),o=new h({initialize:function(r,i,n){this._rgb=[0,0,0],this.onChangeCallback=g,this.dirty=!1,this.set(r,i,n)},set:function(a,r,i){return a===void 0&&(a=0),r===void 0&&(r=0),i===void 0&&(i=0),this._rgb=[a,r,i],this.onChange(),this},equals:function(a,r,i){var n=this._rgb;return n[0]===a&&n[1]===r&&n[2]===i},onChange:function(){this.dirty=!0;var a=this._rgb;this.onChangeCallback.call(this,a[0],a[1],a[2])},r:{get:function(){return this._rgb[0]},set:function(a){this._rgb[0]=a,this.onChange()}},g:{get:function(){return this._rgb[1]},set:function(a){this._rgb[1]=a,this.onChange()}},b:{get:function(){return this._rgb[2]},set:function(a){this._rgb[2]=a,this.onChange()}},destroy:function(){this.onChangeCallback=null}});f.exports=o},60461:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_TOP:3,LEFT_CENTER:4,LEFT_BOTTOM:5,CENTER:6,RIGHT_TOP:7,RIGHT_CENTER:8,RIGHT_BOTTOM:9,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12};f.exports=C},54312:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(62235),g=t(35893),o=t(86327),a=t(88417),r=function(i,n,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),a(i,g(n)+l),o(i,h(n)+s),i};f.exports=r},46768:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(62235),g=t(26541),o=t(86327),a=t(385),r=function(i,n,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),a(i,g(n)-l),o(i,h(n)+s),i};f.exports=r},35827:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(62235),g=t(54380),o=t(86327),a=t(40136),r=function(i,n,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),a(i,g(n)+l),o(i,h(n)+s),i};f.exports=r},46871:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66786),g=t(35893),o=t(7702),a=function(r,i,n,l){return n===void 0&&(n=0),l===void 0&&(l=0),h(r,g(i)+n,o(i)+l),r};f.exports=a},5198:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7702),g=t(26541),o=t(20786),a=t(385),r=function(i,n,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),a(i,g(n)-l),o(i,h(n)+s),i};f.exports=r},11879:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(60461),g=[];g[h.BOTTOM_CENTER]=t(54312),g[h.BOTTOM_LEFT]=t(46768),g[h.BOTTOM_RIGHT]=t(35827),g[h.CENTER]=t(46871),g[h.LEFT_CENTER]=t(5198),g[h.RIGHT_CENTER]=t(80503),g[h.TOP_CENTER]=t(89698),g[h.TOP_LEFT]=t(922),g[h.TOP_RIGHT]=t(21373),g[h.LEFT_BOTTOM]=g[h.BOTTOM_LEFT],g[h.LEFT_TOP]=g[h.TOP_LEFT],g[h.RIGHT_BOTTOM]=g[h.BOTTOM_RIGHT],g[h.RIGHT_TOP]=g[h.TOP_RIGHT];var o=function(a,r,i,n,l){return g[i](a,r,n,l)};f.exports=o},80503:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7702),g=t(54380),o=t(20786),a=t(40136),r=function(i,n,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),a(i,g(n)+l),o(i,h(n)+s),i};f.exports=r},89698:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(35893),g=t(17717),o=t(88417),a=t(66737),r=function(i,n,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),o(i,h(n)+l),a(i,g(n)-s),i};f.exports=r},922:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26541),g=t(17717),o=t(385),a=t(66737),r=function(i,n,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),o(i,h(n)-l),a(i,g(n)-s),i};f.exports=r},21373:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(54380),g=t(17717),o=t(40136),a=t(66737),r=function(i,n,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),o(i,h(n)+l),a(i,g(n)-s),i};f.exports=r},91660:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={BottomCenter:t(54312),BottomLeft:t(46768),BottomRight:t(35827),Center:t(46871),LeftCenter:t(5198),QuickSet:t(11879),RightCenter:t(80503),TopCenter:t(89698),TopLeft:t(922),TopRight:t(21373)}},71926:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(60461),g=t(79291),o={In:t(91660),To:t(16694)};o=g(!1,o,h),f.exports=o},21578:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(62235),g=t(35893),o=t(88417),a=t(66737),r=function(i,n,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),o(i,g(n)+l),a(i,h(n)+s),i};f.exports=r},10210:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(62235),g=t(26541),o=t(385),a=t(66737),r=function(i,n,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),o(i,g(n)-l),a(i,h(n)+s),i};f.exports=r},82341:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(62235),g=t(54380),o=t(40136),a=t(66737),r=function(i,n,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),o(i,g(n)+l),a(i,h(n)+s),i};f.exports=r},87958:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(62235),g=t(26541),o=t(86327),a=t(40136),r=function(i,n,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),a(i,g(n)-l),o(i,h(n)+s),i};f.exports=r},40080:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7702),g=t(26541),o=t(20786),a=t(40136),r=function(i,n,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),a(i,g(n)-l),o(i,h(n)+s),i};f.exports=r},88466:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26541),g=t(17717),o=t(40136),a=t(66737),r=function(i,n,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),o(i,h(n)-l),a(i,g(n)-s),i};f.exports=r},38829:(f,C,t)=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(60461),g=[];g[h.BOTTOM_CENTER]=t(21578),g[h.BOTTOM_LEFT]=t(10210),g[h.BOTTOM_RIGHT]=t(82341),g[h.LEFT_BOTTOM]=t(87958),g[h.LEFT_CENTER]=t(40080),g[h.LEFT_TOP]=t(88466),g[h.RIGHT_BOTTOM]=t(19211),g[h.RIGHT_CENTER]=t(34609),g[h.RIGHT_TOP]=t(48741),g[h.TOP_CENTER]=t(49440),g[h.TOP_LEFT]=t(81288),g[h.TOP_RIGHT]=t(61323);var o=function(a,r,i,n,l){return g[i](a,r,n,l)};f.exports=o},19211:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(62235),g=t(54380),o=t(86327),a=t(385),r=function(i,n,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),a(i,g(n)+l),o(i,h(n)+s),i};f.exports=r},34609:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7702),g=t(54380),o=t(20786),a=t(385),r=function(i,n,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),a(i,g(n)+l),o(i,h(n)+s),i};f.exports=r},48741:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(54380),g=t(17717),o=t(385),a=t(66737),r=function(i,n,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),o(i,h(n)+l),a(i,g(n)-s),i};f.exports=r},49440:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(35893),g=t(17717),o=t(86327),a=t(88417),r=function(i,n,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),a(i,h(n)+l),o(i,g(n)-s),i};f.exports=r},81288:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26541),g=t(17717),o=t(86327),a=t(385),r=function(i,n,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),a(i,h(n)-l),o(i,g(n)-s),i};f.exports=r},61323:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(54380),g=t(17717),o=t(86327),a=t(40136),r=function(i,n,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),a(i,h(n)+l),o(i,g(n)-s),i};f.exports=r},16694:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={BottomCenter:t(21578),BottomLeft:t(10210),BottomRight:t(82341),LeftBottom:t(87958),LeftCenter:t(40080),LeftTop:t(88466),QuickSet:t(38829),RightBottom:t(19211),RightCenter:t(34609),RightTop:t(48741),TopCenter:t(49440),TopLeft:t(81288),TopRight:t(61323)}},66786:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(88417),g=t(20786),o=function(a,r,i){return h(a,r),g(a,i)};f.exports=o},62235:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t){return t.y+t.height-t.height*t.originY};f.exports=C},72873:(f,C,t)=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(62235),g=t(26541),o=t(54380),a=t(17717),r=t(87841),i=function(n,l){l===void 0&&(l=new r);var s=g(n),u=a(n);return l.x=s,l.y=u,l.width=o(n)-s,l.height=h(n)-u,l};f.exports=i},35893:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t){return t.x-t.width*t.originX+t.width*.5};f.exports=C},7702:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t){return t.y-t.height*t.originY+t.height*.5};f.exports=C},26541:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t){return t.x-t.width*t.originX};f.exports=C},87431:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t){return t.width*t.originX};f.exports=C},46928:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t){return t.height*t.originY};f.exports=C},54380:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t){return t.x+t.width-t.width*t.originX};f.exports=C},17717:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t){return t.y-t.height*t.originY};f.exports=C},86327:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h){return t.y=h-t.height+t.height*t.originY,t};f.exports=C},88417:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h){var g=t.width*t.originX;return t.x=h+g-t.width*.5,t};f.exports=C},20786:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h){var g=t.height*t.originY;return t.y=h+g-t.height*.5,t};f.exports=C},385:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h){return t.x=h+t.width*t.originX,t};f.exports=C},40136:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h){return t.x=h-t.width+t.width*t.originX,t};f.exports=C},66737:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h){return t.y=h+t.height*t.originY,t};f.exports=C},58724:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={CenterOn:t(66786),GetBottom:t(62235),GetBounds:t(72873),GetCenterX:t(35893),GetCenterY:t(7702),GetLeft:t(26541),GetOffsetX:t(87431),GetOffsetY:t(46928),GetRight:t(54380),GetTop:t(17717),SetBottom:t(86327),SetCenterX:t(88417),SetCenterY:t(20786),SetLeft:t(385),SetRight:t(40136),SetTop:t(66737)}},20623:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={setCrisp:function(t){var h=["optimizeSpeed","-moz-crisp-edges","-o-crisp-edges","-webkit-optimize-contrast","optimize-contrast","crisp-edges","pixelated"];return h.forEach(function(g){t.style["image-rendering"]=g}),t.style.msInterpolationMode="nearest-neighbor",t},setBicubic:function(t){return t.style["image-rendering"]="auto",t.style.msInterpolationMode="bicubic",t}};f.exports=C},27919:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(8054),g=t(68703),o=[],a=!1,r=function(){var i=function(x,S,E,A,R){S===void 0&&(S=1),E===void 0&&(E=1),A===void 0&&(A=h.CANVAS),R===void 0&&(R=!1);var w,I=s(A);return I===null?(I={parent:x,canvas:document.createElement("canvas"),type:A},A===h.CANVAS&&o.push(I),w=I.canvas):(I.parent=x,w=I.canvas),R&&(I.parent=w),w.width=S,w.height=E,a&&A===h.CANVAS&&g.disable(w.getContext("2d",{willReadFrequently:!1})),w},n=function(x,S,E){return i(x,S,E,h.CANVAS)},l=function(x,S,E){return i(x,S,E,h.WEBGL)},s=function(x){if(x===void 0&&(x=h.CANVAS),x===h.WEBGL)return null;for(var S=0;S<o.length;S++){var E=o[S];if(!E.parent&&E.type===x)return E}return null},u=function(x){var S=x instanceof HTMLCanvasElement;o.forEach(function(E){(S&&E.canvas===x||!S&&E.parent===x)&&(E.parent=null,E.canvas.width=1,E.canvas.height=1)})},d=function(){var x=0;return o.forEach(function(S){S.parent&&x++}),x},c=function(){return o.length-d()},v=function(){a=!0},y=function(){a=!1};return{create2D:n,create:i,createWebGL:l,disableSmoothing:v,enableSmoothing:y,first:s,free:c,pool:o,remove:u,total:d}};f.exports=r()},68703:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C="",t=function(){var h=function(r){for(var i=["i","webkitI","msI","mozI","oI"],n=0;n<i.length;n++){var l=i[n]+"mageSmoothingEnabled";if(l in r)return l}return null},g=function(r){return C===""&&(C=h(r)),C&&(r[C]=!0),r},o=function(r){return C===""&&(C=h(r)),C&&(r[C]=!1),r},a=function(r){return C!==null?r[C]:null};return{disable:o,enable:g,getPrefix:h,isEnabled:a}};f.exports=t()},65208:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h){return h===void 0&&(h="none"),t.style.msTouchAction=h,t.style["ms-touch-action"]=h,t.style["touch-action"]=h,t};f.exports=C},91610:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h){h===void 0&&(h="none");var g=["-webkit-","-khtml-","-moz-","-ms-",""];return g.forEach(function(o){t.style[o+"user-select"]=h}),t.style["-webkit-touch-callout"]=h,t.style["-webkit-tap-highlight-color"]="rgba(0, 0, 0, 0)",t};f.exports=C},26253:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={CanvasInterpolation:t(20623),CanvasPool:t(27919),Smoothing:t(68703),TouchAction:t(65208),UserSelect:t(91610)}},40987:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(37589),o=t(1e3),a=t(7537),r=t(87837),i=new h({initialize:function(l,s,u,d){l===void 0&&(l=0),s===void 0&&(s=0),u===void 0&&(u=0),d===void 0&&(d=255),this.r=0,this.g=0,this.b=0,this.a=255,this._h=0,this._s=0,this._v=0,this._locked=!1,this.gl=[0,0,0,1],this._color=0,this._color32=0,this._rgba="",this.setTo(l,s,u,d)},transparent:function(){return this._locked=!0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this._locked=!1,this.update(!0)},setTo:function(n,l,s,u,d){return u===void 0&&(u=255),d===void 0&&(d=!0),this._locked=!0,this.red=n,this.green=l,this.blue=s,this.alpha=u,this._locked=!1,this.update(d)},setGLTo:function(n,l,s,u){return u===void 0&&(u=1),this._locked=!0,this.redGL=n,this.greenGL=l,this.blueGL=s,this.alphaGL=u,this._locked=!1,this.update(!0)},setFromRGB:function(n){return this._locked=!0,this.red=n.r,this.green=n.g,this.blue=n.b,n.hasOwnProperty("a")&&(this.alpha=n.a),this._locked=!1,this.update(!0)},setFromHSV:function(n,l,s){return a(n,l,s,this)},update:function(n){if(n===void 0&&(n=!1),this._locked)return this;var l=this.r,s=this.g,u=this.b,d=this.a;return this._color=g(l,s,u),this._color32=o(l,s,u,d),this._rgba="rgba("+l+","+s+","+u+","+d/255+")",n&&r(l,s,u,this),this},updateHSV:function(){var n=this.r,l=this.g,s=this.b;return r(n,l,s,this),this},clone:function(){return new i(this.r,this.g,this.b,this.a)},gray:function(n){return this.setTo(n,n,n)},random:function(n,l){n===void 0&&(n=0),l===void 0&&(l=255);var s=Math.floor(n+Math.random()*(l-n)),u=Math.floor(n+Math.random()*(l-n)),d=Math.floor(n+Math.random()*(l-n));return this.setTo(s,u,d)},randomGray:function(n,l){n===void 0&&(n=0),l===void 0&&(l=255);var s=Math.floor(n+Math.random()*(l-n));return this.setTo(s,s,s)},saturate:function(n){return this.s+=n/100,this},desaturate:function(n){return this.s-=n/100,this},lighten:function(n){return this.v+=n/100,this},darken:function(n){return this.v-=n/100,this},brighten:function(n){var l=this.r,s=this.g,u=this.b;return l=Math.max(0,Math.min(255,l-Math.round(255*-(n/100)))),s=Math.max(0,Math.min(255,s-Math.round(255*-(n/100)))),u=Math.max(0,Math.min(255,u-Math.round(255*-(n/100)))),this.setTo(l,s,u)},color:{get:function(){return this._color}},color32:{get:function(){return this._color32}},rgba:{get:function(){return this._rgba}},redGL:{get:function(){return this.gl[0]},set:function(n){this.gl[0]=Math.min(Math.abs(n),1),this.r=Math.floor(this.gl[0]*255),this.update(!0)}},greenGL:{get:function(){return this.gl[1]},set:function(n){this.gl[1]=Math.min(Math.abs(n),1),this.g=Math.floor(this.gl[1]*255),this.update(!0)}},blueGL:{get:function(){return this.gl[2]},set:function(n){this.gl[2]=Math.min(Math.abs(n),1),this.b=Math.floor(this.gl[2]*255),this.update(!0)}},alphaGL:{get:function(){return this.gl[3]},set:function(n){this.gl[3]=Math.min(Math.abs(n),1),this.a=Math.floor(this.gl[3]*255),this.update()}},red:{get:function(){return this.r},set:function(n){n=Math.floor(Math.abs(n)),this.r=Math.min(n,255),this.gl[0]=n/255,this.update(!0)}},green:{get:function(){return this.g},set:function(n){n=Math.floor(Math.abs(n)),this.g=Math.min(n,255),this.gl[1]=n/255,this.update(!0)}},blue:{get:function(){return this.b},set:function(n){n=Math.floor(Math.abs(n)),this.b=Math.min(n,255),this.gl[2]=n/255,this.update(!0)}},alpha:{get:function(){return this.a},set:function(n){n=Math.floor(Math.abs(n)),this.a=Math.min(n,255),this.gl[3]=n/255,this.update()}},h:{get:function(){return this._h},set:function(n){this._h=n,a(n,this._s,this._v,this)}},s:{get:function(){return this._s},set:function(n){this._s=n,a(this._h,n,this._v,this)}},v:{get:function(){return this._v},set:function(n){this._v=n,a(this._h,this._s,n,this)}}});f.exports=i},92728:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(37589),g=function(o){o===void 0&&(o=1024);var a=[],r=255,i,n=255,l=0,s=0;for(i=0;i<=r;i++)a.push({r:n,g:i,b:s,color:h(n,i,s)});for(l=255,i=r;i>=0;i--)a.push({r:i,g:l,b:s,color:h(i,l,s)});for(n=0,i=0;i<=r;i++,l--)a.push({r:n,g:l,b:i,color:h(n,l,i)});for(l=0,s=255,i=0;i<=r;i++,s--,n++)a.push({r:n,g:l,b:s,color:h(n,l,s)});if(o===1024)return a;var u=[],d=0,c=1024/o;for(i=0;i<o;i++)u.push(a[Math.floor(d)]),d+=c;return u};f.exports=g},91588:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t){var h={r:t>>16&255,g:t>>8&255,b:t&255,a:255};return t>16777215&&(h.a=t>>>24),h};f.exports=C},62957:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t){var h=t.toString(16);return h.length===1?"0"+h:h};f.exports=C},37589:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h,g){return t<<16|h<<8|g};f.exports=C},1e3:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h,g,o){return o<<24|t<<16|h<<8|g};f.exports=C},62183:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(40987),g=t(89528),o=function(a,r,i){var n=i,l=i,s=i;if(r!==0){var u=i<.5?i*(1+r):i+r-i*r,d=2*i-u;n=g(d,u,a+1/3),l=g(d,u,a),s=g(d,u,a-1/3)}var c=new h;return c.setGLTo(n,l,s,1)};f.exports=o},27939:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7537),g=function(o,a){o===void 0&&(o=1),a===void 0&&(a=1);for(var r=[],i=0;i<=359;i++)r.push(h(i/359,o,a));return r};f.exports=g},7537:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(37589);function g(a,r,i,n){var l=(a+r*6)%6,s=Math.min(l,4-l,1);return Math.round(255*(n-n*i*Math.max(0,s)))}var o=function(a,r,i,n){r===void 0&&(r=1),i===void 0&&(i=1);var l=g(5,a,r,i),s=g(3,a,r,i),u=g(1,a,r,i);return n?n.setTo?n.setTo(l,s,u,n.alpha,!0):(n.r=l,n.g=s,n.b=u,n.color=h(l,s,u),n):{r:l,g:s,b:u,color:h(l,s,u)}};f.exports=o},70238:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(40987),g=function(o){var a=new h;o=o.replace(/^(?:#|0x)?([a-f\d])([a-f\d])([a-f\d])$/i,function(s,u,d,c){return u+u+d+d+c+c});var r=/^(?:#|0x)?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(o);if(r){var i=parseInt(r[1],16),n=parseInt(r[2],16),l=parseInt(r[3],16);a.setTo(i,n,l)}return a};f.exports=g},89528:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h,g){return g<0&&(g+=1),g>1&&(g-=1),g<.16666666666666666?t+(h-t)*6*g:g<.5?h:g<.6666666666666666?t+(h-t)*(.6666666666666666-g)*6:t};f.exports=C},30100:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(40987),g=t(90664),o=function(a){var r=g(a);return new h(r.r,r.g,r.b,r.a)};f.exports=o},90664:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t){return t>16777215?{a:t>>>24,r:t>>16&255,g:t>>8&255,b:t&255}:{a:255,r:t>>16&255,g:t>>8&255,b:t&255}};f.exports=C},13699:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(28915),g=t(37589),o=function(i,n,l,s,u,d,c,v){c===void 0&&(c=100),v===void 0&&(v=0);var y=v/c,x=h(i,s,y),S=h(n,u,y),E=h(l,d,y);return{r:x,g:S,b:E,a:255,color:g(x,S,E)}},a=function(i,n,l,s){return l===void 0&&(l=100),s===void 0&&(s=0),o(i.r,i.g,i.b,n.r,n.g,n.b,l,s)},r=function(i,n,l,s,u,d){return u===void 0&&(u=100),d===void 0&&(d=0),o(i.r,i.g,i.b,n,l,s,u,d)};f.exports={RGBWithRGB:o,ColorWithRGB:r,ColorWithColor:a}},68957:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(40987),g=function(o){return new h(o.r,o.g,o.b,o.a)};f.exports=g},87388:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(40987),g=function(o){var a=new h,r=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d+(?:\.\d+)?))?\s*\)$/.exec(o.toLowerCase());if(r){var i=parseInt(r[1],10),n=parseInt(r[2],10),l=parseInt(r[3],10),s=r[4]!==void 0?parseFloat(r[4]):1;a.setTo(i,n,l,s*255)}return a};f.exports=g},87837:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h,g,o){o===void 0&&(o={h:0,s:0,v:0}),t/=255,h/=255,g/=255;var a=Math.min(t,h,g),r=Math.max(t,h,g),i=r-a,n=0,l=r===0?0:i/r,s=r;return r!==a&&(r===t?n=(h-g)/i+(h<g?6:0):r===h?n=(g-t)/i+2:r===g&&(n=(t-h)/i+4),n/=6),o.hasOwnProperty("_h")?(o._h=n,o._s=l,o._v=s):(o.h=n,o.s=l,o.v=s),o};f.exports=C},75723:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(62957),g=function(o,a,r,i,n){return i===void 0&&(i=255),n===void 0&&(n="#"),n==="#"?"#"+((1<<24)+(o<<16)+(a<<8)+r).toString(16).slice(1,7):"0x"+h(i)+h(o)+h(a)+h(r)};f.exports=g},85386:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(30976),g=t(40987),o=function(a,r){return a===void 0&&(a=0),r===void 0&&(r=255),new g(h(a,r),h(a,r),h(a,r))};f.exports=o},80333:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(70238),g=t(30100),o=t(68957),a=t(87388),r=function(i){var n=typeof i;switch(n){case"string":return i.substr(0,3).toLowerCase()==="rgb"?a(i):h(i);case"number":return g(i);case"object":return o(i)}};f.exports=r},3956:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(40987);h.ColorSpectrum=t(92728),h.ColorToRGBA=t(91588),h.ComponentToHex=t(62957),h.GetColor=t(37589),h.GetColor32=t(1e3),h.HexStringToColor=t(70238),h.HSLToColor=t(62183),h.HSVColorWheel=t(27939),h.HSVToRGB=t(7537),h.HueToComponent=t(89528),h.IntegerToColor=t(30100),h.IntegerToRGB=t(90664),h.Interpolate=t(13699),h.ObjectToColor=t(68957),h.RandomRGB=t(85386),h.RGBStringToColor=t(87388),h.RGBToHSV=t(87837),h.RGBToString=t(75723),h.ValueToColor=t(80333),f.exports=h},27460:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={Align:t(71926),BaseShader:t(73894),Bounds:t(58724),Canvas:t(26253),Color:t(3956),ColorMatrix:t(89422),Masks:t(69781),RGB:t(51767)}},6858:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(39429),o=new h({initialize:function(r,i,n,l,s,u){i||(i=r.sys.make.image({x:n,y:l,key:s,frame:u,add:!1})),this.bitmapMask=i,this.invertAlpha=!1,this.isStencil=!1},setBitmap:function(a){this.bitmapMask=a},preRenderWebGL:function(a,r,i){a.pipelines.BITMAPMASK_PIPELINE.beginMask(this,r,i)},postRenderWebGL:function(a,r,i){a.pipelines.BITMAPMASK_PIPELINE.endMask(this,r,i)},preRenderCanvas:function(){},postRenderCanvas:function(){},destroy:function(){this.bitmapMask=null}});g.register("bitmapMask",function(a,r,i,n,l){return new o(this.scene,a,r,i,n,l)}),f.exports=o},80661:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=new h({initialize:function(a,r){this.geometryMask=r,this.invertAlpha=!1,this.isStencil=!0,this.level=0},setShape:function(o){return this.geometryMask=o,this},setInvertAlpha:function(o){return o===void 0&&(o=!0),this.invertAlpha=o,this},preRenderWebGL:function(o,a,r){var i=o.gl;o.flush(),o.maskStack.length===0&&(i.enable(i.STENCIL_TEST),i.clear(i.STENCIL_BUFFER_BIT),o.maskCount=0),o.currentCameraMask.mask!==this&&(o.currentMask.mask=this),o.maskStack.push({mask:this,camera:r}),this.applyStencil(o,r,!0),o.maskCount++},applyStencil:function(o,a,r){var i=o.gl,n=this.geometryMask,l=o.maskCount,s=255;i.colorMask(!1,!1,!1,!1),r?(i.stencilFunc(i.EQUAL,l,s),i.stencilOp(i.KEEP,i.KEEP,i.INCR),l++):(i.stencilFunc(i.EQUAL,l+1,s),i.stencilOp(i.KEEP,i.KEEP,i.DECR)),this.level=l,n.renderWebGL(o,n,a),o.flush(),i.colorMask(!0,!0,!0,!0),i.stencilOp(i.KEEP,i.KEEP,i.KEEP),this.invertAlpha?i.stencilFunc(i.NOTEQUAL,l,s):i.stencilFunc(i.EQUAL,l,s)},postRenderWebGL:function(o){var a=o.gl;o.maskStack.pop(),o.maskCount--,o.flush();var r=o.currentMask;if(o.maskStack.length===0)r.mask=null,a.disable(a.STENCIL_TEST);else{var i=o.maskStack[o.maskStack.length-1];i.mask.applyStencil(o,i.camera,!1),o.currentCameraMask.mask!==i.mask?(r.mask=i.mask,r.camera=i.camera):r.mask=null}},preRenderCanvas:function(o,a,r){var i=this.geometryMask;o.currentContext.save(),i.renderCanvas(o,i,r,null,null,!0),o.currentContext.clip()},postRenderCanvas:function(o){o.currentContext.restore()},destroy:function(){this.geometryMask=null}});f.exports=g},69781:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={BitmapMask:t(6858),GeometryMask:t(80661)}},73894:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=new h({initialize:function(a,r,i,n){(!r||r==="")&&(r=["precision mediump float;","uniform vec2 resolution;","varying vec2 fragCoord;","void main () {","    vec2 uv = fragCoord / resolution.xy;","    gl_FragColor = vec4(uv.xyx, 1.0);","}"].join(`
`)),(!i||i==="")&&(i=["precision mediump float;","uniform mat4 uProjectionMatrix;","uniform mat4 uViewMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","varying vec2 fragCoord;","varying vec2 outTexCoord;","void main () {","   gl_Position = uProjectionMatrix * uViewMatrix * vec4(inPosition, 1.0, 1.0);","   fragCoord = vec2(inPosition.x, uResolution.y - inPosition.y);","   outTexCoord = vec2(inPosition.x / uResolution.x, fragCoord.y / uResolution.y);","}"].join(`
`)),n===void 0&&(n=null),this.key=a,this.fragmentSrc=r,this.vertexSrc=i,this.uniforms=n}});f.exports=g},40366:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h){var g;if(h)typeof h=="string"?g=document.getElementById(h):typeof h=="object"&&h.nodeType===1&&(g=h);else if(t.parentElement||h===null)return t;return g||(g=document.body),g.appendChild(t),t};f.exports=C},83719:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(40366),g=function(o){var a=o.config;if(!(!a.parent||!a.domCreateContainer)){var r=document.createElement("div");r.style.cssText=["display: block;","width: "+o.scale.width+"px;","height: "+o.scale.height+"px;","padding: 0; margin: 0;","position: absolute;","overflow: hidden;","pointer-events: "+a.domPointerEvents+";","transform: scale(1);","transform-origin: left top;"].join(" "),o.domContainer=r,h(r,a.parent)}};f.exports=g},57264:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25892),g=function(o){if(document.readyState==="complete"||document.readyState==="interactive"){o();return}var a=function(){document.removeEventListener("deviceready",a,!0),document.removeEventListener("DOMContentLoaded",a,!0),window.removeEventListener("load",a,!0),o()};document.body?h.cordova?document.addEventListener("deviceready",a,!1):(document.addEventListener("DOMContentLoaded",a,!0),window.addEventListener("load",a,!0)):window.setTimeout(a,20)};f.exports=g},57811:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t){if(!t)return window.innerHeight;var h=Math.abs(window.orientation),g={w:0,h:0},o=document.createElement("div");return o.setAttribute("style","position: fixed; height: 100vh; width: 0; top: 0"),document.documentElement.appendChild(o),g.w=h===90?o.offsetHeight:window.innerWidth,g.h=h===90?window.innerWidth:o.offsetHeight,document.documentElement.removeChild(o),o=null,Math.abs(window.orientation)!==90?g.h:g.w};f.exports=C},45818:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(13560),g=function(o,a){var r=window.screen,i=r?r.orientation||r.mozOrientation||r.msOrientation:!1;if(i&&typeof i.type=="string")return i.type;if(typeof i=="string")return i;if(typeof window.orientation=="number")return window.orientation===0||window.orientation===180?h.ORIENTATION.PORTRAIT:h.ORIENTATION.LANDSCAPE;if(window.matchMedia){if(window.matchMedia("(orientation: portrait)").matches)return h.ORIENTATION.PORTRAIT;if(window.matchMedia("(orientation: landscape)").matches)return h.ORIENTATION.LANDSCAPE}else return a>o?h.ORIENTATION.PORTRAIT:h.ORIENTATION.LANDSCAPE};f.exports=g},74403:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t){var h;return t!==""&&(typeof t=="string"?h=document.getElementById(t):t&&t.nodeType===1&&(h=t)),h||(h=document.body),h};f.exports=C},56836:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t){var h="";try{if(window.DOMParser){var g=new DOMParser;h=g.parseFromString(t,"text/xml")}else h=new ActiveXObject("Microsoft.XMLDOM"),h.loadXML(t)}catch{h=null}return!h||!h.documentElement||h.getElementsByTagName("parsererror").length?null:h};f.exports=C},35846:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t){t.parentNode&&t.parentNode.removeChild(t)};f.exports=C},43092:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(29747),o=new h({initialize:function(){this.isRunning=!1,this.callback=g,this.isSetTimeOut=!1,this.timeOutID=null,this.delay=0;var r=this;this.step=function i(n){r.callback(n),r.isRunning&&(r.timeOutID=window.requestAnimationFrame(i))},this.stepTimeout=function i(){r.isRunning&&(r.timeOutID=window.setTimeout(i,r.delay)),r.callback(window.performance.now())}},start:function(a,r,i){this.isRunning||(this.callback=a,this.isSetTimeOut=r,this.delay=i,this.isRunning=!0,this.timeOutID=r?window.setTimeout(this.stepTimeout,0):window.requestAnimationFrame(this.step))},stop:function(){this.isRunning=!1,this.isSetTimeOut?clearTimeout(this.timeOutID):window.cancelAnimationFrame(this.timeOutID)},destroy:function(){this.stop(),this.callback=g}});f.exports=o},84902:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h={AddToDOM:t(40366),DOMContentLoaded:t(57264),GetInnerHeight:t(57811),GetScreenOrientation:t(45818),GetTarget:t(74403),ParseXML:t(56836),RemoveFromDOM:t(35846),RequestAnimationFrame:t(43092)};f.exports=h},47565:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(50792),o=t(37277),a=new h({Extends:g,initialize:function(){g.call(this)},shutdown:function(){this.removeAllListeners()},destroy:function(){this.removeAllListeners()}});o.register("EventEmitter",a,"events"),f.exports=a},93055:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={EventEmitter:t(47565)}},20122:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(72898),o=t(14811),a=new h({Extends:g,initialize:function(i,n){n===void 0&&(n=1),g.call(this,o.BARREL,i),this.amount=n}});f.exports=a},32251:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(72898),o=t(14811),a=new h({Extends:g,initialize:function(i,n,l,s,u,d,c){l===void 0&&(l=1),s===void 0&&(s=1),u===void 0&&(u=1),d===void 0&&(d=1),c===void 0&&(c=4),g.call(this,o.BLOOM,i),this.steps=c,this.offsetX=l,this.offsetY=s,this.blurStrength=u,this.strength=d,this.glcolor=[1,1,1],n!=null&&(this.color=n)},color:{get:function(){var r=this.glcolor;return(r[0]*255<<16)+(r[1]*255<<8)+(r[2]*255|0)},set:function(r){var i=this.glcolor;i[0]=(r>>16&255)/255,i[1]=(r>>8&255)/255,i[2]=(r&255)/255}}});f.exports=a},9047:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(72898),o=t(14811),a=new h({Extends:g,initialize:function(i,n,l,s,u,d,c){n===void 0&&(n=0),l===void 0&&(l=2),s===void 0&&(s=2),u===void 0&&(u=1),c===void 0&&(c=4),g.call(this,o.BLUR,i),this.quality=n,this.x=l,this.y=s,this.steps=c,this.strength=u,this.glcolor=[1,1,1],d!=null&&(this.color=d)},color:{get:function(){var r=this.glcolor;return(r[0]*255<<16)+(r[1]*255<<8)+(r[2]*255|0)},set:function(r){var i=this.glcolor;i[0]=(r>>16&255)/255,i[1]=(r>>8&255)/255,i[2]=(r&255)/255}}});f.exports=a},27885:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(72898),o=t(14811),a=new h({Extends:g,initialize:function(i,n,l,s,u,d,c,v){n===void 0&&(n=.5),l===void 0&&(l=1),s===void 0&&(s=.2),u===void 0&&(u=!1),d===void 0&&(d=1),c===void 0&&(c=1),v===void 0&&(v=1),g.call(this,o.BOKEH,i),this.radius=n,this.amount=l,this.contrast=s,this.isTiltShift=u,this.strength=v,this.blurX=d,this.blurY=c}});f.exports=a},12578:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(72898),o=t(14811),a=new h({Extends:g,initialize:function(i,n,l,s,u,d){n===void 0&&(n=8),u===void 0&&(u=1),d===void 0&&(d=.005),g.call(this,o.CIRCLE,i),this.scale=u,this.feather=d,this.thickness=n,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4],l!=null&&(this.color=l),s!=null&&(this.backgroundColor=s)},color:{get:function(){var r=this.glcolor;return(r[0]*255<<16)+(r[1]*255<<8)+(r[2]*255|0)},set:function(r){var i=this.glcolor;i[0]=(r>>16&255)/255,i[1]=(r>>8&255)/255,i[2]=(r&255)/255}},backgroundColor:{get:function(){var r=this.glcolor2;return(r[0]*255<<16)+(r[1]*255<<8)+(r[2]*255|0)},set:function(r){var i=this.glcolor2;i[0]=(r>>16&255)/255,i[1]=(r>>8&255)/255,i[2]=(r&255)/255}},backgroundAlpha:{get:function(){return this.glcolor2[3]},set:function(r){this.glcolor2[3]=r}}});f.exports=a},15802:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(89422),o=t(14811),a=new h({Extends:g,initialize:function(i){g.call(this),this.type=o.COLOR_MATRIX,this.gameObject=i,this.active=!0},destroy:function(){this.gameObject=null,this._matrix=null,this._data=null}});f.exports=a},72898:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=new h({initialize:function(a,r){this.type=a,this.gameObject=r,this.active=!0},setActive:function(o){return this.active=o,this},destroy:function(){this.gameObject=null,this.active=!1}});f.exports=g},44553:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(72898),o=t(14811),a=new h({Extends:g,initialize:function(i,n,l,s){n===void 0&&(n="__WHITE"),l===void 0&&(l=.005),s===void 0&&(s=.005),g.call(this,o.DISPLACEMENT,i),this.x=l,this.y=s,this.glTexture,this.setTexture(n)},setTexture:function(r){var i=this.gameObject.scene.sys.textures.getFrame(r);return i&&(this.glTexture=i.glTexture),this}});f.exports=a},68531:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(72898),o=t(14811),a=new h({Extends:g,initialize:function(i,n,l,s,u){l===void 0&&(l=4),s===void 0&&(s=0),u===void 0&&(u=!1),g.call(this,o.GLOW,i),this.outerStrength=l,this.innerStrength=s,this.knockout=u,this.glcolor=[1,1,1,1],n!==void 0&&(this.color=n)},color:{get:function(){var r=this.glcolor;return(r[0]*255<<16)+(r[1]*255<<8)+(r[2]*255|0)},set:function(r){var i=this.glcolor;i[0]=(r>>16&255)/255,i[1]=(r>>8&255)/255,i[2]=(r&255)/255}}});f.exports=a},37102:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(72898),o=t(14811),a=new h({Extends:g,initialize:function(i,n,l,s,u,d,c,v,y){s===void 0&&(s=.2),u===void 0&&(u=0),d===void 0&&(d=0),c===void 0&&(c=0),v===void 0&&(v=1),y===void 0&&(y=0),g.call(this,o.GRADIENT,i),this.alpha=s,this.size=y,this.fromX=u,this.fromY=d,this.toX=c,this.toY=v,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0],n!=null&&(this.color1=n),l!=null&&(this.color2=l)},color1:{get:function(){var r=this.glcolor1;return(r[0]<<16)+(r[1]<<8)+(r[2]|0)},set:function(r){var i=this.glcolor1;i[0]=r>>16&255,i[1]=r>>8&255,i[2]=r&255}},color2:{get:function(){var r=this.glcolor2;return(r[0]<<16)+(r[1]<<8)+(r[2]|0)},set:function(r){var i=this.glcolor2;i[0]=r>>16&255,i[1]=r>>8&255,i[2]=r&255}}});f.exports=a},86886:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(72898),o=t(14811),a=new h({Extends:g,initialize:function(i,n){n===void 0&&(n=1),g.call(this,o.PIXELATE,i),this.amount=n}});f.exports=a},92322:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(72898),o=t(14811),a=new h({Extends:g,initialize:function(i,n,l,s,u,d,c,v){n===void 0&&(n=0),l===void 0&&(l=0),s===void 0&&(s=.1),u===void 0&&(u=1),c===void 0&&(c=6),v===void 0&&(v=1),g.call(this,o.SHADOW,i),this.x=n,this.y=l,this.decay=s,this.power=u,this.glcolor=[0,0,0,1],this.samples=c,this.intensity=v,d!==void 0&&(this.color=d)},color:{get:function(){var r=this.glcolor;return(r[0]*255<<16)+(r[1]*255<<8)+(r[2]*255|0)},set:function(r){var i=this.glcolor;i[0]=(r>>16&255)/255,i[1]=(r>>8&255)/255,i[2]=(r&255)/255}}});f.exports=a},39563:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(72898),o=t(14811),a=new h({Extends:g,initialize:function(i,n,l,s,u){n===void 0&&(n=.5),l===void 0&&(l=.5),s===void 0&&(s=3),u===void 0&&(u=!1),g.call(this,o.SHINE,i),this.speed=n,this.lineWidth=l,this.gradient=s,this.reveal=u}});f.exports=a},56448:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(72898),o=t(14811),a=new h({Extends:g,initialize:function(i,n,l,s,u){n===void 0&&(n=.5),l===void 0&&(l=.5),s===void 0&&(s=.5),u===void 0&&(u=.5),g.call(this,o.VIGNETTE,i),this.x=n,this.y=l,this.radius=s,this.strength=u}});f.exports=a},38433:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(72898),o=t(14811),a=new h({Extends:g,initialize:function(i,n,l,s,u){n===void 0&&(n=.1),l===void 0&&(l=0),s===void 0&&(s=0),u===void 0&&(u=!1),g.call(this,o.WIPE,i),this.progress=0,this.wipeWidth=n,this.direction=l,this.axis=s,this.reveal=u}});f.exports=a},14811:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={GLOW:4,SHADOW:5,PIXELATE:6,VIGNETTE:7,SHINE:8,BLUR:9,GRADIENT:12,BLOOM:13,COLOR_MATRIX:14,CIRCLE:15,BARREL:16,DISPLACEMENT:17,WIPE:18,BOKEH:19};f.exports=C},66064:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(79291),g=t(14811),o={Barrel:t(20122),Controller:t(72898),Bloom:t(32251),Blur:t(9047),Bokeh:t(27885),Circle:t(12578),ColorMatrix:t(15802),Displacement:t(44553),Glow:t(68531),Gradient:t(37102),Pixelate:t(86886),Shadow:t(92322),Shine:t(39563),Vignette:t(56448),Wipe:t(38433)};o=h(!1,o,g),f.exports=o},25305:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(10312),g=t(23568),o=function(a,r,i){r.x=g(i,"x",0),r.y=g(i,"y",0),r.depth=g(i,"depth",0),r.flipX=g(i,"flipX",!1),r.flipY=g(i,"flipY",!1);var n=g(i,"scale",null);typeof n=="number"?r.setScale(n):n!==null&&(r.scaleX=g(n,"x",1),r.scaleY=g(n,"y",1));var l=g(i,"scrollFactor",null);typeof l=="number"?r.setScrollFactor(l):l!==null&&(r.scrollFactorX=g(l,"x",1),r.scrollFactorY=g(l,"y",1)),r.rotation=g(i,"rotation",0);var s=g(i,"angle",null);s!==null&&(r.angle=s),r.alpha=g(i,"alpha",1);var u=g(i,"origin",null);if(typeof u=="number")r.setOrigin(u);else if(u!==null){var d=g(u,"x",.5),c=g(u,"y",.5);r.setOrigin(d,c)}r.blendMode=g(i,"blendMode",h.NORMAL),r.visible=g(i,"visible",!0);var v=g(i,"add",!0);return v&&a.sys.displayList.add(r),r.preUpdate&&a.sys.updateList.add(r),r};f.exports=o},13059:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(23568),g=function(o,a){var r=h(a,"anims",null);if(r===null)return o;if(typeof r=="string")o.anims.play(r);else if(typeof r=="object"){var i=o.anims,n=h(r,"key",void 0);if(n){var l=h(r,"startFrame",void 0),s=h(r,"delay",0),u=h(r,"repeat",0),d=h(r,"repeatDelay",0),c=h(r,"yoyo",!1),v=h(r,"play",!1),y=h(r,"delayedPlay",0),x={key:n,delay:s,repeat:u,repeatDelay:d,yoyo:c,startFrame:l};v?i.play(x):y>0?i.playAfterDelay(x,y):i.load(x)}}return o};f.exports=g},8050:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(73162),o=t(37277),a=t(51708),r=t(44594),i=t(19186),n=new h({Extends:g,initialize:function(s){g.call(this,s),this.sortChildrenFlag=!1,this.scene=s,this.systems=s.sys,this.events=s.sys.events,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.events.once(r.BOOT,this.boot,this),this.events.on(r.START,this.start,this)},boot:function(){this.events.once(r.DESTROY,this.destroy,this)},addChildCallback:function(l){l.displayList&&l.displayList!==this&&l.removeFromDisplayList(),l.parentContainer&&l.parentContainer.remove(l),l.displayList||(this.queueDepthSort(),l.displayList=this,l.emit(a.ADDED_TO_SCENE,l,this.scene),this.events.emit(r.ADDED_TO_SCENE,l,this.scene))},removeChildCallback:function(l){this.queueDepthSort(),l.displayList=null,l.emit(a.REMOVED_FROM_SCENE,l,this.scene),this.events.emit(r.REMOVED_FROM_SCENE,l,this.scene)},start:function(){this.events.once(r.SHUTDOWN,this.shutdown,this)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(i(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(l,s){return l._depth-s._depth},getChildren:function(){return this.list},shutdown:function(){for(var l=this.list,s=l.length;s--;)l[s].destroy(!0);l.length=0,this.events.off(r.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(r.START,this.start,this),this.scene=null,this.systems=null,this.events=null}});o.register("DisplayList",n,"displayList"),f.exports=n},95643:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(53774),o=t(45893),a=t(50792),r=t(51708),i=t(44594),n=new h({Extends:a,initialize:function(s,u){a.call(this),this.scene=s,this.displayList=null,this.type=u,this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.on(r.ADDED_TO_SCENE,this.addedToScene,this),this.on(r.REMOVED_FROM_SCENE,this.removedFromScene,this),s.sys.queueDepthSort()},setActive:function(l){return this.active=l,this},setName:function(l){return this.name=l,this},setState:function(l){return this.state=l,this},setDataEnabled:function(){return this.data||(this.data=new o(this)),this},setData:function(l,s){return this.data||(this.data=new o(this)),this.data.set(l,s),this},incData:function(l,s){return this.data||(this.data=new o(this)),this.data.inc(l,s),this},toggleData:function(l){return this.data||(this.data=new o(this)),this.data.toggle(l),this},getData:function(l){return this.data||(this.data=new o(this)),this.data.get(l)},setInteractive:function(l,s,u){return this.scene.sys.input.enable(this,l,s,u),this},disableInteractive:function(l){return l===void 0&&(l=!1),this.scene.sys.input.disable(this,l),this},removeInteractive:function(l){return l===void 0&&(l=!1),this.scene.sys.input.clear(this),l&&this.scene.sys.input.resetCursor(),this.input=void 0,this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return g(this)},willRender:function(l){var s=this.displayList&&this.displayList.active?this.displayList.willRender(l):!0;return!(!s||n.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&l.id)},getIndexList:function(){for(var l=this,s=this.parentContainer,u=[];s&&(u.unshift(s.getIndex(l)),l=s,s.parentContainer);)s=s.parentContainer;return this.displayList?u.unshift(this.displayList.getIndex(l)):u.unshift(this.scene.sys.displayList.getIndex(l)),u},addToDisplayList:function(l){return l===void 0&&(l=this.scene.sys.displayList),this.displayList&&this.displayList!==l&&this.removeFromDisplayList(),l.exists(this)||(this.displayList=l,l.add(this,!0),l.queueDepthSort(),this.emit(r.ADDED_TO_SCENE,this,this.scene),l.events.emit(i.ADDED_TO_SCENE,this,this.scene)),this},addToUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.add(this),this},removeFromDisplayList:function(){var l=this.displayList||this.scene.sys.displayList;return l&&l.exists(this)&&(l.remove(this,!0),l.queueDepthSort(),this.displayList=null,this.emit(r.REMOVED_FROM_SCENE,this,this.scene),l.events.emit(i.REMOVED_FROM_SCENE,this,this.scene)),this},removeFromUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.remove(this),this},getDisplayList:function(){var l=null;return this.parentContainer?l=this.parentContainer.list:this.displayList&&(l=this.displayList.list),l},destroy:function(l){!this.scene||this.ignoreDestroy||(l===void 0&&(l=!1),this.preDestroy&&this.preDestroy.call(this),this.emit(r.DESTROY,this,l),this.removeAllListeners(),this.postPipelines&&this.resetPostPipeline(!0),this.removeFromDisplayList(),this.removeFromUpdateList(),this.input&&(this.scene.sys.input.clear(this),this.input=void 0),this.data&&(this.data.destroy(),this.data=void 0),this.body&&(this.body.destroy(),this.body=void 0),this.preFX&&(this.preFX.destroy(),this.preFX=void 0),this.postFX&&(this.postFX.destroy(),this.postFX=void 0),this.active=!1,this.visible=!1,this.scene=void 0,this.parentContainer=void 0)}});n.RENDER_MASK=15,f.exports=n},44603:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(37277),o=t(44594),a=new h({initialize:function(i){this.scene=i,this.systems=i.sys,this.events=i.sys.events,this.displayList,this.updateList,this.events.once(o.BOOT,this.boot,this),this.events.on(o.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(o.DESTROY,this.destroy,this)},start:function(){this.events.once(o.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.events.off(o.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(o.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});a.register=function(r,i){a.prototype.hasOwnProperty(r)||(a.prototype[r]=i)},a.remove=function(r){a.prototype.hasOwnProperty(r)&&delete a.prototype[r]},g.register("GameObjectCreator",a,"make"),f.exports=a},39429:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(37277),o=t(44594),a=new h({initialize:function(i){this.scene=i,this.systems=i.sys,this.events=i.sys.events,this.displayList,this.updateList,this.events.once(o.BOOT,this.boot,this),this.events.on(o.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(o.DESTROY,this.destroy,this)},start:function(){this.events.once(o.SHUTDOWN,this.shutdown,this)},existing:function(r){return(r.renderCanvas||r.renderWebGL)&&this.displayList.add(r),r.preUpdate&&this.updateList.add(r),r},shutdown:function(){this.events.off(o.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(o.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});a.register=function(r,i){a.prototype.hasOwnProperty(r)||(a.prototype[r]=i)},a.remove=function(r){a.prototype.hasOwnProperty(r)&&delete a.prototype[r]},g.register("GameObjectFactory",a,"add"),f.exports=a},91296:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(61340),g=new h,o=new h,a=new h,r={camera:g,sprite:o,calc:a},i=function(n,l,s){var u=g,d=o,c=a;return d.applyITRS(n.x,n.y,n.rotation,n.scaleX,n.scaleY),u.copyFrom(l.matrix),s?(u.multiplyWithOffset(s,-l.scrollX*n.scrollFactorX,-l.scrollY*n.scrollFactorY),d.e=n.x,d.f=n.y):(d.e-=l.scrollX*n.scrollFactorX,d.f-=l.scrollY*n.scrollFactorY),u.multiply(d,c),r};f.exports=i},45027:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(25774),o=t(37277),a=t(44594),r=new h({Extends:g,initialize:function(n){g.call(this),this.checkQueue=!0,this.scene=n,this.systems=n.sys,n.sys.events.once(a.BOOT,this.boot,this),n.sys.events.on(a.START,this.start,this)},boot:function(){this.systems.events.once(a.DESTROY,this.destroy,this)},start:function(){var i=this.systems.events;i.on(a.PRE_UPDATE,this.update,this),i.on(a.UPDATE,this.sceneUpdate,this),i.once(a.SHUTDOWN,this.shutdown,this)},sceneUpdate:function(i,n){for(var l=this._active,s=l.length,u=0;u<s;u++){var d=l[u];d.active&&d.preUpdate.call(d,i,n)}},shutdown:function(){for(var i=this._active.length;i--;)this._active[i].destroy(!0);for(i=this._pending.length;i--;)this._pending[i].destroy(!0);for(i=this._destroy.length;i--;)this._destroy[i].destroy(!0);this._toProcess=0,this._pending=[],this._active=[],this._destroy=[],this.removeAllListeners();var n=this.systems.events;n.off(a.PRE_UPDATE,this.update,this),n.off(a.UPDATE,this.sceneUpdate,this),n.off(a.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.systems.events.off(a.START,this.start,this),this.scene=null,this.systems=null}});o.register("UpdateList",r,"updateList"),f.exports=r},3217:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h,g,o,a,r,i,n,l,s,u,d,c,v,y){var x=g.x-h.displayOriginX+a,S=g.y-h.displayOriginY+r,E=x+g.w,A=S+g.h,R=i.a,w=i.b,I=i.c,O=i.d,F=i.e,L=i.f,D=x*R+S*I+F,b=x*w+S*O+L,G=x*R+A*I+F,W=x*w+A*O+L,Y=E*R+A*I+F,H=E*w+A*O+L,U=E*R+S*I+F,X=E*w+S*O+L;n&&(D=Math.round(D),b=Math.round(b),G=Math.round(G),W=Math.round(W),Y=Math.round(Y),H=Math.round(H),U=Math.round(U),X=Math.round(X)),t.batchQuad(h,D,b,G,W,Y,H,U,X,o.u0,o.v0,o.u1,o.v1,l,s,u,d,c,v,y)};f.exports=C},53048:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h,g,o){if(g===void 0&&(g=!1),o===void 0)return o={local:{x:0,y:0,width:0,height:0},global:{x:0,y:0,width:0,height:0},lines:{shortest:0,longest:0,lengths:null,height:0},wrappedText:"",words:[],characters:[],scaleX:0,scaleY:0},o;var a=t.text,r=a.length,i=t.maxWidth,n=t.wordWrapCharCode,l=Number.MAX_VALUE,s=Number.MAX_VALUE,u=0,d=0,c=t.fontData.chars,v=t.fontData.lineHeight,y=t.letterSpacing,x=t.lineSpacing,S=0,E=0,A=0,R=null,w=t._align,I=0,O=0,F=t.fontSize/t.fontData.size,L=F*t.scaleX,D=F*t.scaleY,b=null,G=0,W=[],Y=Number.MAX_VALUE,H=0,U=0,X=0,V,B,z,K=[],k=[],J=null,q=function(Xt,qt){for(var Nt=0,Jt=0;Jt<Xt.length;Jt++){var le=Xt.charCodeAt(Jt),jt=qt.chars[le];jt&&(Nt+=jt.xAdvance)}return Nt*L};if(i>0){z=a.split(`
`);var j=[];for(V=0;V<z.length;V++){var Z=z[V],_="",et="",it="",st="";for(B=0;B<Z.length;B++)if(A=Z.charCodeAt(B),_+=Z[B],A===n||B===Z.length-1){st=it+_;var nt=q(st,t.fontData);nt<=i?it=st:(et=et.slice(0,-1),et+=(et?`
`:"")+it,it=_),_=""}et=et.slice(0,-1),et+=(et?`
`:"")+it,j.push(et)}a=j.join(`
`),o.wrappedText=a,r=a.length}var ut=0;for(V=0;V<r;V++){if(A=a.charCodeAt(V),A===10){J!==null&&(K.push({word:J.word,i:J.i,x:J.x*L,y:J.y*D,w:J.w*L,h:J.h*D}),J=null),b=null,W[U]=X,X>H&&(H=X),X<Y&&(Y=X),U++,X=0,S=0,E=(v+x)*U;continue}if(R=c[A],!!R){if(I=S,O=E,b!==null){var ft=R.kerning[G];I+=ft!==void 0?ft:0}l>I&&(l=I),s>O&&(s=O);var ht=I+R.xAdvance,rt=O+v;u<ht&&(u=ht),d<rt&&(d=rt);var lt=R.xOffset+R.xAdvance+(ft!==void 0?ft:0);A===n?J!==null&&(K.push({word:J.word,i:J.i,x:J.x*L,y:J.y*D,w:J.w*L,h:J.h*D}),J=null):(J===null&&(J={word:"",i:ut,x:S,y:E,w:0,h:v}),J.word=J.word.concat(a[V]),J.w+=lt),k.push({i:ut,idx:V,char:a[V],code:A,x:(R.xOffset+I)*F,y:(R.yOffset+E)*F,w:R.width*F,h:R.height*F,t:E*F,r:ht*F,b:v*F,line:U,glyph:R}),S+=R.xAdvance+y+(ft!==void 0?ft:0),b=R,G=A,X=ht*F,ut++}}if(J!==null&&K.push({word:J.word,i:J.i,x:J.x*L,y:J.y*D,w:J.w*L,h:J.h*D}),W[U]=X,X>H&&(H=X),X<Y&&(Y=X),w>0)for(var dt=0;dt<k.length;dt++){var yt=k[dt];if(w===1){var xt=(H-W[yt.line])/2;yt.x+=xt,yt.r+=xt}else if(w===2){var At=H-W[yt.line];yt.x+=At,yt.r+=At}}var Et=o.local,Lt=o.global;return z=o.lines,Et.x=l*F,Et.y=s*F,Et.width=u*F,Et.height=d*F,Lt.x=t.x-t._displayOriginX+l*L,Lt.y=t.y-t._displayOriginY+s*D,Lt.width=u*L,Lt.height=d*D,z.shortest=Y,z.longest=H,z.lengths=W,h&&(Et.x=Math.ceil(Et.x),Et.y=Math.ceil(Et.y),Et.width=Math.ceil(Et.width),Et.height=Math.ceil(Et.height),Lt.x=Math.ceil(Lt.x),Lt.y=Math.ceil(Lt.y),Lt.width=Math.ceil(Lt.width),Lt.height=Math.ceil(Lt.height),z.shortest=Math.ceil(Y),z.longest=Math.ceil(H)),g&&(t._displayOriginX=t.originX*Et.width,t._displayOriginY=t.originY*Et.height,Lt.x=t.x-t._displayOriginX*t.scaleX,Lt.y=t.y-t._displayOriginY*t.scaleY,h&&(Lt.x=Math.ceil(Lt.x),Lt.y=Math.ceil(Lt.y))),o.words=K,o.characters=k,o.lines.height=v,o.scale=F,o.scaleX=t.scaleX,o.scaleY=t.scaleY,o};f.exports=C},61327:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(21859),g=function(o,a,r,i,n,l,s){var u=o.sys.textures.get(r),d=u.get(i),c=o.sys.cache.xml.get(n);if(d&&c){var v=h(c,d,l,s,u);return o.sys.cache.bitmapFont.add(a,{data:v,texture:r,frame:i,fromAtlas:!0}),!0}else return!1};f.exports=g},6925:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(35154),g=function(o,a){var r=a.width,i=a.height,n=Math.floor(r/2),l=Math.floor(i/2),s=h(a,"chars","");if(s!==""){var u=h(a,"image",""),d=o.sys.textures.getFrame(u),c=d.cutX,v=d.cutY,y=d.source.width,x=d.source.height,S=h(a,"offset.x",0),E=h(a,"offset.y",0),A=h(a,"spacing.x",0),R=h(a,"spacing.y",0),w=h(a,"lineSpacing",0),I=h(a,"charsPerRow",null);I===null&&(I=y/r,I>s.length&&(I=s.length));for(var O=S,F=E,L={retroFont:!0,font:u,size:r,lineHeight:i+w,chars:{}},D=0,b=0;b<s.length;b++){var G=s.charCodeAt(b),W=(c+O)/y,Y=(v+F)/x,H=(c+O+r)/y,U=(v+F+i)/x;L.chars[G]={x:O,y:F,width:r,height:i,centerX:n,centerY:l,xOffset:0,yOffset:0,xAdvance:r,data:{},kerning:{},u0:W,v0:Y,u1:H,v1:U},D++,D===I?(D=0,O=S,F+=i+R):O+=r+A}var X={data:L,frame:null,texture:u};return X}};f.exports=g},21859:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function C(h,g){return parseInt(h.getAttribute(g),10)}var t=function(h,g,o,a,r){o===void 0&&(o=0),a===void 0&&(a=0);var i=g.cutX,n=g.cutY,l=g.source.width,s=g.source.height,u=g.sourceIndex,d={},c=h.getElementsByTagName("info")[0],v=h.getElementsByTagName("common")[0];d.font=c.getAttribute("face"),d.size=C(c,"size"),d.lineHeight=C(v,"lineHeight")+a,d.chars={};var y=h.getElementsByTagName("char"),x=g!==void 0&&g.trimmed;if(x)var S=g.height,E=g.width;for(var A=0;A<y.length;A++){var R=y[A],w=C(R,"id"),I=String.fromCharCode(w),O=C(R,"x"),F=C(R,"y"),L=C(R,"width"),D=C(R,"height");x&&(O<E&&(E=O),F<S&&(S=F)),x&&S!==0&&E!==0&&(O-=g.x,F-=g.y);var b=(i+O)/l,G=(n+F)/s,W=(i+O+L)/l,Y=(n+F+D)/s;if(d.chars[w]={x:O,y:F,width:L,height:D,centerX:Math.floor(L/2),centerY:Math.floor(D/2),xOffset:C(R,"xoffset"),yOffset:C(R,"yoffset"),xAdvance:C(R,"xadvance")+o,data:{},kerning:{},u0:b,v0:G,u1:W,v1:Y},r&&L!==0&&D!==0){var H=r.add(I,u,O,F,L,D);H&&H.setUVs(L,D,b,G,W,Y)}}var U=h.getElementsByTagName("kerning");for(A=0;A<U.length;A++){var X=U[A],V=C(X,"first"),B=C(X,"second"),z=C(X,"amount");d.chars[B].kerning[V]=z}return d};f.exports=t},196:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87662),g=t(79291),o={Parse:t(6925)};o=g(!1,o,h),f.exports=o},87662:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={TEXT_SET1:" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",TEXT_SET2:` !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ`,TEXT_SET3:"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ",TEXT_SET4:"ABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789",TEXT_SET5:"ABCDEFGHIJKLMNOPQRSTUVWXYZ.,/() '!?-*:0123456789",TEXT_SET6:`ABCDEFGHIJKLMNOPQRSTUVWXYZ!?:;0123456789"(),-.' `,TEXT_SET7:`AGMSY+:4BHNTZ!;5CIOU.?06DJPV,(17EKQW")28FLRX-'39`,TEXT_SET8:"0123456789 .ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET9:`ABCDEFGHIJKLMNOPQRSTUVWXYZ()-0123456789.:,'"?!`,TEXT_SET10:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET11:`ABCDEFGHIJKLMNOPQRSTUVWXYZ.,"-+!?()':;0123456789`};f.exports=C},2638:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(22186),g=t(83419),o=t(12310),a=new g({Extends:h,Mixins:[o],initialize:function(i,n,l,s,u,d,c){h.call(this,i,n,l,s,u,d,c),this.type="DynamicBitmapText",this.scrollX=0,this.scrollY=0,this.cropWidth=0,this.cropHeight=0,this.displayCallback,this.callbackData={parent:this,color:0,tint:{topLeft:0,topRight:0,bottomLeft:0,bottomRight:0},index:0,charCode:0,x:0,y:0,scale:0,rotation:0,data:0}},setSize:function(r,i){return this.cropWidth=r,this.cropHeight=i,this},setDisplayCallback:function(r){return this.displayCallback=r,this},setScrollX:function(r){return this.scrollX=r,this},setScrollY:function(r){return this.scrollY=r,this}});f.exports=a},86741:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(20926),g=function(o,a,r,i){var n=a._text,l=n.length,s=o.currentContext;if(!(l===0||!h(o,s,a,r,i))){r.addToRenderList(a);var u=a.fromAtlas?a.frame:a.texture.frames.__BASE,d=a.displayCallback,c=a.callbackData,v=a.fontData.chars,y=a.fontData.lineHeight,x=a._letterSpacing,S=0,E=0,A=0,R=null,w=0,I=0,O=0,F=0,L=0,D=0,b=null,G=0,W=a.frame.source.image,Y=u.cutX,H=u.cutY,U=0,X=0,V=a._fontSize/a.fontData.size,B=a._align,z=0,K=0;a.getTextBounds(!1);var k=a._bounds.lines;B===1?K=(k.longest-k.lengths[0])/2:B===2&&(K=k.longest-k.lengths[0]),s.translate(-a.displayOriginX,-a.displayOriginY);var J=r.roundPixels;a.cropWidth>0&&a.cropHeight>0&&(s.beginPath(),s.rect(0,0,a.cropWidth,a.cropHeight),s.clip());for(var q=0;q<l;q++){if(X=V,U=0,A=n.charCodeAt(q),A===10){z++,B===1?K=(k.longest-k.lengths[z])/2:B===2&&(K=k.longest-k.lengths[z]),S=0,E+=y,b=null;continue}if(R=v[A],!!R){if(w=Y+R.x,I=H+R.y,O=R.width,F=R.height,L=R.xOffset+S-a.scrollX,D=R.yOffset+E-a.scrollY,b!==null){var j=R.kerning[G];L+=j!==void 0?j:0}if(d){c.index=q,c.charCode=A,c.x=L,c.y=D,c.scale=X,c.rotation=U,c.data=R.data;var Z=d(c);L=Z.x,D=Z.y,X=Z.scale,U=Z.rotation}L*=X,D*=X,L+=K,S+=R.xAdvance+x+(j!==void 0?j:0),b=R,G=A,!(O===0||F===0||A===32)&&(J&&(L=Math.round(L),D=Math.round(D)),s.save(),s.translate(L,D),s.rotate(U),s.scale(X,X),s.drawImage(W,w,I,O,F,0,0,O,F),s.restore())}}s.restore()}};f.exports=g},11164:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2638),g=t(25305),o=t(44603),a=t(23568);o.register("dynamicBitmapText",function(r,i){r===void 0&&(r={});var n=a(r,"font",""),l=a(r,"text",""),s=a(r,"size",!1),u=new h(this.scene,0,0,n,l,s);return i!==void 0&&(r.add=i),g(this.scene,u,r),u})},72566:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2638),g=t(39429);g.register("dynamicBitmapText",function(o,a,r,i,n){return this.displayList.add(new h(this.scene,o,a,r,i,n))})},12310:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),g=h,o=h;g=t(73482),o=t(86741),f.exports={renderWebGL:g,renderCanvas:o}},73482:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91296),g=t(61340),o=t(70554),a=new g,r=function(i,n,l,s){var u=n.text,d=u.length;if(d!==0){l.addToRenderList(n);var c=i.pipelines.set(n.pipeline,n),v=h(n,l,s);i.pipelines.preBatch(n);var y=v.sprite,x=v.calc,S=a,E=n.cropWidth>0||n.cropHeight>0;E&&(c.flush(),i.pushScissor(x.tx,x.ty,n.cropWidth*x.scaleX,n.cropHeight*x.scaleY));var A=n.frame,R=A.glTexture,w=n.tintFill,I=o.getTintAppendFloatAlpha(n.tintTopLeft,l.alpha*n._alphaTL),O=o.getTintAppendFloatAlpha(n.tintTopRight,l.alpha*n._alphaTR),F=o.getTintAppendFloatAlpha(n.tintBottomLeft,l.alpha*n._alphaBL),L=o.getTintAppendFloatAlpha(n.tintBottomRight,l.alpha*n._alphaBR),D=c.setGameObject(n),b=0,G=0,W=0,Y=0,H=n.letterSpacing,U,X=0,V=0,B,z=n.scrollX,K=n.scrollY,k=n.fontData,J=k.chars,q=k.lineHeight,j=n.fontSize/k.size,Z=0,_=n._align,et=0,it=0,st=n.getTextBounds(!1);n.maxWidth>0&&(u=st.wrappedText,d=u.length);var nt=n._bounds.lines;_===1?it=(nt.longest-nt.lengths[0])/2:_===2&&(it=nt.longest-nt.lengths[0]);for(var ut=l.roundPixels,ft=n.displayCallback,ht=n.callbackData,rt=0;rt<d;rt++){if(W=u.charCodeAt(rt),W===10){et++,_===1?it=(nt.longest-nt.lengths[et])/2:_===2&&(it=nt.longest-nt.lengths[et]),b=0,G+=q,B=null;continue}if(U=J[W],!!U){X=U.width,V=U.height;var lt=U.xOffset+b-z,dt=U.yOffset+G-K;if(B!==null){var yt=U.kerning[Y]||0;lt+=yt,b+=yt}if(b+=U.xAdvance+H,B=U,Y=W,!(X===0||V===0||W===32)){if(j=n.fontSize/n.fontData.size,Z=0,ft){ht.color=0,ht.tint.topLeft=I,ht.tint.topRight=O,ht.tint.bottomLeft=F,ht.tint.bottomRight=L,ht.index=rt,ht.charCode=W,ht.x=lt,ht.y=dt,ht.scale=j,ht.rotation=Z,ht.data=U.data;var xt=ft(ht);lt=xt.x,dt=xt.y,j=xt.scale,Z=xt.rotation,xt.color?(I=xt.color,O=xt.color,F=xt.color,L=xt.color):(I=xt.tint.topLeft,O=xt.tint.topRight,F=xt.tint.bottomLeft,L=xt.tint.bottomRight),I=o.getTintAppendFloatAlpha(I,l.alpha*n._alphaTL),O=o.getTintAppendFloatAlpha(O,l.alpha*n._alphaTR),F=o.getTintAppendFloatAlpha(F,l.alpha*n._alphaBL),L=o.getTintAppendFloatAlpha(L,l.alpha*n._alphaBR)}lt*=j,dt*=j,lt-=n.displayOriginX,dt-=n.displayOriginY,lt+=it,S.applyITRS(lt,dt,Z,j,j),x.multiply(S,y);var At=U.u0,Et=U.v0,Lt=U.u1,Xt=U.v1,qt=X,Nt=V,Jt=y.e,le=y.f,jt=Nt*y.c+y.e,Pe=Nt*y.d+y.f,Ei=qt*y.a+Nt*y.c+y.e,Ii=qt*y.b+Nt*y.d+y.f,Gi=qt*y.a+y.e,zi=qt*y.b+y.f;ut&&(Jt=Math.round(Jt),le=Math.round(le),jt=Math.round(jt),Pe=Math.round(Pe),Ei=Math.round(Ei),Ii=Math.round(Ii),Gi=Math.round(Gi),zi=Math.round(zi)),c.shouldFlush(6)&&(c.flush(),D=c.setGameObject(n)),c.batchQuad(n,Jt,le,jt,Pe,Ei,Ii,Gi,zi,At,Et,Lt,Xt,I,O,F,L,w,R,D)}}}E&&(c.flush(),i.popScissor()),i.pipelines.postBatch(n)}};f.exports=r},22186:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(45319),o=t(31401),a=t(95643),r=t(53048),i=t(61327),n=t(21859),l=t(87841),s=t(18658),u=new h({Extends:a,Mixins:[o.Alpha,o.BlendMode,o.Depth,o.GetBounds,o.Mask,o.Origin,o.Pipeline,o.PostPipeline,o.ScrollFactor,o.Texture,o.Tint,o.Transform,o.Visible,s],initialize:function(c,v,y,x,S,E,A){S===void 0&&(S=""),A===void 0&&(A=0),a.call(this,c,"BitmapText"),this.font=x;var R=this.scene.sys.cache.bitmapFont.get(x);if(!R)throw new Error("Invalid BitmapText key: "+x);this.fontData=R.data,this._text="",this._fontSize=E||this.fontData.size,this._letterSpacing=0,this._lineSpacing=0,this._align=A,this._bounds=r(),this._dirty=!0,this._maxWidth=0,this.wordWrapCharCode=32,this.charColors=[],this.dropShadowX=0,this.dropShadowY=0,this.dropShadowColor=0,this.dropShadowAlpha=.5,this.fromAtlas=R.fromAtlas,this.setTexture(R.texture,R.frame),this.setPosition(v,y),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(),this.setText(S)},setLeftAlign:function(){return this._align=u.ALIGN_LEFT,this._dirty=!0,this},setCenterAlign:function(){return this._align=u.ALIGN_CENTER,this._dirty=!0,this},setRightAlign:function(){return this._align=u.ALIGN_RIGHT,this._dirty=!0,this},setFontSize:function(d){return this._fontSize=d,this._dirty=!0,this},setLetterSpacing:function(d){return d===void 0&&(d=0),this._letterSpacing=d,this._dirty=!0,this},setLineSpacing:function(d){return d===void 0&&(d=0),this.lineSpacing=d,this},setText:function(d){return!d&&d!==0&&(d=""),Array.isArray(d)&&(d=d.join(`
`)),d!==this.text&&(this._text=d.toString(),this._dirty=!0,this.updateDisplayOrigin()),this},setDropShadow:function(d,c,v,y){return d===void 0&&(d=0),c===void 0&&(c=0),v===void 0&&(v=0),y===void 0&&(y=.5),this.dropShadowX=d,this.dropShadowY=c,this.dropShadowColor=v,this.dropShadowAlpha=y,this},setCharacterTint:function(d,c,v,y,x,S,E){d===void 0&&(d=0),c===void 0&&(c=1),v===void 0&&(v=!1),y===void 0&&(y=-1),x===void 0&&(x=y,S=y,E=y);var A=this.text.length;c===-1&&(c=A),d<0&&(d=A+d),d=g(d,0,A-1);for(var R=g(d+c,d,A),w=this.charColors,I=d;I<R;I++){var O=w[I];if(y===-1)w[I]=null;else{var F=v?1:0;O?(O.tintEffect=F,O.tintTL=y,O.tintTR=x,O.tintBL=S,O.tintBR=E):w[I]={tintEffect:F,tintTL:y,tintTR:x,tintBL:S,tintBR:E}}}return this},setWordTint:function(d,c,v,y,x,S,E){c===void 0&&(c=1);for(var A=this.getTextBounds(),R=A.words,w=typeof d=="number",I=0,O=0;O<R.length;O++){var F=R[O];if((w&&O===d||!w&&F.word===d)&&(this.setCharacterTint(F.i,F.word.length,v,y,x,S,E),I++,I===c))return this}return this},getTextBounds:function(d){var c=this._bounds;return(this._dirty||d||this.scaleX!==c.scaleX||this.scaleY!==c.scaleY)&&(r(this,d,!0,c),this._dirty=!1),c},getCharacterAt:function(d,c,v){for(var y=this.getLocalPoint(d,c,null,v),x=this.getTextBounds(),S=x.characters,E=new l,A=0;A<S.length;A++){var R=S[A];if(E.setTo(R.x,R.t,R.r-R.x,R.b),E.contains(y.x,y.y))return R}return null},updateDisplayOrigin:function(){return this._dirty=!0,this.getTextBounds(!1),this},setFont:function(d,c,v){c===void 0&&(c=this._fontSize),v===void 0&&(v=this._align);var y=this.scene.sys.cache.bitmapFont.get(d);return y&&(this.font=d,this.fontData=y.data,this._fontSize=c,this._align=v,this.fromAtlas=y.fromAtlas===!0,this.setTexture(y.texture,y.frame),r(this,!1,!0,this._bounds)),this},setMaxWidth:function(d,c){return this._maxWidth=d,this._dirty=!0,c!==void 0&&(this.wordWrapCharCode=c),this},align:{set:function(d){this._align=d,this._dirty=!0},get:function(){return this._align}},text:{set:function(d){this.setText(d)},get:function(){return this._text}},fontSize:{set:function(d){this._fontSize=d,this._dirty=!0},get:function(){return this._fontSize}},letterSpacing:{set:function(d){this._letterSpacing=d,this._dirty=!0},get:function(){return this._letterSpacing}},lineSpacing:{set:function(d){this._lineSpacing=d,this._dirty=!0},get:function(){return this._lineSpacing}},maxWidth:{set:function(d){this._maxWidth=d,this._dirty=!0},get:function(){return this._maxWidth}},width:{get:function(){return this.getTextBounds(!1),this._bounds.global.width}},height:{get:function(){return this.getTextBounds(!1),this._bounds.global.height}},displayWidth:{get:function(){return this.width}},displayHeight:{get:function(){return this.height}},toJSON:function(){var d=o.ToJSON(this),c={font:this.font,text:this.text,fontSize:this.fontSize,letterSpacing:this.letterSpacing,lineSpacing:this.lineSpacing,align:this.align};return d.data=c,d},preDestroy:function(){this.charColors.length=0,this._bounds=null,this.fontData=null}});u.ALIGN_LEFT=0,u.ALIGN_CENTER=1,u.ALIGN_RIGHT=2,u.ParseFromAtlas=i,u.ParseXMLBitmapFont=n,f.exports=u},37289:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(20926),g=function(o,a,r,i){var n=a._text,l=n.length,s=o.currentContext;if(!(l===0||!h(o,s,a,r,i))){r.addToRenderList(a);var u=a.fromAtlas?a.frame:a.texture.frames.__BASE,d=a.fontData.chars,c=a.fontData.lineHeight,v=a._letterSpacing,y=a._lineSpacing,x=0,S=0,E=0,A=null,R=0,w=0,I=0,O=0,F=0,L=0,D=null,b=0,G=u.source.image,W=u.cutX,Y=u.cutY,H=a._fontSize/a.fontData.size,U=a._align,X=0,V=0,B=a.getTextBounds(!1);a.maxWidth>0&&(n=B.wrappedText,l=n.length);var z=a._bounds.lines;U===1?V=(z.longest-z.lengths[0])/2:U===2&&(V=z.longest-z.lengths[0]),s.translate(-a.displayOriginX,-a.displayOriginY);for(var K=r.roundPixels,k=0;k<l;k++){if(E=n.charCodeAt(k),E===10){X++,U===1?V=(z.longest-z.lengths[X])/2:U===2&&(V=z.longest-z.lengths[X]),x=0,S+=c+y,D=null;continue}if(A=d[E],!!A){if(R=W+A.x,w=Y+A.y,I=A.width,O=A.height,F=A.xOffset+x,L=A.yOffset+S,D!==null){var J=A.kerning[b];F+=J!==void 0?J:0}F*=H,L*=H,F+=V,x+=A.xAdvance+v+(J!==void 0?J:0),D=A,b=E,!(I===0||O===0||E===32)&&(K&&(F=Math.round(F),L=Math.round(L)),s.save(),s.translate(F,L),s.scale(H,H),s.drawImage(G,R,w,I,O,0,0,I,O),s.restore())}}s.restore()}};f.exports=g},57336:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(22186),g=t(25305),o=t(44603),a=t(23568),r=t(35154);o.register("bitmapText",function(i,n){i===void 0&&(i={});var l=r(i,"font",""),s=a(i,"text",""),u=a(i,"size",!1),d=r(i,"align",0),c=new h(this.scene,0,0,l,s,u,d);return n!==void 0&&(i.add=n),g(this.scene,c,i),c})},34914:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(22186),g=t(39429);g.register("bitmapText",function(o,a,r,i,n,l){return this.displayList.add(new h(this.scene,o,a,r,i,n,l))})},18658:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),g=h,o=h;g=t(33590),o=t(37289),f.exports={renderWebGL:g,renderCanvas:o}},33590:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(3217),g=t(91296),o=t(70554),a=function(r,i,n,l){var s=i._text,u=s.length;if(u!==0){n.addToRenderList(i);var d=r.pipelines.set(i.pipeline,i),c=g(i,n,l).calc;r.pipelines.preBatch(i);var v=n.roundPixels,y=n.alpha,x=i.charColors,S=i.tintFill,E=o.getTintAppendFloatAlpha,A=E(i.tintTopLeft,y*i._alphaTL),R=E(i.tintTopRight,y*i._alphaTR),w=E(i.tintBottomLeft,y*i._alphaBL),I=E(i.tintBottomRight,y*i._alphaBR),O=i.frame.glTexture,F=d.setGameObject(i),L=i.getTextBounds(!1),D,b,G,W=L.characters,Y=i.dropShadowX,H=i.dropShadowY,U=Y!==0||H!==0;if(U){var X=i.dropShadowColor,V=i.dropShadowAlpha,B=E(X,y*V*i._alphaTL),z=E(X,y*V*i._alphaTR),K=E(X,y*V*i._alphaBL),k=E(X,y*V*i._alphaBR);for(D=0;D<W.length;D++)b=W[D],G=b.glyph,!(b.code===32||G.width===0||G.height===0)&&h(d,i,b,G,Y,H,c,v,B,z,K,k,1,O,F)}for(D=0;D<W.length;D++)if(b=W[D],G=b.glyph,!(b.code===32||G.width===0||G.height===0))if(d.shouldFlush(6)&&(d.flush(),F=d.setGameObject(i)),x[b.i]){var J=x[b.i],q=J.tintEffect,j=E(J.tintTL,y*i._alphaTL),Z=E(J.tintTR,y*i._alphaTR),_=E(J.tintBL,y*i._alphaBL),et=E(J.tintBR,y*i._alphaBR);h(d,i,b,G,0,0,c,v,j,Z,_,et,q,O,F)}else h(d,i,b,G,0,0,c,v,A,R,w,I,S,O,F);r.pipelines.postBatch(i)}};f.exports=a},6107:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(48011),g=t(46590),o=t(83419),a=t(31401),r=t(4327),i=t(95643),n=t(73162),l=new o({Extends:i,Mixins:[a.Alpha,a.BlendMode,a.Depth,a.Mask,a.Pipeline,a.PostPipeline,a.ScrollFactor,a.Size,a.Texture,a.Transform,a.Visible,h],initialize:function(u,d,c,v,y){i.call(this,u,"Blitter"),this.setTexture(v,y),this.setPosition(d,c),this.initPipeline(),this.initPostPipeline(),this.children=new n,this.renderList=[],this.dirty=!1},create:function(s,u,d,c,v){c===void 0&&(c=!0),v===void 0&&(v=this.children.length),d===void 0?d=this.frame:d instanceof r||(d=this.texture.get(d));var y=new g(this,s,u,d,c);return this.children.addAt(y,v,!1),this.dirty=!0,y},createFromCallback:function(s,u,d,c){for(var v=this.createMultiple(u,d,c),y=0;y<v.length;y++){var x=v[y];s.call(this,x,y)}return v},createMultiple:function(s,u,d){u===void 0&&(u=this.frame.name),d===void 0&&(d=!0),Array.isArray(u)||(u=[u]);var c=[],v=this;return u.forEach(function(y){for(var x=0;x<s;x++)c.push(v.create(0,0,y,d))}),c},childCanRender:function(s){return s.visible&&s.alpha>0},getRenderList:function(){return this.dirty&&(this.renderList=this.children.list.filter(this.childCanRender,this),this.dirty=!1),this.renderList},clear:function(){this.children.removeAll(),this.dirty=!0},preDestroy:function(){this.children.destroy(),this.renderList=[]}});f.exports=l},72396:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h,g,o){var a=h.getRenderList();if(a.length!==0){var r=t.currentContext,i=g.alpha*h.alpha;if(i!==0){g.addToRenderList(h),r.globalCompositeOperation=t.blendModes[h.blendMode],r.imageSmoothingEnabled=!h.frame.source.scaleMode;var n=h.x-g.scrollX*h.scrollFactorX,l=h.y-g.scrollY*h.scrollFactorY;r.save(),o&&o.copyToContext(r);for(var s=g.roundPixels,u=0;u<a.length;u++){var d=a[u],c=d.flipX||d.flipY,v=d.frame,y=v.canvasData,x=v.x,S=v.y,E=1,A=1,R=d.alpha*i;R!==0&&(r.globalAlpha=R,c?(d.flipX&&(E=-1,x-=y.width),d.flipY&&(A=-1,S-=y.height),y.width>0&&y.height>0&&(r.save(),r.translate(d.x+n,d.y+l),r.scale(E,A),r.drawImage(v.source.image,y.x,y.y,y.width,y.height,x,S,y.width,y.height),r.restore())):(s&&(x=Math.round(x),S=Math.round(S)),y.width>0&&y.height>0&&r.drawImage(v.source.image,y.x,y.y,y.width,y.height,x+d.x+n,S+d.y+l,y.width,y.height)))}r.restore()}}};f.exports=C},9403:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(6107),g=t(25305),o=t(44603),a=t(23568);o.register("blitter",function(r,i){r===void 0&&(r={});var n=a(r,"key",null),l=a(r,"frame",null),s=new h(this.scene,0,0,n,l);return i!==void 0&&(r.add=i),g(this.scene,s,r),s})},12709:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(6107),g=t(39429);g.register("blitter",function(o,a,r,i){return this.displayList.add(new h(this.scene,o,a,r,i))})},48011:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),g=h,o=h;g=t(99485),o=t(72396),f.exports={renderWebGL:g,renderCanvas:o}},99485:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(61340),g=t(70554),o=new h,a=function(r,i,n,l){var s=i.getRenderList(),u=n.alpha*i.alpha;if(!(s.length===0||u===0)){n.addToRenderList(i);var d=r.pipelines.set(this.pipeline,i),c=n.scrollX*i.scrollFactorX,v=n.scrollY*i.scrollFactorY,y=o.copyFrom(n.matrix);l&&(y.multiplyWithOffset(l,-c,-v),c=0,v=0);var x=i.x-c,S=i.y-v,E=-1,A=!1,R=n.roundPixels;r.pipelines.preBatch(i);for(var w=0;w<s.length;w++){var I=s[w],O=I.frame,F=I.alpha*u;if(F!==0){var L=O.width,D=O.height,b=x+I.x+O.x,G=S+I.y+O.y;I.flipX&&(L*=-1,b+=O.width),I.flipY&&(D*=-1,G+=O.height);var W=y.setQuad(b,G,b+L,G+D,R),Y=g.getTintAppendFloatAlpha(I.tint,F);if(O.sourceIndex!==E){var H=d.setGameObject(i,O);E=O.sourceIndex}d.batchQuad(i,W[0],W[1],W[2],W[3],W[4],W[5],W[6],W[7],O.u0,O.v0,O.u1,O.v1,Y,Y,Y,Y,A,O.glTexture,H)&&(E=-1)}}r.pipelines.postBatch(i)}};f.exports=a},46590:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(4327),o=new h({initialize:function(r,i,n,l,s){this.parent=r,this.x=i,this.y=n,this.frame=l,this.data={},this.tint=16777215,this._visible=s,this._alpha=1,this.flipX=!1,this.flipY=!1,this.hasTransformComponent=!0},setFrame:function(a){return a===void 0?this.frame=this.parent.frame:a instanceof g&&a.texture===this.parent.texture?this.frame=a:this.frame=this.parent.texture.get(a),this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this},reset:function(a,r,i){return this.x=a,this.y=r,this.flipX=!1,this.flipY=!1,this._alpha=1,this._visible=!0,this.parent.dirty=!0,i&&this.setFrame(i),this},setPosition:function(a,r){return this.x=a,this.y=r,this},setFlipX:function(a){return this.flipX=a,this},setFlipY:function(a){return this.flipY=a,this},setFlip:function(a,r){return this.flipX=a,this.flipY=r,this},setVisible:function(a){return this.visible=a,this},setAlpha:function(a){return this.alpha=a,this},setTint:function(a){return this.tint=a,this},destroy:function(){this.parent.dirty=!0,this.parent.children.remove(this),this.parent=void 0,this.frame=void 0,this.data=void 0},visible:{get:function(){return this._visible},set:function(a){this.parent.dirty|=this._visible!==a,this._visible=a}},alpha:{get:function(){return this._alpha},set:function(a){this.parent.dirty|=this._alpha>0!=a>0,this._alpha=a}}});f.exports=o},16005:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(45319),g=2,o={_alpha:1,_alphaTL:1,_alphaTR:1,_alphaBL:1,_alphaBR:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(a,r,i,n){return a===void 0&&(a=1),r===void 0?this.alpha=a:(this._alphaTL=h(a,0,1),this._alphaTR=h(r,0,1),this._alphaBL=h(i,0,1),this._alphaBR=h(n,0,1)),this},alpha:{get:function(){return this._alpha},set:function(a){var r=h(a,0,1);this._alpha=r,this._alphaTL=r,this._alphaTR=r,this._alphaBL=r,this._alphaBR=r,r===0?this.renderFlags&=-3:this.renderFlags|=g}},alphaTopLeft:{get:function(){return this._alphaTL},set:function(a){var r=h(a,0,1);this._alphaTL=r,r!==0&&(this.renderFlags|=g)}},alphaTopRight:{get:function(){return this._alphaTR},set:function(a){var r=h(a,0,1);this._alphaTR=r,r!==0&&(this.renderFlags|=g)}},alphaBottomLeft:{get:function(){return this._alphaBL},set:function(a){var r=h(a,0,1);this._alphaBL=r,r!==0&&(this.renderFlags|=g)}},alphaBottomRight:{get:function(){return this._alphaBR},set:function(a){var r=h(a,0,1);this._alphaBR=r,r!==0&&(this.renderFlags|=g)}}};f.exports=o},88509:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(45319),g=2,o={_alpha:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(a){return a===void 0&&(a=1),this.alpha=a,this},alpha:{get:function(){return this._alpha},set:function(a){var r=h(a,0,1);this._alpha=r,r===0?this.renderFlags&=-3:this.renderFlags|=g}}};f.exports=o},90065:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(10312),g={_blendMode:h.NORMAL,blendMode:{get:function(){return this._blendMode},set:function(o){typeof o=="string"&&(o=h[o]),o|=0,o>=-1&&(this._blendMode=o)}},setBlendMode:function(o){return this.blendMode=o,this}};f.exports=g},94215:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={width:0,height:0,displayWidth:{get:function(){return this.scaleX*this.width},set:function(t){this.scaleX=t/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(t){this.scaleY=t/this.height}},setSize:function(t,h){return this.width=t,this.height=h,this},setDisplaySize:function(t,h){return this.displayWidth=t,this.displayHeight=h,this}};f.exports=C},61683:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={texture:null,frame:null,isCropped:!1,setCrop:function(t,h,g,o){if(t===void 0)this.isCropped=!1;else if(this.frame){if(typeof t=="number")this.frame.setCropUVs(this._crop,t,h,g,o,this.flipX,this.flipY);else{var a=t;this.frame.setCropUVs(this._crop,a.x,a.y,a.width,a.height,this.flipX,this.flipY)}this.isCropped=!0}return this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};f.exports=C},89272:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(37105),g={_depth:0,depth:{get:function(){return this._depth},set:function(o){this.displayList&&this.displayList.queueDepthSort(),this._depth=o}},setDepth:function(o){return o===void 0&&(o=0),this.depth=o,this},setToTop:function(){var o=this.getDisplayList();return o&&h.BringToTop(o,this),this},setToBack:function(){var o=this.getDisplayList();return o&&h.SendToBack(o,this),this},setAbove:function(o){var a=this.getDisplayList();return a&&o&&h.MoveAbove(a,this,o),this},setBelow:function(o){var a=this.getDisplayList();return a&&o&&h.MoveBelow(a,this,o),this}};f.exports=g},47059:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(66064),o=t(19133),a=new h({initialize:function(i,n){this.gameObject=i,this.isPost=n,this.enabled=!1,this.list=[],this.padding=0},setPadding:function(r){return r===void 0&&(r=0),this.padding=r,this.gameObject},onFXCopy:function(){},onFX:function(){},enable:function(r){if(!this.isPost){var i=this.gameObject.scene.sys.renderer;i&&i.pipelines?(this.gameObject.pipeline=i.pipelines.FX_PIPELINE,r!==void 0&&(this.padding=r),this.enabled=!0):this.enabled=!1}},clear:function(){if(this.isPost)this.gameObject.resetPostPipeline(!0);else{for(var r=this.list,i=0;i<r.length;i++)r[i].destroy();this.list=[]}return this.enabled=!1,this.gameObject},remove:function(r){var i;if(this.isPost){var n=this.gameObject.getPostPipeline(String(r.type));for(Array.isArray(n)||(n=[n]),i=0;i<n.length;i++){var l=n[i];if(l.controller===r){this.gameObject.removePostPipeline(l),r.destroy();break}}}else{var s=this.list;for(i=0;i<s.length;i++)s[i]===r&&(o(s,i),r.destroy())}return this.gameObject},disable:function(r){return r===void 0&&(r=!1),this.isPost||this.gameObject.resetPipeline(),this.enabled=!1,r&&this.clear(),this.gameObject},add:function(r,i){if(this.isPost){var n=String(r.type);this.gameObject.setPostPipeline(n,i);var l=this.gameObject.getPostPipeline(n);if(l)return Array.isArray(l)&&(l=l.pop()),l&&(l.controller=r),r}else return this.enabled||this.enable(),this.list.push(r),r},addGlow:function(r,i,n,l,s,u){return this.add(new g.Glow(this.gameObject,r,i,n,l),{quality:s,distance:u})},addShadow:function(r,i,n,l,s,u,d){return this.add(new g.Shadow(this.gameObject,r,i,n,l,s,u,d))},addPixelate:function(r){return this.add(new g.Pixelate(this.gameObject,r))},addVignette:function(r,i,n,l){return this.add(new g.Vignette(this.gameObject,r,i,n,l))},addShine:function(r,i,n,l){return this.add(new g.Shine(this.gameObject,r,i,n,l))},addBlur:function(r,i,n,l,s,u){return this.add(new g.Blur(this.gameObject,r,i,n,l,s,u))},addGradient:function(r,i,n,l,s,u,d,c){return this.add(new g.Gradient(this.gameObject,r,i,n,l,s,u,d,c))},addBloom:function(r,i,n,l,s,u){return this.add(new g.Bloom(this.gameObject,r,i,n,l,s,u))},addColorMatrix:function(){return this.add(new g.ColorMatrix(this.gameObject))},addCircle:function(r,i,n,l,s){return this.add(new g.Circle(this.gameObject,r,i,n,l,s))},addBarrel:function(r){return this.add(new g.Barrel(this.gameObject,r))},addDisplacement:function(r,i,n){return this.add(new g.Displacement(this.gameObject,r,i,n))},addWipe:function(r,i,n){return this.add(new g.Wipe(this.gameObject,r,i,n))},addReveal:function(r,i,n){return this.add(new g.Wipe(this.gameObject,r,i,n,!0))},addBokeh:function(r,i,n){return this.add(new g.Bokeh(this.gameObject,r,i,n))},addTiltShift:function(r,i,n,l,s,u){return this.add(new g.Bokeh(this.gameObject,r,i,n,!0,l,s,u))},destroy:function(){this.clear(),this.gameObject=null}});f.exports=a},54434:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={flipX:!1,flipY:!1,toggleFlipX:function(){return this.flipX=!this.flipX,this},toggleFlipY:function(){return this.flipY=!this.flipY,this},setFlipX:function(t){return this.flipX=t,this},setFlipY:function(t){return this.flipY=t,this},setFlip:function(t,h){return this.flipX=t,this.flipY=h,this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this}};f.exports=C},8004:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87841),g=t(11520),o=t(26099),a={prepareBoundsOutput:function(r,i){if(i===void 0&&(i=!1),this.rotation!==0&&g(r,this.x,this.y,this.rotation),i&&this.parentContainer){var n=this.parentContainer.getBoundsTransformMatrix();n.transformPoint(r.x,r.y,r)}return r},getCenter:function(r,i){return r===void 0&&(r=new o),r.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,r.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(r,i)},getTopLeft:function(r,i){return r||(r=new o),r.x=this.x-this.displayWidth*this.originX,r.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(r,i)},getTopCenter:function(r,i){return r||(r=new o),r.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,r.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(r,i)},getTopRight:function(r,i){return r||(r=new o),r.x=this.x-this.displayWidth*this.originX+this.displayWidth,r.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(r,i)},getLeftCenter:function(r,i){return r||(r=new o),r.x=this.x-this.displayWidth*this.originX,r.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(r,i)},getRightCenter:function(r,i){return r||(r=new o),r.x=this.x-this.displayWidth*this.originX+this.displayWidth,r.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(r,i)},getBottomLeft:function(r,i){return r||(r=new o),r.x=this.x-this.displayWidth*this.originX,r.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(r,i)},getBottomCenter:function(r,i){return r||(r=new o),r.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,r.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(r,i)},getBottomRight:function(r,i){return r||(r=new o),r.x=this.x-this.displayWidth*this.originX+this.displayWidth,r.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(r,i)},getBounds:function(r){r===void 0&&(r=new h);var i,n,l,s,u,d,c,v;if(this.parentContainer){var y=this.parentContainer.getBoundsTransformMatrix();this.getTopLeft(r),y.transformPoint(r.x,r.y,r),i=r.x,n=r.y,this.getTopRight(r),y.transformPoint(r.x,r.y,r),l=r.x,s=r.y,this.getBottomLeft(r),y.transformPoint(r.x,r.y,r),u=r.x,d=r.y,this.getBottomRight(r),y.transformPoint(r.x,r.y,r),c=r.x,v=r.y}else this.getTopLeft(r),i=r.x,n=r.y,this.getTopRight(r),l=r.x,s=r.y,this.getBottomLeft(r),u=r.x,d=r.y,this.getBottomRight(r),c=r.x,v=r.y;return r.x=Math.min(i,l,u,c),r.y=Math.min(n,s,d,v),r.width=Math.max(i,l,u,c)-r.x,r.height=Math.max(n,s,d,v)-r.y,r}};f.exports=a},8573:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(6858),g=t(80661),o={mask:null,setMask:function(a){return this.mask=a,this},clearMask:function(a){return a===void 0&&(a=!1),a&&this.mask&&this.mask.destroy(),this.mask=null,this},createBitmapMask:function(a,r,i,n,l){return a===void 0&&(this.texture||this.shader||this.geom)&&(a=this),new h(this.scene,a,r,i,n,l)},createGeometryMask:function(a){return a===void 0&&(this.type==="Graphics"||this.geom)&&(a=this),new g(this.scene,a)}};f.exports=o},27387:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={_originComponent:!0,originX:.5,originY:.5,_displayOriginX:0,_displayOriginY:0,displayOriginX:{get:function(){return this._displayOriginX},set:function(t){this._displayOriginX=t,this.originX=t/this.width}},displayOriginY:{get:function(){return this._displayOriginY},set:function(t){this._displayOriginY=t,this.originY=t/this.height}},setOrigin:function(t,h){return t===void 0&&(t=.5),h===void 0&&(h=t),this.originX=t,this.originY=h,this.updateDisplayOrigin()},setOriginFromFrame:function(){return!this.frame||!this.frame.customPivot?this.setOrigin():(this.originX=this.frame.pivotX,this.originY=this.frame.pivotY,this.updateDisplayOrigin())},setDisplayOrigin:function(t,h){return t===void 0&&(t=0),h===void 0&&(h=t),this.displayOriginX=t,this.displayOriginY=h,this},updateDisplayOrigin:function(){return this._displayOriginX=this.originX*this.width,this._displayOriginY=this.originY*this.height,this}};f.exports=C},37640:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(39506),g=t(57355),o=t(35154),a=t(86353),r=t(26099),i={path:null,rotateToPath:!1,pathRotationOffset:0,pathOffset:null,pathVector:null,pathDelta:null,pathTween:null,pathConfig:null,_prevDirection:a.PLAYING_FORWARD,setPath:function(n,l){l===void 0&&(l=this.pathConfig);var s=this.pathTween;return s&&s.isPlaying()&&s.stop(),this.path=n,l&&this.startFollow(l),this},setRotateToPath:function(n,l){return l===void 0&&(l=0),this.rotateToPath=n,this.pathRotationOffset=l,this},isFollowing:function(){var n=this.pathTween;return n&&n.isPlaying()},startFollow:function(n,l){n===void 0&&(n={}),l===void 0&&(l=0);var s=this.pathTween;s&&s.isPlaying()&&s.stop(),typeof n=="number"&&(n={duration:n}),n.from=o(n,"from",0),n.to=o(n,"to",1);var u=g(n,"positionOnPath",!1);this.rotateToPath=g(n,"rotateToPath",!1),this.pathRotationOffset=o(n,"rotationOffset",0);var d=o(n,"startAt",l);if(d&&(n.onStart=function(v){var y=v.data[0];y.progress=d,y.elapsed=y.duration*d;var x=y.ease(y.progress);y.current=y.start+(y.end-y.start)*x,y.setTargetValue()}),this.pathOffset||(this.pathOffset=new r(this.x,this.y)),this.pathVector||(this.pathVector=new r),this.pathDelta||(this.pathDelta=new r),this.pathDelta.reset(),n.persist=!0,this.pathTween=this.scene.sys.tweens.addCounter(n),this.path.getStartPoint(this.pathOffset),u&&(this.x=this.pathOffset.x,this.y=this.pathOffset.y),this.pathOffset.x=this.x-this.pathOffset.x,this.pathOffset.y=this.y-this.pathOffset.y,this._prevDirection=a.PLAYING_FORWARD,this.rotateToPath){var c=this.path.getPoint(.1);this.rotation=Math.atan2(c.y-this.y,c.x-this.x)+h(this.pathRotationOffset)}return this.pathConfig=n,this},pauseFollow:function(){var n=this.pathTween;return n&&n.isPlaying()&&n.pause(),this},resumeFollow:function(){var n=this.pathTween;return n&&n.isPaused()&&n.resume(),this},stopFollow:function(){var n=this.pathTween;return n&&n.isPlaying()&&n.stop(),this},pathUpdate:function(){var n=this.pathTween;if(n&&n.data){var l=n.data[0],s=this.pathDelta,u=this.pathVector;if(s.copy(u).negate(),l.state===a.COMPLETE){this.path.getPoint(l.end,u),s.add(u),u.add(this.pathOffset),this.setPosition(u.x,u.y);return}else if(l.state!==a.PLAYING_FORWARD&&l.state!==a.PLAYING_BACKWARD)return;this.path.getPoint(n.getValue(),u),s.add(u),u.add(this.pathOffset);var d=this.x,c=this.y;this.setPosition(u.x,u.y);var v=this.x-d,y=this.y-c;if(v===0&&y===0)return;if(l.state!==this._prevDirection){this._prevDirection=l.state;return}this.rotateToPath&&(this.rotation=Math.atan2(y,v)+h(this.pathRotationOffset))}}};f.exports=i},72699:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(62644),g={defaultPipeline:null,pipeline:null,pipelineData:null,initPipeline:function(o){this.pipelineData={};var a=this.scene.sys.renderer;if(!a)return!1;var r=a.pipelines;if(r){o===void 0&&(o=r.default);var i=r.get(o);if(i)return this.defaultPipeline=i,this.pipeline=i,!0}return!1},setPipeline:function(o,a,r){var i=this.scene.sys.renderer;if(!i)return this;var n=i.pipelines;if(n){var l=n.get(o);l&&(this.pipeline=l),a&&(this.pipelineData=r?h(a):a)}return this},setPipelineData:function(o,a){var r=this.pipelineData;return a===void 0?delete r[o]:r[o]=a,this},resetPipeline:function(o){return o===void 0&&(o=!1),this.pipeline=this.defaultPipeline,o&&(this.pipelineData={}),this.pipeline!==null},getPipelineName:function(){return this.pipeline===null?null:this.pipeline.name}};f.exports=g},17581:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(62644),g=t(47059),o=t(19133),a={hasPostPipeline:!1,postPipelines:null,postPipelineData:null,preFX:null,postFX:null,initPostPipeline:function(r){this.postPipelines=[],this.postPipelineData={},this.postFX=new g(this,!0),r&&(this.preFX=new g(this,!1))},setPostPipeline:function(r,i,n){var l=this.scene.sys.renderer;if(!l)return this;var s=l.pipelines;if(s){Array.isArray(r)||(r=[r]);for(var u=0;u<r.length;u++){var d=s.getPostPipeline(r[u],this,i);d&&this.postPipelines.push(d)}i&&(this.postPipelineData=n?h(i):i)}return this.hasPostPipeline=this.postPipelines.length>0,this},setPostPipelineData:function(r,i){var n=this.postPipelineData;return i===void 0?delete n[r]:n[r]=i,this},getPostPipeline:function(r){for(var i=typeof r=="string",n=this.postPipelines,l=[],s=0;s<n.length;s++){var u=n[s];(i&&u.name===r||!i&&u instanceof r)&&l.push(u)}return l.length===1?l[0]:l},resetPostPipeline:function(r){r===void 0&&(r=!1);for(var i=this.postPipelines,n=0;n<i.length;n++)i[n].destroy();this.postPipelines=[],this.hasPostPipeline=!1,r&&(this.postPipelineData={})},removePostPipeline:function(r){for(var i=typeof r=="string",n=this.postPipelines,l=n.length-1;l>=0;l--){var s=n[l];(i&&s.name===r||!i&&s===r)&&(s.destroy(),o(n,l))}return this.hasPostPipeline=this.postPipelines.length>0,this},clearFX:function(){return this.preFX&&this.preFX.clear(),this.postFX&&this.postFX.clear(),this}};f.exports=a},80227:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={scrollFactorX:1,scrollFactorY:1,setScrollFactor:function(t,h){return h===void 0&&(h=t),this.scrollFactorX=t,this.scrollFactorY=h,this}};f.exports=C},16736:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={_sizeComponent:!0,width:0,height:0,displayWidth:{get:function(){return Math.abs(this.scaleX*this.frame.realWidth)},set:function(t){this.scaleX=t/this.frame.realWidth}},displayHeight:{get:function(){return Math.abs(this.scaleY*this.frame.realHeight)},set:function(t){this.scaleY=t/this.frame.realHeight}},setSizeToFrame:function(t){t||(t=this.frame),this.width=t.realWidth,this.height=t.realHeight;var h=this.input;return h&&!h.customHitArea&&(h.hitArea.width=this.width,h.hitArea.height=this.height),this},setSize:function(t,h){return this.width=t,this.height=h,this},setDisplaySize:function(t,h){return this.displayWidth=t,this.displayHeight=h,this}};f.exports=C},37726:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(4327),g=8,o={texture:null,frame:null,isCropped:!1,setTexture:function(a,r,i,n){return this.texture=this.scene.sys.textures.get(a),this.setFrame(r,i,n)},setFrame:function(a,r,i){return r===void 0&&(r=!0),i===void 0&&(i=!0),a instanceof h?(this.texture=this.scene.sys.textures.get(a.texture.key),this.frame=a):this.frame=this.texture.get(a),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=-9:this.renderFlags|=g,this._sizeComponent&&r&&this.setSizeToFrame(),this._originComponent&&i&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this}};f.exports=o},79812:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(4327),g=8,o={texture:null,frame:null,isCropped:!1,setCrop:function(a,r,i,n){if(a===void 0)this.isCropped=!1;else if(this.frame){if(typeof a=="number")this.frame.setCropUVs(this._crop,a,r,i,n,this.flipX,this.flipY);else{var l=a;this.frame.setCropUVs(this._crop,l.x,l.y,l.width,l.height,this.flipX,this.flipY)}this.isCropped=!0}return this},setTexture:function(a,r){return this.texture=this.scene.sys.textures.get(a),this.setFrame(r)},setFrame:function(a,r,i){return r===void 0&&(r=!0),i===void 0&&(i=!0),a instanceof h?(this.texture=this.scene.sys.textures.get(a.texture.key),this.frame=a):this.frame=this.texture.get(a),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=-9:this.renderFlags|=g,this._sizeComponent&&r&&this.setSizeToFrame(),this._originComponent&&i&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this.isCropped&&this.frame.updateCropUVs(this._crop,this.flipX,this.flipY),this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};f.exports=o},27472:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={tintTopLeft:16777215,tintTopRight:16777215,tintBottomLeft:16777215,tintBottomRight:16777215,tintFill:!1,clearTint:function(){return this.setTint(16777215),this},setTint:function(t,h,g,o){return t===void 0&&(t=16777215),h===void 0&&(h=t,g=t,o=t),this.tintTopLeft=t,this.tintTopRight=h,this.tintBottomLeft=g,this.tintBottomRight=o,this.tintFill=!1,this},setTintFill:function(t,h,g,o){return this.setTint(t,h,g,o),this.tintFill=!0,this},tint:{get:function(){return this.tintTopLeft},set:function(t){this.setTint(t,t,t,t)}},isTinted:{get:function(){var t=16777215;return this.tintFill||this.tintTopLeft!==t||this.tintTopRight!==t||this.tintBottomLeft!==t||this.tintBottomRight!==t}}};f.exports=C},53774:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t){var h={name:t.name,type:t.type,x:t.x,y:t.y,depth:t.depth,scale:{x:t.scaleX,y:t.scaleY},origin:{x:t.originX,y:t.originY},flipX:t.flipX,flipY:t.flipY,rotation:t.rotation,alpha:t.alpha,visible:t.visible,blendMode:t.blendMode,textureKey:"",frameKey:"",data:{}};return t.texture&&(h.textureKey=t.texture.key,h.frameKey=t.frame.name),h};f.exports=C},16901:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(36383),g=t(61340),o=t(85955),a=t(86554),r=t(30954),i=t(26099),n=4,l={hasTransformComponent:!0,_scaleX:1,_scaleY:1,_rotation:0,x:0,y:0,z:0,w:0,scale:{get:function(){return(this._scaleX+this._scaleY)/2},set:function(s){this._scaleX=s,this._scaleY=s,s===0?this.renderFlags&=-5:this.renderFlags|=n}},scaleX:{get:function(){return this._scaleX},set:function(s){this._scaleX=s,s===0?this.renderFlags&=-5:this._scaleY!==0&&(this.renderFlags|=n)}},scaleY:{get:function(){return this._scaleY},set:function(s){this._scaleY=s,s===0?this.renderFlags&=-5:this._scaleX!==0&&(this.renderFlags|=n)}},angle:{get:function(){return r(this._rotation*h.RAD_TO_DEG)},set:function(s){this.rotation=r(s)*h.DEG_TO_RAD}},rotation:{get:function(){return this._rotation},set:function(s){this._rotation=a(s)}},setPosition:function(s,u,d,c){return s===void 0&&(s=0),u===void 0&&(u=s),d===void 0&&(d=0),c===void 0&&(c=0),this.x=s,this.y=u,this.z=d,this.w=c,this},copyPosition:function(s){return s.x!==void 0&&(this.x=s.x),s.y!==void 0&&(this.y=s.y),s.z!==void 0&&(this.z=s.z),s.w!==void 0&&(this.w=s.w),this},setRandomPosition:function(s,u,d,c){return s===void 0&&(s=0),u===void 0&&(u=0),d===void 0&&(d=this.scene.sys.scale.width),c===void 0&&(c=this.scene.sys.scale.height),this.x=s+Math.random()*d,this.y=u+Math.random()*c,this},setRotation:function(s){return s===void 0&&(s=0),this.rotation=s,this},setAngle:function(s){return s===void 0&&(s=0),this.angle=s,this},setScale:function(s,u){return s===void 0&&(s=1),u===void 0&&(u=s),this.scaleX=s,this.scaleY=u,this},setX:function(s){return s===void 0&&(s=0),this.x=s,this},setY:function(s){return s===void 0&&(s=0),this.y=s,this},setZ:function(s){return s===void 0&&(s=0),this.z=s,this},setW:function(s){return s===void 0&&(s=0),this.w=s,this},getLocalTransformMatrix:function(s){return s===void 0&&(s=new g),s.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY)},getWorldTransformMatrix:function(s,u){s===void 0&&(s=new g);var d=this.parentContainer;if(!d)return this.getLocalTransformMatrix(s);var c=!1;for(u||(u=new g,c=!0),s.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY);d;)u.applyITRS(d.x,d.y,d._rotation,d._scaleX,d._scaleY),u.multiply(s,s),d=d.parentContainer;return c&&u.destroy(),s},getLocalPoint:function(s,u,d,c){d||(d=new i),c||(c=this.scene.sys.cameras.main);var v=c.scrollX,y=c.scrollY,x=s+v*this.scrollFactorX-v,S=u+y*this.scrollFactorY-y;return this.parentContainer?this.getWorldTransformMatrix().applyInverse(x,S,d):o(x,S,this.x,this.y,this.rotation,this.scaleX,this.scaleY,d),this._originComponent&&(d.x+=this._displayOriginX,d.y+=this._displayOriginY),d},getWorldPoint:function(s,u,d){s===void 0&&(s=new i);var c=this.parentContainer;if(!c)return s.x=this.x,s.y=this.y,s;var v=this.getWorldTransformMatrix(u,d);return s.x=v.tx,s.y=v.ty,s},getParentRotation:function(){for(var s=0,u=this.parentContainer;u;)s+=u.rotation,u=u.parentContainer;return s}};f.exports=l},61340:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(36383),o=t(26099),a=new h({initialize:function(i,n,l,s,u,d){i===void 0&&(i=1),n===void 0&&(n=0),l===void 0&&(l=0),s===void 0&&(s=1),u===void 0&&(u=0),d===void 0&&(d=0),this.matrix=new Float32Array([i,n,l,s,u,d,0,0,1]),this.decomposedMatrix={translateX:0,translateY:0,scaleX:1,scaleY:1,rotation:0},this.quad=new Float32Array(8)},a:{get:function(){return this.matrix[0]},set:function(r){this.matrix[0]=r}},b:{get:function(){return this.matrix[1]},set:function(r){this.matrix[1]=r}},c:{get:function(){return this.matrix[2]},set:function(r){this.matrix[2]=r}},d:{get:function(){return this.matrix[3]},set:function(r){this.matrix[3]=r}},e:{get:function(){return this.matrix[4]},set:function(r){this.matrix[4]=r}},f:{get:function(){return this.matrix[5]},set:function(r){this.matrix[5]=r}},tx:{get:function(){return this.matrix[4]},set:function(r){this.matrix[4]=r}},ty:{get:function(){return this.matrix[5]},set:function(r){this.matrix[5]=r}},rotation:{get:function(){return Math.acos(this.a/this.scaleX)*(Math.atan(-this.c/this.a)<0?-1:1)}},rotationNormalized:{get:function(){var r=this.matrix,i=r[0],n=r[1],l=r[2],s=r[3];return i||n?n>0?Math.acos(i/this.scaleX):-Math.acos(i/this.scaleX):l||s?g.TAU-(s>0?Math.acos(-l/this.scaleY):-Math.acos(l/this.scaleY)):0}},scaleX:{get:function(){return Math.sqrt(this.a*this.a+this.b*this.b)}},scaleY:{get:function(){return Math.sqrt(this.c*this.c+this.d*this.d)}},loadIdentity:function(){var r=this.matrix;return r[0]=1,r[1]=0,r[2]=0,r[3]=1,r[4]=0,r[5]=0,this},translate:function(r,i){var n=this.matrix;return n[4]=n[0]*r+n[2]*i+n[4],n[5]=n[1]*r+n[3]*i+n[5],this},scale:function(r,i){var n=this.matrix;return n[0]*=r,n[1]*=r,n[2]*=i,n[3]*=i,this},rotate:function(r){var i=Math.sin(r),n=Math.cos(r),l=this.matrix,s=l[0],u=l[1],d=l[2],c=l[3];return l[0]=s*n+d*i,l[1]=u*n+c*i,l[2]=s*-i+d*n,l[3]=u*-i+c*n,this},multiply:function(r,i){var n=this.matrix,l=r.matrix,s=n[0],u=n[1],d=n[2],c=n[3],v=n[4],y=n[5],x=l[0],S=l[1],E=l[2],A=l[3],R=l[4],w=l[5],I=i===void 0?n:i.matrix;return I[0]=x*s+S*d,I[1]=x*u+S*c,I[2]=E*s+A*d,I[3]=E*u+A*c,I[4]=R*s+w*d+v,I[5]=R*u+w*c+y,I},multiplyWithOffset:function(r,i,n){var l=this.matrix,s=r.matrix,u=l[0],d=l[1],c=l[2],v=l[3],y=l[4],x=l[5],S=i*u+n*c+y,E=i*d+n*v+x,A=s[0],R=s[1],w=s[2],I=s[3],O=s[4],F=s[5];return l[0]=A*u+R*c,l[1]=A*d+R*v,l[2]=w*u+I*c,l[3]=w*d+I*v,l[4]=O*u+F*c+S,l[5]=O*d+F*v+E,this},transform:function(r,i,n,l,s,u){var d=this.matrix,c=d[0],v=d[1],y=d[2],x=d[3],S=d[4],E=d[5];return d[0]=r*c+i*y,d[1]=r*v+i*x,d[2]=n*c+l*y,d[3]=n*v+l*x,d[4]=s*c+u*y+S,d[5]=s*v+u*x+E,this},transformPoint:function(r,i,n){n===void 0&&(n={x:0,y:0});var l=this.matrix,s=l[0],u=l[1],d=l[2],c=l[3],v=l[4],y=l[5];return n.x=r*s+i*d+v,n.y=r*u+i*c+y,n},invert:function(){var r=this.matrix,i=r[0],n=r[1],l=r[2],s=r[3],u=r[4],d=r[5],c=i*s-n*l;return r[0]=s/c,r[1]=-n/c,r[2]=-l/c,r[3]=i/c,r[4]=(l*d-s*u)/c,r[5]=-(i*d-n*u)/c,this},copyFrom:function(r){var i=this.matrix;return i[0]=r.a,i[1]=r.b,i[2]=r.c,i[3]=r.d,i[4]=r.e,i[5]=r.f,this},copyFromArray:function(r){var i=this.matrix;return i[0]=r[0],i[1]=r[1],i[2]=r[2],i[3]=r[3],i[4]=r[4],i[5]=r[5],this},copyToContext:function(r){var i=this.matrix;return r.transform(i[0],i[1],i[2],i[3],i[4],i[5]),r},setToContext:function(r){return r.setTransform(this.a,this.b,this.c,this.d,this.e,this.f),r},copyToArray:function(r){var i=this.matrix;return r===void 0?r=[i[0],i[1],i[2],i[3],i[4],i[5]]:(r[0]=i[0],r[1]=i[1],r[2]=i[2],r[3]=i[3],r[4]=i[4],r[5]=i[5]),r},setTransform:function(r,i,n,l,s,u){var d=this.matrix;return d[0]=r,d[1]=i,d[2]=n,d[3]=l,d[4]=s,d[5]=u,this},decomposeMatrix:function(){var r=this.decomposedMatrix,i=this.matrix,n=i[0],l=i[1],s=i[2],u=i[3],d=n*u-l*s;if(r.translateX=i[4],r.translateY=i[5],n||l){var c=Math.sqrt(n*n+l*l);r.rotation=l>0?Math.acos(n/c):-Math.acos(n/c),r.scaleX=c,r.scaleY=d/c}else if(s||u){var v=Math.sqrt(s*s+u*u);r.rotation=Math.PI*.5-(u>0?Math.acos(-s/v):-Math.acos(s/v)),r.scaleX=d/v,r.scaleY=v}else r.rotation=0,r.scaleX=0,r.scaleY=0;return r},applyITRS:function(r,i,n,l,s){var u=this.matrix,d=Math.sin(n),c=Math.cos(n);return u[4]=r,u[5]=i,u[0]=c*l,u[1]=d*l,u[2]=-d*s,u[3]=c*s,this},applyInverse:function(r,i,n){n===void 0&&(n=new o);var l=this.matrix,s=l[0],u=l[1],d=l[2],c=l[3],v=l[4],y=l[5],x=1/(s*c+d*-u);return n.x=c*x*r+-d*x*i+(y*d-v*c)*x,n.y=s*x*i+-u*x*r+(-y*s+v*u)*x,n},setQuad:function(r,i,n,l,s,u){s===void 0&&(s=!1),u===void 0&&(u=this.quad);var d=this.matrix,c=d[0],v=d[1],y=d[2],x=d[3],S=d[4],E=d[5],A=r*c+i*y+S,R=r*v+i*x+E,w=r*c+l*y+S,I=r*v+l*x+E,O=n*c+l*y+S,F=n*v+l*x+E,L=n*c+i*y+S,D=n*v+i*x+E;if(s){var b=Math.floor(A+.5),G=Math.floor(R+.5),W=b-A,Y=G-R;u[0]=b,u[1]=G,u[2]=w+W,u[3]=I+Y,u[4]=O+W,u[5]=F+Y,u[6]=L+W,u[7]=D+Y}else u[0]=A,u[1]=R,u[2]=w,u[3]=I,u[4]=O,u[5]=F,u[6]=L,u[7]=D;return u},getX:function(r,i){return r*this.a+i*this.c+this.e},getY:function(r,i){return r*this.b+i*this.d+this.f},getXRound:function(r,i,n){var l=this.getX(r,i);return n&&(l=Math.floor(l+.5)),l},getYRound:function(r,i,n){var l=this.getY(r,i);return n&&(l=Math.floor(l+.5)),l},getCSSMatrix:function(){var r=this.matrix;return"matrix("+r[0]+","+r[1]+","+r[2]+","+r[3]+","+r[4]+","+r[5]+")"},destroy:function(){this.matrix=null,this.quad=null,this.decomposedMatrix=null}});f.exports=a},59715:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=1,t={_visible:!0,visible:{get:function(){return this._visible},set:function(h){h?(this._visible=!0,this.renderFlags|=C):(this._visible=!1,this.renderFlags&=-2)}},setVisible:function(h){return this.visible=h,this}};f.exports=t},31401:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={Alpha:t(16005),AlphaSingle:t(88509),BlendMode:t(90065),ComputedSize:t(94215),Crop:t(61683),Depth:t(89272),Flip:t(54434),FX:t(47059),GetBounds:t(8004),Mask:t(8573),Origin:t(27387),PathFollower:t(37640),Pipeline:t(72699),PostPipeline:t(17581),ScrollFactor:t(80227),Size:t(16736),Texture:t(37726),TextureCrop:t(79812),Tint:t(27472),ToJSON:t(53774),Transform:t(16901),TransformMatrix:t(61340),Visible:t(59715)}},31559:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(37105),g=t(10312),o=t(83419),a=t(31401),r=t(51708),i=t(95643),n=t(87841),l=t(29959),s=t(36899),u=t(26099),d=new a.TransformMatrix,c=new o({Extends:i,Mixins:[a.AlphaSingle,a.BlendMode,a.ComputedSize,a.Depth,a.Mask,a.PostPipeline,a.Transform,a.Visible,l],initialize:function(y,x,S,E){i.call(this,y,"Container"),this.list=[],this.exclusive=!0,this.maxSize=-1,this.position=0,this.localTransform=new a.TransformMatrix,this._sortKey="",this._sysEvents=y.sys.events,this.scrollFactorX=1,this.scrollFactorY=1,this.initPostPipeline(),this.setPosition(x,S),this.setBlendMode(g.SKIP_CHECK),E&&this.add(E)},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this.width*.5}},displayOriginY:{get:function(){return this.height*.5}},setExclusive:function(v){return v===void 0&&(v=!0),this.exclusive=v,this},getBounds:function(v){if(v===void 0&&(v=new n),v.setTo(this.x,this.y,0,0),this.parentContainer){var y=this.parentContainer.getBoundsTransformMatrix(),x=y.transformPoint(this.x,this.y);v.setTo(x.x,x.y,0,0)}if(this.list.length>0){var S=this.list,E=new n,A=!1;v.setEmpty();for(var R=0;R<S.length;R++){var w=S[R];w.getBounds&&(w.getBounds(E),A?s(E,v,v):(v.setTo(E.x,E.y,E.width,E.height),A=!0))}}return v},addHandler:function(v){v.once(r.DESTROY,this.onChildDestroyed,this),this.exclusive&&(v.parentContainer&&v.parentContainer.remove(v),v.parentContainer=this,v.removeFromDisplayList(),v.addedToScene())},removeHandler:function(v){v.off(r.DESTROY,this.remove,this),this.exclusive&&(v.parentContainer=null,v.removedFromScene(),v.addToDisplayList())},pointToContainer:function(v,y){y===void 0&&(y=new u),this.parentContainer?this.parentContainer.pointToContainer(v,y):(y.x=v.x,y.y=v.y);var x=d;return x.applyITRS(this.x,this.y,this.rotation,this.scaleX,this.scaleY),x.invert(),x.transformPoint(v.x,v.y,y),y},getBoundsTransformMatrix:function(){return this.getWorldTransformMatrix(d,this.localTransform)},add:function(v){return h.Add(this.list,v,this.maxSize,this.addHandler,this),this},addAt:function(v,y){return h.AddAt(this.list,v,y,this.maxSize,this.addHandler,this),this},getAt:function(v){return this.list[v]},getIndex:function(v){return this.list.indexOf(v)},sort:function(v,y){return v?(y===void 0&&(y=function(x,S){return x[v]-S[v]}),h.StableSort(this.list,y),this):this},getByName:function(v){return h.GetFirst(this.list,"name",v)},getRandom:function(v,y){return h.GetRandom(this.list,v,y)},getFirst:function(v,y,x,S){return h.GetFirst(this.list,v,y,x,S)},getAll:function(v,y,x,S){return h.GetAll(this.list,v,y,x,S)},count:function(v,y,x,S){return h.CountAllMatching(this.list,v,y,x,S)},swap:function(v,y){return h.Swap(this.list,v,y),this},moveTo:function(v,y){return h.MoveTo(this.list,v,y),this},moveAbove:function(v,y){return h.MoveAbove(this.list,v,y),this},moveBelow:function(v,y){return h.MoveBelow(this.list,v,y),this},remove:function(v,y){var x=h.Remove(this.list,v,this.removeHandler,this);if(y&&x){Array.isArray(x)||(x=[x]);for(var S=0;S<x.length;S++)x[S].destroy()}return this},removeAt:function(v,y){var x=h.RemoveAt(this.list,v,this.removeHandler,this);return y&&x&&x.destroy(),this},removeBetween:function(v,y,x){var S=h.RemoveBetween(this.list,v,y,this.removeHandler,this);if(x)for(var E=0;E<S.length;E++)S[E].destroy();return this},removeAll:function(v){var y=this.list;if(v){for(var x=0;x<y.length;x++)y[x]&&y[x].scene&&(y[x].off(r.DESTROY,this.onChildDestroyed,this),y[x].destroy());this.list=[]}else h.RemoveBetween(y,0,y.length,this.removeHandler,this);return this},bringToTop:function(v){return h.BringToTop(this.list,v),this},sendToBack:function(v){return h.SendToBack(this.list,v),this},moveUp:function(v){return h.MoveUp(this.list,v),this},moveDown:function(v){return h.MoveDown(this.list,v),this},reverse:function(){return this.list.reverse(),this},shuffle:function(){return h.Shuffle(this.list),this},replace:function(v,y,x){var S=h.Replace(this.list,v,y);return S&&(this.addHandler(y),this.removeHandler(v),x&&v.destroy()),this},exists:function(v){return this.list.indexOf(v)>-1},setAll:function(v,y,x,S){return h.SetAll(this.list,v,y,x,S),this},each:function(v,y){var x=[null],S,E=this.list.slice(),A=E.length;for(S=2;S<arguments.length;S++)x.push(arguments[S]);for(S=0;S<A;S++)x[0]=E[S],v.apply(y,x);return this},iterate:function(v,y){var x=[null],S;for(S=2;S<arguments.length;S++)x.push(arguments[S]);for(S=0;S<this.list.length;S++)x[0]=this.list[S],v.apply(y,x);return this},setScrollFactor:function(v,y,x){return y===void 0&&(y=v),x===void 0&&(x=!1),this.scrollFactorX=v,this.scrollFactorY=y,x&&(h.SetAll(this.list,"scrollFactorX",v),h.SetAll(this.list,"scrollFactorY",y)),this},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}},preDestroy:function(){this.removeAll(!!this.exclusive),this.localTransform.destroy(),this.list=[]},onChildDestroyed:function(v){h.Remove(this.list,v),this.exclusive&&(v.parentContainer=null,v.removedFromScene())}});f.exports=c},53584:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h,g,o){g.addToRenderList(h);var a=h.list;if(a.length!==0){var r=h.localTransform;o?(r.loadIdentity(),r.multiply(o),r.translate(h.x,h.y),r.rotate(h.rotation),r.scale(h.scaleX,h.scaleY)):r.applyITRS(h.x,h.y,h.rotation,h.scaleX,h.scaleY);var i=h.blendMode!==-1;i||t.setBlendMode(0);var n=h._alpha,l=h.scrollFactorX,s=h.scrollFactorY;h.mask&&h.mask.preRenderCanvas(t,null,g);for(var u=0;u<a.length;u++){var d=a[u];if(d.willRender(g)){var c=d.alpha,v=d.scrollFactorX,y=d.scrollFactorY;!i&&d.blendMode!==t.currentBlendMode&&t.setBlendMode(d.blendMode),d.setScrollFactor(v*l,y*s),d.setAlpha(c*n),d.renderCanvas(t,d,g,r),d.setAlpha(c),d.setScrollFactor(v,y)}}h.mask&&h.mask.postRenderCanvas(t)}};f.exports=C},77143:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25305),g=t(31559),o=t(44603),a=t(23568),r=t(95540);o.register("container",function(i,n){i===void 0&&(i={});var l=a(i,"x",0),s=a(i,"y",0),u=r(i,"children",null),d=new g(this.scene,l,s,u);return n!==void 0&&(i.add=n),h(this.scene,d,i),d})},24961:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(31559),g=t(39429);g.register("container",function(o,a,r){return this.displayList.add(new h(this.scene,o,a,r))})},29959:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),g=h,o=h;g=t(72249),o=t(53584),f.exports={renderWebGL:g,renderCanvas:o}},72249:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h,g,o){g.addToRenderList(h);var a=h.list,r=a.length;if(r!==0){var i=h.localTransform;o?(i.loadIdentity(),i.multiply(o),i.translate(h.x,h.y),i.rotate(h.rotation),i.scale(h.scaleX,h.scaleY)):i.applyITRS(h.x,h.y,h.rotation,h.scaleX,h.scaleY),t.pipelines.preBatch(h);var n=h.blendMode!==-1;n||t.setBlendMode(0);for(var l=h.alpha,s=h.scrollFactorX,u=h.scrollFactorY,d=0;d<r;d++){var c=a[d];if(c.willRender(g)){var v,y,x,S;if(c.alphaTopLeft!==void 0)v=c.alphaTopLeft,y=c.alphaTopRight,x=c.alphaBottomLeft,S=c.alphaBottomRight;else{var E=c.alpha;v=E,y=E,x=E,S=E}var A=c.scrollFactorX,R=c.scrollFactorY;!n&&c.blendMode!==t.currentBlendMode&&t.setBlendMode(c.blendMode);var w=c.mask;w&&w.preRenderWebGL(t,c,g);var I=c.type;I!==t.currentType&&(t.newType=!0,t.currentType=I),t.nextTypeMatch=d<r-1?a[d+1].type===t.currentType:!1,c.setScrollFactor(A*s,R*u),c.setAlpha(v*l,y*l,x*l,S*l),c.renderWebGL(t,c,g,i,h),c.setAlpha(v,y,x,S),c.setScrollFactor(A,R),w&&w.postRenderWebGL(t,g),t.newType=!1}}t.pipelines.postBatch(h)}};f.exports=C},47407:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports=["normal","multiply","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]},3069:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(31401),o=t(441),a=t(95643),r=t(41212),i=t(35846),n=t(44594),l=t(61369),s=new h({Extends:a,Mixins:[g.AlphaSingle,g.BlendMode,g.Depth,g.Origin,g.ScrollFactor,g.Transform,g.Visible,o],initialize:function(d,c,v,y,x,S){a.call(this,d,"DOMElement"),this.parent=d.sys.game.domContainer,this.cache=d.sys.cache.html,this.node,this.transformOnly=!1,this.skewX=0,this.skewY=0,this.rotate3d=new l,this.rotate3dAngle="deg",this.pointerEvents="auto",this.width=0,this.height=0,this.displayWidth=0,this.displayHeight=0,this.handler=this.dispatchNativeEvent.bind(this),this.setPosition(c,v),typeof y=="string"?y[0]==="#"?this.setElement(y.substr(1),x,S):this.createElement(y,x,S):y&&this.setElement(y,x,S),d.sys.events.on(n.SLEEP,this.handleSceneEvent,this),d.sys.events.on(n.WAKE,this.handleSceneEvent,this),d.sys.events.on(n.PRE_RENDER,this.preRender,this)},handleSceneEvent:function(u){var d=this.node,c=d.style;d&&(c.display=u.settings.visible?"block":"none")},setSkew:function(u,d){return u===void 0&&(u=0),d===void 0&&(d=u),this.skewX=u,this.skewY=d,this},setPerspective:function(u){return this.parent.style.perspective=u+"px",this},perspective:{get:function(){return parseFloat(this.parent.style.perspective)},set:function(u){this.parent.style.perspective=u+"px"}},addListener:function(u){if(this.node){u=u.split(" ");for(var d=0;d<u.length;d++)this.node.addEventListener(u[d],this.handler,!1)}return this},removeListener:function(u){if(this.node){u=u.split(" ");for(var d=0;d<u.length;d++)this.node.removeEventListener(u[d],this.handler)}return this},dispatchNativeEvent:function(u){this.emit(u.type,u)},createElement:function(u,d,c){return this.setElement(document.createElement(u),d,c)},setElement:function(u,d,c){this.removeElement();var v;if(typeof u=="string"?(u[0]==="#"&&(u=u.substr(1)),v=document.getElementById(u)):typeof u=="object"&&u.nodeType===1&&(v=u),!v)return this;if(this.node=v,d&&r(d))for(var y in d)v.style[y]=d[y];else typeof d=="string"&&(v.style=d);return v.style.zIndex="0",v.style.display="inline",v.style.position="absolute",v.phaser=this,this.parent&&this.parent.appendChild(v),c&&(v.innerText=c),this.updateSize()},createFromCache:function(u,d){var c=this.cache.get(u);return c&&this.createFromHTML(c,d),this},createFromHTML:function(u,d){d===void 0&&(d="div"),this.removeElement();var c=document.createElement(d);return this.node=c,c.style.zIndex="0",c.style.display="inline",c.style.position="absolute",c.phaser=this,this.parent&&this.parent.appendChild(c),c.innerHTML=u,this.updateSize()},removeElement:function(){return this.node&&(i(this.node),this.node=null),this},updateSize:function(){var u=this.node;return this.width=u.clientWidth,this.height=u.clientHeight,this.displayWidth=this.width*this.scaleX,this.displayHeight=this.height*this.scaleY,this},getChildByProperty:function(u,d){if(this.node){for(var c=this.node.querySelectorAll("*"),v=0;v<c.length;v++)if(c[v][u]===d)return c[v]}return null},getChildByID:function(u){return this.getChildByProperty("id",u)},getChildByName:function(u){return this.getChildByProperty("name",u)},setClassName:function(u){return this.node&&(this.node.className=u,this.updateSize()),this},setText:function(u){return this.node&&(this.node.innerText=u,this.updateSize()),this},setHTML:function(u){return this.node&&(this.node.innerHTML=u,this.updateSize()),this},preRender:function(){var u=this.parentContainer,d=this.node;d&&u&&!u.willRender()&&(d.style.display="none")},willRender:function(){return!0},preDestroy:function(){this.removeElement(),this.scene.sys.events.off(n.SLEEP,this.handleSceneEvent,this),this.scene.sys.events.off(n.WAKE,this.handleSceneEvent,this),this.scene.sys.events.off(n.PRE_RENDER,this.preRender,this)}});f.exports=s},49381:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(47407),g=t(95643),o=t(61340),a=new o,r=new o,i=new o,n=function(l,s,u,d){if(s.node){var c=s.node.style,v=s.scene.sys.settings;if(!c||!v.visible||g.RENDER_MASK!==s.renderFlags||s.cameraFilter!==0&&s.cameraFilter&u.id||s.parentContainer&&!s.parentContainer.willRender()){c.display="none";return}var y=s.parentContainer,x=u.alpha*s.alpha;y&&(x*=y.alpha);var S=a,E=r,A=i,R=0,w=0,I="0%",O="0%";d?(R=s.width*s.scaleX*s.originX,w=s.height*s.scaleY*s.originY,E.applyITRS(s.x-R,s.y-w,s.rotation,s.scaleX,s.scaleY),S.copyFrom(u.matrix),S.multiplyWithOffset(d,-u.scrollX*s.scrollFactorX,-u.scrollY*s.scrollFactorY),E.e=s.x-R,E.f=s.y-w,S.multiply(E,A)):(R=s.width*s.originX,w=s.height*s.originY,E.applyITRS(s.x,s.y,s.rotation,s.scaleX,s.scaleY),S.copyFrom(u.matrix),I=100*s.originX+"%",O=100*s.originY+"%",E.e-=u.scrollX*s.scrollFactorX,E.f-=u.scrollY*s.scrollFactorY,S.multiply(E,A),A.e-=R,A.f-=w),s.transformOnly||(c.display="block",c.opacity=x,c.zIndex=s._depth,c.pointerEvents=s.pointerEvents,c.mixBlendMode=h[s._blendMode]),c.transform=A.getCSSMatrix()+" skew("+s.skewX+"rad, "+s.skewY+"rad) rotate3d("+s.rotate3d.x+","+s.rotate3d.y+","+s.rotate3d.z+","+s.rotate3d.w+s.rotate3dAngle+")",c.transformOrigin=I+" "+O}};f.exports=n},2611:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(3069),g=t(39429);g.register("dom",function(o,a,r,i,n){var l=new h(this.scene,o,a,r,i,n);return this.displayList.add(l),l})},441:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),g=h,o=h;g=t(49381),o=t(49381),f.exports={renderWebGL:g,renderCanvas:o}},62980:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="addedtoscene"},41337:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="destroy"},44947:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="removedfromscene"},49358:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="complete"},35163:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="created"},97249:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="error"},19483:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="locked"},56059:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="loop"},26772:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="metadata"},64437:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="playing"},83411:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="play"},75780:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="seeked"},67799:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="seeking"},63500:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="stalled"},55541:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="stop"},53208:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="textureready"},4992:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="unlocked"},12:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="unsupported"},51708:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={ADDED_TO_SCENE:t(62980),DESTROY:t(41337),REMOVED_FROM_SCENE:t(44947),VIDEO_COMPLETE:t(49358),VIDEO_CREATED:t(35163),VIDEO_ERROR:t(97249),VIDEO_LOCKED:t(19483),VIDEO_LOOP:t(56059),VIDEO_METADATA:t(26772),VIDEO_PLAY:t(83411),VIDEO_PLAYING:t(64437),VIDEO_SEEKED:t(75780),VIDEO_SEEKING:t(67799),VIDEO_STALLED:t(63500),VIDEO_STOP:t(55541),VIDEO_TEXTURE:t(53208),VIDEO_UNLOCKED:t(4992),VIDEO_UNSUPPORTED:t(12)}},42421:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(31401),o=t(95643),a=t(64993),r=new h({Extends:o,Mixins:[g.Alpha,g.BlendMode,g.Depth,g.Flip,g.Origin,g.ScrollFactor,g.Size,g.Texture,g.Tint,g.Transform,g.Visible,a],initialize:function(n){o.call(this,n,"Extern")},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(){},render:function(){}});f.exports=r},70217:()=>{},56315:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(42421),g=t(39429);g.register("extern",function(){var o=new h(this.scene);return this.displayList.add(o),o})},64993:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),g=h,o=h;g=t(80287),o=t(70217),f.exports={renderWebGL:g,renderCanvas:o}},80287:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91296),g=function(o,a,r,i){o.pipelines.clear();var n=h(a,r,i).calc;a.render.call(a,o,r,n),o.pipelines.rebind()};f.exports=g},85592:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={ARC:0,BEGIN_PATH:1,CLOSE_PATH:2,FILL_RECT:3,LINE_TO:4,MOVE_TO:5,LINE_STYLE:6,FILL_STYLE:7,FILL_PATH:8,STROKE_PATH:9,FILL_TRIANGLE:10,STROKE_TRIANGLE:11,SAVE:14,RESTORE:15,TRANSLATE:16,SCALE:17,ROTATE:18,GRADIENT_FILL_STYLE:21,GRADIENT_LINE_STYLE:22}},43831:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(71911),g=t(83419),o=t(85592),a=t(31401),r=t(8497),i=t(95643),n=t(95540),l=t(35154),s=t(36383),u=t(84503),d=new g({Extends:i,Mixins:[a.AlphaSingle,a.BlendMode,a.Depth,a.Mask,a.Pipeline,a.PostPipeline,a.Transform,a.Visible,a.ScrollFactor,u],initialize:function(v,y){var x=l(y,"x",0),S=l(y,"y",0);i.call(this,v,"Graphics"),this.setPosition(x,S),this.initPipeline(),this.initPostPipeline(),this.displayOriginX=0,this.displayOriginY=0,this.commandBuffer=[],this.defaultFillColor=-1,this.defaultFillAlpha=1,this.defaultStrokeWidth=1,this.defaultStrokeColor=-1,this.defaultStrokeAlpha=1,this._lineWidth=1,this.lineStyle(1,0,0),this.fillStyle(0,0),this.setDefaultStyles(y)},setDefaultStyles:function(c){return l(c,"lineStyle",null)&&(this.defaultStrokeWidth=l(c,"lineStyle.width",1),this.defaultStrokeColor=l(c,"lineStyle.color",16777215),this.defaultStrokeAlpha=l(c,"lineStyle.alpha",1),this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha)),l(c,"fillStyle",null)&&(this.defaultFillColor=l(c,"fillStyle.color",16777215),this.defaultFillAlpha=l(c,"fillStyle.alpha",1),this.fillStyle(this.defaultFillColor,this.defaultFillAlpha)),this},lineStyle:function(c,v,y){return y===void 0&&(y=1),this.commandBuffer.push(o.LINE_STYLE,c,v,y),this._lineWidth=c,this},fillStyle:function(c,v){return v===void 0&&(v=1),this.commandBuffer.push(o.FILL_STYLE,c,v),this},fillGradientStyle:function(c,v,y,x,S,E,A,R){return S===void 0&&(S=1),E===void 0&&(E=S),A===void 0&&(A=S),R===void 0&&(R=S),this.commandBuffer.push(o.GRADIENT_FILL_STYLE,S,E,A,R,c,v,y,x),this},lineGradientStyle:function(c,v,y,x,S,E){return E===void 0&&(E=1),this.commandBuffer.push(o.GRADIENT_LINE_STYLE,c,E,v,y,x,S),this},beginPath:function(){return this.commandBuffer.push(o.BEGIN_PATH),this},closePath:function(){return this.commandBuffer.push(o.CLOSE_PATH),this},fillPath:function(){return this.commandBuffer.push(o.FILL_PATH),this},fill:function(){return this.commandBuffer.push(o.FILL_PATH),this},strokePath:function(){return this.commandBuffer.push(o.STROKE_PATH),this},stroke:function(){return this.commandBuffer.push(o.STROKE_PATH),this},fillCircleShape:function(c){return this.fillCircle(c.x,c.y,c.radius)},strokeCircleShape:function(c){return this.strokeCircle(c.x,c.y,c.radius)},fillCircle:function(c,v,y){return this.beginPath(),this.arc(c,v,y,0,s.PI2),this.fillPath(),this},strokeCircle:function(c,v,y){return this.beginPath(),this.arc(c,v,y,0,s.PI2),this.strokePath(),this},fillRectShape:function(c){return this.fillRect(c.x,c.y,c.width,c.height)},strokeRectShape:function(c){return this.strokeRect(c.x,c.y,c.width,c.height)},fillRect:function(c,v,y,x){return this.commandBuffer.push(o.FILL_RECT,c,v,y,x),this},strokeRect:function(c,v,y,x){var S=this._lineWidth/2,E=c-S,A=c+S;return this.beginPath(),this.moveTo(c,v),this.lineTo(c,v+x),this.strokePath(),this.beginPath(),this.moveTo(c+y,v),this.lineTo(c+y,v+x),this.strokePath(),this.beginPath(),this.moveTo(E,v),this.lineTo(A+y,v),this.strokePath(),this.beginPath(),this.moveTo(E,v+x),this.lineTo(A+y,v+x),this.strokePath(),this},fillRoundedRect:function(c,v,y,x,S){S===void 0&&(S=20);var E=S,A=S,R=S,w=S;typeof S!="number"&&(E=n(S,"tl",20),A=n(S,"tr",20),R=n(S,"bl",20),w=n(S,"br",20));var I=E>=0,O=A>=0,F=R>=0,L=w>=0;return E=Math.abs(E),A=Math.abs(A),R=Math.abs(R),w=Math.abs(w),this.beginPath(),this.moveTo(c+E,v),this.lineTo(c+y-A,v),O?this.arc(c+y-A,v+A,A,-s.TAU,0):this.arc(c+y,v,A,Math.PI,s.TAU,!0),this.lineTo(c+y,v+x-w),L?this.arc(c+y-w,v+x-w,w,0,s.TAU):this.arc(c+y,v+x,w,-s.TAU,Math.PI,!0),this.lineTo(c+R,v+x),F?this.arc(c+R,v+x-R,R,s.TAU,Math.PI):this.arc(c,v+x,R,0,-s.TAU,!0),this.lineTo(c,v+E),I?this.arc(c+E,v+E,E,-Math.PI,-s.TAU):this.arc(c,v,E,s.TAU,0,!0),this.fillPath(),this},strokeRoundedRect:function(c,v,y,x,S){S===void 0&&(S=20);var E=S,A=S,R=S,w=S,I=Math.min(y,x)/2;typeof S!="number"&&(E=n(S,"tl",20),A=n(S,"tr",20),R=n(S,"bl",20),w=n(S,"br",20));var O=E>=0,F=A>=0,L=R>=0,D=w>=0;return E=Math.min(Math.abs(E),I),A=Math.min(Math.abs(A),I),R=Math.min(Math.abs(R),I),w=Math.min(Math.abs(w),I),this.beginPath(),this.moveTo(c+E,v),this.lineTo(c+y-A,v),this.moveTo(c+y-A,v),F?this.arc(c+y-A,v+A,A,-s.TAU,0):this.arc(c+y,v,A,Math.PI,s.TAU,!0),this.lineTo(c+y,v+x-w),this.moveTo(c+y,v+x-w),D?this.arc(c+y-w,v+x-w,w,0,s.TAU):this.arc(c+y,v+x,w,-s.TAU,Math.PI,!0),this.lineTo(c+R,v+x),this.moveTo(c+R,v+x),L?this.arc(c+R,v+x-R,R,s.TAU,Math.PI):this.arc(c,v+x,R,0,-s.TAU,!0),this.lineTo(c,v+E),this.moveTo(c,v+E),O?this.arc(c+E,v+E,E,-Math.PI,-s.TAU):this.arc(c,v,E,s.TAU,0,!0),this.strokePath(),this},fillPointShape:function(c,v){return this.fillPoint(c.x,c.y,v)},fillPoint:function(c,v,y){return!y||y<1?y=1:(c-=y/2,v-=y/2),this.commandBuffer.push(o.FILL_RECT,c,v,y,y),this},fillTriangleShape:function(c){return this.fillTriangle(c.x1,c.y1,c.x2,c.y2,c.x3,c.y3)},strokeTriangleShape:function(c){return this.strokeTriangle(c.x1,c.y1,c.x2,c.y2,c.x3,c.y3)},fillTriangle:function(c,v,y,x,S,E){return this.commandBuffer.push(o.FILL_TRIANGLE,c,v,y,x,S,E),this},strokeTriangle:function(c,v,y,x,S,E){return this.commandBuffer.push(o.STROKE_TRIANGLE,c,v,y,x,S,E),this},strokeLineShape:function(c){return this.lineBetween(c.x1,c.y1,c.x2,c.y2)},lineBetween:function(c,v,y,x){return this.beginPath(),this.moveTo(c,v),this.lineTo(y,x),this.strokePath(),this},lineTo:function(c,v){return this.commandBuffer.push(o.LINE_TO,c,v),this},moveTo:function(c,v){return this.commandBuffer.push(o.MOVE_TO,c,v),this},strokePoints:function(c,v,y,x){v===void 0&&(v=!1),y===void 0&&(y=!1),x===void 0&&(x=c.length),this.beginPath(),this.moveTo(c[0].x,c[0].y);for(var S=1;S<x;S++)this.lineTo(c[S].x,c[S].y);return v&&this.lineTo(c[0].x,c[0].y),y&&this.closePath(),this.strokePath(),this},fillPoints:function(c,v,y,x){v===void 0&&(v=!1),y===void 0&&(y=!1),x===void 0&&(x=c.length),this.beginPath(),this.moveTo(c[0].x,c[0].y);for(var S=1;S<x;S++)this.lineTo(c[S].x,c[S].y);return v&&this.lineTo(c[0].x,c[0].y),y&&this.closePath(),this.fillPath(),this},strokeEllipseShape:function(c,v){v===void 0&&(v=32);var y=c.getPoints(v);return this.strokePoints(y,!0)},strokeEllipse:function(c,v,y,x,S){S===void 0&&(S=32);var E=new r(c,v,y,x),A=E.getPoints(S);return this.strokePoints(A,!0)},fillEllipseShape:function(c,v){v===void 0&&(v=32);var y=c.getPoints(v);return this.fillPoints(y,!0)},fillEllipse:function(c,v,y,x,S){S===void 0&&(S=32);var E=new r(c,v,y,x),A=E.getPoints(S);return this.fillPoints(A,!0)},arc:function(c,v,y,x,S,E,A){return E===void 0&&(E=!1),A===void 0&&(A=0),this.commandBuffer.push(o.ARC,c,v,y,x,S,E,A),this},slice:function(c,v,y,x,S,E,A){return E===void 0&&(E=!1),A===void 0&&(A=0),this.commandBuffer.push(o.BEGIN_PATH),this.commandBuffer.push(o.MOVE_TO,c,v),this.commandBuffer.push(o.ARC,c,v,y,x,S,E,A),this.commandBuffer.push(o.CLOSE_PATH),this},save:function(){return this.commandBuffer.push(o.SAVE),this},restore:function(){return this.commandBuffer.push(o.RESTORE),this},translateCanvas:function(c,v){return this.commandBuffer.push(o.TRANSLATE,c,v),this},scaleCanvas:function(c,v){return this.commandBuffer.push(o.SCALE,c,v),this},rotateCanvas:function(c){return this.commandBuffer.push(o.ROTATE,c),this},clear:function(){return this.commandBuffer.length=0,this.defaultFillColor>-1&&this.fillStyle(this.defaultFillColor,this.defaultFillAlpha),this.defaultStrokeColor>-1&&this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha),this},generateTexture:function(c,v,y){var x=this.scene.sys,S=x.game.renderer;v===void 0&&(v=x.scale.width),y===void 0&&(y=x.scale.height),d.TargetCamera.setScene(this.scene),d.TargetCamera.setViewport(0,0,v,y),d.TargetCamera.scrollX=this.x,d.TargetCamera.scrollY=this.y;var E,A,R={willReadFrequently:!0};if(typeof c=="string")if(x.textures.exists(c)){E=x.textures.get(c);var w=E.getSourceImage();w instanceof HTMLCanvasElement&&(A=w.getContext("2d",R))}else E=x.textures.createCanvas(c,v,y),A=E.getSourceImage().getContext("2d",R);else c instanceof HTMLCanvasElement&&(A=c.getContext("2d",R));return A&&(this.renderCanvas(S,this,d.TargetCamera,null,A,!1),E&&E.refresh()),this},preDestroy:function(){this.commandBuffer=[]}});d.TargetCamera=new h,f.exports=d},32768:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(85592),g=t(20926),o=function(a,r,i,n,l,s){var u=r.commandBuffer,d=u.length,c=l||a.currentContext;if(!(d===0||!g(a,c,r,i,n))){i.addToRenderList(r);var v=1,y=1,x=0,S=0,E=1,A=0,R=0,w=0;c.beginPath();for(var I=0;I<d;++I){var O=u[I];switch(O){case h.ARC:c.arc(u[I+1],u[I+2],u[I+3],u[I+4],u[I+5],u[I+6]),I+=7;break;case h.LINE_STYLE:E=u[I+1],x=u[I+2],v=u[I+3],A=(x&16711680)>>>16,R=(x&65280)>>>8,w=x&255,c.strokeStyle="rgba("+A+","+R+","+w+","+v+")",c.lineWidth=E,I+=3;break;case h.FILL_STYLE:S=u[I+1],y=u[I+2],A=(S&16711680)>>>16,R=(S&65280)>>>8,w=S&255,c.fillStyle="rgba("+A+","+R+","+w+","+y+")",I+=2;break;case h.BEGIN_PATH:c.beginPath();break;case h.CLOSE_PATH:c.closePath();break;case h.FILL_PATH:s||c.fill();break;case h.STROKE_PATH:s||c.stroke();break;case h.FILL_RECT:s?c.rect(u[I+1],u[I+2],u[I+3],u[I+4]):c.fillRect(u[I+1],u[I+2],u[I+3],u[I+4]),I+=4;break;case h.FILL_TRIANGLE:c.beginPath(),c.moveTo(u[I+1],u[I+2]),c.lineTo(u[I+3],u[I+4]),c.lineTo(u[I+5],u[I+6]),c.closePath(),s||c.fill(),I+=6;break;case h.STROKE_TRIANGLE:c.beginPath(),c.moveTo(u[I+1],u[I+2]),c.lineTo(u[I+3],u[I+4]),c.lineTo(u[I+5],u[I+6]),c.closePath(),s||c.stroke(),I+=6;break;case h.LINE_TO:c.lineTo(u[I+1],u[I+2]),I+=2;break;case h.MOVE_TO:c.moveTo(u[I+1],u[I+2]),I+=2;break;case h.LINE_FX_TO:c.lineTo(u[I+1],u[I+2]),I+=5;break;case h.MOVE_FX_TO:c.moveTo(u[I+1],u[I+2]),I+=5;break;case h.SAVE:c.save();break;case h.RESTORE:c.restore();break;case h.TRANSLATE:c.translate(u[I+1],u[I+2]),I+=2;break;case h.SCALE:c.scale(u[I+1],u[I+2]),I+=2;break;case h.ROTATE:c.rotate(u[I+1]),I+=1;break;case h.GRADIENT_FILL_STYLE:I+=5;break;case h.GRADIENT_LINE_STYLE:I+=6;break}}c.restore()}};f.exports=o},87079:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(44603),g=t(43831);h.register("graphics",function(o,a){o===void 0&&(o={}),a!==void 0&&(o.add=a);var r=new g(this.scene,o);return o.add&&this.scene.sys.displayList.add(r),r})},1201:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(43831),g=t(39429);g.register("graphics",function(o){return this.displayList.add(new h(this.scene,o))})},84503:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),g=h,o=h;g=t(77545),o=t(32768),o=t(32768),f.exports={renderWebGL:g,renderCanvas:o}},77545:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(85592),g=t(91296),o=t(61340),a=t(70554),r=function(u,d,c){this.x=u,this.y=d,this.width=c},i=function(u,d,c){this.points=[],this.pointsLength=1,this.points[0]=new r(u,d,c)},n=[],l=new o,s=function(u,d,c,v){if(d.commandBuffer.length!==0){c.addToRenderList(d);var y=u.pipelines.set(d.pipeline,d);u.pipelines.preBatch(d);for(var x=g(d,c,v).calc,S=l.loadIdentity(),E=d.commandBuffer,A=c.alpha*d.alpha,R=1,w=y.fillTint,I=y.strokeTint,O=0,F=0,L=0,D=.01,b=Math.PI*2,G,W=[],Y=0,H=!0,U=null,X=a.getTintAppendFloatAlpha,V=0;V<E.length;V++)switch(G=E[V],G){case h.BEGIN_PATH:{W.length=0,U=null,H=!0;break}case h.CLOSE_PATH:{H=!1,U&&U.points.length&&U.points.push(U.points[0]);break}case h.FILL_PATH:{for(Y=0;Y<W.length;Y++)y.batchFillPath(W[Y].points,S,x);break}case h.STROKE_PATH:{for(Y=0;Y<W.length;Y++)y.batchStrokePath(W[Y].points,R,H,S,x);break}case h.LINE_STYLE:{R=E[++V];var B=E[++V],z=E[++V]*A,K=X(B,z);I.TL=K,I.TR=K,I.BL=K,I.BR=K;break}case h.FILL_STYLE:{var k=E[++V],J=E[++V]*A,q=X(k,J);w.TL=q,w.TR=q,w.BL=q,w.BR=q;break}case h.GRADIENT_FILL_STYLE:{var j=E[++V]*A,Z=E[++V]*A,_=E[++V]*A,et=E[++V]*A;w.TL=X(E[++V],j),w.TR=X(E[++V],Z),w.BL=X(E[++V],_),w.BR=X(E[++V],et);break}case h.GRADIENT_LINE_STYLE:{R=E[++V];var it=E[++V]*A;I.TL=X(E[++V],it),I.TR=X(E[++V],it),I.BL=X(E[++V],it),I.BR=X(E[++V],it);break}case h.ARC:{var st=0,nt=E[++V],ut=E[++V],ft=E[++V],ht=E[++V],rt=E[++V],lt=E[++V],dt=E[++V];for(rt-=ht,lt?rt<-b?rt=-b:rt>0&&(rt=-b+rt%b):rt>b?rt=b:rt<0&&(rt=b+rt%b),U===null&&(U=new i(nt+Math.cos(ht)*ft,ut+Math.sin(ht)*ft,R),W.push(U),st+=D);st<1+dt;)L=rt*st+ht,O=nt+Math.cos(L)*ft,F=ut+Math.sin(L)*ft,U.points.push(new r(O,F,R)),st+=D;L=rt+ht,O=nt+Math.cos(L)*ft,F=ut+Math.sin(L)*ft,U.points.push(new r(O,F,R));break}case h.FILL_RECT:{y.batchFillRect(E[++V],E[++V],E[++V],E[++V],S,x);break}case h.FILL_TRIANGLE:{y.batchFillTriangle(E[++V],E[++V],E[++V],E[++V],E[++V],E[++V],S,x);break}case h.STROKE_TRIANGLE:{y.batchStrokeTriangle(E[++V],E[++V],E[++V],E[++V],E[++V],E[++V],R,S,x);break}case h.LINE_TO:{U!==null?U.points.push(new r(E[++V],E[++V],R)):(U=new i(E[++V],E[++V],R),W.push(U));break}case h.MOVE_TO:{U=new i(E[++V],E[++V],R),W.push(U);break}case h.SAVE:{n.push(S.copyToArray());break}case h.RESTORE:{S.copyFromArray(n.pop());break}case h.TRANSLATE:{nt=E[++V],ut=E[++V],S.translate(nt,ut);break}case h.SCALE:{nt=E[++V],ut=E[++V],S.scale(nt,ut);break}case h.ROTATE:{S.rotate(E[++V]);break}}u.pipelines.postBatch(d)}};f.exports=s},26479:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(61061),g=t(83419),o=t(51708),a=t(50792),r=t(46710),i=t(95540),n=t(35154),l=t(97022),s=t(41212),u=t(88492),d=t(35072),c=t(68287),v=new g({Extends:a,initialize:function(x,S,E){a.call(this),E?S&&!Array.isArray(S)&&(S=[S]):Array.isArray(S)?s(S[0])&&(E=S,S=null):s(S)&&(E=S,S=null),this.scene=x,this.children=new d,this.isParent=!0,this.type="Group",this.classType=i(E,"classType",c),this.name=i(E,"name",""),this.active=i(E,"active",!0),this.maxSize=i(E,"maxSize",-1),this.defaultKey=i(E,"defaultKey",null),this.defaultFrame=i(E,"defaultFrame",null),this.runChildUpdate=i(E,"runChildUpdate",!1),this.createCallback=i(E,"createCallback",null),this.removeCallback=i(E,"removeCallback",null),this.createMultipleCallback=i(E,"createMultipleCallback",null),this.internalCreateCallback=i(E,"internalCreateCallback",null),this.internalRemoveCallback=i(E,"internalRemoveCallback",null),S&&this.addMultiple(S),E&&this.createMultiple(E),this.on(o.ADDED_TO_SCENE,this.addedToScene,this),this.on(o.REMOVED_FROM_SCENE,this.removedFromScene,this)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},create:function(y,x,S,E,A,R){if(y===void 0&&(y=0),x===void 0&&(x=0),S===void 0&&(S=this.defaultKey),E===void 0&&(E=this.defaultFrame),A===void 0&&(A=!0),R===void 0&&(R=!0),this.isFull())return null;var w=new this.classType(this.scene,y,x,S,E);return w.addToDisplayList(this.scene.sys.displayList),w.addToUpdateList(),w.visible=A,w.setActive(R),this.add(w),w},createMultiple:function(y){if(this.isFull())return[];Array.isArray(y)||(y=[y]);var x=[];if(y[0].key)for(var S=0;S<y.length;S++){var E=this.createFromConfig(y[S]);x=x.concat(E)}return x},createFromConfig:function(y){if(this.isFull())return[];this.classType=i(y,"classType",this.classType);var x=i(y,"key",void 0),S=i(y,"frame",null),E=i(y,"visible",!0),A=i(y,"active",!0),R=[];if(x===void 0)return R;Array.isArray(x)||(x=[x]),Array.isArray(S)||(S=[S]);var w=i(y,"repeat",0),I=i(y,"randomKey",!1),O=i(y,"randomFrame",!1),F=i(y,"yoyo",!1),L=i(y,"quantity",!1),D=i(y,"frameQuantity",1),b=i(y,"max",0),G=u(x,S,{max:b,qty:L||D,random:I,randomB:O,repeat:w,yoyo:F});y.createCallback&&(this.createCallback=y.createCallback),y.removeCallback&&(this.removeCallback=y.removeCallback),y.internalCreateCallback&&(this.internalCreateCallback=y.internalCreateCallback),y.internalRemoveCallback&&(this.internalRemoveCallback=y.internalRemoveCallback);for(var W=0;W<G.length;W++){var Y=this.create(0,0,G[W].a,G[W].b,E,A);if(!Y)break;R.push(Y)}if(l(y,"setXY")){var H=n(y,"setXY.x",0),U=n(y,"setXY.y",0),X=n(y,"setXY.stepX",0),V=n(y,"setXY.stepY",0);h.SetXY(R,H,U,X,V)}if(l(y,"setRotation")){var B=n(y,"setRotation.value",0),z=n(y,"setRotation.step",0);h.SetRotation(R,B,z)}if(l(y,"setScale")){var K=n(y,"setScale.x",1),k=n(y,"setScale.y",K),J=n(y,"setScale.stepX",0),q=n(y,"setScale.stepY",0);h.SetScale(R,K,k,J,q)}if(l(y,"setOrigin")){var j=n(y,"setOrigin.x",.5),Z=n(y,"setOrigin.y",j),_=n(y,"setOrigin.stepX",0),et=n(y,"setOrigin.stepY",0);h.SetOrigin(R,j,Z,_,et)}if(l(y,"setAlpha")){var it=n(y,"setAlpha.value",1),st=n(y,"setAlpha.step",0);h.SetAlpha(R,it,st)}if(l(y,"setDepth")){var nt=n(y,"setDepth.value",0),ut=n(y,"setDepth.step",0);h.SetDepth(R,nt,ut)}if(l(y,"setScrollFactor")){var ft=n(y,"setScrollFactor.x",1),ht=n(y,"setScrollFactor.y",ft),rt=n(y,"setScrollFactor.stepX",0),lt=n(y,"setScrollFactor.stepY",0);h.SetScrollFactor(R,ft,ht,rt,lt)}var dt=i(y,"hitArea",null),yt=i(y,"hitAreaCallback",null);dt&&h.SetHitArea(R,dt,yt);var xt=i(y,"gridAlign",!1);return xt&&h.GridAlign(R,xt),this.createMultipleCallback&&this.createMultipleCallback.call(this,R),R},preUpdate:function(y,x){if(!(!this.runChildUpdate||this.children.size===0))for(var S=this.children.entries.slice(),E=0;E<S.length;E++){var A=S[E];A.active&&A.update(y,x)}},add:function(y,x){return x===void 0&&(x=!1),this.isFull()?this:(this.children.set(y),this.internalCreateCallback&&this.internalCreateCallback.call(this,y),this.createCallback&&this.createCallback.call(this,y),x&&(y.addToDisplayList(this.scene.sys.displayList),y.addToUpdateList()),y.on(o.DESTROY,this.remove,this),this)},addMultiple:function(y,x){if(x===void 0&&(x=!1),Array.isArray(y))for(var S=0;S<y.length;S++)this.add(y[S],x);return this},remove:function(y,x,S){return x===void 0&&(x=!1),S===void 0&&(S=!1),this.children.contains(y)?(this.children.delete(y),this.internalRemoveCallback&&this.internalRemoveCallback.call(this,y),this.removeCallback&&this.removeCallback.call(this,y),y.off(o.DESTROY,this.remove,this),S?y.destroy():x&&(y.removeFromDisplayList(),y.removeFromUpdateList()),this):this},clear:function(y,x){y===void 0&&(y=!1),x===void 0&&(x=!1);for(var S=this.children,E=0;E<S.size;E++){var A=S.entries[E];A.off(o.DESTROY,this.remove,this),x?A.destroy():y&&(A.removeFromDisplayList(),A.removeFromUpdateList())}return this.children.clear(),this},contains:function(y){return this.children.contains(y)},getChildren:function(){return this.children.entries},getLength:function(){return this.children.size},getMatching:function(y,x,S,E){return r(this.children.entries,y,x,S,E)},getFirst:function(y,x,S,E,A,R,w){return this.getHandler(!0,1,y,x,S,E,A,R,w)},getFirstNth:function(y,x,S,E,A,R,w,I){return this.getHandler(!0,y,x,S,E,A,R,w,I)},getLast:function(y,x,S,E,A,R,w){return this.getHandler(!1,1,y,x,S,E,A,R,w)},getLastNth:function(y,x,S,E,A,R,w,I){return this.getHandler(!1,y,x,S,E,A,R,w,I)},getHandler:function(y,x,S,E,A,R,w,I,O){S===void 0&&(S=!1),E===void 0&&(E=!1);var F,L,D=0,b=this.children.entries;if(y)for(L=0;L<b.length;L++)if(F=b[L],F.active===S){if(D++,D===x)break}else F=null;else for(L=b.length-1;L>=0;L--)if(F=b[L],F.active===S){if(D++,D===x)break}else F=null;return F?(typeof A=="number"&&(F.x=A),typeof R=="number"&&(F.y=R),F):E?this.create(A,R,w,I,O):null},get:function(y,x,S,E,A){return this.getFirst(!1,!0,y,x,S,E,A)},getFirstAlive:function(y,x,S,E,A,R){return this.getFirst(!0,y,x,S,E,A,R)},getFirstDead:function(y,x,S,E,A,R){return this.getFirst(!1,y,x,S,E,A,R)},playAnimation:function(y,x){return h.PlayAnimation(this.children.entries,y,x),this},isFull:function(){return this.maxSize===-1?!1:this.children.size>=this.maxSize},countActive:function(y){y===void 0&&(y=!0);for(var x=0,S=0;S<this.children.size;S++)this.children.entries[S].active===y&&x++;return x},getTotalUsed:function(){return this.countActive()},getTotalFree:function(){var y=this.getTotalUsed(),x=this.maxSize===-1?999999999999:this.maxSize;return x-y},setActive:function(y){return this.active=y,this},setName:function(y){return this.name=y,this},propertyValueSet:function(y,x,S,E,A){return h.PropertyValueSet(this.children.entries,y,x,S,E,A),this},propertyValueInc:function(y,x,S,E,A){return h.PropertyValueInc(this.children.entries,y,x,S,E,A),this},setX:function(y,x){return h.SetX(this.children.entries,y,x),this},setY:function(y,x){return h.SetY(this.children.entries,y,x),this},setXY:function(y,x,S,E){return h.SetXY(this.children.entries,y,x,S,E),this},incX:function(y,x){return h.IncX(this.children.entries,y,x),this},incY:function(y,x){return h.IncY(this.children.entries,y,x),this},incXY:function(y,x,S,E){return h.IncXY(this.children.entries,y,x,S,E),this},shiftPosition:function(y,x,S){return h.ShiftPosition(this.children.entries,y,x,S),this},angle:function(y,x){return h.Angle(this.children.entries,y,x),this},rotate:function(y,x){return h.Rotate(this.children.entries,y,x),this},rotateAround:function(y,x){return h.RotateAround(this.children.entries,y,x),this},rotateAroundDistance:function(y,x,S){return h.RotateAroundDistance(this.children.entries,y,x,S),this},setAlpha:function(y,x){return h.SetAlpha(this.children.entries,y,x),this},setTint:function(y,x,S,E){return h.SetTint(this.children.entries,y,x,S,E),this},setOrigin:function(y,x,S,E){return h.SetOrigin(this.children.entries,y,x,S,E),this},scaleX:function(y,x){return h.ScaleX(this.children.entries,y,x),this},scaleY:function(y,x){return h.ScaleY(this.children.entries,y,x),this},scaleXY:function(y,x,S,E){return h.ScaleXY(this.children.entries,y,x,S,E),this},setDepth:function(y,x){return h.SetDepth(this.children.entries,y,x),this},setBlendMode:function(y){return h.SetBlendMode(this.children.entries,y),this},setHitArea:function(y,x){return h.SetHitArea(this.children.entries,y,x),this},shuffle:function(){return h.Shuffle(this.children.entries),this},kill:function(y){this.children.contains(y)&&y.setActive(!1)},killAndHide:function(y){this.children.contains(y)&&(y.setActive(!1),y.setVisible(!1))},setVisible:function(y,x,S){return h.SetVisible(this.children.entries,y,x,S),this},toggleVisible:function(){return h.ToggleVisible(this.children.entries),this},destroy:function(y,x){y===void 0&&(y=!1),x===void 0&&(x=!1),!(!this.scene||this.ignoreDestroy)&&(this.emit(o.DESTROY,this),this.removeAllListeners(),this.scene.sys.updateList.remove(this),this.clear(x,y),this.scene=void 0,this.children=void 0)}});f.exports=v},94975:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(44603),g=t(26479);h.register("group",function(o){return new g(this.scene,null,o)})},3385:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26479),g=t(39429);g.register("group",function(o,a){return this.updateList.add(new h(this.scene,o,a))})},88571:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(31401),o=t(95643),a=t(59819),r=new h({Extends:o,Mixins:[g.Alpha,g.BlendMode,g.Depth,g.Flip,g.GetBounds,g.Mask,g.Origin,g.Pipeline,g.PostPipeline,g.ScrollFactor,g.Size,g.TextureCrop,g.Tint,g.Transform,g.Visible,a],initialize:function(n,l,s,u,d){o.call(this,n,"Image"),this._crop=this.resetCropObject(),this.setTexture(u,d),this.setPosition(l,s),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)}});f.exports=r},40652:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h,g,o){g.addToRenderList(h),t.batchSprite(h,h.frame,g,o)};f.exports=C},82459:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25305),g=t(44603),o=t(23568),a=t(88571);g.register("image",function(r,i){r===void 0&&(r={});var n=o(r,"key",null),l=o(r,"frame",null),s=new a(this.scene,0,0,n,l);return i!==void 0&&(r.add=i),h(this.scene,s,r),s})},2117:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(88571),g=t(39429);g.register("image",function(o,a,r,i){return this.displayList.add(new h(this.scene,o,a,r,i))})},59819:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),g=h,o=h;g=t(99517),o=t(40652),f.exports={renderWebGL:g,renderCanvas:o}},99517:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h,g,o){g.addToRenderList(h),this.pipeline.batchSprite(h,g,o)};f.exports=C},77856:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h={Events:t(51708),DisplayList:t(8050),GameObjectCreator:t(44603),GameObjectFactory:t(39429),UpdateList:t(45027),Components:t(31401),GetCalcMatrix:t(91296),BuildGameObject:t(25305),BuildGameObjectAnimation:t(13059),GameObject:t(95643),BitmapText:t(22186),Blitter:t(6107),Bob:t(46590),Container:t(31559),DOMElement:t(3069),DynamicBitmapText:t(2638),Extern:t(42421),Graphics:t(43831),Group:t(26479),Image:t(88571),Layer:t(93595),Particles:t(18404),PathFollower:t(1159),RenderTexture:t(591),RetroFont:t(196),Rope:t(77757),Sprite:t(68287),Text:t(50171),GetTextSize:t(14220),MeasureText:t(79557),TextStyle:t(35762),TileSprite:t(20839),Zone:t(41481),Video:t(18471),Shape:t(17803),Arc:t(23629),Curve:t(89),Ellipse:t(19921),Grid:t(30479),IsoBox:t(61475),IsoTriangle:t(16933),Line:t(57847),Polygon:t(24949),Rectangle:t(74561),Star:t(55911),Triangle:t(36931),Factories:{Blitter:t(12709),Container:t(24961),DOMElement:t(2611),DynamicBitmapText:t(72566),Extern:t(56315),Graphics:t(1201),Group:t(3385),Image:t(2117),Layer:t(20005),Particles:t(676),PathFollower:t(90145),RenderTexture:t(60505),Rope:t(96819),Sprite:t(46409),StaticBitmapText:t(34914),Text:t(68005),TileSprite:t(91681),Zone:t(84175),Video:t(89025),Arc:t(42563),Curve:t(40511),Ellipse:t(1543),Grid:t(34137),IsoBox:t(3933),IsoTriangle:t(49803),Line:t(2481),Polygon:t(64827),Rectangle:t(87959),Star:t(93697),Triangle:t(45245)},Creators:{Blitter:t(9403),Container:t(77143),DynamicBitmapText:t(11164),Graphics:t(87079),Group:t(94975),Image:t(82459),Layer:t(25179),Particles:t(92730),RenderTexture:t(34495),Rope:t(26209),Sprite:t(15567),StaticBitmapText:t(57336),Text:t(71259),TileSprite:t(14167),Zone:t(95261),Video:t(11511)}};h.Shader=t(20071),h.Mesh=t(4703),h.NineSlice=t(28103),h.PointLight=t(80321),h.Plane=t(33663),h.Factories.Shader=t(74177),h.Factories.Mesh=t(9225),h.Factories.NineSlice=t(47521),h.Factories.PointLight=t(71255),h.Factories.Plane=t(30985),h.Creators.Shader=t(54935),h.Creators.Mesh=t(20527),h.Creators.NineSlice=t(28279),h.Creators.PointLight=t(39829),h.Creators.Plane=t(56015),h.Light=t(41432),h.LightsManager=t(61356),h.LightsPlugin=t(88992),f.exports=h},93595:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(10312),g=t(83419),o=t(31401),a=t(53774),r=t(45893),i=t(50792),n=t(51708),l=t(73162),s=t(33963),u=t(44594),d=t(19186),c=new g({Extends:l,Mixins:[o.AlphaSingle,o.BlendMode,o.Depth,o.Mask,o.PostPipeline,o.Visible,i,s],initialize:function(y,x){l.call(this,y),i.call(this),this.scene=y,this.displayList=null,this.type="Layer",this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.systems=y.sys,this.events=y.sys.events,this.sortChildrenFlag=!1,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.initPostPipeline(),this.clearAlpha(),this.setBlendMode(h.SKIP_CHECK),x&&this.add(x),y.sys.queueDepthSort()},setActive:function(v){return this.active=v,this},setName:function(v){return this.name=v,this},setState:function(v){return this.state=v,this},setDataEnabled:function(){return this.data||(this.data=new r(this)),this},setData:function(v,y){return this.data||(this.data=new r(this)),this.data.set(v,y),this},incData:function(v,y){return this.data||(this.data=new r(this)),this.data.inc(v,y),this},toggleData:function(v){return this.data||(this.data=new r(this)),this.data.toggle(v),this},getData:function(v){return this.data||(this.data=new r(this)),this.data.get(v)},setInteractive:function(){return this},disableInteractive:function(){return this},removeInteractive:function(){return this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return a(this)},willRender:function(v){return!(this.renderFlags!==15||this.list.length===0||this.cameraFilter!==0&&this.cameraFilter&v.id)},getIndexList:function(){for(var v=this,y=this.parentContainer,x=[];y&&(x.unshift(y.getIndex(v)),v=y,y.parentContainer);)y=y.parentContainer;return x.unshift(this.displayList.getIndex(v)),x},addChildCallback:function(v){var y=v.displayList;y&&y!==this&&v.removeFromDisplayList(),v.displayList||(this.queueDepthSort(),v.displayList=this,v.emit(n.ADDED_TO_SCENE,v,this.scene),this.events.emit(u.ADDED_TO_SCENE,v,this.scene))},removeChildCallback:function(v){this.queueDepthSort(),v.displayList=null,v.emit(n.REMOVED_FROM_SCENE,v,this.scene),this.events.emit(u.REMOVED_FROM_SCENE,v,this.scene)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(d(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(v,y){return v._depth-y._depth},getChildren:function(){return this.list},addToDisplayList:function(v){return v===void 0&&(v=this.scene.sys.displayList),this.displayList&&this.displayList!==v&&this.removeFromDisplayList(),v.exists(this)||(this.displayList=v,v.add(this,!0),v.queueDepthSort(),this.emit(n.ADDED_TO_SCENE,this,this.scene),v.events.emit(u.ADDED_TO_SCENE,this,this.scene)),this},removeFromDisplayList:function(){var v=this.displayList||this.scene.sys.displayList;return v.exists(this)&&(v.remove(this,!0),v.queueDepthSort(),this.displayList=null,this.emit(n.REMOVED_FROM_SCENE,this,this.scene),v.events.emit(u.REMOVED_FROM_SCENE,this,this.scene)),this},getDisplayList:function(){var v=null;return this.parentContainer?v=this.parentContainer.list:this.displayList&&(v=this.displayList.list),v},destroy:function(v){if(!(!this.scene||this.ignoreDestroy)){this.emit(n.DESTROY,this);for(var y=this.list;y.length;)y[0].destroy(v);this.removeAllListeners(),this.resetPostPipeline(!0),this.displayList&&(this.displayList.remove(this,!0,!1),this.displayList.queueDepthSort()),this.data&&(this.data.destroy(),this.data=void 0),this.active=!1,this.visible=!1,this.list=void 0,this.scene=void 0,this.displayList=void 0,this.systems=void 0,this.events=void 0}}});f.exports=c},2956:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h,g){var o=h.list;if(o.length!==0){h.depthSort();var a=h.blendMode!==-1;a||t.setBlendMode(0);var r=h._alpha;h.mask&&h.mask.preRenderCanvas(t,null,g);for(var i=0;i<o.length;i++){var n=o[i];if(n.willRender(g)){var l=n.alpha;!a&&n.blendMode!==t.currentBlendMode&&t.setBlendMode(n.blendMode),n.setAlpha(l*r),n.renderCanvas(t,n,g),n.setAlpha(l)}}h.mask&&h.mask.postRenderCanvas(t)}};f.exports=C},25179:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25305),g=t(93595),o=t(44603),a=t(23568);o.register("layer",function(r,i){r===void 0&&(r={});var n=a(r,"children",null),l=new g(this.scene,n);return i!==void 0&&(r.add=i),h(this.scene,l,r),l})},20005:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(93595),g=t(39429);g.register("layer",function(o){return this.displayList.add(new h(this.scene,o))})},33963:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),g=h,o=h;g=t(15869),o=t(2956),f.exports={renderWebGL:g,renderCanvas:o}},15869:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h,g){var o=h.list,a=o.length;if(a!==0){h.depthSort(),t.pipelines.preBatch(h);var r=h.blendMode!==-1;r||t.setBlendMode(0);for(var i=h.alpha,n=0;n<a;n++){var l=o[n];if(l.willRender(g)){var s,u,d,c;if(l.alphaTopLeft!==void 0)s=l.alphaTopLeft,u=l.alphaTopRight,d=l.alphaBottomLeft,c=l.alphaBottomRight;else{var v=l.alpha;s=v,u=v,d=v,c=v}!r&&l.blendMode!==t.currentBlendMode&&t.setBlendMode(l.blendMode);var y=l.mask;y&&y.preRenderWebGL(t,l,g);var x=l.type;x!==t.currentType&&(t.newType=!0,t.currentType=x),t.nextTypeMatch=n<a-1?o[n+1].type===t.currentType:!1,l.setAlpha(s*i,u*i,d*i,c*i),l.renderWebGL(t,l,g),l.setAlpha(s,u,d,c),y&&y.postRenderWebGL(t,g),t.newType=!1}}t.pipelines.postBatch(h)}};f.exports=C},41432:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(96503),g=t(83419),o=t(31401),a=t(51767),r=t(70554),i=new g({Extends:h,Mixins:[o.Origin,o.ScrollFactor,o.Visible],initialize:function(l,s,u,d,c,v,y){h.call(this,l,s,u),this.color=new a(d,c,v),this.intensity=y,this.renderFlags=15,this.cameraFilter=0,this.setScrollFactor(1,1),this.setOrigin(),this.setDisplayOrigin(u)},displayWidth:{get:function(){return this.diameter},set:function(n){this.diameter=n}},displayHeight:{get:function(){return this.diameter},set:function(n){this.diameter=n}},width:{get:function(){return this.diameter},set:function(n){this.diameter=n}},height:{get:function(){return this.diameter},set:function(n){this.diameter=n}},willRender:function(n){return!(i.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&n.id)},setColor:function(n){var l=r.getFloatsFromUintRGB(n);return this.color.set(l[0],l[1],l[2]),this},setIntensity:function(n){return this.intensity=n,this},setRadius:function(n){return this.radius=n,this}});i.RENDER_MASK=15,f.exports=i},61356:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(81491),g=t(83419),o=t(20339),a=t(41432),r=t(80321),i=t(51767),n=t(19133),l=t(19186),s=t(70554),u=new g({initialize:function(){this.lights=[],this.ambientColor=new i(.1,.1,.1),this.active=!1,this.maxLights=-1,this.visibleLights=0},addPointLight:function(d,c,v,y,x,S){return this.systems.displayList.add(new r(this.scene,d,c,v,y,x,S))},enable:function(){return this.maxLights===-1&&(this.maxLights=this.systems.renderer.config.maxLights),this.active=!0,this},disable:function(){return this.active=!1,this},getLights:function(d){for(var c=this.lights,v=d.worldView,y=[],x=0;x<c.length;x++){var S=c[x];S.willRender(d)&&h(S,v)&&y.push({light:S,distance:o(S.x,S.y,v.centerX,v.centerY)})}return y.length>this.maxLights&&(l(y,this.sortByDistance),y=y.slice(0,this.maxLights)),this.visibleLights=y.length,y},sortByDistance:function(d,c){return d.distance>=c.distance},setAmbientColor:function(d){var c=s.getFloatsFromUintRGB(d);return this.ambientColor.set(c[0],c[1],c[2]),this},getMaxVisibleLights:function(){return this.maxLights},getLightCount:function(){return this.lights.length},addLight:function(d,c,v,y,x){d===void 0&&(d=0),c===void 0&&(c=0),v===void 0&&(v=128),y===void 0&&(y=16777215),x===void 0&&(x=1);var S=s.getFloatsFromUintRGB(y),E=new a(d,c,v,S[0],S[1],S[2],x);return this.lights.push(E),E},removeLight:function(d){var c=this.lights.indexOf(d);return c>=0&&n(this.lights,c),this},shutdown:function(){this.lights.length=0},destroy:function(){this.shutdown()}});f.exports=u},88992:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(61356),o=t(37277),a=t(44594),r=new h({Extends:g,initialize:function(n){this.scene=n,this.systems=n.sys,n.sys.settings.isBooted||n.sys.events.once(a.BOOT,this.boot,this),g.call(this)},boot:function(){var i=this.systems.events;i.on(a.SHUTDOWN,this.shutdown,this),i.on(a.DESTROY,this.destroy,this)},destroy:function(){this.shutdown(),this.scene=void 0,this.systems=void 0}});o.register("LightsPlugin",r,"lights"),f.exports=r},4703:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(31401),o=t(39506),a=t(83997),r=t(95643),i=t(34684),n=t(92515),l=t(91296),s=t(37867),u=t(29807),d=t(43396),c=t(19186),v=t(25836),y=t(39318),x=new h({Extends:r,Mixins:[g.AlphaSingle,g.BlendMode,g.Depth,g.Mask,g.Pipeline,g.PostPipeline,g.ScrollFactor,g.Size,g.Texture,g.Transform,g.Visible,u],initialize:function(E,A,R,w,I,O,F,L,D,b,G,W){A===void 0&&(A=0),R===void 0&&(R=0),w===void 0&&(w="__WHITE"),r.call(this,E,"Mesh"),this.faces=[],this.vertices=[],this.tintFill=!1,this.debugCallback=null,this.debugGraphic=null,this.hideCCW=!0,this.modelPosition=new v,this.modelScale=new v(1,1,1),this.modelRotation=new v,this.dirtyCache=[0,0,0,0,0,0,0,0,0,0,0,0],this.transformMatrix=new s,this.viewPosition=new v,this.viewMatrix=new s,this.projectionMatrix=new s,this.totalRendered=0,this.totalFrame=0,this.ignoreDirtyCache=!1,this.fov,this.displayOriginX=0,this.displayOriginY=0;var Y=E.sys.renderer;this.setPosition(A,R),this.setTexture(w,I),this.setSize(Y.width,Y.height),this.initPipeline(),this.initPostPipeline(),this.setPerspective(Y.width,Y.height),O&&this.addVertices(O,F,L,D,b,G,W)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},panX:function(S){return this.viewPosition.addScale(v.LEFT,S),this.dirtyCache[10]=1,this},panY:function(S){return this.viewPosition.y+=v.DOWN.y*S,this.dirtyCache[10]=1,this},panZ:function(S){return this.viewPosition.z+=S,this.dirtyCache[10]=1,this},setPerspective:function(S,E,A,R,w){return A===void 0&&(A=45),R===void 0&&(R=.01),w===void 0&&(w=1e3),this.fov=A,this.projectionMatrix.perspective(o(A),S/E,R,w),this.dirtyCache[10]=1,this.dirtyCache[11]=0,this},setOrtho:function(S,E,A,R){return S===void 0&&(S=this.scene.sys.renderer.getAspectRatio()),E===void 0&&(E=1),A===void 0&&(A=-1e3),R===void 0&&(R=1e3),this.fov=0,this.projectionMatrix.ortho(-S,S,-E,E,A,R),this.dirtyCache[10]=1,this.dirtyCache[11]=1,this},clear:function(){return this.faces.forEach(function(S){S.destroy()}),this.faces=[],this.vertices=[],this},addVerticesFromObj:function(S,E,A,R,w,I,O,F,L){var D=this.scene.sys.cache.obj.get(S),b;return D&&(b=i(D,this,E,A,R,w,I,O,F,L)),(!b||b.verts.length===0)&&console.warn("Mesh.addVerticesFromObj data empty:",S),this},sortByDepth:function(S,E){return S.depth-E.depth},depthSort:function(){return c(this.faces,this.sortByDepth),this},addVertex:function(S,E,A,R,w,I,O){var F=new y(S,E,A,R,w,I,O);return this.vertices.push(F),F},addFace:function(S,E,A){var R=new a(S,E,A);return this.faces.push(R),this.dirtyCache[9]=-1,R},addVertices:function(S,E,A,R,w,I,O){var F=n(S,E,A,R,w,I,O);return F?(this.faces=this.faces.concat(F.faces),this.vertices=this.vertices.concat(F.vertices)):console.warn("Mesh.addVertices data empty or invalid"),this.dirtyCache[9]=-1,this},getFaceCount:function(){return this.faces.length},getVertexCount:function(){return this.vertices.length},getFace:function(S){return this.faces[S]},hasFaceAt:function(S,E,A){A===void 0&&(A=this.scene.sys.cameras.main);for(var R=l(this,A).calc,w=this.faces,I=0;I<w.length;I++){var O=w[I];if(O.contains(S,E,R))return!0}return!1},getFaceAt:function(S,E,A){A===void 0&&(A=this.scene.sys.cameras.main);for(var R=l(this,A).calc,w=this.faces,I=[],O=0;O<w.length;O++){var F=w[O];F.contains(S,E,R)&&I.push(F)}return c(I,this.sortByDepth)},setDebug:function(S,E){return this.debugGraphic=S,!S&&!E?this.debugCallback=null:E?this.debugCallback=E:this.debugCallback=this.renderDebug,this},isDirty:function(){var S=this.modelPosition,E=this.modelRotation,A=this.modelScale,R=this.dirtyCache,w=S.x,I=S.y,O=S.z,F=E.x,L=E.y,D=E.z,b=A.x,G=A.y,W=A.z,Y=this.getFaceCount(),H=R[0],U=R[1],X=R[2],V=R[3],B=R[4],z=R[5],K=R[6],k=R[7],J=R[8],q=R[9];return R[0]=w,R[1]=I,R[2]=O,R[3]=F,R[4]=L,R[5]=D,R[6]=b,R[7]=G,R[8]=W,R[9]=Y,H!==w||U!==I||X!==O||V!==F||B!==L||z!==D||K!==b||k!==G||J!==W||q!==Y},preUpdate:function(){this.totalRendered=this.totalFrame,this.totalFrame=0;var S=this.dirtyCache;if(!(!this.ignoreDirtyCache&&!S[10]&&!this.isDirty())){var E=this.width,A=this.height,R=this.viewMatrix,w=this.viewPosition;S[10]&&(R.identity(),R.translate(w),R.invert(),S[10]=0);var I=this.transformMatrix;I.setWorldMatrix(this.modelRotation,this.modelPosition,this.modelScale,this.viewMatrix,this.projectionMatrix);for(var O=w.z,F=this.faces,L=0;L<F.length;L++)F[L].transformCoordinatesLocal(I,E,A,O);this.depthSort()}},renderDebug:function(S,E){for(var A=S.debugGraphic,R=0;R<E.length;R++){var w=E[R],I=w.vertex1.tx,O=w.vertex1.ty,F=w.vertex2.tx,L=w.vertex2.ty,D=w.vertex3.tx,b=w.vertex3.ty;A.strokeTriangle(I,O,F,L,D,b)}},preDestroy:function(){this.clear(),this.debugCallback=null,this.debugGraphic=null},clearTint:function(){return this.setTint()},setInteractive:function(S){S===void 0&&(S={});var E=(function(A,R,w){for(var I=this.faces,O=0;O<I.length;O++){var F=I[O];if(F.contains(R,w))return!0}return!1}).bind(this);return this.scene.sys.input.enable(this,S,E),this},setTint:function(S){S===void 0&&(S=16777215);for(var E=this.vertices,A=0;A<E.length;A++)E[A].color=S;return this},uvScroll:function(S,E){for(var A=this.faces,R=0;R<A.length;R++)A[R].scrollUV(S,E);return this},uvScale:function(S,E){for(var A=this.faces,R=0;R<A.length;R++)A[R].scaleUV(S,E);return this},tint:{set:function(S){this.setTint(S)}},rotateX:{get:function(){return d(this.modelRotation.x)},set:function(S){this.modelRotation.x=o(S)}},rotateY:{get:function(){return d(this.modelRotation.y)},set:function(S){this.modelRotation.y=o(S)}},rotateZ:{get:function(){return d(this.modelRotation.z)},set:function(S){this.modelRotation.z=o(S)}}});f.exports=x},36488:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(){};f.exports=C},20527:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25305),g=t(44603),o=t(23568),a=t(35154),r=t(4703);g.register("mesh",function(i,n){i===void 0&&(i={});var l=o(i,"key",null),s=o(i,"frame",null),u=a(i,"vertices",[]),d=a(i,"uvs",[]),c=a(i,"indicies",[]),v=a(i,"containsZ",!1),y=a(i,"normals",[]),x=a(i,"colors",16777215),S=a(i,"alphas",1),E=new r(this.scene,0,0,l,s,u,d,c,v,y,x,S);return n!==void 0&&(i.add=n),h(this.scene,E,i),E})},9225:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(4703),g=t(39429);g.register("mesh",function(o,a,r,i,n,l,s,u,d,c,v){return this.displayList.add(new h(this.scene,o,a,r,i,n,l,s,u,d,c,v))})},29807:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),g=h,o=h;g=t(48833),o=t(36488),f.exports={renderWebGL:g,renderCanvas:o}},48833:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91296),g=function(o,a,r,i){var n=a.faces,l=n.length;if(l!==0){r.addToRenderList(a);var s=o.pipelines.set(a.pipeline,a),u=h(a,r,i).calc;o.pipelines.preBatch(a);for(var d=s.setGameObject(a),c=s.vertexViewF32,v=s.vertexViewU32,y=s.vertexCount*s.currentShader.vertexComponentCount-1,x=a.tintFill,S=[],E=a.debugCallback,A=u.a,R=u.b,w=u.c,I=u.d,O=u.e,F=u.f,L=a.viewPosition.z,D=a.hideCCW,b=r.roundPixels,G=r.alpha*a.alpha,W=0,Y=0;Y<l;Y++){var H=n[Y];H.isInView(r,D,L,G,A,R,w,I,O,F,b)&&(s.shouldFlush(3)&&(s.flush(),d=s.setGameObject(a),y=s.vertexCount*s.currentShader.vertexComponentCount-1),y=H.load(c,v,y,d,x),W++,s.vertexCount+=3,s.currentBatch.count=s.vertexCount-s.currentBatch.start,E&&S.push(H))}a.totalFrame+=W,E&&E.call(a,a,S),o.pipelines.postBatch(a)}};f.exports=g},28103:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(31401),o=t(95643),a=t(78023),r=t(39318),i=new h({Extends:o,Mixins:[g.AlphaSingle,g.BlendMode,g.Depth,g.GetBounds,g.Mask,g.Origin,g.Pipeline,g.PostPipeline,g.ScrollFactor,g.Texture,g.Transform,g.Visible,a],initialize:function(l,s,u,d,c,v,y,x,S,E,A){o.call(this,l,"NineSlice"),this._width,this._height,this._originX=.5,this._originY=.5,this._sizeComponent=!0,this.vertices=[],this.leftWidth,this.rightWidth,this.topHeight,this.bottomHeight,this.tint=16777215,this.tintFill=!1;var R=l.textures.getFrame(d,c);this.is3Slice=!E&&!A,R&&R.scale9&&(this.is3Slice=R.is3Slice);for(var w=this.is3Slice?18:54,I=0;I<w;I++)this.vertices.push(new r);this.setPosition(s,u),this.setTexture(d,c),this.setSlices(v,y,x,S,E,A,!1),this.updateDisplayOrigin(),this.initPipeline(),this.initPostPipeline()},setSlices:function(n,l,s,u,d,c,v){s===void 0&&(s=10),u===void 0&&(u=10),d===void 0&&(d=0),c===void 0&&(c=0),v===void 0&&(v=!1);var y=this.frame,x=!1;if(this.is3Slice&&v&&d!==0&&c!==0&&(x=!0),x)console.warn("Cannot change 9 slice to 3 slice");else{if(y&&y.scale9&&!v){var S=y.data.scale9Borders,E=S.x,A=S.y;s=E,u=y.width-S.w-E,d=A,c=y.height-S.h-A,n===void 0&&(n=y.width),l===void 0&&(l=y.height)}else n===void 0&&(n=256),l===void 0&&(l=256);this._width=n,this._height=l,this.leftWidth=s,this.rightWidth=u,this.topHeight=d,this.bottomHeight=c,this.is3Slice&&(l=y.height,this._height=l,this.topHeight=l,this.bottomHeight=0),this.updateVertices(),this.updateUVs()}return this},updateUVs:function(){var n=this.leftWidth,l=this.rightWidth,s=this.topHeight,u=this.bottomHeight,d=this.frame.width,c=this.frame.height;this.updateQuadUVs(0,0,0,n/d,s/c),this.updateQuadUVs(6,n/d,0,1-l/d,s/c),this.updateQuadUVs(12,1-l/d,0,1,s/c),this.is3Slice||(this.updateQuadUVs(18,0,s/c,n/d,1-u/c),this.updateQuadUVs(24,n/d,s/c,1-l/d,1-u/c),this.updateQuadUVs(30,1-l/d,s/c,1,1-u/c),this.updateQuadUVs(36,0,1-u/c,n/d,1),this.updateQuadUVs(42,n/d,1-u/c,1-l/d,1),this.updateQuadUVs(48,1-l/d,1-u/c,1,1))},updateVertices:function(){var n=this.leftWidth,l=this.rightWidth,s=this.topHeight,u=this.bottomHeight,d=this.width,c=this.height;this.updateQuad(0,-.5,.5,-.5+n/d,.5-s/c),this.updateQuad(6,-.5+n/d,.5,.5-l/d,.5-s/c),this.updateQuad(12,.5-l/d,.5,.5,.5-s/c),this.is3Slice||(this.updateQuad(18,-.5,.5-s/c,-.5+n/d,-.5+u/c),this.updateQuad(24,-.5+n/d,.5-s/c,.5-l/d,-.5+u/c),this.updateQuad(30,.5-l/d,.5-s/c,.5,-.5+u/c),this.updateQuad(36,-.5,-.5+u/c,-.5+n/d,-.5),this.updateQuad(42,-.5+n/d,-.5+u/c,.5-l/d,-.5),this.updateQuad(48,.5-l/d,-.5+u/c,.5,-.5))},updateQuad:function(n,l,s,u,d){var c=this.width,v=this.height,y=this.originX,x=this.originY,S=this.vertices;S[n+0].resize(l,s,c,v,y,x),S[n+1].resize(l,d,c,v,y,x),S[n+2].resize(u,s,c,v,y,x),S[n+3].resize(l,d,c,v,y,x),S[n+4].resize(u,d,c,v,y,x),S[n+5].resize(u,s,c,v,y,x)},updateQuadUVs:function(n,l,s,u,d){var c=this.vertices,v=this.frame,y=v.u0,x=v.v0,S=v.u1,E=v.v1;if(y!==0||S!==1){var A=S-y;l=y+l*A,u=y+u*A}if(x!==0||E!==1){var R=E-x;s=x+s*R,d=x+d*R}c[n+0].setUVs(l,s),c[n+1].setUVs(l,d),c[n+2].setUVs(u,s),c[n+3].setUVs(l,d),c[n+4].setUVs(u,d),c[n+5].setUVs(u,s)},clearTint:function(){return this.setTint(16777215),this},setTint:function(n){return n===void 0&&(n=16777215),this.tint=n,this.tintFill=!1,this},setTintFill:function(n){return this.setTint(n),this.tintFill=!0,this},isTinted:{get:function(){return this.tint!==16777215}},width:{get:function(){return this._width},set:function(n){this._width=Math.max(n,this.leftWidth+this.rightWidth),this.updateVertices()}},height:{get:function(){return this._height},set:function(n){this.is3Slice||(this._height=Math.max(n,this.topHeight+this.bottomHeight),this.updateVertices())}},displayWidth:{get:function(){return this.scaleX*this.width},set:function(n){this.scaleX=n/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(n){this.scaleY=n/this.height}},setSize:function(n,l){this.width=n,this.height=l,this.updateDisplayOrigin();var s=this.input;return s&&!s.customHitArea&&(s.hitArea.width=this.width,s.hitArea.height=this.height),this},setDisplaySize:function(n,l){return this.displayWidth=n,this.displayHeight=l,this},originX:{get:function(){return this._originX},set:function(n){this._originX=n,this.updateVertices()}},originY:{get:function(){return this._originY},set:function(n){this._originY=n,this.updateVertices()}},setOrigin:function(n,l){return n===void 0&&(n=.5),l===void 0&&(l=n),this._originX=n,this._originY=l,this.updateVertices(),this.updateDisplayOrigin()},setSizeToFrame:function(){if(this.is3Slice){var n=this.frame.height;this._height=n,this.topHeight=n,this.bottomHeight=0}return this.updateUVs(),this},preDestroy:function(){this.vertices=[]}});f.exports=i},28279:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25305),g=t(44603),o=t(23568),a=t(35154),r=t(28103);g.register("nineslice",function(i,n){i===void 0&&(i={});var l=o(i,"key",null),s=o(i,"frame",null),u=a(i,"width",256),d=a(i,"height",256),c=a(i,"leftWidth",10),v=a(i,"rightWidth",10),y=a(i,"topHeight",0),x=a(i,"bottomHeight",0),S=new r(this.scene,0,0,l,s,u,d,c,v,y,x);return n!==void 0&&(i.add=n),h(this.scene,S,i),S})},47521:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(28103),g=t(39429);g.register("nineslice",function(o,a,r,i,n,l,s,u,d,c){return this.displayList.add(new h(this.scene,o,a,r,i,n,l,s,u,d,c))})},78023:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),g=h,o=h;g=t(52230),f.exports={renderWebGL:g,renderCanvas:o}},52230:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91296),g=t(70554),o=function(a,r,i,n){var l=r.vertices,s=l.length;if(s!==0){i.addToRenderList(r);var u=a.pipelines.set(r.pipeline,r),d=h(r,i,n,!1).calc;a.pipelines.preBatch(r);var c=u.setGameObject(r),v=u.vertexViewF32,y=u.vertexViewU32,x=u.vertexCount*u.currentShader.vertexComponentCount-1,S=i.roundPixels,E=r.tintFill,A=i.alpha*r.alpha,R=g.getTintAppendFloatAlpha(r.tint,A),w=u.vertexAvailable(),I=-1;w<s&&(I=w);for(var O=0;O<s;O++){var F=l[O];O===I&&(u.flush(),c=u.setGameObject(r),x=0),v[++x]=d.getXRound(F.vx,F.vy,S),v[++x]=d.getYRound(F.vx,F.vy,S),v[++x]=F.u,v[++x]=F.v,v[++x]=c,v[++x]=E,y[++x]=R,u.vertexCount++,u.currentBatch.count=u.vertexCount-u.currentBatch.start}a.pipelines.postBatch(r)}};f.exports=o},76472:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(44777),o=t(37589),a=t(6113),r=t(91389),i=t(90664),n=new h({Extends:g,initialize:function(s){g.call(this,s,null,!1),this.active=!1,this.easeName="Linear",this.r=[],this.g=[],this.b=[]},getMethod:function(){return this.propertyValue===null?0:9},setMethods:function(){var l=this.propertyValue,s=l,u=this.defaultEmit,d=this.defaultUpdate;if(this.method===9){this.start=l[0],this.ease=a("Linear"),this.interpolation=r("linear"),u=this.easedValueEmit,d=this.easeValueUpdate,s=l[0],this.active=!0;for(var c=0;c<l.length;c++){var v=i(l[c]);this.r.push(v.r),this.g.push(v.g),this.b.push(v.b)}}return this.onEmit=u,this.onUpdate=d,this.current=s,this},setEase:function(l){this.easeName=l,this.ease=a(l)},easedValueEmit:function(){return this.current=this.start,this.start},easeValueUpdate:function(l,s,u){var d=this.ease(u),c=this.interpolation(this.r,d),v=this.interpolation(this.g,d),y=this.interpolation(this.b,d),x=o(c,v,y);return this.current=x,x}});f.exports=n},44777:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(30976),g=t(45319),o=t(83419),a=t(99472),r=t(6113),i=t(95540),n=t(91389),l=t(77720),s=t(15994),u=new o({initialize:function(c,v,y){y===void 0&&(y=!1),this.propertyKey=c,this.propertyValue=v,this.defaultValue=v,this.steps=0,this.counter=0,this.yoyo=!1,this.direction=0,this.start=0,this.current=0,this.end=0,this.ease=null,this.interpolation=null,this.emitOnly=y,this.onEmit=this.defaultEmit,this.onUpdate=this.defaultUpdate,this.active=!0,this.method=0,this._onEmit,this._onUpdate},loadConfig:function(d,c){d===void 0&&(d={}),c&&(this.propertyKey=c),this.propertyValue=i(d,this.propertyKey,this.defaultValue),this.method=this.getMethod(),this.setMethods(),this.emitOnly&&(this.onUpdate=this.defaultUpdate)},toJSON:function(){return JSON.stringify(this.propertyValue)},onChange:function(d){var c;switch(this.method){case 1:case 3:case 8:c=d;break;case 2:this.propertyValue.indexOf(d)>=0&&(c=d);break;case 4:var v=(this.end-this.start)/this.steps;c=l(d,v),this.counter=c;break;case 5:case 6:case 7:c=g(d,this.start,this.end);break;case 9:c=this.start[0];break}return this.current=c,this},getMethod:function(){var d=this.propertyValue;if(d===null)return 0;var c=typeof d;if(c==="number")return 1;if(Array.isArray(d))return 2;if(c==="function")return 3;if(c==="object"){if(this.hasBoth(d,"start","end"))return this.has(d,"steps")?4:5;if(this.hasBoth(d,"min","max"))return 6;if(this.has(d,"random"))return 7;if(this.hasEither(d,"onEmit","onUpdate"))return 8;if(this.hasEither(d,"values","interpolation"))return 9}return 0},setMethods:function(){var d=this.propertyValue,c=d,v=this.defaultEmit,y=this.defaultUpdate;switch(this.method){case 1:v=this.staticValueEmit;break;case 2:v=this.randomStaticValueEmit,c=d[0];break;case 3:this._onEmit=d,v=this.proxyEmit,c=this.defaultValue;break;case 4:this.start=d.start,this.end=d.end,this.steps=d.steps,this.counter=this.start,this.yoyo=this.has(d,"yoyo")?d.yoyo:!1,this.direction=0,v=this.steppedEmit,c=this.start;break;case 5:this.start=d.start,this.end=d.end;var x=this.has(d,"ease")?d.ease:"Linear";this.ease=r(x,d.easeParams),v=this.has(d,"random")&&d.random?this.randomRangedValueEmit:this.easedValueEmit,y=this.easeValueUpdate,c=this.start;break;case 6:this.start=d.min,this.end=d.max,v=this.has(d,"int")&&d.int?this.randomRangedIntEmit:this.randomRangedValueEmit,c=this.start;break;case 7:var S=d.random;Array.isArray(S)&&(this.start=S[0],this.end=S[1]),v=this.randomRangedIntEmit,c=this.start;break;case 8:this._onEmit=this.has(d,"onEmit")?d.onEmit:this.defaultEmit,this._onUpdate=this.has(d,"onUpdate")?d.onUpdate:this.defaultUpdate,v=this.proxyEmit,y=this.proxyUpdate,c=this.defaultValue;break;case 9:this.start=d.values;var E=this.has(d,"ease")?d.ease:"Linear";this.ease=r(E,d.easeParams),this.interpolation=n(d.interpolation),v=this.easedValueEmit,y=this.easeValueUpdate,c=this.start[0];break}return this.onEmit=v,this.onUpdate=y,this.current=c,this},has:function(d,c){return d.hasOwnProperty(c)},hasBoth:function(d,c,v){return d.hasOwnProperty(c)&&d.hasOwnProperty(v)},hasEither:function(d,c,v){return d.hasOwnProperty(c)||d.hasOwnProperty(v)},defaultEmit:function(){return this.defaultValue},defaultUpdate:function(d,c,v,y){return y},proxyEmit:function(d,c,v){var y=this._onEmit(d,c,v);return this.current=y,y},proxyUpdate:function(d,c,v,y){var x=this._onUpdate(d,c,v,y);return this.current=x,x},staticValueEmit:function(){return this.current},staticValueUpdate:function(){return this.current},randomStaticValueEmit:function(){var d=Math.floor(Math.random()*this.propertyValue.length);return this.current=this.propertyValue[d],this.current},randomRangedValueEmit:function(d,c){var v=a(this.start,this.end);return d&&d.data[c]&&(d.data[c].min=v,d.data[c].max=this.end),this.current=v,v},randomRangedIntEmit:function(d,c){var v=h(this.start,this.end);return d&&d.data[c]&&(d.data[c].min=v,d.data[c].max=this.end),this.current=v,v},steppedEmit:function(){var d=this.counter,c=d,v=(this.end-this.start)/this.steps;if(this.yoyo){var y;this.direction===0?(c+=v,c>=this.end&&(y=c-this.end,c=this.end-y,this.direction=1)):(c-=v,c<=this.start&&(y=this.start-c,c=this.start+y,this.direction=0)),this.counter=c}else this.counter=s(c+v,this.start,this.end);return this.current=d,d},easedValueEmit:function(d,c){if(d&&d.data[c]){var v=d.data[c];v.min=this.start,v.max=this.end}return this.current=this.start,this.start},easeValueUpdate:function(d,c,v){var y=d.data[c],x,S=this.ease(v);return this.interpolation?x=this.interpolation(this.start,S):x=(y.max-y.min)*S+y.min,this.current=x,x},destroy:function(){this.propertyValue=null,this.defaultValue=null,this.ease=null,this.interpolation=null,this._onEmit=null,this._onUpdate=null}});f.exports=u},24502:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(95540),o=t(20286),a=new h({Extends:o,initialize:function(i,n,l,s,u){if(typeof i=="object"){var d=i;i=g(d,"x",0),n=g(d,"y",0),l=g(d,"power",0),s=g(d,"epsilon",100),u=g(d,"gravity",50)}else i===void 0&&(i=0),n===void 0&&(n=0),l===void 0&&(l=0),s===void 0&&(s=100),u===void 0&&(u=50);o.call(this,i,n,!0),this._gravity=u,this._power=l*u,this._epsilon=s*s},update:function(r,i){var n=this.x-r.x,l=this.y-r.y,s=n*n+l*l;if(s!==0){var u=Math.sqrt(s);s<this._epsilon&&(s=this._epsilon);var d=this._power*i/(s*u)*100;r.velocityX+=n*d,r.velocityY+=l*d}},epsilon:{get:function(){return Math.sqrt(this._epsilon)},set:function(r){this._epsilon=r*r}},power:{get:function(){return this._power/this._gravity},set:function(r){this._power=r*this._gravity}},gravity:{get:function(){return this._gravity},set:function(r){var i=this.power;this._gravity=r,this.power=i}}});f.exports=a},56480:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(9674),g=t(45319),o=t(83419),a=t(39506),r=t(87841),i=t(11520),n=t(26099),l=new o({initialize:function(u){this.emitter=u,this.texture=null,this.frame=null,this.x=0,this.y=0,this.worldPosition=new n,this.velocityX=0,this.velocityY=0,this.accelerationX=0,this.accelerationY=0,this.maxVelocityX=1e4,this.maxVelocityY=1e4,this.bounce=0,this.scaleX=1,this.scaleY=1,this.alpha=1,this.angle=0,this.rotation=0,this.tint=16777215,this.life=1e3,this.lifeCurrent=1e3,this.delayCurrent=0,this.holdCurrent=0,this.lifeT=0,this.data={tint:{min:16777215,max:16777215},alpha:{min:1,max:1},rotate:{min:0,max:0},scaleX:{min:1,max:1},scaleY:{min:1,max:1},x:{min:0,max:0},y:{min:0,max:0},accelerationX:{min:0,max:0},accelerationY:{min:0,max:0},maxVelocityX:{min:0,max:0},maxVelocityY:{min:0,max:0},moveToX:{min:0,max:0},moveToY:{min:0,max:0},bounce:{min:0,max:0}},this.isCropped=!1,this.scene=u.scene,this.anims=null,this.emitter.anims.length>0&&(this.anims=new h(this)),this.bounds=new r},emit:function(s,u,d,c,v,y){return this.emitter.emit(s,u,d,c,v,y)},isAlive:function(){return this.lifeCurrent>0},kill:function(){this.lifeCurrent=0},setPosition:function(s,u){s===void 0&&(s=0),u===void 0&&(u=0),this.x=s,this.y=u},fire:function(s,u){var d=this.emitter,c=d.ops,v=d.getAnim();if(v?this.anims.play(v):(this.frame=d.getFrame(),this.texture=this.frame.texture),!this.frame)throw new Error("Particle has no texture frame");if(d.getEmitZone(this),s===void 0?this.x+=c.x.onEmit(this,"x"):c.x.steps>0?this.x+=s+c.x.onEmit(this,"x"):this.x+=s,u===void 0?this.y+=c.y.onEmit(this,"y"):c.y.steps>0?this.y+=u+c.y.onEmit(this,"y"):this.y+=u,this.life=c.lifespan.onEmit(this,"lifespan"),this.lifeCurrent=this.life,this.lifeT=0,this.delayCurrent=c.delay.onEmit(this,"delay"),this.holdCurrent=c.hold.onEmit(this,"hold"),this.scaleX=c.scaleX.onEmit(this,"scaleX"),this.scaleY=c.scaleY.active?c.scaleY.onEmit(this,"scaleY"):this.scaleX,this.angle=c.rotate.onEmit(this,"rotate"),this.rotation=a(this.angle),d.worldMatrix.transformPoint(this.x,this.y,this.worldPosition),this.delayCurrent===0&&d.getDeathZone(this))return this.lifeCurrent=0,!1;var y=c.speedX.onEmit(this,"speedX"),x=c.speedY.active?c.speedY.onEmit(this,"speedY"):y;if(d.radial){var S=a(c.angle.onEmit(this,"angle"));this.velocityX=Math.cos(S)*Math.abs(y),this.velocityY=Math.sin(S)*Math.abs(x)}else if(d.moveTo){var E=c.moveToX.onEmit(this,"moveToX"),A=c.moveToY.onEmit(this,"moveToY"),R=this.life/1e3;this.velocityX=(E-this.x)/R,this.velocityY=(A-this.y)/R}else this.velocityX=y,this.velocityY=x;return d.acceleration&&(this.accelerationX=c.accelerationX.onEmit(this,"accelerationX"),this.accelerationY=c.accelerationY.onEmit(this,"accelerationY")),this.maxVelocityX=c.maxVelocityX.onEmit(this,"maxVelocityX"),this.maxVelocityY=c.maxVelocityY.onEmit(this,"maxVelocityY"),this.bounce=c.bounce.onEmit(this,"bounce"),this.alpha=c.alpha.onEmit(this,"alpha"),c.color.active?this.tint=c.color.onEmit(this,"tint"):this.tint=c.tint.onEmit(this,"tint"),!0},update:function(s,u,d){if(this.lifeCurrent<=0)return this.holdCurrent>0?(this.holdCurrent-=s,this.holdCurrent<=0):!0;if(this.delayCurrent>0)return this.delayCurrent-=s,!1;this.anims&&this.anims.update(0,s);var c=this.emitter,v=c.ops,y=1-this.lifeCurrent/this.life;if(this.lifeT=y,this.x=v.x.onUpdate(this,"x",y,this.x),this.y=v.y.onUpdate(this,"y",y,this.y),c.moveTo){var x=v.moveToX.onUpdate(this,"moveToX",y,c.moveToX),S=v.moveToY.onUpdate(this,"moveToY",y,c.moveToY),E=this.lifeCurrent/1e3;this.velocityX=(x-this.x)/E,this.velocityY=(S-this.y)/E}return this.computeVelocity(c,s,u,d,y),this.scaleX=v.scaleX.onUpdate(this,"scaleX",y,this.scaleX),v.scaleY.active?this.scaleY=v.scaleY.onUpdate(this,"scaleY",y,this.scaleY):this.scaleY=this.scaleX,this.angle=v.rotate.onUpdate(this,"rotate",y,this.angle),this.rotation=a(this.angle),c.getDeathZone(this)?(this.lifeCurrent=0,!0):(this.alpha=g(v.alpha.onUpdate(this,"alpha",y,this.alpha),0,1),v.color.active?this.tint=v.color.onUpdate(this,"color",y,this.tint):this.tint=v.tint.onUpdate(this,"tint",y,this.tint),this.lifeCurrent-=s,this.lifeCurrent<=0&&this.holdCurrent<=0)},computeVelocity:function(s,u,d,c,v){var y=s.ops,x=this.velocityX,S=this.velocityY,E=y.accelerationX.onUpdate(this,"accelerationX",v,this.accelerationX),A=y.accelerationY.onUpdate(this,"accelerationY",v,this.accelerationY),R=y.maxVelocityX.onUpdate(this,"maxVelocityX",v,this.maxVelocityX),w=y.maxVelocityY.onUpdate(this,"maxVelocityY",v,this.maxVelocityY);this.bounce=y.bounce.onUpdate(this,"bounce",v,this.bounce),x+=s.gravityX*d+E*d,S+=s.gravityY*d+A*d,x=g(x,-R,R),S=g(S,-w,w),this.velocityX=x,this.velocityY=S,this.x+=x*d,this.y+=S*d,s.worldMatrix.transformPoint(this.x,this.y,this.worldPosition);for(var I=0;I<c.length;I++){var O=c[I];O.active&&O.update(this,u,d,v)}},setSizeToFrame:function(){},getBounds:function(s){s===void 0&&(s=this.emitter.getWorldTransformMatrix());var u=Math.abs(s.scaleX)*this.scaleX,d=Math.abs(s.scaleY)*this.scaleY,c=this.x,v=this.y,y=this.rotation,x=this.frame.width*u/2,S=this.frame.height*d/2,E=this.bounds,A=new n(c-x,v-S),R=new n(c+x,v-S),w=new n(c-x,v+S),I=new n(c+x,v+S);return y!==0&&(i(A,c,v,y),i(R,c,v,y),i(w,c,v,y),i(I,c,v,y)),s.transformPoint(A.x,A.y,A),s.transformPoint(R.x,R.y,R),s.transformPoint(w.x,w.y,w),s.transformPoint(I.x,I.y,I),E.x=Math.min(A.x,R.x,w.x,I.x),E.y=Math.min(A.y,R.y,w.y,I.y),E.width=Math.max(A.x,R.x,w.x,I.x)-E.x,E.height=Math.max(A.y,R.y,w.y,I.y)-E.y,E},destroy:function(){this.anims&&this.anims.destroy(),this.anims=null,this.emitter=null,this.texture=null,this.frame=null,this.scene=null}});f.exports=l},69601:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(20286),o=t(87841),a=new h({Extends:g,initialize:function(i,n,l,s,u,d,c,v){u===void 0&&(u=!0),d===void 0&&(d=!0),c===void 0&&(c=!0),v===void 0&&(v=!0),g.call(this,i,n,!0),this.bounds=new o(i,n,l,s),this.collideLeft=u,this.collideRight=d,this.collideTop=c,this.collideBottom=v},update:function(r){var i=this.bounds,n=-r.bounce,l=r.worldPosition;l.x<i.x&&this.collideLeft?(r.x+=i.x-l.x,r.velocityX*=n):l.x>i.right&&this.collideRight&&(r.x-=l.x-i.right,r.velocityX*=n),l.y<i.y&&this.collideTop?(r.y+=i.y-l.y,r.velocityY*=n):l.y>i.bottom&&this.collideBottom&&(r.y-=l.y-i.bottom,r.velocityY*=n)}});f.exports=a},31600:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(31401),o=t(53774),a=t(43459),r=t(26388),i=t(19909),n=t(76472),l=t(44777),s=t(20696),u=t(95643),d=t(95540),c=t(26546),v=t(24502),y=t(1985),x=t(97022),S=t(86091),E=t(73162),A=t(20074),R=t(269),w=t(56480),I=t(69601),O=t(68875),F=t(87841),L=t(59996),D=t(72905),b=t(90668),G=t(19186),W=t(61340),Y=t(26099),H=t(15994),U=["active","advance","blendMode","colorEase","deathCallback","deathCallbackScope","duration","emitCallback","emitCallbackScope","follow","frequency","gravityX","gravityY","maxAliveParticles","maxParticles","name","emitting","particleBringToTop","particleClass","radial","sortCallback","sortOrderAsc","sortProperty","stopAfter","tintFill","timeScale","trackVisible","visible"],X=["accelerationX","accelerationY","alpha","angle","bounce","color","delay","hold","lifespan","maxVelocityX","maxVelocityY","moveToX","moveToY","quantity","rotate","scaleX","scaleY","speedX","speedY","tint","x","y"],V=new h({Extends:u,Mixins:[g.AlphaSingle,g.BlendMode,g.Depth,g.Mask,g.Pipeline,g.PostPipeline,g.ScrollFactor,g.Texture,g.Transform,g.Visible,b],initialize:function(z,K,k,J,q){u.call(this,z,"ParticleEmitter"),this.particleClass=w,this.config=null,this.ops={accelerationX:new l("accelerationX",0),accelerationY:new l("accelerationY",0),alpha:new l("alpha",1),angle:new l("angle",{min:0,max:360},!0),bounce:new l("bounce",0),color:new n("color"),delay:new l("delay",0,!0),hold:new l("hold",0,!0),lifespan:new l("lifespan",1e3,!0),maxVelocityX:new l("maxVelocityX",1e4),maxVelocityY:new l("maxVelocityY",1e4),moveToX:new l("moveToX",0),moveToY:new l("moveToY",0),quantity:new l("quantity",1,!0),rotate:new l("rotate",0),scaleX:new l("scaleX",1),scaleY:new l("scaleY",1),speedX:new l("speedX",0,!0),speedY:new l("speedY",0,!0),tint:new l("tint",16777215),x:new l("x",0),y:new l("y",0)},this.radial=!0,this.gravityX=0,this.gravityY=0,this.acceleration=!1,this.moveTo=!1,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.maxParticles=0,this.maxAliveParticles=0,this.stopAfter=0,this.duration=0,this.frequency=0,this.emitting=!0,this.particleBringToTop=!0,this.timeScale=1,this.emitZones=[],this.deathZones=[],this.viewBounds=null,this.follow=null,this.followOffset=new Y,this.trackVisible=!1,this.frames=[],this.randomFrame=!0,this.frameQuantity=1,this.anims=[],this.randomAnim=!0,this.animQuantity=1,this.dead=[],this.alive=[],this.counters=new Float32Array(10),this.skipping=!1,this.worldMatrix=new W,this.sortProperty="",this.sortOrderAsc=!0,this.sortCallback=this.depthSortCallback,this.processors=new E(this),this.tintFill=!1,this.initPipeline(),this.initPostPipeline(),this.setPosition(K,k),this.setTexture(J),q&&this.setConfig(q)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},setConfig:function(B){if(!B)return this;this.config=B;var z=0,K="",k=this.ops;for(z=0;z<X.length;z++)K=X[z],k[K].loadConfig(B);for(z=0;z<U.length;z++)K=U[z],x(B,K)&&(this[K]=d(B,K));if(this.acceleration=this.accelerationX!==0||this.accelerationY!==0,this.moveTo=this.moveToX!==0&&this.moveToY!==0,x(B,"speed")&&(k.speedX.loadConfig(B,"speed"),k.speedY.active=!1),(y(B,["speedX","speedY"])||this.moveTo)&&(this.radial=!1),x(B,"scale")&&(k.scaleX.loadConfig(B,"scale"),k.scaleY.active=!1),x(B,"callbackScope")){var J=d(B,"callbackScope",null);this.emitCallbackScope=J,this.deathCallbackScope=J}if(x(B,"emitZone")&&this.addEmitZone(B.emitZone),x(B,"deathZone")&&this.addDeathZone(B.deathZone),x(B,"bounds")){var q=this.addParticleBounds(B.bounds);q.collideLeft=d(B,"collideLeft",!0),q.collideRight=d(B,"collideRight",!0),q.collideTop=d(B,"collideTop",!0),q.collideBottom=d(B,"collideBottom",!0)}return x(B,"followOffset")&&this.followOffset.setFromObject(d(B,"followOffset",0)),x(B,"texture")&&this.setTexture(B.texture),x(B,"frame")?this.setEmitterFrame(B.frame):x(B,"anim")&&this.setAnim(B.anim),x(B,"reserve")&&this.reserve(B.reserve),x(B,"advance")&&this.fastForward(B.advance),this.resetCounters(this.frequency,this.emitting),this.emitting&&this.emit(s.START,this),this},updateConfig:function(B){return B&&(this.config?this.setConfig(R(this.config,B)):this.setConfig(B)),this},toJSON:function(){var B=o(this),z=0,K="";for(z=0;z<U.length;z++)K=U[z],B[K]=this[K];var k=this.ops;for(z=0;z<X.length;z++)K=X[z],k[K]&&(B[K]=k[K].toJSON());return k.speedY.active||(delete B.speedX,B.speed=k.speedX.toJSON()),this.scaleX===this.scaleY&&(delete B.scaleX,delete B.scaleY,B.scale=k.scaleX.toJSON()),B},resetCounters:function(B,z){var K=this.counters;K.fill(0),K[0]=B,z&&(K[5]=1)},startFollow:function(B,z,K,k){return z===void 0&&(z=0),K===void 0&&(K=0),k===void 0&&(k=!1),this.follow=B,this.followOffset.set(z,K),this.trackVisible=k,this},stopFollow:function(){return this.follow=null,this.followOffset.set(0,0),this.trackVisible=!1,this},getFrame:function(){var B=this.frames,z=B.length,K;return z===1?K=B[0]:this.randomFrame?K=c(B):(K=B[this.currentFrame],this.frameCounter++,this.frameCounter===this.frameQuantity&&(this.frameCounter=0,this.currentFrame++,this.currentFrame===z&&(this.currentFrame=0))),this.texture.get(K)},setEmitterFrame:function(B,z,K){z===void 0&&(z=!0),K===void 0&&(K=1),this.randomFrame=z,this.frameQuantity=K,this.currentFrame=0;var k=typeof B;if(this.frames.length=0,Array.isArray(B))this.frames=this.frames.concat(B);else if(k==="string"||k==="number")this.frames.push(B);else if(k==="object"){var J=B;B=d(J,"frames",null),B&&(this.frames=this.frames.concat(B));var q=d(J,"cycle",!1);this.randomFrame=!q,this.frameQuantity=d(J,"quantity",K)}return this.frames.length===1&&(this.frameQuantity=1,this.randomFrame=!1),this},getAnim:function(){var B=this.anims,z=B.length;if(z===0)return null;if(z===1)return B[0];if(this.randomAnim)return c(B);var K=B[this.currentAnim];return this.animCounter++,this.animCounter>=this.animQuantity&&(this.animCounter=0,this.currentAnim=H(this.currentAnim+1,0,z)),K},setAnim:function(B,z,K){z===void 0&&(z=!0),K===void 0&&(K=1),this.randomAnim=z,this.animQuantity=K,this.currentAnim=0;var k=typeof B;if(this.anims.length=0,Array.isArray(B))this.anims=this.anims.concat(B);else if(k==="string")this.anims.push(B);else if(k==="object"){var J=B;B=d(J,"anims",null),B&&(this.anims=this.anims.concat(B));var q=d(J,"cycle",!1);this.randomAnim=!q,this.animQuantity=d(J,"quantity",K)}return this.anims.length===1&&(this.animQuantity=1,this.randomAnim=!1),this},setRadial:function(B){return B===void 0&&(B=!0),this.radial=B,this},addParticleBounds:function(B,z,K,k,J,q,j,Z){if(typeof B=="object"){var _=B;B=_.x,z=_.y,K=x(_,"w")?_.w:_.width,k=x(_,"h")?_.h:_.height}return this.addParticleProcessor(new I(B,z,K,k,J,q,j,Z))},setParticleSpeed:function(B,z){return z===void 0&&(z=B),this.ops.speedX.onChange(B),B===z?this.ops.speedY.active=!1:this.ops.speedY.onChange(z),this.radial=!0,this},setParticleScale:function(B,z){return B===void 0&&(B=1),z===void 0&&(z=B),this.ops.scaleX.onChange(B),this.ops.scaleY.onChange(z),this},setParticleGravity:function(B,z){return this.gravityX=B,this.gravityY=z,this},setParticleAlpha:function(B){return this.ops.alpha.onChange(B),this},setParticleTint:function(B){return this.ops.tint.onChange(B),this},setEmitterAngle:function(B){return this.ops.angle.onChange(B),this},setParticleLifespan:function(B){return this.ops.lifespan.onChange(B),this},setQuantity:function(B){return this.quantity=B,this},setFrequency:function(B,z){return this.frequency=B,this.flowCounter=B>0?B:0,z&&(this.quantity=z),this},addDeathZone:function(B){Array.isArray(B)||(B=[B]);for(var z,K=[],k=0;k<B.length;k++)if(z=B[k],z instanceof r)K.push(z);else if(typeof z.contains=="function")z=new r(z,!0),K.push(z);else{var J=d(z,"type","onEnter"),q=d(z,"source",null);if(q&&typeof q.contains=="function"){var j=J==="onEnter";z=new r(q,j),K.push(z)}}return this.deathZones=this.deathZones.concat(K),K},removeDeathZone:function(B){return D(this.deathZones,B),this},clearDeathZones:function(){return this.deathZones.length=0,this},addEmitZone:function(B){Array.isArray(B)||(B=[B]);for(var z,K=[],k=0;k<B.length;k++)if(z=B[k],z instanceof O||z instanceof i)K.push(z);else{var J=d(z,"source",null);if(J){var q=d(z,"type","random");if(q==="random"&&typeof J.getRandomPoint=="function")z=new O(J),K.push(z);else if(q==="edge"&&typeof J.getPoints=="function"){var j=d(z,"quantity",1),Z=d(z,"stepRate",0),_=d(z,"yoyo",!1),et=d(z,"seamless",!0),it=d(z,"total",-1);z=new i(J,j,Z,_,et,it),K.push(z)}}}return this.emitZones=this.emitZones.concat(K),K},removeEmitZone:function(B){return D(this.emitZones,B),this.zoneIndex=0,this},clearEmitZones:function(){return this.emitZones.length=0,this.zoneIndex=0,this},getEmitZone:function(B){var z=this.emitZones,K=z.length;if(K!==0){var k=z[this.zoneIndex];k.getPoint(B),k.total>-1&&(this.zoneTotal++,this.zoneTotal===k.total&&(this.zoneTotal=0,this.zoneIndex++,this.zoneIndex===K&&(this.zoneIndex=0)))}},getDeathZone:function(B){for(var z=this.deathZones,K=0;K<z.length;K++){var k=z[K];if(k.willKill(B))return this.emit(s.DEATH_ZONE,this,B,k),!0}return!1},setEmitZone:function(B){var z;return isFinite(B)?z=B:z=this.emitZones.indexOf(B),z>=0&&(this.zoneIndex=z),this},addParticleProcessor:function(B){return this.processors.exists(B)||(B.emitter&&B.emitter.removeParticleProcessor(B),this.processors.add(B),B.emitter=this),B},removeParticleProcessor:function(B){return this.processors.exists(B)&&(this.processors.remove(B,!0),B.emitter=null),B},getProcessors:function(){return this.processors.getAll("active",!0)},createGravityWell:function(B){return this.addParticleProcessor(new v(B))},reserve:function(B){var z=this.dead;if(this.maxParticles>0){var K=this.getParticleCount();K+B>this.maxParticles&&(B=this.maxParticles-(K+B))}for(var k=0;k<B;k++)z.push(new this.particleClass(this));return this},getAliveParticleCount:function(){return this.alive.length},getDeadParticleCount:function(){return this.dead.length},getParticleCount:function(){return this.getAliveParticleCount()+this.getDeadParticleCount()},atLimit:function(){return this.maxParticles>0&&this.getParticleCount()>=this.maxParticles?!0:this.maxAliveParticles>0&&this.getAliveParticleCount()>=this.maxAliveParticles},onParticleEmit:function(B,z){return B===void 0?(this.emitCallback=null,this.emitCallbackScope=null):typeof B=="function"&&(this.emitCallback=B,z&&(this.emitCallbackScope=z)),this},onParticleDeath:function(B,z){return B===void 0?(this.deathCallback=null,this.deathCallbackScope=null):typeof B=="function"&&(this.deathCallback=B,z&&(this.deathCallbackScope=z)),this},killAll:function(){for(var B=this.dead,z=this.alive;z.length>0;)B.push(z.pop());return this},forEachAlive:function(B,z){for(var K=this.alive,k=K.length,J=0;J<k;J++)B.call(z,K[J],this);return this},forEachDead:function(B,z){for(var K=this.dead,k=K.length,J=0;J<k;J++)B.call(z,K[J],this);return this},start:function(B,z){return B===void 0&&(B=0),this.emitting||(B>0&&this.fastForward(B),this.emitting=!0,this.resetCounters(this.frequency,!0),z!==void 0&&(this.duration=Math.abs(z)),this.emit(s.START,this)),this},stop:function(B){return B===void 0&&(B=!1),this.emitting&&(this.emitting=!1,B&&this.killAll(),this.emit(s.STOP,this)),this},pause:function(){return this.active=!1,this},resume:function(){return this.active=!0,this},setSortProperty:function(B,z){return B===void 0&&(B=""),z===void 0&&(z=this.true),this.sortProperty=B,this.sortOrderAsc=z,this.sortCallback=this.depthSortCallback,this},setSortCallback:function(B){return this.sortProperty!==""?B=this.depthSortCallback:B=null,this.sortCallback=B,this},depthSort:function(){return G(this.alive,this.sortCallback.bind(this)),this},depthSortCallback:function(B,z){var K=this.sortProperty;return this.sortOrderAsc?B[K]-z[K]:z[K]-B[K]},flow:function(B,z,K){return z===void 0&&(z=1),this.emitting=!1,this.frequency=B,this.quantity=z,K!==void 0&&(this.stopAfter=K),this.start()},explode:function(B,z,K){this.frequency=-1,this.resetCounters(-1,!0);var k=this.emitParticle(B,z,K);return this.emit(s.EXPLODE,this,k),k},emitParticleAt:function(B,z,K){return this.emitParticle(K,B,z)},emitParticle:function(B,z,K){if(!this.atLimit()){B===void 0&&(B=this.ops.quantity.onEmit());for(var k=this.dead,J=this.stopAfter,q=this.follow?this.follow.x+this.followOffset.x:z,j=this.follow?this.follow.y+this.followOffset.y:K,Z=0;Z<B;Z++){var _=k.pop();if(_||(_=new this.particleClass(this)),_.fire(q,j)?(this.particleBringToTop?this.alive.push(_):this.alive.unshift(_),this.emitCallback&&this.emitCallback.call(this.emitCallbackScope,_,this)):this.dead.push(_),J>0&&(this.stopCounter++,this.stopCounter>=J)||this.atLimit())break}return _}},fastForward:function(B,z){z===void 0&&(z=1e3/60);var K=0;for(this.skipping=!0;K<Math.abs(B);)this.preUpdate(0,z),K+=z;return this.skipping=!1,this},preUpdate:function(B,z){z*=this.timeScale;var K=z/1e3;this.trackVisible&&(this.visible=this.follow.visible),this.getWorldTransformMatrix(this.worldMatrix);var k=this.getProcessors(),J=this.alive,q=this.dead,j=0,Z=[],_=J.length;for(j=0;j<_;j++){var et=J[j];et.update(z,K,k)&&Z.push({index:j,particle:et})}if(_=Z.length,_>0){var it=this.deathCallback,st=this.deathCallbackScope;for(j=_-1;j>=0;j--){var nt=Z[j];J.splice(nt.index,1),q.push(nt.particle),it&&it.call(st,nt.particle),nt.particle.setPosition()}}if(!this.emitting&&!this.skipping){this.completeFlag===1&&J.length===0&&(this.completeFlag=0,this.emit(s.COMPLETE,this));return}if(this.frequency===0)this.emitParticle();else if(this.frequency>0)for(this.flowCounter-=z;this.flowCounter<=0;)this.emitParticle(),this.flowCounter+=this.frequency;this.skipping||(this.duration>0&&(this.elapsed+=z,this.elapsed>=this.duration&&this.stop()),this.stopAfter>0&&this.stopCounter>=this.stopAfter&&this.stop())},overlap:function(B){for(var z=this.getWorldTransformMatrix(),K=this.alive,k=K.length,J=[],q=0;q<k;q++){var j=K[q];L(B,j.getBounds(z))&&J.push(j)}return J},getBounds:function(B,z,K,k){B===void 0&&(B=0),z===void 0&&(z=0),K===void 0&&(K=1e3/60),k===void 0&&(k=new F);var J=this.getWorldTransformMatrix(),q,j,Z=this.alive,_=!1;if(k.setTo(0,0,0,0),z>0){var et=0;for(this.skipping=!0;et<Math.abs(z);){for(this.preUpdate(0,K),q=0;q<Z.length;q++)j=Z[q].getBounds(J),_?A(k,j):(_=!0,a(j,k));et+=K}this.skipping=!1}else for(q=0;q<Z.length;q++)j=Z[q].getBounds(J),_?A(k,j):(_=!0,a(j,k));return B>0&&S(k,B,B),k},createEmitter:function(){throw new Error("createEmitter removed. See ParticleEmitter docs for info")},particleX:{get:function(){return this.ops.x.current},set:function(B){this.ops.x.onChange(B)}},particleY:{get:function(){return this.ops.y.current},set:function(B){this.ops.y.onChange(B)}},accelerationX:{get:function(){return this.ops.accelerationX.current},set:function(B){this.ops.accelerationX.onChange(B)}},accelerationY:{get:function(){return this.ops.accelerationY.current},set:function(B){this.ops.accelerationY.onChange(B)}},maxVelocityX:{get:function(){return this.ops.maxVelocityX.current},set:function(B){this.ops.maxVelocityX.onChange(B)}},maxVelocityY:{get:function(){return this.ops.maxVelocityY.current},set:function(B){this.ops.maxVelocityY.onChange(B)}},speed:{get:function(){return this.ops.speedX.current},set:function(B){this.ops.speedX.onChange(B),this.ops.speedY.onChange(B)}},speedX:{get:function(){return this.ops.speedX.current},set:function(B){this.ops.speedX.onChange(B)}},speedY:{get:function(){return this.ops.speedY.current},set:function(B){this.ops.speedY.onChange(B)}},moveToX:{get:function(){return this.ops.moveToX.current},set:function(B){this.ops.moveToX.onChange(B)}},moveToY:{get:function(){return this.ops.moveToY.current},set:function(B){this.ops.moveToY.onChange(B)}},bounce:{get:function(){return this.ops.bounce.current},set:function(B){this.ops.bounce.onChange(B)}},particleScaleX:{get:function(){return this.ops.scaleX.current},set:function(B){this.ops.scaleX.onChange(B)}},particleScaleY:{get:function(){return this.ops.scaleY.current},set:function(B){this.ops.scaleY.onChange(B)}},particleColor:{get:function(){return this.ops.color.current},set:function(B){this.ops.color.onChange(B)}},colorEase:{get:function(){return this.ops.color.easeName},set:function(B){this.ops.color.setEase(B)}},particleTint:{get:function(){return this.ops.tint.current},set:function(B){this.ops.tint.onChange(B)}},particleAlpha:{get:function(){return this.ops.alpha.current},set:function(B){this.ops.alpha.onChange(B)}},lifespan:{get:function(){return this.ops.lifespan.current},set:function(B){this.ops.lifespan.onChange(B)}},particleAngle:{get:function(){return this.ops.angle.current},set:function(B){this.ops.angle.onChange(B)}},particleRotate:{get:function(){return this.ops.rotate.current},set:function(B){this.ops.rotate.onChange(B)}},quantity:{get:function(){return this.ops.quantity.current},set:function(B){this.ops.quantity.onChange(B)}},delay:{get:function(){return this.ops.delay.current},set:function(B){this.ops.delay.onChange(B)}},hold:{get:function(){return this.ops.hold.current},set:function(B){this.ops.hold.onChange(B)}},flowCounter:{get:function(){return this.counters[0]},set:function(B){this.counters[0]=B}},frameCounter:{get:function(){return this.counters[1]},set:function(B){this.counters[1]=B}},animCounter:{get:function(){return this.counters[2]},set:function(B){this.counters[2]=B}},elapsed:{get:function(){return this.counters[3]},set:function(B){this.counters[3]=B}},stopCounter:{get:function(){return this.counters[4]},set:function(B){this.counters[4]=B}},completeFlag:{get:function(){return this.counters[5]},set:function(B){this.counters[5]=B}},zoneIndex:{get:function(){return this.counters[6]},set:function(B){this.counters[6]=B}},zoneTotal:{get:function(){return this.counters[7]},set:function(B){this.counters[7]=B}},currentFrame:{get:function(){return this.counters[8]},set:function(B){this.counters[8]=B}},currentAnim:{get:function(){return this.counters[9]},set:function(B){this.counters[9]=B}},preDestroy:function(){this.texture=null,this.frames=null,this.anims=null,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.emitZones=null,this.deathZones=null,this.bounds=null,this.follow=null,this.counters=null;var B,z=this.ops;for(B=0;B<X.length;B++){var K=X[B];z[K].destroy()}for(B=0;B<this.alive.length;B++)this.alive[B].destroy();for(B=0;B<this.dead.length;B++)this.dead[B].destroy();this.ops=null,this.alive=[],this.dead=[],this.worldMatrix.destroy()}});f.exports=V},9871:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(59996),g=t(61340),o=new g,a=new g,r=new g,i=new g,n=function(l,s,u,d){var c=o,v=a,y=r,x=i;d?(x.loadIdentity(),x.multiply(d),x.translate(s.x,s.y),x.rotate(s.rotation),x.scale(s.scaleX,s.scaleY)):x.applyITRS(s.x,s.y,s.rotation,s.scaleX,s.scaleY);var S=l.currentContext,E=u.roundPixels,A=u.alpha,R=s.alpha,w=s.alive,I=w.length,O=s.viewBounds;if(!(!s.visible||I===0||O&&!h(O,u.worldView))){s.sortCallback&&s.depthSort(),u.addToRenderList(s);var F=s.scrollFactorX,L=s.scrollFactorY;S.save(),S.globalCompositeOperation=l.blendModes[s.blendMode];for(var D=0;D<I;D++){var b=w[D],G=b.alpha*R*A;if(!(G<=0||b.scaleX===0||b.scaleY===0)){y.applyITRS(b.x,b.y,b.rotation,b.scaleX,b.scaleY),c.copyFrom(u.matrix),c.multiplyWithOffset(x,-u.scrollX*F,-u.scrollY*L),y.e=b.x,y.f=b.y,c.multiply(y,v);var W=b.frame,Y=W.canvasData;if(Y.width>0&&Y.height>0){var H=-W.halfWidth,U=-W.halfHeight;S.globalAlpha=G,S.save(),v.setToContext(S),E&&(H=Math.round(H),U=Math.round(U)),S.imageSmoothingEnabled=!W.source.scaleMode,S.drawImage(W.source.image,Y.x,Y.y,Y.width,Y.height,H,U,Y.width,Y.height),S.restore()}}}S.restore()}};f.exports=n},92730:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25305),g=t(44603),o=t(23568),a=t(95540),r=t(31600);g.register("particles",function(i,n){i===void 0&&(i={});var l=o(i,"key",null),s=a(i,"config",null),u=new r(this.scene,0,0,l);return n!==void 0&&(i.add=n),h(this.scene,u,i),s&&u.setConfig(s),u})},676:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(39429),g=t(31600);h.register("particles",function(o,a,r,i){return o!==void 0&&typeof o=="string"&&console.warn("ParticleEmitterManager was removed in Phaser 3.60. See documentation for details"),this.displayList.add(new g(this.scene,o,a,r,i))})},90668:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),g=h,o=h;g=t(21188),o=t(9871),f.exports={renderWebGL:g,renderCanvas:o}},21188:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(59996),g=t(61340),o=t(70554),a=new g,r=new g,i=new g,n=new g,l=function(s,u,d,c){var v=s.pipelines.set(u.pipeline),y=a,x=r,S=i,E=n;c?(E.loadIdentity(),E.multiply(c),E.translate(u.x,u.y),E.rotate(u.rotation),E.scale(u.scaleX,u.scaleY)):E.applyITRS(u.x,u.y,u.rotation,u.scaleX,u.scaleY);var A=o.getTintAppendFloatAlpha,R=d.alpha,w=u.alpha;s.pipelines.preBatch(u);var I=u.alive,O=I.length,F=u.viewBounds;if(!(O===0||F&&!h(F,d.worldView))){u.sortCallback&&u.depthSort(),d.addToRenderList(u),y.copyFrom(d.matrix),y.multiplyWithOffset(E,-d.scrollX*u.scrollFactorX,-d.scrollY*u.scrollFactorY),s.setBlendMode(u.blendMode),u.mask&&(u.mask.preRenderWebGL(s,u,d),s.pipelines.set(u.pipeline));for(var L=u.tintFill,D,b,G=0;G<O;G++){var W=I[G],Y=W.alpha*w*R;if(!(Y<=0||W.scaleX===0||W.scaleY===0)){S.applyITRS(W.x,W.y,W.rotation,W.scaleX,W.scaleY),S.e=W.x,S.f=W.y,y.multiply(S,x);var H=W.frame;H.glTexture!==b&&(b=H.glTexture,D=v.setGameObject(u,H));var U=-H.halfWidth,X=-H.halfHeight,V=x.setQuad(U,X,U+H.width,X+H.height),B=A(W.tint,Y);v.shouldFlush(6)&&(v.flush(),D=v.setGameObject(u,H)),v.batchQuad(u,V[0],V[1],V[2],V[3],V[4],V[5],V[6],V[7],H.u0,H.v0,H.u1,H.v1,B,B,B,B,L,b,D)}}u.mask&&u.mask.postRenderWebGL(s,d),s.pipelines.postBatch(u)}};f.exports=l},20286:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=new h({initialize:function(a,r,i){a===void 0&&(a=0),r===void 0&&(r=0),i===void 0&&(i=!0),this.emitter,this.x=a,this.y=r,this.active=i},update:function(){},destroy:function(){this.emitter=null}});f.exports=g},9774:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="complete"},812:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="deathzone"},30522:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="explode"},96695:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="start"},18677:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="stop"},20696:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={COMPLETE:t(9774),DEATH_ZONE:t(812),EXPLODE:t(30522),START:t(96695),STOP:t(18677)}},18404:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={EmitterColorOp:t(76472),EmitterOp:t(44777),Events:t(20696),GravityWell:t(24502),Particle:t(56480),ParticleBounds:t(69601),ParticleEmitter:t(31600),ParticleProcessor:t(20286),Zones:t(21024)}},26388:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=new h({initialize:function(a,r){this.source=a,this.killOnEnter=r},willKill:function(o){var a=o.worldPosition,r=this.source.contains(a.x,a.y);return r&&this.killOnEnter||!r&&!this.killOnEnter}});f.exports=g},19909:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=new h({initialize:function(a,r,i,n,l,s){n===void 0&&(n=!1),l===void 0&&(l=!0),s===void 0&&(s=-1),this.source=a,this.points=[],this.quantity=r,this.stepRate=i,this.yoyo=n,this.counter=-1,this.seamless=l,this._length=0,this._direction=0,this.total=s,this.updateSource()},updateSource:function(){if(this.points=this.source.getPoints(this.quantity,this.stepRate),this.seamless){var o=this.points[0],a=this.points[this.points.length-1];o.x===a.x&&o.y===a.y&&this.points.pop()}var r=this._length;return this._length=this.points.length,this._length<r&&this.counter>this._length&&(this.counter=this._length-1),this},changeSource:function(o){return this.source=o,this.updateSource()},getPoint:function(o){this._direction===0?(this.counter++,this.counter>=this._length&&(this.yoyo?(this._direction=1,this.counter=this._length-1):this.counter=0)):(this.counter--,this.counter===-1&&(this.yoyo?(this._direction=0,this.counter=0):this.counter=this._length-1));var a=this.points[this.counter];a&&(o.x=a.x,o.y=a.y)}});f.exports=g},68875:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(26099),o=new h({initialize:function(r){this.source=r,this._tempVec=new g,this.total=-1},getPoint:function(a){var r=this._tempVec;this.source.getRandomPoint(r),a.x=r.x,a.y=r.y}});f.exports=o},21024:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={DeathZone:t(26388),EdgeZone:t(19909),RandomZone:t(68875)}},1159:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(31401),o=t(68287),a=new h({Extends:o,Mixins:[g.PathFollower],initialize:function(i,n,l,s,u,d){o.call(this,i,l,s,u,d),this.path=n},preUpdate:function(r,i){this.anims.update(r,i),this.pathUpdate(r)}});f.exports=a},90145:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(39429),g=t(1159);h.register("follower",function(o,a,r,i,n){var l=new g(this.scene,o,a,r,i,n);return this.displayList.add(l),this.updateList.add(l),l})},33663:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(9674),g=t(83419),o=t(48803),a=t(90664),r=t(4703),i=t(45650),n=new g({Extends:r,initialize:function(s,u,d,c,v,y,x,S){c||(c="__DEFAULT"),r.call(this,s,u,d,c,v),this.type="Plane",this.anims=new h(this),this.gridWidth,this.gridHeight,this.isTiled,this._checkerboard=null,this.hideCCW=!1,this.setGridSize(y,x,S),this.setSizeToFrame(!1),this.setViewHeight()},originX:{get:function(){return .5}},originY:{get:function(){return .5}},setGridSize:function(l,s,u){l===void 0&&(l=8),s===void 0&&(s=8),u===void 0&&(u=!1);var d=!1;return u&&(d=!0),this.gridWidth=l,this.gridHeight=s,this.isTiled=u,this.clear(),o({mesh:this,widthSegments:l,heightSegments:s,isOrtho:!1,tile:u,flipY:d}),this},setSizeToFrame:function(l){l===void 0&&(l=!0);var s=this.frame;if(this.setPerspective(this.width/s.width,this.height/s.height),this._checkerboard&&this._checkerboard!==this.texture&&this.removeCheckerboard(),!l)return this;var u=this.gridWidth,d=this.gridHeight,c=this.vertices,v=s.u0,y=s.u1,x=s.v0,S=s.v1,E,A,R=0;if(this.isTiled)for(x=s.v1,S=s.v0,A=0;A<d;A++)for(E=0;E<u;E++)c[R++].setUVs(v,S),c[R++].setUVs(v,x),c[R++].setUVs(y,S),c[R++].setUVs(v,x),c[R++].setUVs(y,x),c[R++].setUVs(y,S);else{var w=u+1,I=d+1,O=y-v,F=S-x,L=[];for(A=0;A<I;A++)for(E=0;E<w;E++){var D=v+O*(E/u),b=x+F*(A/d);L.push(D,b)}for(A=0;A<d;A++)for(E=0;E<u;E++){var G=(E+w*A)*2,W=(E+w*(A+1))*2,Y=(E+1+w*(A+1))*2,H=(E+1+w*A)*2;c[R++].setUVs(L[G],L[G+1]),c[R++].setUVs(L[W],L[W+1]),c[R++].setUVs(L[H],L[H+1]),c[R++].setUVs(L[W],L[W+1]),c[R++].setUVs(L[Y],L[Y+1]),c[R++].setUVs(L[H],L[H+1])}}return this},setViewHeight:function(l){l===void 0&&(l=this.frame.height);var s=this.fov*(Math.PI/180);this.viewPosition.z=this.height/l/Math.tan(s/2),this.dirtyCache[10]=1},createCheckerboard:function(l,s,u,d,c){l===void 0&&(l=16777215),s===void 0&&(s=255),u===void 0&&(u=255),d===void 0&&(d=255),c===void 0&&(c=128);for(var v=a(l),y=a(s),x=[],S=0;S<16;S++)for(var E=0;E<16;E++)S<8&&E<8||S>7&&E>7?x.push(v.r,v.g,v.b,u):x.push(y.r,y.g,y.b,d);var A=this.scene.sys.textures.addUint8Array(i(),new Uint8Array(x),16,16);return this.removeCheckerboard(),this.setTexture(A),this.setSizeToFrame(),this.setViewHeight(c),this},removeCheckerboard:function(){this._checkerboard&&(this._checkerboard.destroy(),this._checkerboard=null)},play:function(l,s){return this.anims.play(l,s)},playReverse:function(l,s){return this.anims.playReverse(l,s)},playAfterDelay:function(l,s){return this.anims.playAfterDelay(l,s)},playAfterRepeat:function(l,s){return this.anims.playAfterRepeat(l,s)},stop:function(){return this.anims.stop()},stopAfterDelay:function(l){return this.anims.stopAfterDelay(l)},stopAfterRepeat:function(l){return this.anims.stopAfterRepeat(l)},stopOnFrame:function(l){return this.anims.stopOnFrame(l)},preUpdate:function(l,s){r.prototype.preUpdate.call(this,l,s),this.anims.update(l,s)},preDestroy:function(){this.clear(),this.removeCheckerboard(),this.anims.destroy(),this.anims=void 0,this.debugCallback=null,this.debugGraphic=null}});f.exports=n},56015:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25305),g=t(13059),o=t(44603),a=t(23568),r=t(35154),i=t(33663);o.register("plane",function(n,l){n===void 0&&(n={});var s=a(n,"key",null),u=a(n,"frame",null),d=r(n,"width",8),c=r(n,"height",8),v=r(n,"tile",!1),y=new i(this.scene,0,0,s,u,d,c,v);l!==void 0&&(n.add=l);var x=r(n,"checkerboard",null);if(x){var S=r(x,"color1",16777215),E=r(x,"color2",255),A=r(x,"alpha1",255),R=r(x,"alpha2",255),w=r(x,"height",128);y.createCheckerboard(S,E,A,R,w)}return h(this.scene,y,n),g(y,n),y})},30985:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(33663),g=t(39429);g.register("plane",function(o,a,r,i,n,l,s){return this.displayList.add(new h(this.scene,o,a,r,i,n,l,s))})},80321:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(31401),o=t(95643),a=t(30100),r=t(36060),i=t(67277),n=new h({Extends:o,Mixins:[g.AlphaSingle,g.BlendMode,g.Depth,g.Mask,g.Pipeline,g.PostPipeline,g.ScrollFactor,g.Transform,g.Visible,i],initialize:function(s,u,d,c,v,y,x){c===void 0&&(c=16777215),v===void 0&&(v=128),y===void 0&&(y=1),x===void 0&&(x=.1),o.call(this,s,"PointLight"),this.initPipeline(r.POINTLIGHT_PIPELINE),this.initPostPipeline(),this.setPosition(u,d),this.color=a(c),this.intensity=y,this.attenuation=x,this.width=v*2,this.height=v*2,this._radius=v},radius:{get:function(){return this._radius},set:function(l){this._radius=l,this.width=l*2,this.height=l*2}},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this._radius}},displayOriginY:{get:function(){return this._radius}}});f.exports=n},39829:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25305),g=t(44603),o=t(23568),a=t(80321);g.register("pointlight",function(r,i){r===void 0&&(r={});var n=o(r,"color",16777215),l=o(r,"radius",128),s=o(r,"intensity",1),u=o(r,"attenuation",.1),d=new a(this.scene,0,0,n,l,s,u);return i!==void 0&&(r.add=i),h(this.scene,d,r),d})},71255:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(39429),g=t(80321);h.register("pointlight",function(o,a,r,i,n,l){return this.displayList.add(new g(this.scene,o,a,r,i,n,l))})},67277:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),g=h,o=h;g=t(57787),f.exports={renderWebGL:g,renderCanvas:o}},57787:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91296),g=function(o,a,r,i){r.addToRenderList(a);var n=o.pipelines.set(a.pipeline),l=h(a,r,i).calc,s=a.width,u=a.height,d=-a._radius,c=-a._radius,v=d+s,y=c+u,x=l.getX(0,0),S=l.getY(0,0),E=l.getX(d,c),A=l.getY(d,c),R=l.getX(d,y),w=l.getY(d,y),I=l.getX(v,y),O=l.getY(v,y),F=l.getX(v,c),L=l.getY(v,c);o.pipelines.preBatch(a),n.batchPointLight(a,r,E,A,R,w,I,O,F,L,x,S),o.pipelines.postBatch(a)};f.exports=g},591:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(81320),o=t(88571),a=new h({Extends:o,initialize:function(i,n,l,s,u,d){n===void 0&&(n=0),l===void 0&&(l=0),s===void 0&&(s=32),u===void 0&&(u=32),d===void 0&&(d=!0);var c=new g(i.sys.textures,"",s,u,d);o.call(this,i,n,l,c),this.type="RenderTexture",this.camera=this.texture.camera,this._saved=!1},setSize:function(r,i){this.width=r,this.height=i,this.updateDisplayOrigin();var n=this.input;return n&&!n.customHitArea&&(n.hitArea.width=r,n.hitArea.height=i),this},resize:function(r,i,n){return this.texture.setSize(r,i,n),this.setSize(this.texture.width,this.texture.height),this},saveTexture:function(r){var i=this.texture;return i.key=r,i.manager.addDynamicTexture(i)&&(this._saved=!0),i},fill:function(r,i,n,l,s,u){return this.texture.fill(r,i,n,l,s,u),this},clear:function(){return this.texture.clear(),this},stamp:function(r,i,n,l,s){return this.texture.stamp(r,i,n,l,s),this},erase:function(r,i,n){return this.texture.erase(r,i,n),this},draw:function(r,i,n,l,s){return this.texture.draw(r,i,n,l,s),this},drawFrame:function(r,i,n,l,s,u){return this.texture.drawFrame(r,i,n,l,s,u),this},repeat:function(r,i,n,l,s,u,d,c,v){return this.texture.repeat(r,i,n,l,s,u,d,c,v),this},beginDraw:function(){return this.texture.beginDraw(),this},batchDraw:function(r,i,n,l,s){return this.texture.batchDraw(r,i,n,l,s),this},batchDrawFrame:function(r,i,n,l,s,u){return this.texture.batchDrawFrame(r,i,n,l,s,u),this},endDraw:function(r){return this.texture.endDraw(r),this},snapshotArea:function(r,i,n,l,s,u,d){return this.texture.snapshotArea(r,i,n,l,s,u,d),this},snapshot:function(r,i,n){return this.snapshotArea(0,0,this.width,this.height,r,i,n)},snapshotPixel:function(r,i,n){return this.snapshotArea(r,i,1,1,n,"pixel")},preDestroy:function(){this.camera=null,this._saved||this.texture.destroy()}});f.exports=a},34495:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25305),g=t(44603),o=t(23568),a=t(591);g.register("renderTexture",function(r,i){r===void 0&&(r={});var n=o(r,"x",0),l=o(r,"y",0),s=o(r,"width",32),u=o(r,"height",32),d=new a(this.scene,n,l,s,u);return i!==void 0&&(r.add=i),h(this.scene,d,r),d})},60505:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(39429),g=t(591);h.register("renderTexture",function(o,a,r,i){return this.displayList.add(new g(this.scene,o,a,r,i))})},77757:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(9674),g=t(83419),o=t(31401),a=t(95643),r=t(36060),i=t(38745),n=t(26099),l=new g({Extends:a,Mixins:[o.AlphaSingle,o.BlendMode,o.Depth,o.Flip,o.Mask,o.Pipeline,o.PostPipeline,o.Size,o.Texture,o.Transform,o.Visible,o.ScrollFactor,i],initialize:function(u,d,c,v,y,x,S,E,A){v===void 0&&(v="__DEFAULT"),x===void 0&&(x=2),S===void 0&&(S=!0),a.call(this,u,"Rope"),this.anims=new h(this),this.points=x,this.vertices,this.uv,this.colors,this.alphas,this.tintFill=v==="__DEFAULT",this.dirty=!1,this.horizontal=S,this._flipX=!1,this._flipY=!1,this._perp=new n,this.debugCallback=null,this.debugGraphic=null,this.setTexture(v,y),this.setPosition(d,c),this.setSizeToFrame(),this.initPipeline(r.ROPE_PIPELINE),this.initPostPipeline(),Array.isArray(x)&&this.resizeArrays(x.length),this.setPoints(x,E,A),this.updateVertices()},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(s,u){var d=this.anims.currentFrame;this.anims.update(s,u),this.anims.currentFrame!==d&&(this.updateUVs(),this.updateVertices())},play:function(s,u,d){return this.anims.play(s,u,d),this},setDirty:function(){return this.dirty=!0,this},setHorizontal:function(s,u,d){return s===void 0&&(s=this.points.length),this.horizontal?this:(this.horizontal=!0,this.setPoints(s,u,d))},setVertical:function(s,u,d){return s===void 0&&(s=this.points.length),this.horizontal?(this.horizontal=!1,this.setPoints(s,u,d)):this},setTintFill:function(s){return s===void 0&&(s=!1),this.tintFill=s,this},setAlphas:function(s,u){var d=this.points.length;if(d<1)return this;var c=this.alphas;s===void 0?s=[1]:!Array.isArray(s)&&u===void 0&&(s=[s]);var v,y=0;if(u!==void 0)for(v=0;v<d;v++)y=v*2,c[y]=s,c[y+1]=u;else if(s.length===d)for(v=0;v<d;v++)y=v*2,c[y]=s[v],c[y+1]=s[v];else{var x=s[0];for(v=0;v<d;v++)y=v*2,s.length>y&&(x=s[y]),c[y]=x,s.length>y+1&&(x=s[y+1]),c[y+1]=x}return this},setColors:function(s){var u=this.points.length;if(u<1)return this;var d=this.colors;s===void 0?s=[16777215]:Array.isArray(s)||(s=[s]);var c,v=0;if(s.length===u)for(c=0;c<u;c++)v=c*2,d[v]=s[c],d[v+1]=s[c];else{var y=s[0];for(c=0;c<u;c++)v=c*2,s.length>v&&(y=s[v]),d[v]=y,s.length>v+1&&(y=s[v+1]),d[v+1]=y}return this},setPoints:function(s,u,d){if(s===void 0&&(s=2),typeof s=="number"){var c=s;c<2&&(c=2),s=[];var v,y,x;if(this.horizontal)for(x=-this.frame.halfWidth,y=this.frame.width/(c-1),v=0;v<c;v++)s.push({x:x+v*y,y:0});else for(x=-this.frame.halfHeight,y=this.frame.height/(c-1),v=0;v<c;v++)s.push({x:0,y:x+v*y})}var S=s.length,E=this.points.length;return S<1?(console.warn("Rope: Not enough points given"),this):(S===1&&(s.unshift({x:0,y:0}),S++),E!==S&&this.resizeArrays(S),this.dirty=!0,this.points=s,this.updateUVs(),u!=null&&this.setColors(u),d!=null&&this.setAlphas(d),this)},updateUVs:function(){for(var s=this.uv,u=this.points.length,d=this.frame.u0,c=this.frame.v0,v=this.frame.u1,y=this.frame.v1,x=(v-d)/(u-1),S=(y-c)/(u-1),E=0;E<u;E++){var A=E*4,R,w,I,O;this.horizontal?(this._flipX?(R=v-E*x,I=v-E*x):(R=d+E*x,I=d+E*x),this._flipY?(w=y,O=c):(w=c,O=y)):(this._flipX?(R=d,I=v):(R=v,I=d),this._flipY?(w=y-E*S,O=y-E*S):(w=c+E*S,O=c+E*S)),s[A+0]=R,s[A+1]=w,s[A+2]=I,s[A+3]=O}return this},resizeArrays:function(s){var u=this.colors,d=this.alphas;this.vertices=new Float32Array(s*4),this.uv=new Float32Array(s*4),u=new Uint32Array(s*2),d=new Float32Array(s*2);for(var c=0;c<s*2;c++)u[c]=16777215,d[c]=1;return this.colors=u,this.alphas=d,this.dirty=!0,this},updateVertices:function(){var s=this._perp,u=this.points,d=this.vertices,c=u.length;if(this.dirty=!1,!(c<1)){for(var v,y=u[0],x=this.horizontal?this.frame.halfHeight:this.frame.halfWidth,S=0;S<c;S++){var E=u[S],A=S*4;S<c-1?v=u[S+1]:v=E,s.x=v.y-y.y,s.y=-(v.x-y.x);var R=s.length();s.x/=R,s.y/=R,s.x*=x,s.y*=x,d[A]=E.x+s.x,d[A+1]=E.y+s.y,d[A+2]=E.x-s.x,d[A+3]=E.y-s.y,y=E}return this}},setDebug:function(s,u){return this.debugGraphic=s,!s&&!u?this.debugCallback=null:u?this.debugCallback=u:this.debugCallback=this.renderDebugVerts,this},renderDebugVerts:function(s,u,d){var c=s.debugGraphic,v=d[0],y=d[1],x=d[2],S=d[3];c.lineBetween(v,y,x,S);for(var E=4;E<u;E+=4){var A=d[E+0],R=d[E+1],w=d[E+2],I=d[E+3];c.lineBetween(v,y,A,R),c.lineBetween(x,S,w,I),c.lineBetween(x,S,A,R),c.lineBetween(A,R,w,I),v=A,y=R,x=w,S=I}},preDestroy:function(){this.anims.destroy(),this.anims=void 0,this.points=null,this.vertices=null,this.uv=null,this.colors=null,this.alphas=null,this.debugCallback=null,this.debugGraphic=null},flipX:{get:function(){return this._flipX},set:function(s){return this._flipX=s,this.updateUVs()}},flipY:{get:function(){return this._flipY},set:function(s){return this._flipY=s,this.updateUVs()}}});f.exports=l},95262:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(){};f.exports=C},26209:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25305),g=t(44603),o=t(23568),a=t(35154),r=t(77757);g.register("rope",function(i,n){i===void 0&&(i={});var l=o(i,"key",null),s=o(i,"frame",null),u=o(i,"horizontal",!0),d=a(i,"points",void 0),c=a(i,"colors",void 0),v=a(i,"alphas",void 0),y=new r(this.scene,0,0,l,s,d,u,c,v);return n!==void 0&&(i.add=n),h(this.scene,y,i),y})},96819:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(77757),g=t(39429);g.register("rope",function(o,a,r,i,n,l,s,u){return this.displayList.add(new h(this.scene,o,a,r,i,n,l,s,u))})},38745:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),g=h,o=h;g=t(20439),o=t(95262),f.exports={renderWebGL:g,renderCanvas:o}},20439:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91296),g=t(70554),o=function(a,r,i,n){i.addToRenderList(r);var l=a.pipelines.set(r.pipeline,r),s=h(r,i,n).calc,u=r.vertices,d=r.uv,c=r.colors,v=r.alphas,y=r.alpha,x=g.getTintAppendFloatAlpha,S=i.roundPixels,E=u.length,A=Math.floor(E*.5);l.flush(),a.pipelines.preBatch(r);var R=l.setGameObject(r),w=l.vertexViewF32,I=l.vertexViewU32,O=l.vertexCount*l.currentShader.vertexComponentCount-1,F=0,L=r.tintFill;r.dirty&&r.updateVertices();for(var D=r.debugCallback,b=[],G=0;G<E;G+=2){var W=u[G+0],Y=u[G+1],H=W*s.a+Y*s.c+s.e,U=W*s.b+Y*s.d+s.f;S&&(H=Math.round(H),U=Math.round(U)),w[++O]=H,w[++O]=U,w[++O]=d[G+0],w[++O]=d[G+1],w[++O]=R,w[++O]=L,I[++O]=x(c[F],i.alpha*(v[F]*y)),F++,D&&(b[G+0]=H,b[G+1]=U)}D&&D.call(r,r,E,b),l.vertexCount+=A,l.currentBatch.count=l.vertexCount-l.currentBatch.start,a.pipelines.postBatch(r)};f.exports=o},20071:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(31401),o=t(95643),a=t(95540),r=t(79291),i=t(61622),n=t(25479),l=t(61340),s=t(95428),u=t(92503),d=new h({Extends:o,Mixins:[g.ComputedSize,g.Depth,g.GetBounds,g.Mask,g.Origin,g.ScrollFactor,g.Transform,g.Visible,n],initialize:function(v,y,x,S,E,A,R,w){x===void 0&&(x=0),S===void 0&&(S=0),E===void 0&&(E=128),A===void 0&&(A=128),o.call(this,v,"Shader"),this.blendMode=-1,this.shader;var I=v.sys.renderer;this.renderer=I,this.gl=I.gl,this.vertexData=new ArrayBuffer(6*(Float32Array.BYTES_PER_ELEMENT*2)),this.vertexBuffer=I.createVertexBuffer(this.vertexData.byteLength,this.gl.STREAM_DRAW),this._deferSetShader=null,this._deferProjOrtho=null,this.program=null,this.bytes=new Uint8Array(this.vertexData),this.vertexViewF32=new Float32Array(this.vertexData),this._tempMatrix1=new l,this._tempMatrix2=new l,this._tempMatrix3=new l,this.viewMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.projectionMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.uniforms={},this.pointer=null,this._rendererWidth=I.width,this._rendererHeight=I.height,this._textureCount=0,this.framebuffer=null,this.glTexture=null,this.renderToTexture=!1,this.texture=null,this.setPosition(x,S),this.setSize(E,A),this.setOrigin(.5,.5),this.setShader(y,R,w),this.renderer.on(u.RESTORE_WEBGL,this.onContextRestored,this)},willRender:function(c){return this.renderToTexture?!0:!(o.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&c.id)},setRenderToTexture:function(c,v){if(!this.renderToTexture){var y=this.width,x=this.height,S=this.renderer;this.glTexture=S.createTextureFromSource(null,y,x,0),this.framebuffer=S.createFramebuffer(y,x,this.glTexture,!1),this._rendererWidth=y,this._rendererHeight=x,this.renderToTexture=!0,this.projOrtho(0,this.width,this.height,0),c&&(this.texture=this.scene.sys.textures.addGLTexture(c,this.glTexture))}return this.shader&&(S.pipelines.clear(),this.load(),this.flush(),S.pipelines.rebind()),this},setShader:function(c,v,y){if(this.renderer.contextLost)return this._deferSetShader={key:c,textures:v,textureData:y},this;if(v===void 0&&(v=[]),typeof c=="string"){var x=this.scene.sys.cache.shader;if(!x.has(c))return console.warn("Shader missing: "+c),this;this.shader=x.get(c)}else this.shader=c;var S=this.gl,E=this.renderer;this.program&&E.deleteProgram(this.program);var A=E.createProgram(this.shader.vertexSrc,this.shader.fragmentSrc);S.uniformMatrix4fv(S.getUniformLocation(A.webGLProgram,"uViewMatrix"),!1,this.viewMatrix),S.uniformMatrix4fv(S.getUniformLocation(A.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),S.uniform2f(S.getUniformLocation(A.webGLProgram,"uResolution"),this.width,this.height),this.program=A;var R=new Date,w={resolution:{type:"2f",value:{x:this.width,y:this.height}},time:{type:"1f",value:0},mouse:{type:"2f",value:{x:this.width/2,y:this.height/2}},date:{type:"4fv",value:[R.getFullYear(),R.getMonth(),R.getDate(),R.getHours()*60*60+R.getMinutes()*60+R.getSeconds()]},sampleRate:{type:"1f",value:44100},iChannel0:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel1:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel2:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel3:{type:"sampler2D",value:null,textureData:{repeat:!0}}};this.shader.uniforms?this.uniforms=r(!0,{},this.shader.uniforms,w):this.uniforms=w;for(var I=0;I<4;I++)v[I]&&this.setSampler2D("iChannel"+I,v[I],I,y);return this.initUniforms(),this.projOrtho(0,this._rendererWidth,this._rendererHeight,0),this},setPointer:function(c){return this.pointer=c,this},projOrtho:function(c,v,y,x){if(this.renderer.contextLost){this._deferProjOrtho={left:c,right:v,bottom:y,top:x};return}var S=-1e3,E=1e3,A=1/(c-v),R=1/(y-x),w=1/(S-E),I=this.projectionMatrix;I[0]=-2*A,I[5]=-2*R,I[10]=2*w,I[12]=(c+v)*A,I[13]=(x+y)*R,I[14]=(E+S)*w;var O=this.program,F=this.gl,L=this.renderer;L.setProgram(O),F.uniformMatrix4fv(F.getUniformLocation(O.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),this._rendererWidth=v,this._rendererHeight=y},initUniforms:function(){var c=this.renderer.glFuncMap,v=this.program;this._textureCount=0;for(var y in this.uniforms){var x=this.uniforms[y],S=x.type,E=c[S];x.uniformLocation=this.renderer.createUniformLocation(v,y),S!=="sampler2D"&&(x.glMatrix=E.matrix,x.glValueLength=E.length,x.glFunc=E.func)}},setSampler2DBuffer:function(c,v,y,x,S,E){S===void 0&&(S=0),E===void 0&&(E={});var A=this.uniforms[c];return A.value=v,E.width=y,E.height=x,A.textureData=E,this._textureCount=S,this.initSampler2D(A),this},setSampler2D:function(c,v,y,x){y===void 0&&(y=0);var S=this.scene.sys.textures;if(S.exists(v)){var E=S.getFrame(v);if(E.glTexture&&E.glTexture.isRenderTexture)return this.setSampler2DBuffer(c,E.glTexture,E.width,E.height,y,x);var A=this.uniforms[c],R=E.source;A.textureKey=v,A.source=R.image,A.value=E.glTexture,R.isGLTexture&&(x||(x={}),x.width=R.width,x.height=R.height),x&&(A.textureData=x),this._textureCount=y,this.initSampler2D(A)}return this},setUniform:function(c,v){return i(this.uniforms,c,v),this},getUniform:function(c){return a(this.uniforms,c,null)},setChannel0:function(c,v){return this.setSampler2D("iChannel0",c,0,v)},setChannel1:function(c,v){return this.setSampler2D("iChannel1",c,1,v)},setChannel2:function(c,v){return this.setSampler2D("iChannel2",c,2,v)},setChannel3:function(c,v){return this.setSampler2D("iChannel3",c,3,v)},initSampler2D:function(c){if(c.value){var v=c.textureData;if(v&&!c.value.isRenderTexture){var y=this.gl,x=c.value,S=y[a(v,"magFilter","linear").toUpperCase()],E=y[a(v,"minFilter","linear").toUpperCase()],A=y[a(v,"wrapS","repeat").toUpperCase()],R=y[a(v,"wrapT","repeat").toUpperCase()],w=y[a(v,"format","rgba").toUpperCase()],I=a(v,"flipY",!1),O=a(v,"width",x.width),F=a(v,"height",x.height),L=a(v,"source",x.pixels);v.repeat&&(A=y.REPEAT,R=y.REPEAT),v.width&&(L=null),x.update(L,O,F,I,A,R,E,S,w)}this.renderer.setProgram(this.program),this._textureCount++}},syncUniforms:function(){var c=this.gl,v=this.uniforms,y,x,S,E,A,R=0;for(var w in v)y=v[w],S=y.glFunc,x=y.glValueLength,E=y.uniformLocation,A=y.value,A!==null&&(x===1?y.glMatrix?S.call(c,E.webGLUniformLocation,y.transpose,A):S.call(c,E.webGLUniformLocation,A):x===2?S.call(c,E.webGLUniformLocation,A.x,A.y):x===3?S.call(c,E.webGLUniformLocation,A.x,A.y,A.z):x===4?S.call(c,E.webGLUniformLocation,A.x,A.y,A.z,A.w):y.type==="sampler2D"&&(c.activeTexture(c.TEXTURE0+R),c.bindTexture(c.TEXTURE_2D,A.webGLTexture),c.uniform1i(E.webGLUniformLocation,R),R++))},load:function(c){var v=this.gl,y=this.width,x=this.height,S=this.renderer,E=this.program,A=this.viewMatrix;if(!this.renderToTexture){var R=-this._displayOriginX,w=-this._displayOriginY;A[0]=c[0],A[1]=c[1],A[4]=c[2],A[5]=c[3],A[8]=c[4],A[9]=c[5],A[12]=A[0]*R+A[4]*w,A[13]=A[1]*R+A[5]*w}v.useProgram(E.webGLProgram),v.uniformMatrix4fv(v.getUniformLocation(E.webGLProgram,"uViewMatrix"),!1,A),v.uniformMatrix4fv(v.getUniformLocation(E.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),v.uniform2f(v.getUniformLocation(E.webGLProgram,"uResolution"),this.width,this.height);var I=this.uniforms,O=I.resolution;O.value.x=y,O.value.y=x,I.time.value=S.game.loop.getDuration();var F=this.pointer;if(F){var L=I.mouse,D=F.x/y,b=1-F.y/x;L.value.x=D.toFixed(2),L.value.y=b.toFixed(2)}this.syncUniforms()},flush:function(){var c=this.width,v=this.height,y=this.program,x=this.gl,S=this.vertexBuffer,E=this.renderer,A=Float32Array.BYTES_PER_ELEMENT*2;this.renderToTexture&&(E.setFramebuffer(this.framebuffer),x.clearColor(0,0,0,0),x.clear(x.COLOR_BUFFER_BIT)),x.bindBuffer(x.ARRAY_BUFFER,S.webGLBuffer);var R=x.getAttribLocation(y.webGLProgram,"inPosition");R!==-1&&(x.enableVertexAttribArray(R),x.vertexAttribPointer(R,2,x.FLOAT,!1,A,0));var w=this.vertexViewF32;w[3]=v,w[4]=c,w[5]=v,w[8]=c,w[9]=v,w[10]=c;var I=6;x.bufferSubData(x.ARRAY_BUFFER,0,this.bytes.subarray(0,I*A)),x.drawArrays(x.TRIANGLES,0,I),this.renderToTexture&&E.setFramebuffer(null,!1)},setAlpha:function(){},setBlendMode:function(){},onContextRestored:function(){if(this._deferSetShader!==null){var c=this._deferSetShader.key,v=this._deferSetShader.textures,y=this._deferSetShader.textureData;this._deferSetShader=null,this.setShader(c,v,y)}if(this._deferProjOrtho!==null){var x=this._deferProjOrtho.left,S=this._deferProjOrtho.right,E=this._deferProjOrtho.bottom,A=this._deferProjOrtho.top;this._deferProjOrtho=null,this.projOrtho(x,S,E,A)}},preDestroy:function(){var c=this.renderer;c.off(u.RESTORE_WEBGL,this.onContextRestored,this),c.deleteProgram(this.program),c.deleteBuffer(this.vertexBuffer),this.renderToTexture&&(c.deleteFramebuffer(this.framebuffer),this.texture.destroy(),this.framebuffer=null,this.glTexture=null,this.texture=null),s(this.uniforms,function(v){c.deleteUniformLocation(v.uniformLocation),v.uniformLocation=null})}});f.exports=d},80464:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(){};f.exports=C},54935:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25305),g=t(44603),o=t(23568),a=t(20071);g.register("shader",function(r,i){r===void 0&&(r={});var n=o(r,"key",null),l=o(r,"x",0),s=o(r,"y",0),u=o(r,"width",128),d=o(r,"height",128),c=new a(this.scene,n,l,s,u,d);return i!==void 0&&(r.add=i),h(this.scene,c,r),c})},74177:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(20071),g=t(39429);g.register("shader",function(o,a,r,i,n,l,s){return this.displayList.add(new h(this.scene,o,a,r,i,n,l,s))})},25479:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),g=h,o=h;g=t(19257),o=t(80464),f.exports={renderWebGL:g,renderCanvas:o}},19257:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91296),g=function(o,a,r,i){if(a.shader){if(r.addToRenderList(a),o.pipelines.clear(),a.renderToTexture)a.load(),a.flush();else{var n=h(a,r,i).calc;(o.width!==a._rendererWidth||o.height!==a._rendererHeight)&&a.projOrtho(0,o.width,o.height,0),a.load(n.matrix),a.flush()}o.pipelines.rebind()}};f.exports=g},10441:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(70554),g=function(o,a,r,i,n,l){for(var s=h.getTintAppendFloatAlpha(r.fillColor,r.fillAlpha*i),u=r.pathData,d=r.pathIndexes,c=0;c<d.length;c+=3){var v=d[c]*2,y=d[c+1]*2,x=d[c+2]*2,S=u[v+0]-n,E=u[v+1]-l,A=u[y+0]-n,R=u[y+1]-l,w=u[x+0]-n,I=u[x+1]-l,O=a.getX(S,E),F=a.getY(S,E),L=a.getX(A,R),D=a.getY(A,R),b=a.getX(w,I),G=a.getY(w,I);o.batchTri(r,O,F,L,D,b,G,0,0,1,1,s,s,s,2)}};f.exports=g},65960:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h,g,o){var a=g||h.fillColor,r=o||h.fillAlpha,i=(a&16711680)>>>16,n=(a&65280)>>>8,l=a&255;t.fillStyle="rgba("+i+","+n+","+l+","+r+")"};f.exports=C},75177:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h,g,o){var a=g||h.strokeColor,r=o||h.strokeAlpha,i=(a&16711680)>>>16,n=(a&65280)>>>8,l=a&255;t.strokeStyle="rgba("+i+","+n+","+l+","+r+")",t.lineWidth=h.lineWidth};f.exports=C},17803:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(31401),o=t(95643),a=t(23031),r=new h({Extends:o,Mixins:[g.AlphaSingle,g.BlendMode,g.Depth,g.GetBounds,g.Mask,g.Origin,g.Pipeline,g.PostPipeline,g.ScrollFactor,g.Transform,g.Visible],initialize:function(n,l,s){l===void 0&&(l="Shape"),o.call(this,n,l),this.geom=s,this.pathData=[],this.pathIndexes=[],this.fillColor=16777215,this.fillAlpha=1,this.strokeColor=16777215,this.strokeAlpha=1,this.lineWidth=1,this.isFilled=!1,this.isStroked=!1,this.closePath=!0,this._tempLine=new a,this.width=0,this.height=0,this.initPipeline(),this.initPostPipeline()},setFillStyle:function(i,n){return n===void 0&&(n=1),i===void 0?this.isFilled=!1:(this.fillColor=i,this.fillAlpha=n,this.isFilled=!0),this},setStrokeStyle:function(i,n,l){return l===void 0&&(l=1),i===void 0?this.isStroked=!1:(this.lineWidth=i,this.strokeColor=n,this.strokeAlpha=l,this.isStroked=!0),this},setClosePath:function(i){return this.closePath=i,this},setSize:function(i,n){return this.width=i,this.height=n,this},setDisplaySize:function(i,n){return this.displayWidth=i,this.displayHeight=n,this},preDestroy:function(){this.geom=null,this._tempLine=null,this.pathData=[],this.pathIndexes=[]},displayWidth:{get:function(){return this.scaleX*this.width},set:function(i){this.scaleX=i/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(i){this.scaleY=i/this.height}}});f.exports=r},34682:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(70554),g=function(o,a,r,i,n){var l=o.strokeTint,s=h.getTintAppendFloatAlpha(a.strokeColor,a.strokeAlpha*r);l.TL=s,l.TR=s,l.BL=s,l.BR=s;var u=a.pathData,d=u.length-1,c=a.lineWidth,v=c/2,y=u[0]-i,x=u[1]-n;a.closePath||(d-=2);for(var S=2;S<d;S+=2){var E=u[S]-i,A=u[S+1]-n;o.batchLine(y,x,E,A,v,v,c,S-2,a.closePath?S===d-1:!1),y=E,x=A}};f.exports=g},23629:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(13609),g=t(83419),o=t(39506),a=t(94811),r=t(96503),i=t(36383),n=t(17803),l=new g({Extends:n,Mixins:[h],initialize:function(u,d,c,v,y,x,S,E,A){d===void 0&&(d=0),c===void 0&&(c=0),v===void 0&&(v=128),y===void 0&&(y=0),x===void 0&&(x=360),S===void 0&&(S=!1),n.call(this,u,"Arc",new r(0,0,v)),this._startAngle=y,this._endAngle=x,this._anticlockwise=S,this._iterations=.01,this.setPosition(d,c);var R=this.geom.radius*2;this.setSize(R,R),E!==void 0&&this.setFillStyle(E,A),this.updateDisplayOrigin(),this.updateData()},iterations:{get:function(){return this._iterations},set:function(s){this._iterations=s,this.updateData()}},radius:{get:function(){return this.geom.radius},set:function(s){this.geom.radius=s;var u=s*2;this.setSize(u,u),this.updateDisplayOrigin(),this.updateData()}},startAngle:{get:function(){return this._startAngle},set:function(s){this._startAngle=s,this.updateData()}},endAngle:{get:function(){return this._endAngle},set:function(s){this._endAngle=s,this.updateData()}},anticlockwise:{get:function(){return this._anticlockwise},set:function(s){this._anticlockwise=s,this.updateData()}},setRadius:function(s){return this.radius=s,this},setIterations:function(s){return s===void 0&&(s=.01),this.iterations=s,this},setStartAngle:function(s,u){return this._startAngle=s,u!==void 0&&(this._anticlockwise=u),this.updateData()},setEndAngle:function(s,u){return this._endAngle=s,u!==void 0&&(this._anticlockwise=u),this.updateData()},updateData:function(){var s=this._iterations,u=s,d=this.geom.radius,c=o(this._startAngle),v=o(this._endAngle),y=this._anticlockwise,x=d,S=d;v-=c,y?v<-i.PI2?v=-i.PI2:v>0&&(v=-i.PI2+v%i.PI2):v>i.PI2?v=i.PI2:v<0&&(v=i.PI2+v%i.PI2);for(var E=[x+Math.cos(c)*d,S+Math.sin(c)*d],A;u<1;)A=v*u+c,E.push(x+Math.cos(A)*d,S+Math.sin(A)*d),u+=s;return A=v+c,E.push(x+Math.cos(A)*d,S+Math.sin(A)*d),E.push(x+Math.cos(c)*d,S+Math.sin(c)*d),this.pathIndexes=a(E),this.pathData=E,this}});f.exports=l},42542:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(39506),g=t(65960),o=t(75177),a=t(20926),r=function(i,n,l,s){l.addToRenderList(n);var u=i.currentContext;if(a(i,u,n,l,s)){var d=n.radius;u.beginPath(),u.arc(d-n.originX*(d*2),d-n.originY*(d*2),d,h(n._startAngle),h(n._endAngle),n.anticlockwise),n.closePath&&u.closePath(),n.isFilled&&(g(u,n),u.fill()),n.isStroked&&(o(u,n),u.stroke()),u.restore()}};f.exports=r},42563:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(23629),g=t(39429);g.register("arc",function(o,a,r,i,n,l,s,u){return this.displayList.add(new h(this.scene,o,a,r,i,n,l,s,u))}),g.register("circle",function(o,a,r,i,n){return this.displayList.add(new h(this.scene,o,a,r,0,360,!1,i,n))})},13609:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),g=h,o=h;g=t(41447),o=t(42542),f.exports={renderWebGL:g,renderCanvas:o}},41447:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91296),g=t(10441),o=t(34682),a=function(r,i,n,l){n.addToRenderList(i);var s=r.pipelines.set(i.pipeline),u=h(i,n,l),d=s.calcMatrix.copyFrom(u.calc),c=i._displayOriginX,v=i._displayOriginY,y=n.alpha*i.alpha;r.pipelines.preBatch(i),i.isFilled&&g(s,d,i,y,c,v),i.isStroked&&o(s,i,y,c,v),r.pipelines.postBatch(i)};f.exports=a},89:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(33141),o=t(94811),a=t(87841),r=t(17803),i=new h({Extends:r,Mixins:[g],initialize:function(l,s,u,d,c,v){s===void 0&&(s=0),u===void 0&&(u=0),r.call(this,l,"Curve",d),this._smoothness=32,this._curveBounds=new a,this.closePath=!1,this.setPosition(s,u),c!==void 0&&this.setFillStyle(c,v),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(n){this._smoothness=n,this.updateData()}},setSmoothness:function(n){return this._smoothness=n,this.updateData()},updateData:function(){var n=this._curveBounds,l=this._smoothness;this.geom.getBounds(n,l),this.setSize(n.width,n.height),this.updateDisplayOrigin();for(var s=[],u=this.geom.getPoints(l),d=0;d<u.length;d++)s.push(u[d].x,u[d].y);return s.push(u[0].x,u[0].y),this.pathIndexes=o(s),this.pathData=s,this}});f.exports=i},3170:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(65960),g=t(75177),o=t(20926),a=function(r,i,n,l){n.addToRenderList(i);var s=r.currentContext;if(o(r,s,i,n,l)){var u=i._displayOriginX+i._curveBounds.x,d=i._displayOriginY+i._curveBounds.y,c=i.pathData,v=c.length-1,y=c[0]-u,x=c[1]-d;s.beginPath(),s.moveTo(y,x),i.closePath||(v-=2);for(var S=2;S<v;S+=2){var E=c[S]-u,A=c[S+1]-d;s.lineTo(E,A)}i.closePath&&s.closePath(),i.isFilled&&(h(s,i),s.fill()),i.isStroked&&(g(s,i),s.stroke()),s.restore()}};f.exports=a},40511:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(39429),g=t(89);h.register("curve",function(o,a,r,i,n){return this.displayList.add(new g(this.scene,o,a,r,i,n))})},33141:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),g=h,o=h;g=t(53987),o=t(3170),f.exports={renderWebGL:g,renderCanvas:o}},53987:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(10441),g=t(91296),o=t(34682),a=function(r,i,n,l){n.addToRenderList(i);var s=r.pipelines.set(i.pipeline),u=g(i,n,l),d=s.calcMatrix.copyFrom(u.calc),c=i._displayOriginX+i._curveBounds.x,v=i._displayOriginY+i._curveBounds.y,y=n.alpha*i.alpha;r.pipelines.preBatch(i),i.isFilled&&h(s,d,i,y,c,v),i.isStroked&&o(s,i,y,c,v),r.pipelines.postBatch(i)};f.exports=a},19921:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(94811),o=t(54205),a=t(8497),r=t(17803),i=new h({Extends:r,Mixins:[o],initialize:function(l,s,u,d,c,v,y){s===void 0&&(s=0),u===void 0&&(u=0),d===void 0&&(d=128),c===void 0&&(c=128),r.call(this,l,"Ellipse",new a(d/2,c/2,d,c)),this._smoothness=64,this.setPosition(s,u),this.width=d,this.height=c,v!==void 0&&this.setFillStyle(v,y),this.updateDisplayOrigin(),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(n){this._smoothness=n,this.updateData()}},setSize:function(n,l){return this.width=n,this.height=l,this.geom.setPosition(n/2,l/2),this.geom.setSize(n,l),this.updateDisplayOrigin(),this.updateData()},setSmoothness:function(n){return this._smoothness=n,this.updateData()},updateData:function(){for(var n=[],l=this.geom.getPoints(this._smoothness),s=0;s<l.length;s++)n.push(l[s].x,l[s].y);return n.push(l[0].x,l[0].y),this.pathIndexes=g(n),this.pathData=n,this}});f.exports=i},7930:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(65960),g=t(75177),o=t(20926),a=function(r,i,n,l){n.addToRenderList(i);var s=r.currentContext;if(o(r,s,i,n,l)){var u=i._displayOriginX,d=i._displayOriginY,c=i.pathData,v=c.length-1,y=c[0]-u,x=c[1]-d;s.beginPath(),s.moveTo(y,x),i.closePath||(v-=2);for(var S=2;S<v;S+=2){var E=c[S]-u,A=c[S+1]-d;s.lineTo(E,A)}s.closePath(),i.isFilled&&(h(s,i),s.fill()),i.isStroked&&(g(s,i),s.stroke()),s.restore()}};f.exports=a},1543:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(19921),g=t(39429);g.register("ellipse",function(o,a,r,i,n,l){return this.displayList.add(new h(this.scene,o,a,r,i,n,l))})},54205:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),g=h,o=h;g=t(19467),o=t(7930),f.exports={renderWebGL:g,renderCanvas:o}},19467:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(10441),g=t(91296),o=t(34682),a=function(r,i,n,l){n.addToRenderList(i);var s=r.pipelines.set(i.pipeline),u=g(i,n,l),d=s.calcMatrix.copyFrom(u.calc),c=i._displayOriginX,v=i._displayOriginY,y=n.alpha*i.alpha;r.pipelines.preBatch(i),i.isFilled&&h(s,d,i,y,c,v),i.isStroked&&o(s,i,y,c,v),r.pipelines.postBatch(i)};f.exports=a},30479:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(17803),o=t(26015),a=new h({Extends:g,Mixins:[o],initialize:function(i,n,l,s,u,d,c,v,y,x,S){n===void 0&&(n=0),l===void 0&&(l=0),s===void 0&&(s=128),u===void 0&&(u=128),d===void 0&&(d=32),c===void 0&&(c=32),g.call(this,i,"Grid",null),this.cellWidth=d,this.cellHeight=c,this.showCells=!0,this.outlineFillColor=0,this.outlineFillAlpha=0,this.showOutline=!0,this.showAltCells=!1,this.altFillColor,this.altFillAlpha,this.setPosition(n,l),this.setSize(s,u),this.setFillStyle(v,y),x!==void 0&&this.setOutlineStyle(x,S),this.updateDisplayOrigin()},setFillStyle:function(r,i){return i===void 0&&(i=1),r===void 0?this.showCells=!1:(this.fillColor=r,this.fillAlpha=i,this.showCells=!0),this},setAltFillStyle:function(r,i){return i===void 0&&(i=1),r===void 0?this.showAltCells=!1:(this.altFillColor=r,this.altFillAlpha=i,this.showAltCells=!0),this},setOutlineStyle:function(r,i){return i===void 0&&(i=1),r===void 0?this.showOutline=!1:(this.outlineFillColor=r,this.outlineFillAlpha=i,this.showOutline=!0),this}});f.exports=a},49912:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(65960),g=t(75177),o=t(20926),a=function(r,i,n,l){n.addToRenderList(i);var s=r.currentContext;if(o(r,s,i,n,l)){var u=-i._displayOriginX,d=-i._displayOriginY,c=n.alpha*i.alpha,v=i.width,y=i.height,x=i.cellWidth,S=i.cellHeight,E=Math.ceil(v/x),A=Math.ceil(y/S),R=x,w=S,I=x-(E*x-v),O=S-(A*S-y),F=i.showCells,L=i.showAltCells,D=i.showOutline,b=0,G=0,W=0,Y=0,H=0;if(D&&(R--,w--,I===x&&I--,O===S&&O--),F&&i.fillAlpha>0)for(h(s,i),G=0;G<A;G++)for(L&&(W=G%2),b=0;b<E;b++){if(L&&W){W=0;continue}W++,Y=b<E-1?R:I,H=G<A-1?w:O,s.fillRect(u+b*x,d+G*S,Y,H)}if(L&&i.altFillAlpha>0)for(h(s,i,i.altFillColor,i.altFillAlpha*c),G=0;G<A;G++)for(L&&(W=G%2),b=0;b<E;b++){if(L&&!W){W=1;continue}W=0,Y=b<E-1?R:I,H=G<A-1?w:O,s.fillRect(u+b*x,d+G*S,Y,H)}if(D&&i.outlineFillAlpha>0){for(g(s,i,i.outlineFillColor,i.outlineFillAlpha*c),b=1;b<E;b++){var U=b*x;s.beginPath(),s.moveTo(U+u,d),s.lineTo(U+u,y+d),s.stroke()}for(G=1;G<A;G++){var X=G*S;s.beginPath(),s.moveTo(u,X+d),s.lineTo(u+v,X+d),s.stroke()}}s.restore()}};f.exports=a},34137:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(39429),g=t(30479);h.register("grid",function(o,a,r,i,n,l,s,u,d,c){return this.displayList.add(new g(this.scene,o,a,r,i,n,l,s,u,d,c))})},26015:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),g=h,o=h;g=t(46161),o=t(49912),f.exports={renderWebGL:g,renderCanvas:o}},46161:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91296),g=t(70554),o=function(a,r,i,n){i.addToRenderList(r);var l=a.pipelines.set(r.pipeline),s=h(r,i,n),u=l.calcMatrix.copyFrom(s.calc);u.translate(-r._displayOriginX,-r._displayOriginY);var d=i.alpha*r.alpha,c=r.width,v=r.height,y=r.cellWidth,x=r.cellHeight,S=Math.ceil(c/y),E=Math.ceil(v/x),A=y,R=x,w=y-(S*y-c),I=x-(E*x-v),O,F,L=r.showCells,D=r.showAltCells,b=r.showOutline,G=0,W=0,Y=0,H=0,U=0;if(b&&(A--,R--,w===y&&w--,I===x&&I--),a.pipelines.preBatch(r),L&&r.fillAlpha>0)for(O=l.fillTint,F=g.getTintAppendFloatAlpha(r.fillColor,r.fillAlpha*d),O.TL=F,O.TR=F,O.BL=F,O.BR=F,W=0;W<E;W++)for(D&&(Y=W%2),G=0;G<S;G++){if(D&&Y){Y=0;continue}Y++,H=G<S-1?A:w,U=W<E-1?R:I,l.batchFillRect(G*y,W*x,H,U)}if(D&&r.altFillAlpha>0)for(O=l.fillTint,F=g.getTintAppendFloatAlpha(r.altFillColor,r.altFillAlpha*d),O.TL=F,O.TR=F,O.BL=F,O.BR=F,W=0;W<E;W++)for(D&&(Y=W%2),G=0;G<S;G++){if(D&&!Y){Y=1;continue}Y=0,H=G<S-1?A:w,U=W<E-1?R:I,l.batchFillRect(G*y,W*x,H,U)}if(b&&r.outlineFillAlpha>0){var X=l.strokeTint,V=g.getTintAppendFloatAlpha(r.outlineFillColor,r.outlineFillAlpha*d);for(X.TL=V,X.TR=V,X.BL=V,X.BR=V,G=1;G<S;G++){var B=G*y;l.batchLine(B,0,B,v,1,1,1,0,!1)}for(W=1;W<E;W++){var z=W*x;l.batchLine(0,z,c,z,1,1,1,0,!1)}}a.pipelines.postBatch(r)};f.exports=o},61475:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(99651),g=t(83419),o=t(17803),a=new g({Extends:o,Mixins:[h],initialize:function(i,n,l,s,u,d,c,v){n===void 0&&(n=0),l===void 0&&(l=0),s===void 0&&(s=48),u===void 0&&(u=32),d===void 0&&(d=15658734),c===void 0&&(c=10066329),v===void 0&&(v=13421772),o.call(this,i,"IsoBox",null),this.projection=4,this.fillTop=d,this.fillLeft=c,this.fillRight=v,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isFilled=!0,this.setPosition(n,l),this.setSize(s,u),this.updateDisplayOrigin()},setProjection:function(r){return this.projection=r,this},setFaces:function(r,i,n){return r===void 0&&(r=!0),i===void 0&&(i=!0),n===void 0&&(n=!0),this.showTop=r,this.showLeft=i,this.showRight=n,this},setFillStyle:function(r,i,n){return this.fillTop=r,this.fillLeft=i,this.fillRight=n,this.isFilled=!0,this}});f.exports=a},11508:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(65960),g=t(20926),o=function(a,r,i,n){i.addToRenderList(r);var l=a.currentContext;if(g(a,l,r,i,n)&&r.isFilled){var s=r.width,u=r.height,d=s/2,c=s/r.projection;r.showTop&&(h(l,r,r.fillTop),l.beginPath(),l.moveTo(-d,-u),l.lineTo(0,-c-u),l.lineTo(d,-u),l.lineTo(d,-1),l.lineTo(0,c-1),l.lineTo(-d,-1),l.lineTo(-d,-u),l.fill()),r.showLeft&&(h(l,r,r.fillLeft),l.beginPath(),l.moveTo(-d,0),l.lineTo(0,c),l.lineTo(0,c-u),l.lineTo(-d,-u),l.lineTo(-d,0),l.fill()),r.showRight&&(h(l,r,r.fillRight),l.beginPath(),l.moveTo(d,0),l.lineTo(0,c),l.lineTo(0,c-u),l.lineTo(d,-u),l.lineTo(d,0),l.fill()),l.restore()}};f.exports=o},3933:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(39429),g=t(61475);h.register("isobox",function(o,a,r,i,n,l,s){return this.displayList.add(new g(this.scene,o,a,r,i,n,l,s))})},99651:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),g=h,o=h;g=t(68149),o=t(11508),f.exports={renderWebGL:g,renderCanvas:o}},68149:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91296),g=t(70554),o=function(a,r,i,n){i.addToRenderList(r);var l=a.pipelines.set(r.pipeline),s=h(r,i,n),u=l.calcMatrix.copyFrom(s.calc),d=r.width,c=r.height,v=d/2,y=d/r.projection,x=i.alpha*r.alpha;if(r.isFilled){var S,E,A,R,w,I,O,F,L;a.pipelines.preBatch(r),r.showTop&&(S=g.getTintAppendFloatAlpha(r.fillTop,x),E=u.getX(-v,-c),A=u.getY(-v,-c),R=u.getX(0,-y-c),w=u.getY(0,-y-c),I=u.getX(v,-c),O=u.getY(v,-c),F=u.getX(0,y-c),L=u.getY(0,y-c),l.batchQuad(r,E,A,R,w,I,O,F,L,0,0,1,1,S,S,S,S,2)),r.showLeft&&(S=g.getTintAppendFloatAlpha(r.fillLeft,x),E=u.getX(-v,0),A=u.getY(-v,0),R=u.getX(0,y),w=u.getY(0,y),I=u.getX(0,y-c),O=u.getY(0,y-c),F=u.getX(-v,-c),L=u.getY(-v,-c),l.batchQuad(r,E,A,R,w,I,O,F,L,0,0,1,1,S,S,S,S,2)),r.showRight&&(S=g.getTintAppendFloatAlpha(r.fillRight,x),E=u.getX(v,0),A=u.getY(v,0),R=u.getX(0,y),w=u.getY(0,y),I=u.getX(0,y-c),O=u.getY(0,y-c),F=u.getX(v,-c),L=u.getY(v,-c),l.batchQuad(r,E,A,R,w,I,O,F,L,0,0,1,1,S,S,S,S,2)),a.pipelines.postBatch(r)}};f.exports=o},16933:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(60561),o=t(17803),a=new h({Extends:o,Mixins:[g],initialize:function(i,n,l,s,u,d,c,v,y){n===void 0&&(n=0),l===void 0&&(l=0),s===void 0&&(s=48),u===void 0&&(u=32),d===void 0&&(d=!1),c===void 0&&(c=15658734),v===void 0&&(v=10066329),y===void 0&&(y=13421772),o.call(this,i,"IsoTriangle",null),this.projection=4,this.fillTop=c,this.fillLeft=v,this.fillRight=y,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isReversed=d,this.isFilled=!0,this.setPosition(n,l),this.setSize(s,u),this.updateDisplayOrigin()},setProjection:function(r){return this.projection=r,this},setReversed:function(r){return this.isReversed=r,this},setFaces:function(r,i,n){return r===void 0&&(r=!0),i===void 0&&(i=!0),n===void 0&&(n=!0),this.showTop=r,this.showLeft=i,this.showRight=n,this},setFillStyle:function(r,i,n){return this.fillTop=r,this.fillLeft=i,this.fillRight=n,this.isFilled=!0,this}});f.exports=a},79590:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(65960),g=t(20926),o=function(a,r,i,n){i.addToRenderList(r);var l=a.currentContext;if(g(a,l,r,i,n)&&r.isFilled){var s=r.width,u=r.height,d=s/2,c=s/r.projection,v=r.isReversed;r.showTop&&v&&(h(l,r,r.fillTop),l.beginPath(),l.moveTo(-d,-u),l.lineTo(0,-c-u),l.lineTo(d,-u),l.lineTo(0,c-u),l.fill()),r.showLeft&&(h(l,r,r.fillLeft),l.beginPath(),v?(l.moveTo(-d,-u),l.lineTo(0,c),l.lineTo(0,c-u)):(l.moveTo(-d,0),l.lineTo(0,c),l.lineTo(0,c-u)),l.fill()),r.showRight&&(h(l,r,r.fillRight),l.beginPath(),v?(l.moveTo(d,-u),l.lineTo(0,c),l.lineTo(0,c-u)):(l.moveTo(d,0),l.lineTo(0,c),l.lineTo(0,c-u)),l.fill()),l.restore()}};f.exports=o},49803:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(39429),g=t(16933);h.register("isotriangle",function(o,a,r,i,n,l,s,u){return this.displayList.add(new g(this.scene,o,a,r,i,n,l,s,u))})},60561:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),g=h,o=h;g=t(51503),o=t(79590),f.exports={renderWebGL:g,renderCanvas:o}},51503:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91296),g=t(70554),o=function(a,r,i,n){i.addToRenderList(r);var l=a.pipelines.set(r.pipeline),s=h(r,i,n),u=l.calcMatrix.copyFrom(s.calc),d=r.width,c=r.height,v=d/2,y=d/r.projection,x=r.isReversed,S=i.alpha*r.alpha;if(r.isFilled){a.pipelines.preBatch(r);var E,A,R,w,I,O,F;if(r.showTop&&x){E=g.getTintAppendFloatAlpha(r.fillTop,S),A=u.getX(-v,-c),R=u.getY(-v,-c),w=u.getX(0,-y-c),I=u.getY(0,-y-c),O=u.getX(v,-c),F=u.getY(v,-c);var L=u.getX(0,y-c),D=u.getY(0,y-c);l.batchQuad(r,A,R,w,I,O,F,L,D,0,0,1,1,E,E,E,E,2)}r.showLeft&&(E=g.getTintAppendFloatAlpha(r.fillLeft,S),x?(A=u.getX(-v,-c),R=u.getY(-v,-c),w=u.getX(0,y),I=u.getY(0,y),O=u.getX(0,y-c),F=u.getY(0,y-c)):(A=u.getX(-v,0),R=u.getY(-v,0),w=u.getX(0,y),I=u.getY(0,y),O=u.getX(0,y-c),F=u.getY(0,y-c)),l.batchTri(r,A,R,w,I,O,F,0,0,1,1,E,E,E,2)),r.showRight&&(E=g.getTintAppendFloatAlpha(r.fillRight,S),x?(A=u.getX(v,-c),R=u.getY(v,-c),w=u.getX(0,y),I=u.getY(0,y),O=u.getX(0,y-c),F=u.getY(0,y-c)):(A=u.getX(v,0),R=u.getY(v,0),w=u.getX(0,y),I=u.getY(0,y),O=u.getX(0,y-c),F=u.getY(0,y-c)),l.batchTri(r,A,R,w,I,O,F,0,0,1,1,E,E,E,2)),a.pipelines.postBatch(r)}};f.exports=o},57847:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(17803),o=t(23031),a=t(36823),r=new h({Extends:g,Mixins:[a],initialize:function(n,l,s,u,d,c,v,y,x){l===void 0&&(l=0),s===void 0&&(s=0),u===void 0&&(u=0),d===void 0&&(d=0),c===void 0&&(c=128),v===void 0&&(v=0),g.call(this,n,"Line",new o(u,d,c,v));var S=Math.max(1,this.geom.right-this.geom.left),E=Math.max(1,this.geom.bottom-this.geom.top);this.lineWidth=1,this._startWidth=1,this._endWidth=1,this.setPosition(l,s),this.setSize(S,E),y!==void 0&&this.setStrokeStyle(1,y,x),this.updateDisplayOrigin()},setLineWidth:function(i,n){return n===void 0&&(n=i),this._startWidth=i,this._endWidth=n,this.lineWidth=i,this},setTo:function(i,n,l,s){return this.geom.setTo(i,n,l,s),this}});f.exports=r},17440:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(75177),g=t(20926),o=function(a,r,i,n){i.addToRenderList(r);var l=a.currentContext;if(g(a,l,r,i,n)){var s=r._displayOriginX,u=r._displayOriginY;r.isStroked&&(h(l,r),l.beginPath(),l.moveTo(r.geom.x1-s,r.geom.y1-u),l.lineTo(r.geom.x2-s,r.geom.y2-u),l.stroke()),l.restore()}};f.exports=o},2481:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(39429),g=t(57847);h.register("line",function(o,a,r,i,n,l,s,u){return this.displayList.add(new g(this.scene,o,a,r,i,n,l,s,u))})},36823:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),g=h,o=h;g=t(77385),o=t(17440),f.exports={renderWebGL:g,renderCanvas:o}},77385:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91296),g=t(70554),o=function(a,r,i,n){i.addToRenderList(r);var l=a.pipelines.set(r.pipeline),s=h(r,i,n);l.calcMatrix.copyFrom(s.calc);var u=r._displayOriginX,d=r._displayOriginY,c=i.alpha*r.alpha;if(a.pipelines.preBatch(r),r.isStroked){var v=l.strokeTint,y=g.getTintAppendFloatAlpha(r.strokeColor,r.strokeAlpha*c);v.TL=y,v.TR=y,v.BL=y,v.BR=y,l.batchLine(r.geom.x1-u,r.geom.y1-d,r.geom.x2-u,r.geom.y2-d,r._startWidth/2,r._endWidth/2,1,0,!1,s.sprite,s.camera)}a.pipelines.postBatch(r)};f.exports=o},24949:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(90273),g=t(83419),o=t(94811),a=t(13829),r=t(25717),i=t(17803),n=t(5469),l=new g({Extends:i,Mixins:[h],initialize:function(u,d,c,v,y,x){d===void 0&&(d=0),c===void 0&&(c=0),i.call(this,u,"Polygon",new r(v));var S=a(this.geom);this.setPosition(d,c),this.setSize(S.width,S.height),y!==void 0&&this.setFillStyle(y,x),this.updateDisplayOrigin(),this.updateData()},smooth:function(s){s===void 0&&(s=1);for(var u=0;u<s;u++)n(this.geom);return this.updateData()},setTo:function(s){this.geom.setTo(s);var u=a(this.geom);return this.setSize(u.width,u.height),this.updateDisplayOrigin(),this.updateData()},updateData:function(){for(var s=[],u=this.geom.points,d=0;d<u.length;d++)s.push(u[d].x,u[d].y);return s.push(u[0].x,u[0].y),this.pathIndexes=o(s),this.pathData=s,this}});f.exports=l},38710:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(65960),g=t(75177),o=t(20926),a=function(r,i,n,l){n.addToRenderList(i);var s=r.currentContext;if(o(r,s,i,n,l)){var u=i._displayOriginX,d=i._displayOriginY,c=i.pathData,v=c.length-1,y=c[0]-u,x=c[1]-d;s.beginPath(),s.moveTo(y,x),i.closePath||(v-=2);for(var S=2;S<v;S+=2){var E=c[S]-u,A=c[S+1]-d;s.lineTo(E,A)}i.closePath&&s.closePath(),i.isFilled&&(h(s,i),s.fill()),i.isStroked&&(g(s,i),s.stroke()),s.restore()}};f.exports=a},64827:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(39429),g=t(24949);h.register("polygon",function(o,a,r,i,n){return this.displayList.add(new g(this.scene,o,a,r,i,n))})},90273:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),g=h,o=h;g=t(73695),o=t(38710),f.exports={renderWebGL:g,renderCanvas:o}},73695:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(10441),g=t(91296),o=t(34682),a=function(r,i,n,l){n.addToRenderList(i);var s=r.pipelines.set(i.pipeline),u=g(i,n,l),d=s.calcMatrix.copyFrom(u.calc),c=i._displayOriginX,v=i._displayOriginY,y=n.alpha*i.alpha;r.pipelines.preBatch(i),i.isFilled&&h(s,d,i,y,c,v),i.isStroked&&o(s,i,y,c,v),r.pipelines.postBatch(i)};f.exports=a},74561:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(87841),o=t(17803),a=t(95597),r=new h({Extends:o,Mixins:[a],initialize:function(n,l,s,u,d,c,v){l===void 0&&(l=0),s===void 0&&(s=0),u===void 0&&(u=128),d===void 0&&(d=128),o.call(this,n,"Rectangle",new g(0,0,u,d)),this.setPosition(l,s),this.setSize(u,d),c!==void 0&&this.setFillStyle(c,v),this.updateDisplayOrigin(),this.updateData()},setSize:function(i,n){this.width=i,this.height=n,this.geom.setSize(i,n),this.updateData(),this.updateDisplayOrigin();var l=this.input;return l&&!l.customHitArea&&(l.hitArea.width=i,l.hitArea.height=n),this},updateData:function(){var i=[],n=this.geom,l=this._tempLine;return n.getLineA(l),i.push(l.x1,l.y1,l.x2,l.y2),n.getLineB(l),i.push(l.x2,l.y2),n.getLineC(l),i.push(l.x2,l.y2),n.getLineD(l),i.push(l.x2,l.y2),this.pathData=i,this}});f.exports=r},48682:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(65960),g=t(75177),o=t(20926),a=function(r,i,n,l){n.addToRenderList(i);var s=r.currentContext;if(o(r,s,i,n,l)){var u=i._displayOriginX,d=i._displayOriginY;i.isFilled&&(h(s,i),s.fillRect(-u,-d,i.width,i.height)),i.isStroked&&(g(s,i),s.beginPath(),s.rect(-u,-d,i.width,i.height),s.stroke()),s.restore()}};f.exports=a},87959:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(39429),g=t(74561);h.register("rectangle",function(o,a,r,i,n,l){return this.displayList.add(new g(this.scene,o,a,r,i,n,l))})},95597:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),g=h,o=h;g=t(52059),o=t(48682),f.exports={renderWebGL:g,renderCanvas:o}},52059:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91296),g=t(34682),o=t(70554),a=function(r,i,n,l){n.addToRenderList(i);var s=r.pipelines.set(i.pipeline),u=h(i,n,l);s.calcMatrix.copyFrom(u.calc);var d=i._displayOriginX,c=i._displayOriginY,v=n.alpha*i.alpha;if(r.pipelines.preBatch(i),i.isFilled){var y=s.fillTint,x=o.getTintAppendFloatAlpha(i.fillColor,i.fillAlpha*v);y.TL=x,y.TR=x,y.BL=x,y.BR=x,s.batchFillRect(-d,-c,i.width,i.height)}i.isStroked&&g(s,i,v,d,c),r.pipelines.postBatch(i)};f.exports=a},55911:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(81991),g=t(83419),o=t(94811),a=t(17803),r=new g({Extends:a,Mixins:[h],initialize:function(n,l,s,u,d,c,v,y){l===void 0&&(l=0),s===void 0&&(s=0),u===void 0&&(u=5),d===void 0&&(d=32),c===void 0&&(c=64),a.call(this,n,"Star",null),this._points=u,this._innerRadius=d,this._outerRadius=c,this.setPosition(l,s),this.setSize(c*2,c*2),v!==void 0&&this.setFillStyle(v,y),this.updateDisplayOrigin(),this.updateData()},setPoints:function(i){return this._points=i,this.updateData()},setInnerRadius:function(i){return this._innerRadius=i,this.updateData()},setOuterRadius:function(i){return this._outerRadius=i,this.updateData()},points:{get:function(){return this._points},set:function(i){this._points=i,this.updateData()}},innerRadius:{get:function(){return this._innerRadius},set:function(i){this._innerRadius=i,this.updateData()}},outerRadius:{get:function(){return this._outerRadius},set:function(i){this._outerRadius=i,this.updateData()}},updateData:function(){var i=[],n=this._points,l=this._innerRadius,s=this._outerRadius,u=Math.PI/2*3,d=Math.PI/n,c=s,v=s;i.push(c,v+-s);for(var y=0;y<n;y++)i.push(c+Math.cos(u)*s,v+Math.sin(u)*s),u+=d,i.push(c+Math.cos(u)*l,v+Math.sin(u)*l),u+=d;return i.push(c,v+-s),this.pathIndexes=o(i),this.pathData=i,this}});f.exports=r},64272:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(65960),g=t(75177),o=t(20926),a=function(r,i,n,l){n.addToRenderList(i);var s=r.currentContext;if(o(r,s,i,n,l)){var u=i._displayOriginX,d=i._displayOriginY,c=i.pathData,v=c.length-1,y=c[0]-u,x=c[1]-d;s.beginPath(),s.moveTo(y,x),i.closePath||(v-=2);for(var S=2;S<v;S+=2){var E=c[S]-u,A=c[S+1]-d;s.lineTo(E,A)}s.closePath(),i.isFilled&&(h(s,i),s.fill()),i.isStroked&&(g(s,i),s.stroke()),s.restore()}};f.exports=a},93697:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(55911),g=t(39429);g.register("star",function(o,a,r,i,n,l,s){return this.displayList.add(new h(this.scene,o,a,r,i,n,l,s))})},81991:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),g=h,o=h;g=t(57017),o=t(64272),f.exports={renderWebGL:g,renderCanvas:o}},57017:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(10441),g=t(91296),o=t(34682),a=function(r,i,n,l){n.addToRenderList(i);var s=r.pipelines.set(i.pipeline),u=g(i,n,l),d=s.calcMatrix.copyFrom(u.calc),c=i._displayOriginX,v=i._displayOriginY,y=n.alpha*i.alpha;r.pipelines.preBatch(i),i.isFilled&&h(s,d,i,y,c,v),i.isStroked&&o(s,i,y,c,v),r.pipelines.postBatch(i)};f.exports=a},36931:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(17803),o=t(16483),a=t(96195),r=new h({Extends:g,Mixins:[a],initialize:function(n,l,s,u,d,c,v,y,x,S,E){l===void 0&&(l=0),s===void 0&&(s=0),u===void 0&&(u=0),d===void 0&&(d=128),c===void 0&&(c=64),v===void 0&&(v=0),y===void 0&&(y=128),x===void 0&&(x=128),g.call(this,n,"Triangle",new o(u,d,c,v,y,x));var A=this.geom.right-this.geom.left,R=this.geom.bottom-this.geom.top;this.setPosition(l,s),this.setSize(A,R),S!==void 0&&this.setFillStyle(S,E),this.updateDisplayOrigin(),this.updateData()},setTo:function(i,n,l,s,u,d){return this.geom.setTo(i,n,l,s,u,d),this.updateData()},updateData:function(){var i=[],n=this.geom,l=this._tempLine;return n.getLineA(l),i.push(l.x1,l.y1,l.x2,l.y2),n.getLineB(l),i.push(l.x2,l.y2),n.getLineC(l),i.push(l.x2,l.y2),this.pathData=i,this}});f.exports=r},85172:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(65960),g=t(75177),o=t(20926),a=function(r,i,n,l){n.addToRenderList(i);var s=r.currentContext;if(o(r,s,i,n,l)){var u=i._displayOriginX,d=i._displayOriginY,c=i.geom.x1-u,v=i.geom.y1-d,y=i.geom.x2-u,x=i.geom.y2-d,S=i.geom.x3-u,E=i.geom.y3-d;s.beginPath(),s.moveTo(c,v),s.lineTo(y,x),s.lineTo(S,E),s.closePath(),i.isFilled&&(h(s,i),s.fill()),i.isStroked&&(g(s,i),s.stroke()),s.restore()}};f.exports=a},45245:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(39429),g=t(36931);h.register("triangle",function(o,a,r,i,n,l,s,u,d,c){return this.displayList.add(new g(this.scene,o,a,r,i,n,l,s,u,d,c))})},96195:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),g=h,o=h;g=t(83253),o=t(85172),f.exports={renderWebGL:g,renderCanvas:o}},83253:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91296),g=t(34682),o=t(70554),a=function(r,i,n,l){n.addToRenderList(i);var s=r.pipelines.set(i.pipeline),u=h(i,n,l);s.calcMatrix.copyFrom(u.calc);var d=i._displayOriginX,c=i._displayOriginY,v=n.alpha*i.alpha;if(r.pipelines.preBatch(i),i.isFilled){var y=s.fillTint,x=o.getTintAppendFloatAlpha(i.fillColor,i.fillAlpha*v);y.TL=x,y.TR=x,y.BL=x,y.BR=x;var S=i.geom.x1-d,E=i.geom.y1-c,A=i.geom.x2-d,R=i.geom.y2-c,w=i.geom.x3-d,I=i.geom.y3-c;s.batchFillTriangle(S,E,A,R,w,I,u.sprite,u.camera)}i.isStroked&&g(s,i,v,d,c),r.pipelines.postBatch(i)};f.exports=a},68287:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(9674),g=t(83419),o=t(31401),a=t(95643),r=t(92751),i=new g({Extends:a,Mixins:[o.Alpha,o.BlendMode,o.Depth,o.Flip,o.GetBounds,o.Mask,o.Origin,o.Pipeline,o.PostPipeline,o.ScrollFactor,o.Size,o.TextureCrop,o.Tint,o.Transform,o.Visible,r],initialize:function(l,s,u,d,c){a.call(this,l,"Sprite"),this._crop=this.resetCropObject(),this.anims=new h(this),this.setTexture(d,c),this.setPosition(s,u),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(n,l){this.anims.update(n,l)},play:function(n,l){return this.anims.play(n,l)},playReverse:function(n,l){return this.anims.playReverse(n,l)},playAfterDelay:function(n,l){return this.anims.playAfterDelay(n,l)},playAfterRepeat:function(n,l){return this.anims.playAfterRepeat(n,l)},chain:function(n){return this.anims.chain(n)},stop:function(){return this.anims.stop()},stopAfterDelay:function(n){return this.anims.stopAfterDelay(n)},stopAfterRepeat:function(n){return this.anims.stopAfterRepeat(n)},stopOnFrame:function(n){return this.anims.stopOnFrame(n)},toJSON:function(){return o.ToJSON(this)},preDestroy:function(){this.anims.destroy(),this.anims=void 0}});f.exports=i},76552:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h,g,o){g.addToRenderList(h),t.batchSprite(h,h.frame,g,o)};f.exports=C},15567:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25305),g=t(13059),o=t(44603),a=t(23568),r=t(68287);o.register("sprite",function(i,n){i===void 0&&(i={});var l=a(i,"key",null),s=a(i,"frame",null),u=new r(this.scene,0,0,l,s);return n!==void 0&&(i.add=n),h(this.scene,u,i),g(u,i),u})},46409:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(39429),g=t(68287);h.register("sprite",function(o,a,r,i){return this.displayList.add(new g(this.scene,o,a,r,i))})},92751:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),g=h,o=h;g=t(9409),o=t(76552),f.exports={renderWebGL:g,renderCanvas:o}},9409:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h,g,o){g.addToRenderList(h),h.pipeline.batchSprite(h,g,o)};f.exports=C},14220:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h,g){var o=t.canvas,a=t.context,r=t.style,i=[],n=0,l=g.length;r.maxLines>0&&r.maxLines<g.length&&(l=r.maxLines),r.syncFont(o,a);for(var s=t.letterSpacing,u=0;u<l;u++){var d=r.strokeThickness;if(s===0)d+=a.measureText(g[u]).width;else{for(var c=g[u],v=0;v<c.length;v++)d+=a.measureText(c[v]).width;c.length>1&&(d+=s*(c.length-1))}r.wordWrap&&(d-=a.measureText(" ").width),i[u]=Math.ceil(d),n=Math.max(n,i[u])}var y=h.fontSize+r.strokeThickness,x=y*l,S=t.lineSpacing;return l>1&&(x+=S*(l-1)),{width:n,height:x,lines:l,lineWidths:i,lineSpacing:S,lineHeight:y}};f.exports=C},79557:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(27919),g=function(o){var a=h.create(this),r=a.getContext("2d",{willReadFrequently:!0});o.syncFont(a,r);var i=r.measureText(o.testString);if("actualBoundingBoxAscent"in i){var n=i.actualBoundingBoxAscent,l=i.actualBoundingBoxDescent;return h.remove(a),{ascent:n,descent:l,fontSize:n+l}}var s=Math.ceil(i.width*o.baselineX),u=s,d=2*u;u=u*o.baselineY|0,a.width=s,a.height=d,r.fillStyle="#f00",r.fillRect(0,0,s,d),r.font=o._font,r.textBaseline="alphabetic",r.fillStyle="#000",r.fillText(o.testString,0,u);var c={ascent:0,descent:0,fontSize:0},v=r.getImageData(0,0,s,d);if(!v)return c.ascent=u,c.descent=u+6,c.fontSize=c.ascent+c.descent,h.remove(a),c;var y=v.data,x=y.length,S=s*4,E,A,R=0,w=!1;for(E=0;E<u;E++){for(A=0;A<S;A+=4)if(y[R+A]!==255){w=!0;break}if(!w)R+=S;else break}for(c.ascent=u-E,R=x-S,w=!1,E=d;E>u;E--){for(A=0;A<S;A+=4)if(y[R+A]!==255){w=!0;break}if(!w)R-=S;else break}return c.descent=E-u,c.fontSize=c.ascent+c.descent,h.remove(a),c};f.exports=g},50171:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(40366),g=t(27919),o=t(83419),a=t(31401),r=t(95643),i=t(14220),n=t(35154),l=t(35846),s=t(61771),u=t(35762),d=t(45650),c=new o({Extends:r,Mixins:[a.Alpha,a.BlendMode,a.ComputedSize,a.Crop,a.Depth,a.Flip,a.GetBounds,a.Mask,a.Origin,a.Pipeline,a.PostPipeline,a.ScrollFactor,a.Tint,a.Transform,a.Visible,s],initialize:function(y,x,S,E,A){x===void 0&&(x=0),S===void 0&&(S=0),r.call(this,y,"Text"),this.renderer=y.sys.renderer,this.setPosition(x,S),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(!0),this.canvas=g.create(this),this.context,this.style=new u(this,A),this.autoRound=!0,this.splitRegExp=/(?:\r\n|\r|\n)/,this._text=void 0,this.padding={left:0,right:0,top:0,bottom:0},this.width=1,this.height=1,this.lineSpacing=0,this.letterSpacing=0,this.style.resolution===0&&(this.style.resolution=1),this._crop=this.resetCropObject(),this._textureKey=d(),this.texture=y.sys.textures.addCanvas(this._textureKey,this.canvas),this.context=this.texture.context,this.frame=this.texture.get(),this.frame.source.resolution=this.style.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null),this.initRTL(),this.setText(E),A&&A.padding&&this.setPadding(A.padding),A&&A.lineSpacing&&this.setLineSpacing(A.lineSpacing),A&&A.letterSpacing&&this.setLetterSpacing(A.letterSpacing)},initRTL:function(){this.style.rtl&&(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",h(this.canvas,this.scene.sys.canvas),this.originX=1)},runWordWrap:function(v){var y=this.style;if(y.wordWrapCallback){var x=y.wordWrapCallback.call(y.wordWrapCallbackScope,v,this);return Array.isArray(x)&&(x=x.join(`
`)),x}else return y.wordWrapWidth?y.wordWrapUseAdvanced?this.advancedWordWrap(v,this.context,this.style.wordWrapWidth):this.basicWordWrap(v,this.context,this.style.wordWrapWidth):v},advancedWordWrap:function(v,y,x){for(var S="",E=v.replace(/ +/gi," ").split(this.splitRegExp),A=E.length,R=0;R<A;R++){var w=E[R],I="";w=w.replace(/^ *|\s*$/gi,"");var O=w.length*this.letterSpacing,F=y.measureText(w).width+O;if(F<x){S+=w+`
`;continue}for(var L=x,D=w.split(" "),b=0;b<D.length;b++){var G=D[b],W=G+" ",Y=W.length*this.letterSpacing,H=y.measureText(W).width+Y;if(console.log(D.length,G),H>L){if(b===0){for(var U=W;U.length;){U=U.slice(0,-1);var X=U.length*this.letterSpacing;if(H=y.measureText(U).width+X,H<=L)break}if(!U.length)throw new Error("wordWrapWidth < a single character");var V=G.substr(U.length);D[b]=V,I+=U}var B=D[b].length?b:b+1,z=D.slice(B).join(" ").replace(/[ \n]*$/gi,"");E.splice(R+1,0,z),A=E.length;break}else I+=W,L-=H}S+=I.replace(/[ \n]*$/gi,"")+`
`}return S=S.replace(/[\s|\n]*$/gi,""),S},basicWordWrap:function(v,y,x){for(var S="",E=v.split(this.splitRegExp),A=E.length-1,R=y.measureText(" ").width,w=0;w<=A;w++){for(var I=x,O=E[w].split(" "),F=O.length-1,L=0;L<=F;L++){var D=O[L],b=D.length*this.letterSpacing,G=y.measureText(D).width+b,W=G;L<F&&(W+=R),W>I&&L>0&&(S+=`
`,I=x),S+=D,L<F?(S+=" ",I-=W):I-=G}w<A&&(S+=`
`)}return S},getWrappedText:function(v){v===void 0&&(v=this._text),this.style.syncFont(this.canvas,this.context);var y=this.runWordWrap(v);return y.split(this.splitRegExp)},setText:function(v){return!v&&v!==0&&(v=""),Array.isArray(v)&&(v=v.join(`
`)),v!==this._text&&(this._text=v.toString(),this.updateText()),this},appendText:function(v,y){y===void 0&&(y=!0),!v&&v!==0&&(v=""),Array.isArray(v)&&(v=v.join(`
`)),v=v.toString();var x=this._text.concat(y?`
`+v:v);return x!==this._text&&(this._text=x,this.updateText()),this},setStyle:function(v){return this.style.setStyle(v)},setFont:function(v){return this.style.setFont(v)},setFontFamily:function(v){return this.style.setFontFamily(v)},setFontSize:function(v){return this.style.setFontSize(v)},setFontStyle:function(v){return this.style.setFontStyle(v)},setFixedSize:function(v,y){return this.style.setFixedSize(v,y)},setBackgroundColor:function(v){return this.style.setBackgroundColor(v)},setFill:function(v){return this.style.setFill(v)},setColor:function(v){return this.style.setColor(v)},setStroke:function(v,y){return this.style.setStroke(v,y)},setShadow:function(v,y,x,S,E,A){return this.style.setShadow(v,y,x,S,E,A)},setShadowOffset:function(v,y){return this.style.setShadowOffset(v,y)},setShadowColor:function(v){return this.style.setShadowColor(v)},setShadowBlur:function(v){return this.style.setShadowBlur(v)},setShadowStroke:function(v){return this.style.setShadowStroke(v)},setShadowFill:function(v){return this.style.setShadowFill(v)},setWordWrapWidth:function(v,y){return this.style.setWordWrapWidth(v,y)},setWordWrapCallback:function(v,y){return this.style.setWordWrapCallback(v,y)},setAlign:function(v){return this.style.setAlign(v)},setResolution:function(v){return this.style.setResolution(v)},setLineSpacing:function(v){return this.lineSpacing=v,this.updateText()},setLetterSpacing:function(v){return this.letterSpacing=v,this.updateText()},setPadding:function(v,y,x,S){if(typeof v=="object"){var E=v,A=n(E,"x",null);A!==null?(v=A,x=A):(v=n(E,"left",0),x=n(E,"right",v));var R=n(E,"y",null);R!==null?(y=R,S=R):(y=n(E,"top",0),S=n(E,"bottom",y))}else v===void 0&&(v=0),y===void 0&&(y=v),x===void 0&&(x=v),S===void 0&&(S=y);return this.padding.left=v,this.padding.top=y,this.padding.right=x,this.padding.bottom=S,this.updateText()},setMaxLines:function(v){return this.style.setMaxLines(v)},setRTL:function(v){v===void 0&&(v=!0);var y=this.style;return y.rtl===v?this:(y.rtl=v,v?(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",h(this.canvas,this.scene.sys.canvas)):(this.canvas.dir="ltr",this.context.direction="ltr"),y.align==="left"?y.align="right":y.align==="right"&&(y.align="left"),this)},updateText:function(){var v=this.canvas,y=this.context,x=this.style,S=x.resolution,E=x.metrics;x.syncFont(v,y);var A=this._text;(x.wordWrapWidth||x.wordWrapCallback)&&(A=this.runWordWrap(this._text));var R=A.split(this.splitRegExp),w=i(this,E,R),I=this.padding,O;x.fixedWidth===0?(this.width=w.width+I.left+I.right,O=w.width):(this.width=x.fixedWidth,O=this.width-I.left-I.right,O<w.width&&(O=w.width)),x.fixedHeight===0?this.height=w.height+I.top+I.bottom:this.height=x.fixedHeight;var F=this.width,L=this.height;this.updateDisplayOrigin(),F*=S,L*=S,F=Math.max(F,1),L=Math.max(L,1),v.width!==F||v.height!==L?(v.width=F,v.height=L,this.frame.setSize(F,L),x.syncFont(v,y),x.rtl&&(y.direction="rtl")):y.clearRect(0,0,F,L),y.save(),y.scale(S,S),x.backgroundColor&&(y.fillStyle=x.backgroundColor,y.fillRect(0,0,F,L)),x.syncStyle(v,y),y.translate(I.left,I.top);for(var D,b,G=0;G<w.lines;G++){if(D=x.strokeThickness/2,b=x.strokeThickness/2+G*w.lineHeight+E.ascent,G>0&&(b+=w.lineSpacing*G),x.rtl)D=F-D-I.left-I.right;else if(x.align==="right")D+=O-w.lineWidths[G];else if(x.align==="center")D+=(O-w.lineWidths[G])/2;else if(x.align==="justify"){var W=.85;if(w.lineWidths[G]/w.width>=W){var Y=w.width-w.lineWidths[G],H=y.measureText(" ").width,U=R[G].trim(),X=U.split(" ");Y+=(R[G].length-U.length)*H;for(var V=Math.floor(Y/H),B=0;V>0;)X[B]+=" ",B=(B+1)%(X.length-1||1),--V;R[G]=X.join(" ")}}this.autoRound&&(D=Math.round(D),b=Math.round(b));var z=this.letterSpacing;if(x.strokeThickness&&z===0&&(x.syncShadow(y,x.shadowStroke),y.strokeText(R[G],D,b)),x.color)if(x.syncShadow(y,x.shadowFill),z!==0)for(var K=0,k=R[G].split(""),J=0;J<k.length;J++)x.strokeThickness&&(x.syncShadow(y,x.shadowStroke),y.strokeText(k[J],D+K,b),x.syncShadow(y,x.shadowFill)),y.fillText(k[J],D+K,b),K+=y.measureText(k[J]).width+z;else y.fillText(R[G],D,b)}y.restore(),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(v,this.frame.source.glTexture,!0));var q=this.input;return q&&!q.customHitArea&&(q.hitArea.width=this.width,q.hitArea.height=this.height),this},getTextMetrics:function(){return this.style.getTextMetrics()},text:{get:function(){return this._text},set:function(v){this.setText(v)}},toJSON:function(){var v=a.ToJSON(this),y={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return v.data=y,v},preDestroy:function(){l(this.canvas),g.remove(this.canvas);var v=this.texture;v&&v.destroy()}});f.exports=c},79724:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h,g,o){h.width===0||h.height===0||(g.addToRenderList(h),t.batchSprite(h,h.frame,g,o))};f.exports=C},71259:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25305),g=t(44603),o=t(23568),a=t(50171);g.register("text",function(r,i){r===void 0&&(r={});var n=o(r,"text",""),l=o(r,"style",null),s=o(r,"padding",null);s!==null&&(l.padding=s);var u=new a(this.scene,0,0,n,l);return i!==void 0&&(r.add=i),h(this.scene,u,r),u.autoRound=o(r,"autoRound",!0),u.resolution=o(r,"resolution",1),u})},68005:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(50171),g=t(39429);g.register("text",function(o,a,r,i){return this.displayList.add(new h(this.scene,o,a,r,i))})},61771:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),g=h,o=h;g=t(34397),o=t(79724),f.exports={renderWebGL:g,renderCanvas:o}},35762:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(23568),o=t(35154),a=t(79557),r={fontFamily:["fontFamily","Courier"],fontSize:["fontSize","16px"],fontStyle:["fontStyle",""],backgroundColor:["backgroundColor",null],color:["color","#fff"],stroke:["stroke","#fff"],strokeThickness:["strokeThickness",0],shadowOffsetX:["shadow.offsetX",0],shadowOffsetY:["shadow.offsetY",0],shadowColor:["shadow.color","#000"],shadowBlur:["shadow.blur",0],shadowStroke:["shadow.stroke",!1],shadowFill:["shadow.fill",!1],align:["align","left"],maxLines:["maxLines",0],fixedWidth:["fixedWidth",0],fixedHeight:["fixedHeight",0],resolution:["resolution",0],rtl:["rtl",!1],testString:["testString","|Mqgy"],baselineX:["baselineX",1.2],baselineY:["baselineY",1.4],wordWrapWidth:["wordWrap.width",null],wordWrapCallback:["wordWrap.callback",null],wordWrapCallbackScope:["wordWrap.callbackScope",null],wordWrapUseAdvanced:["wordWrap.useAdvancedWrap",!1]},i=new h({initialize:function(l,s){this.parent=l,this.fontFamily,this.fontSize,this.fontStyle,this.backgroundColor,this.color,this.stroke,this.strokeThickness,this.shadowOffsetX,this.shadowOffsetY,this.shadowColor,this.shadowBlur,this.shadowStroke,this.shadowFill,this.align,this.maxLines,this.fixedWidth,this.fixedHeight,this.resolution,this.rtl,this.testString,this.baselineX,this.baselineY,this.wordWrapWidth,this.wordWrapCallback,this.wordWrapCallbackScope,this.wordWrapUseAdvanced,this._font,this.setStyle(s,!1,!0)},setStyle:function(n,l,s){l===void 0&&(l=!0),s===void 0&&(s=!1);for(var u in r){var d=s?r[u][1]:this[u];u==="wordWrapCallback"||u==="wordWrapCallbackScope"?this[u]=o(n,r[u][0],d):n&&u==="fontSize"&&typeof n.fontSize=="number"?this[u]=n.fontSize.toString()+"px":this[u]=g(n,r[u][0],d)}var c=o(n,"font",null);c!==null&&this.setFont(c,!1),this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim();var v=o(n,"fill",null);v!==null&&(this.color=v);var y=o(n,"metrics",!1);return y?this.metrics={ascent:o(y,"ascent",0),descent:o(y,"descent",0),fontSize:o(y,"fontSize",0)}:(l||!this.metrics)&&(this.metrics=a(this)),l?this.parent.updateText():this.parent},syncFont:function(n,l){l.font=this._font},syncStyle:function(n,l){l.textBaseline="alphabetic",l.fillStyle=this.color,l.strokeStyle=this.stroke,l.lineWidth=this.strokeThickness,l.lineCap="round",l.lineJoin="round"},syncShadow:function(n,l){l?(n.shadowOffsetX=this.shadowOffsetX,n.shadowOffsetY=this.shadowOffsetY,n.shadowColor=this.shadowColor,n.shadowBlur=this.shadowBlur):(n.shadowOffsetX=0,n.shadowOffsetY=0,n.shadowColor=0,n.shadowBlur=0)},update:function(n){return n&&(this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim(),this.metrics=a(this)),this.parent.updateText()},setFont:function(n,l){l===void 0&&(l=!0);var s=n,u="",d="";if(typeof n!="string")s=o(n,"fontFamily","Courier"),u=o(n,"fontSize","16px"),d=o(n,"fontStyle","");else{var c=n.split(" "),v=0;d=c.length>2?c[v++]:"",u=c[v++]||"16px",s=c[v++]||"Courier"}return(s!==this.fontFamily||u!==this.fontSize||d!==this.fontStyle)&&(this.fontFamily=s,this.fontSize=u,this.fontStyle=d,l&&this.update(!0)),this.parent},setFontFamily:function(n){return this.fontFamily!==n&&(this.fontFamily=n,this.update(!0)),this.parent},setFontStyle:function(n){return this.fontStyle!==n&&(this.fontStyle=n,this.update(!0)),this.parent},setFontSize:function(n){return typeof n=="number"&&(n=n.toString()+"px"),this.fontSize!==n&&(this.fontSize=n,this.update(!0)),this.parent},setTestString:function(n){return this.testString=n,this.update(!0)},setFixedSize:function(n,l){return this.fixedWidth=n,this.fixedHeight=l,n&&(this.parent.width=n),l&&(this.parent.height=l),this.update(!1)},setBackgroundColor:function(n){return this.backgroundColor=n,this.update(!1)},setFill:function(n){return this.color=n,this.update(!1)},setColor:function(n){return this.color=n,this.update(!1)},setResolution:function(n){return this.resolution=n,this.update(!1)},setStroke:function(n,l){return l===void 0&&(l=this.strokeThickness),n===void 0&&this.strokeThickness!==0?(this.strokeThickness=0,this.update(!0)):(this.stroke!==n||this.strokeThickness!==l)&&(this.stroke=n,this.strokeThickness=l,this.update(!0)),this.parent},setShadow:function(n,l,s,u,d,c){return n===void 0&&(n=0),l===void 0&&(l=0),s===void 0&&(s="#000"),u===void 0&&(u=0),d===void 0&&(d=!1),c===void 0&&(c=!0),this.shadowOffsetX=n,this.shadowOffsetY=l,this.shadowColor=s,this.shadowBlur=u,this.shadowStroke=d,this.shadowFill=c,this.update(!1)},setShadowOffset:function(n,l){return n===void 0&&(n=0),l===void 0&&(l=n),this.shadowOffsetX=n,this.shadowOffsetY=l,this.update(!1)},setShadowColor:function(n){return n===void 0&&(n="#000"),this.shadowColor=n,this.update(!1)},setShadowBlur:function(n){return n===void 0&&(n=0),this.shadowBlur=n,this.update(!1)},setShadowStroke:function(n){return this.shadowStroke=n,this.update(!1)},setShadowFill:function(n){return this.shadowFill=n,this.update(!1)},setWordWrapWidth:function(n,l){return l===void 0&&(l=!1),this.wordWrapWidth=n,this.wordWrapUseAdvanced=l,this.update(!1)},setWordWrapCallback:function(n,l){return l===void 0&&(l=null),this.wordWrapCallback=n,this.wordWrapCallbackScope=l,this.update(!1)},setAlign:function(n){return n===void 0&&(n="left"),this.align=n,this.update(!1)},setMaxLines:function(n){return n===void 0&&(n=0),this.maxLines=n,this.update(!1)},getTextMetrics:function(){var n=this.metrics;return{ascent:n.ascent,descent:n.descent,fontSize:n.fontSize}},toJSON:function(){var n={};for(var l in r)n[l]=this[l];return n.metrics=this.getTextMetrics(),n},destroy:function(){this.parent=void 0}});f.exports=i},34397:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(70554),g=function(o,a,r,i){if(!(a.width===0||a.height===0)){r.addToRenderList(a);var n=a.frame,l=n.width,s=n.height,u=h.getTintAppendFloatAlpha,d=o.pipelines.set(a.pipeline,a),c=d.setTexture2D(n.glTexture,a);d.batchTexture(a,n.glTexture,l,s,a.x,a.y,l/a.style.resolution,s/a.style.resolution,a.scaleX,a.scaleY,a.rotation,a.flipX,a.flipY,a.scrollFactorX,a.scrollFactorY,a.displayOriginX,a.displayOriginY,0,0,l,s,u(a.tintTopLeft,r.alpha*a._alphaTL),u(a.tintTopRight,r.alpha*a._alphaTR),u(a.tintBottomLeft,r.alpha*a._alphaBL),u(a.tintBottomRight,r.alpha*a._alphaBR),a.tintFill,0,0,r,i,!1,c)}};f.exports=g},20839:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(27919),g=t(83419),o=t(31401),a=t(95643),r=t(98439),i=t(68703),n=t(56295),l=t(45650),s=t(26099),u=8,d=new g({Extends:a,Mixins:[o.Alpha,o.BlendMode,o.ComputedSize,o.Crop,o.Depth,o.Flip,o.GetBounds,o.Mask,o.Origin,o.Pipeline,o.PostPipeline,o.ScrollFactor,o.Tint,o.Transform,o.Visible,n],initialize:function(v,y,x,S,E,A,R){var w=v.sys.renderer;a.call(this,v,"TileSprite");var I=v.sys.textures.get(A),O=I.get(R);O.source.compressionAlgorithm&&(console.warn("TileSprite cannot use compressed texture"),I=v.sys.textures.get("__MISSING"),O=I.get()),I.type==="DynamicTexture"&&(console.warn("TileSprite cannot use Dynamic Texture"),I=v.sys.textures.get("__MISSING"),O=I.get()),!S||!E?(S=S||O.width,E=E||O.height):(S=Math.floor(S),E=Math.floor(E)),this._tilePosition=new s,this._tileScale=new s(1,1),this.dirty=!1,this.renderer=w,this.canvas=h.create(this,S,E),this.context=this.canvas.getContext("2d",{willReadFrequently:!1}),this.displayTexture=I,this.displayFrame=O,this._crop=this.resetCropObject(),this._textureKey=l(),this.texture=v.sys.textures.addCanvas(this._textureKey,this.canvas),this.frame=this.texture.get(),this.potWidth=r(O.width),this.potHeight=r(O.height),this.fillCanvas=h.create2D(this,this.potWidth,this.potHeight),this.fillContext=this.fillCanvas.getContext("2d",{willReadFrequently:!1}),this.fillPattern=null,this.setPosition(y,x),this.setSize(S,E),this.setFrame(R),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},setTexture:function(c,v){return this.displayTexture=this.scene.sys.textures.get(c),this.setFrame(v)},setFrame:function(c){var v=this.displayTexture.get(c);return this.potWidth=r(v.width),this.potHeight=r(v.height),this.canvas.width=0,!v.cutWidth||!v.cutHeight?this.renderFlags&=-9:this.renderFlags|=u,this.displayFrame=v,this.dirty=!0,this.updateTileTexture(),this},setTilePosition:function(c,v){return c!==void 0&&(this.tilePositionX=c),v!==void 0&&(this.tilePositionY=v),this},setTileScale:function(c,v){return c===void 0&&(c=this.tileScaleX),v===void 0&&(v=c),this.tileScaleX=c,this.tileScaleY=v,this},updateTileTexture:function(){if(!(!this.dirty||!this.renderer)){var c=this.displayFrame;if(c.source.isRenderTexture||c.source.isGLTexture){console.warn("TileSprites can only use Image or Canvas based textures"),this.dirty=!1;return}var v=this.fillContext,y=this.fillCanvas,x=this.potWidth,S=this.potHeight;(!this.renderer||!this.renderer.gl)&&(x=c.cutWidth,S=c.cutHeight),v.clearRect(0,0,x,S),y.width=x,y.height=S,v.drawImage(c.source.image,c.cutX,c.cutY,c.cutWidth,c.cutHeight,0,0,x,S),this.renderer&&this.renderer.gl?this.fillPattern=this.renderer.canvasToTexture(y,this.fillPattern):this.fillPattern=v.createPattern(y,"repeat"),this.updateCanvas(),this.dirty=!1}},updateCanvas:function(){var c=this.canvas;if((c.width!==this.width||c.height!==this.height)&&(c.width=this.width,c.height=this.height,this.frame.setSize(this.width,this.height),this.updateDisplayOrigin(),this.dirty=!0),!this.dirty||this.renderer&&this.renderer.gl){this.dirty=!1;return}var v=this.context;this.scene.sys.game.config.antialias||i.disable(v);var y=this._tileScale.x,x=this._tileScale.y,S=this._tilePosition.x,E=this._tilePosition.y;v.clearRect(0,0,this.width,this.height),v.save(),v.scale(y,x),v.translate(-S,-E),v.fillStyle=this.fillPattern,v.fillRect(S,E,this.width/y,this.height/x),v.restore(),this.dirty=!1},preDestroy:function(){this.renderer&&this.renderer.gl&&this.renderer.deleteTexture(this.fillPattern),h.remove(this.canvas),h.remove(this.fillCanvas),this.fillPattern=null,this.fillContext=null,this.fillCanvas=null,this.displayTexture=null,this.displayFrame=null;var c=this.texture;c&&c.destroy(),this.renderer=null},tilePositionX:{get:function(){return this._tilePosition.x},set:function(c){this._tilePosition.x=c,this.dirty=!0}},tilePositionY:{get:function(){return this._tilePosition.y},set:function(c){this._tilePosition.y=c,this.dirty=!0}},tileScaleX:{get:function(){return this._tileScale.x},set:function(c){this._tileScale.x=c,this.dirty=!0}},tileScaleY:{get:function(){return this._tileScale.y},set:function(c){this._tileScale.y=c,this.dirty=!0}}});f.exports=d},46992:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h,g,o){h.updateCanvas(),g.addToRenderList(h),t.batchSprite(h,h.frame,g,o)};f.exports=C},14167:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25305),g=t(44603),o=t(23568),a=t(20839);g.register("tileSprite",function(r,i){r===void 0&&(r={});var n=o(r,"x",0),l=o(r,"y",0),s=o(r,"width",512),u=o(r,"height",512),d=o(r,"key",""),c=o(r,"frame",""),v=new a(this.scene,n,l,s,u,d,c);return i!==void 0&&(r.add=i),h(this.scene,v,r),v})},91681:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(20839),g=t(39429);g.register("tileSprite",function(o,a,r,i,n,l){return this.displayList.add(new h(this.scene,o,a,r,i,n,l))})},56295:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),g=h,o=h;g=t(18553),o=t(46992),f.exports={renderWebGL:g,renderCanvas:o}},18553:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(70554),g=function(o,a,r,i){a.updateCanvas();var n=a.width,l=a.height;if(!(n===0||l===0)){r.addToRenderList(a);var s=h.getTintAppendFloatAlpha,u=o.pipelines.set(a.pipeline,a),d=u.setTexture2D(a.fillPattern,a);u.batchTexture(a,a.fillPattern,a.displayFrame.width*a.tileScaleX,a.displayFrame.height*a.tileScaleY,a.x,a.y,n,l,a.scaleX,a.scaleY,a.rotation,a.flipX,a.flipY,a.scrollFactorX,a.scrollFactorY,a.originX*n,a.originY*l,0,0,n,l,s(a.tintTopLeft,r.alpha*a._alphaTL),s(a.tintTopRight,r.alpha*a._alphaTR),s(a.tintBottomLeft,r.alpha*a._alphaBL),s(a.tintBottomRight,r.alpha*a._alphaBR),a.tintFill,a.tilePositionX%a.displayFrame.width/a.displayFrame.width,a.tilePositionY%a.displayFrame.height/a.displayFrame.height,r,i,!1,d)}};f.exports=g},18471:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(45319),g=t(83419),o=t(31401),a=t(51708),r=t(8443),i=t(95643),n=t(36383),l=t(14463),s=t(45650),u=t(10247),d=new g({Extends:i,Mixins:[o.Alpha,o.BlendMode,o.ComputedSize,o.Depth,o.Flip,o.GetBounds,o.Mask,o.Origin,o.Pipeline,o.PostPipeline,o.ScrollFactor,o.TextureCrop,o.Tint,o.Transform,o.Visible,u],initialize:function(v,y,x,S){i.call(this,v,"Video"),this.video,this.videoTexture,this.videoTextureSource,this.snapshotTexture,this.flipY=!1,this._key=s(),this.touchLocked=!1,this.playWhenUnlocked=!1,this.frameReady=!1,this.isStalled=!1,this.failedPlayAttempts=0,this.metadata,this.retry=0,this.retryInterval=500,this._systemMuted=!1,this._codeMuted=!1,this._systemPaused=!1,this._codePaused=!1,this._callbacks={ended:this.completeHandler.bind(this),legacy:this.legacyPlayHandler.bind(this),playing:this.playingHandler.bind(this),seeked:this.seekedHandler.bind(this),seeking:this.seekingHandler.bind(this),stalled:this.stalledHandler.bind(this),suspend:this.stalledHandler.bind(this),waiting:this.stalledHandler.bind(this)},this._loadCallbackHandler=this.loadErrorHandler.bind(this),this._metadataCallbackHandler=this.metadataHandler.bind(this),this._crop=this.resetCropObject(),this.markers={},this._markerIn=0,this._markerOut=0,this._playingMarker=!1,this._lastUpdate=0,this.cacheKey="",this.isSeeking=!1,this._playCalled=!1,this._getFrame=!1,this._rfvCallbackId=0;var E=v.sys.game;this._device=E.device.video,this.setPosition(y,x),this.setSize(256,256),this.initPipeline(),this.initPostPipeline(!0),E.events.on(r.PAUSE,this.globalPause,this),E.events.on(r.RESUME,this.globalResume,this);var A=v.sys.sound;A&&A.on(l.GLOBAL_MUTE,this.globalMute,this),S&&this.load(S)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},load:function(c){var v=this.scene.sys.cache.video.get(c);return v?(this.cacheKey=c,this.loadHandler(v.url,v.noAudio,v.crossOrigin)):console.warn("No video in cache for key: "+c),this},changeSource:function(c,v,y,x,S){v===void 0&&(v=!0),y===void 0&&(y=!1),this.cacheKey!==c&&(this.load(c),v&&this.play(y,x,S))},getVideoKey:function(){return this.cacheKey},loadURL:function(c,v,y){v===void 0&&(v=!1);var x=this._device.getVideoURL(c);return x?(this.cacheKey="",this.loadHandler(x.url,v,y)):console.warn("No supported video format found for "+c),this},loadMediaStream:function(c,v,y){return this.loadHandler(null,v,y,c)},loadHandler:function(c,v,y,x){v||(v=!1);var S=this.video;if(S?(this.removeLoadEventHandlers(),this.stop()):(S=document.createElement("video"),S.controls=!1,S.setAttribute("playsinline","playsinline"),S.setAttribute("preload","auto"),S.setAttribute("disablePictureInPicture","true")),v?(S.muted=!0,S.defaultMuted=!0,S.setAttribute("autoplay","autoplay")):(S.muted=!1,S.defaultMuted=!1,S.removeAttribute("autoplay")),y?S.setAttribute("crossorigin",y):S.removeAttribute("crossorigin"),x)if("srcObject"in S)try{S.srcObject=x}catch(A){if(A.name!=="TypeError")throw A;S.src=URL.createObjectURL(x)}else S.src=URL.createObjectURL(x);else S.src=c;this.retry=0,this.video=S,this._playCalled=!1,S.load(),this.addLoadEventHandlers();var E=this.scene.sys.textures.get(this._key);return this.setTexture(E),this},requestVideoFrame:function(c,v){var y=this.video;if(y){var x=v.width,S=v.height,E=this.videoTexture,A=this.videoTextureSource,R=!E||A.source!==y;R?(this._codePaused=y.paused,this._codeMuted=y.muted,E?(A.source=y,A.width=x,A.height=S,E.get().setSize(x,S)):(E=this.scene.sys.textures.create(this._key,y,x,S),E.add("__BASE",0,0,0,x,S),this.setTexture(E),this.videoTexture=E,this.videoTextureSource=E.source[0],this.videoTextureSource.setFlipY(this.flipY),this.emit(a.VIDEO_TEXTURE,this,E)),this.setSizeToFrame(),this.updateDisplayOrigin()):A.update(),this.isStalled=!1,this.metadata=v;var w=v.mediaTime;R&&(this._lastUpdate=w,this.emit(a.VIDEO_CREATED,this,x,S),this.frameReady||(this.frameReady=!0,this.emit(a.VIDEO_PLAY,this))),this._playingMarker?w>=this._markerOut&&(y.loop?(y.currentTime=this._markerIn,this.emit(a.VIDEO_LOOP,this)):(this.stop(!1),this.emit(a.VIDEO_COMPLETE,this))):w<this._lastUpdate&&this.emit(a.VIDEO_LOOP,this),this._lastUpdate=w,this._getFrame?(this.removeEventHandlers(),y.pause(),this._getFrame=!1):this._rfvCallbackId=this.video.requestVideoFrameCallback(this.requestVideoFrame.bind(this))}},play:function(c,v,y){v===void 0&&(v=-1),y===void 0&&(y=n.MAX_SAFE_INTEGER);var x=this.video;return!x||this.isPlaying()?(x||console.warn("Video not loaded"),this):(c===void 0&&(c=x.loop),x.loop=c,this._markerIn=v,this._markerOut=y,this._playingMarker=v>-1&&y>v&&y<n.MAX_SAFE_INTEGER,this._playCalled||(this._getFrame=!1,this._rfvCallbackId=x.requestVideoFrameCallback(this.requestVideoFrame.bind(this)),this._playCalled=!0,this.createPlayPromise()),this)},getFirstFrame:function(){var c=this.video;return!c||this.isPlaying()?(c||console.warn("Video not loaded"),this):(this._playCalled||(this._getFrame=!0,this._rfvCallbackId=c.requestVideoFrameCallback(this.requestVideoFrame.bind(this)),this.createPlayPromise()),this)},addLoadEventHandlers:function(){var c=this.video;c&&(c.addEventListener("error",this._loadCallbackHandler),c.addEventListener("abort",this._loadCallbackHandler),c.addEventListener("loadedmetadata",this._metadataCallbackHandler))},removeLoadEventHandlers:function(){var c=this.video;c&&(c.removeEventListener("error",this._loadCallbackHandler),c.removeEventListener("abort",this._loadCallbackHandler))},addEventHandlers:function(){var c=this.video;if(c){var v=this._callbacks;for(var y in v)c.addEventListener(y,v[y])}},removeEventHandlers:function(){var c=this.video;if(c){var v=this._callbacks;for(var y in v)c.removeEventListener(y,v[y])}},createPlayPromise:function(c){c===void 0&&(c=!0);var v=this.video,y=v.play();if(y!==void 0){var x=this.playSuccess.bind(this),S=this.playError.bind(this);if(!c){var E=this;S=function(){E.failedPlayAttempts++}}y.then(x).catch(S)}else v.addEventListener("playing",this._callbacks.legacy),c||this.failedPlayAttempts++},addMarker:function(c,v,y){return!isNaN(v)&&v>=0&&!isNaN(y)&&y>v&&(this.markers[c]=[v,y]),this},playMarker:function(c,v){var y=this.markers[c];return y&&this.play(v,y[0],y[1]),this},removeMarker:function(c){return delete this.markers[c],this},snapshot:function(c,v){return c===void 0&&(c=this.width),v===void 0&&(v=this.height),this.snapshotArea(0,0,this.width,this.height,c,v)},snapshotArea:function(c,v,y,x,S,E){c===void 0&&(c=0),v===void 0&&(v=0),y===void 0&&(y=this.width),x===void 0&&(x=this.height),S===void 0&&(S=y),E===void 0&&(E=x);var A=this.video,R=this.snapshotTexture;return R?(R.setSize(S,E),A&&R.context.drawImage(A,c,v,y,x,0,0,S,E)):(R=this.scene.sys.textures.createCanvas(s(),S,E),this.snapshotTexture=R,A&&R.context.drawImage(A,c,v,y,x,0,0,S,E)),R.update()},saveSnapshotTexture:function(c){return this.snapshotTexture?this.scene.sys.textures.renameTexture(this.snapshotTexture.key,c):this.snapshotTexture=this.scene.sys.textures.createCanvas(c,this.width,this.height),this.snapshotTexture},playSuccess:function(){if(this._playCalled){this.addEventHandlers(),this._codePaused=!1,this.touchLocked&&(this.touchLocked=!1,this.emit(a.VIDEO_UNLOCKED,this));var c=this.scene.sys.sound;c&&c.mute&&this.setMute(!0),this._markerIn>-1&&(this.video.currentTime=this._markerIn)}},playError:function(c){var v=c.name;v==="NotAllowedError"?(this.touchLocked=!0,this.playWhenUnlocked=!0,this.failedPlayAttempts=1,this.emit(a.VIDEO_LOCKED,this)):v==="NotSupportedError"?(this.stop(!1),this.emit(a.VIDEO_UNSUPPORTED,this,c)):(this.stop(!1),this.emit(a.VIDEO_ERROR,this,c))},legacyPlayHandler:function(){var c=this.video;c&&(this.playSuccess(),c.removeEventListener("playing",this._callbacks.legacy))},playingHandler:function(){this.isStalled=!1,this.emit(a.VIDEO_PLAYING,this)},loadErrorHandler:function(c){this.stop(!1),this.emit(a.VIDEO_ERROR,this,c)},metadataHandler:function(c){this.emit(a.VIDEO_METADATA,this,c)},setSizeToFrame:function(c){c||(c=this.frame),this.width=c.realWidth,this.height=c.realHeight,this.scaleX!==1&&(this.scaleX=this.displayWidth/this.width),this.scaleY!==1&&(this.scaleY=this.displayHeight/this.height);var v=this.input;return v&&!v.customHitArea&&(v.hitArea.width=this.width,v.hitArea.height=this.height),this},stalledHandler:function(c){this.isStalled=!0,this.emit(a.VIDEO_STALLED,this,c)},completeHandler:function(){this._playCalled=!1,this.emit(a.VIDEO_COMPLETE,this)},preUpdate:function(c,v){var y=this.video;!y||!this._playCalled||this.touchLocked&&this.playWhenUnlocked&&(this.retry+=v,this.retry>=this.retryInterval&&(this.createPlayPromise(!1),this.retry=0))},seekTo:function(c){var v=this.video;if(v){var y=v.duration;if(y!==1/0&&!isNaN(y)){var x=y*c;this.setCurrentTime(x)}}return this},getCurrentTime:function(){return this.video?this.video.currentTime:0},setCurrentTime:function(c){var v=this.video;if(v){if(typeof c=="string"){var y=c[0],x=parseFloat(c.substr(1));y==="+"?c=v.currentTime+x:y==="-"&&(c=v.currentTime-x)}v.currentTime=c}return this},seekingHandler:function(){this.isSeeking=!0,this.emit(a.VIDEO_SEEKING,this)},seekedHandler:function(){this.isSeeking=!1,this.emit(a.VIDEO_SEEKED,this)},getProgress:function(){var c=this.video;if(c){var v=c.duration;if(v!==1/0&&!isNaN(v))return c.currentTime/v}return-1},getDuration:function(){return this.video?this.video.duration:0},setMute:function(c){c===void 0&&(c=!0),this._codeMuted=c;var v=this.video;return v&&(v.muted=this._systemMuted?!0:c),this},isMuted:function(){return this._codeMuted},globalMute:function(c,v){this._systemMuted=v;var y=this.video;y&&(y.muted=this._codeMuted?!0:v)},globalPause:function(){this._systemPaused=!0,this.video&&!this.video.ended&&(this.removeEventHandlers(),this.video.pause())},globalResume:function(){this._systemPaused=!1,this.video&&!this._codePaused&&!this.video.ended&&this.createPlayPromise()},setPaused:function(c){c===void 0&&(c=!0);var v=this.video;return this._codePaused=c,v&&!v.ended&&(c?v.paused||(this.removeEventHandlers(),v.pause()):c||(this._playCalled?v.paused&&!this._systemPaused&&this.createPlayPromise():this.play())),this},pause:function(){return this.setPaused(!0)},resume:function(){return this.setPaused(!1)},getVolume:function(){return this.video?this.video.volume:1},setVolume:function(c){return c===void 0&&(c=1),this.video&&(this.video.volume=h(c,0,1)),this},getPlaybackRate:function(){return this.video?this.video.playbackRate:1},setPlaybackRate:function(c){return this.video&&(this.video.playbackRate=c),this},getLoop:function(){return this.video?this.video.loop:!1},setLoop:function(c){return c===void 0&&(c=!0),this.video&&(this.video.loop=c),this},isPlaying:function(){return this.video?!(this.video.paused||this.video.ended):!1},isPaused:function(){return this.video&&this._playCalled&&this.video.paused||this._codePaused||this._systemPaused},saveTexture:function(c,v){return v===void 0&&(v=!1),this.videoTexture&&(this.scene.sys.textures.renameTexture(this._key,c),this.videoTextureSource.setFlipY(v)),this._key=c,this.flipY=v,!!this.videoTexture},stop:function(c){c===void 0&&(c=!0);var v=this.video;return v&&(this.removeEventHandlers(),v.cancelVideoFrameCallback(this._rfvCallbackId),v.pause()),this.retry=0,this._playCalled=!1,c&&this.emit(a.VIDEO_STOP,this),this},removeVideoElement:function(){var c=this.video;if(c){for(c.parentNode&&c.parentNode.removeChild(c);c.hasChildNodes();)c.removeChild(c.firstChild);c.removeAttribute("autoplay"),c.removeAttribute("src"),this.video=null}},preDestroy:function(){this.stop(!1),this.removeLoadEventHandlers(),this.removeVideoElement();var c=this.scene.sys.game.events;c.off(r.PAUSE,this.globalPause,this),c.off(r.RESUME,this.globalResume,this);var v=this.scene.sys.sound;v&&v.off(l.GLOBAL_MUTE,this.globalMute,this)}});f.exports=d},58352:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h,g,o){h.videoTexture&&(g.addToRenderList(h),t.batchSprite(h,h.frame,g,o))};f.exports=C},11511:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25305),g=t(44603),o=t(23568),a=t(18471);g.register("video",function(r,i){r===void 0&&(r={});var n=o(r,"key",null),l=new a(this.scene,0,0,n);return i!==void 0&&(r.add=i),h(this.scene,l,r),l})},89025:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(18471),g=t(39429);g.register("video",function(o,a,r){return this.displayList.add(new h(this.scene,o,a,r))})},10247:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),g=h,o=h;g=t(29849),o=t(58352),f.exports={renderWebGL:g,renderCanvas:o}},29849:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h,g,o){h.videoTexture&&(g.addToRenderList(h),h.pipeline.batchSprite(h,g,o))};f.exports=C},41481:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(10312),g=t(96503),o=t(87902),a=t(83419),r=t(31401),i=t(95643),n=t(87841),l=t(37303),s=new a({Extends:i,Mixins:[r.Depth,r.GetBounds,r.Origin,r.Transform,r.ScrollFactor,r.Visible],initialize:function(d,c,v,y,x){y===void 0&&(y=1),x===void 0&&(x=y),i.call(this,d,"Zone"),this.setPosition(c,v),this.width=y,this.height=x,this.blendMode=h.NORMAL,this.updateDisplayOrigin()},displayWidth:{get:function(){return this.scaleX*this.width},set:function(u){this.scaleX=u/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(u){this.scaleY=u/this.height}},setSize:function(u,d,c){c===void 0&&(c=!0),this.width=u,this.height=d,this.updateDisplayOrigin();var v=this.input;return c&&v&&!v.customHitArea&&(v.hitArea.width=u,v.hitArea.height=d),this},setDisplaySize:function(u,d){return this.displayWidth=u,this.displayHeight=d,this},setCircleDropZone:function(u){return this.setDropZone(new g(0,0,u),o)},setRectangleDropZone:function(u,d){return this.setDropZone(new n(0,0,u,d),l)},setDropZone:function(u,d){return this.input||this.setInteractive(u,d,!0),this},setAlpha:function(){},setBlendMode:function(){},renderCanvas:function(u,d,c){c.addToRenderList(d)},renderWebGL:function(u,d,c){c.addToRenderList(d)}});f.exports=s},95261:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(44603),g=t(23568),o=t(41481);h.register("zone",function(a){var r=g(a,"x",0),i=g(a,"y",0),n=g(a,"width",1),l=g(a,"height",n);return new o(this.scene,r,i,n,l)})},84175:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(41481),g=t(39429);g.register("zone",function(o,a,r,i){return this.displayList.add(new h(this.scene,o,a,r,i))})},95166:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t){return t.radius>0?Math.PI*t.radius*t.radius:0};f.exports=C},96503:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(87902),o=t(26241),a=t(79124),r=t(23777),i=t(28176),n=new h({initialize:function(s,u,d){s===void 0&&(s=0),u===void 0&&(u=0),d===void 0&&(d=0),this.type=r.CIRCLE,this.x=s,this.y=u,this._radius=d,this._diameter=d*2},contains:function(l,s){return g(this,l,s)},getPoint:function(l,s){return o(this,l,s)},getPoints:function(l,s,u){return a(this,l,s,u)},getRandomPoint:function(l){return i(this,l)},setTo:function(l,s,u){return this.x=l,this.y=s,this._radius=u,this._diameter=u*2,this},setEmpty:function(){return this._radius=0,this._diameter=0,this},setPosition:function(l,s){return s===void 0&&(s=l),this.x=l,this.y=s,this},isEmpty:function(){return this._radius<=0},radius:{get:function(){return this._radius},set:function(l){this._radius=l,this._diameter=l*2}},diameter:{get:function(){return this._diameter},set:function(l){this._diameter=l,this._radius=l*.5}},left:{get:function(){return this.x-this._radius},set:function(l){this.x=l+this._radius}},right:{get:function(){return this.x+this._radius},set:function(l){this.x=l-this._radius}},top:{get:function(){return this.y-this._radius},set:function(l){this.y=l+this._radius}},bottom:{get:function(){return this.y+this._radius},set:function(l){this.y=l-this._radius}}});f.exports=n},71562:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t){return 2*(Math.PI*t.radius)};f.exports=C},92110:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),g=function(o,a,r){return r===void 0&&(r=new h),r.x=o.x+o.radius*Math.cos(a),r.y=o.y+o.radius*Math.sin(a),r};f.exports=g},42250:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(96503),g=function(o){return new h(o.x,o.y,o.radius)};f.exports=g},87902:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h,g){if(t.radius>0&&h>=t.left&&h<=t.right&&g>=t.top&&g<=t.bottom){var o=(t.x-h)*(t.x-h),a=(t.y-g)*(t.y-g);return o+a<=t.radius*t.radius}else return!1};f.exports=C},5698:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87902),g=function(o,a){return h(o,a.x,a.y)};f.exports=g},70588:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87902),g=function(o,a){return h(o,a.x,a.y)&&h(o,a.right,a.y)&&h(o,a.x,a.bottom)&&h(o,a.right,a.bottom)};f.exports=g},26394:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h){return h.setTo(t.x,t.y,t.radius)};f.exports=C},76278:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h){return t.x===h.x&&t.y===h.y&&t.radius===h.radius};f.exports=C},2074:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87841),g=function(o,a){return a===void 0&&(a=new h),a.x=o.left,a.y=o.top,a.width=o.diameter,a.height=o.diameter,a};f.exports=g},26241:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(92110),g=t(62945),o=t(36383),a=t(2141),r=function(i,n,l){l===void 0&&(l=new a);var s=g(n,0,o.PI2);return h(i,s,l)};f.exports=r},79124:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(71562),g=t(92110),o=t(62945),a=t(36383),r=function(i,n,l,s){s===void 0&&(s=[]),!n&&l>0&&(n=h(i)/l);for(var u=0;u<n;u++){var d=o(u/n,0,a.PI2);s.push(g(i,d))}return s};f.exports=r},50884:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h,g){return t.x+=h,t.y+=g,t};f.exports=C},39212:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h){return t.x+=h.x,t.y+=h.y,t};f.exports=C},28176:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),g=function(o,a){a===void 0&&(a=new h);var r=2*Math.PI*Math.random(),i=Math.random()+Math.random(),n=i>1?2-i:i,l=n*Math.cos(r),s=n*Math.sin(r);return a.x=o.x+l*o.radius,a.y=o.y+s*o.radius,a};f.exports=g},88911:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(96503);h.Area=t(95166),h.Circumference=t(71562),h.CircumferencePoint=t(92110),h.Clone=t(42250),h.Contains=t(87902),h.ContainsPoint=t(5698),h.ContainsRect=t(70588),h.CopyFrom=t(26394),h.Equals=t(76278),h.GetBounds=t(2074),h.GetPoint=t(26241),h.GetPoints=t(79124),h.Offset=t(50884),h.OffsetPoint=t(39212),h.Random=t(28176),f.exports=h},23777:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={CIRCLE:0,ELLIPSE:1,LINE:2,POINT:3,POLYGON:4,RECTANGLE:5,TRIANGLE:6};f.exports=C},78874:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t){return t.isEmpty()?0:t.getMajorRadius()*t.getMinorRadius()*Math.PI};f.exports=C},92990:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t){var h=t.width/2,g=t.height/2,o=Math.pow(h-g,2)/Math.pow(h+g,2);return Math.PI*(h+g)*(1+3*o/(10+Math.sqrt(4-3*o)))};f.exports=C},79522:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),g=function(o,a,r){r===void 0&&(r=new h);var i=o.width/2,n=o.height/2;return r.x=o.x+i*Math.cos(a),r.y=o.y+n*Math.sin(a),r};f.exports=g},58102:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(8497),g=function(o){return new h(o.x,o.y,o.width,o.height)};f.exports=g},81154:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h,g){if(t.width<=0||t.height<=0)return!1;var o=(h-t.x)/t.width,a=(g-t.y)/t.height;return o*=o,a*=a,o+a<.25};f.exports=C},46662:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(81154),g=function(o,a){return h(o,a.x,a.y)};f.exports=g},1632:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(81154),g=function(o,a){return h(o,a.x,a.y)&&h(o,a.right,a.y)&&h(o,a.x,a.bottom)&&h(o,a.right,a.bottom)};f.exports=g},65534:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h){return h.setTo(t.x,t.y,t.width,t.height)};f.exports=C},8497:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(81154),o=t(90549),a=t(48320),r=t(23777),i=t(24820),n=new h({initialize:function(s,u,d,c){s===void 0&&(s=0),u===void 0&&(u=0),d===void 0&&(d=0),c===void 0&&(c=0),this.type=r.ELLIPSE,this.x=s,this.y=u,this.width=d,this.height=c},contains:function(l,s){return g(this,l,s)},getPoint:function(l,s){return o(this,l,s)},getPoints:function(l,s,u){return a(this,l,s,u)},getRandomPoint:function(l){return i(this,l)},setTo:function(l,s,u,d){return this.x=l,this.y=s,this.width=u,this.height=d,this},setEmpty:function(){return this.width=0,this.height=0,this},setPosition:function(l,s){return s===void 0&&(s=l),this.x=l,this.y=s,this},setSize:function(l,s){return s===void 0&&(s=l),this.width=l,this.height=s,this},isEmpty:function(){return this.width<=0||this.height<=0},getMinorRadius:function(){return Math.min(this.width,this.height)/2},getMajorRadius:function(){return Math.max(this.width,this.height)/2},left:{get:function(){return this.x-this.width/2},set:function(l){this.x=l+this.width/2}},right:{get:function(){return this.x+this.width/2},set:function(l){this.x=l-this.width/2}},top:{get:function(){return this.y-this.height/2},set:function(l){this.y=l+this.height/2}},bottom:{get:function(){return this.y+this.height/2},set:function(l){this.y=l-this.height/2}}});f.exports=n},36146:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h){return t.x===h.x&&t.y===h.y&&t.width===h.width&&t.height===h.height};f.exports=C},23694:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87841),g=function(o,a){return a===void 0&&(a=new h),a.x=o.left,a.y=o.top,a.width=o.width,a.height=o.height,a};f.exports=g},90549:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(79522),g=t(62945),o=t(36383),a=t(2141),r=function(i,n,l){l===void 0&&(l=new a);var s=g(n,0,o.PI2);return h(i,s,l)};f.exports=r},48320:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(92990),g=t(79522),o=t(62945),a=t(36383),r=function(i,n,l,s){s===void 0&&(s=[]),!n&&l>0&&(n=h(i)/l);for(var u=0;u<n;u++){var d=o(u/n,0,a.PI2);s.push(g(i,d))}return s};f.exports=r},73424:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h,g){return t.x+=h,t.y+=g,t};f.exports=C},44808:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h){return t.x+=h.x,t.y+=h.y,t};f.exports=C},24820:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),g=function(o,a){a===void 0&&(a=new h);var r=Math.random()*Math.PI*2,i=Math.sqrt(Math.random());return a.x=o.x+i*Math.cos(r)*o.width/2,a.y=o.y+i*Math.sin(r)*o.height/2,a};f.exports=g},49203:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(8497);h.Area=t(78874),h.Circumference=t(92990),h.CircumferencePoint=t(79522),h.Clone=t(58102),h.Contains=t(81154),h.ContainsPoint=t(46662),h.ContainsRect=t(1632),h.CopyFrom=t(65534),h.Equals=t(36146),h.GetBounds=t(23694),h.GetPoint=t(90549),h.GetPoints=t(48320),h.Offset=t(73424),h.OffsetPoint=t(44808),h.Random=t(24820),f.exports=h},55738:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(23777),g=t(79291),o={Circle:t(88911),Ellipse:t(49203),Intersects:t(91865),Line:t(2529),Mesh:t(73090),Point:t(43711),Polygon:t(58423),Rectangle:t(93232),Triangle:t(84435)};o=g(!1,o,h),f.exports=o},2044:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(20339),g=function(o,a){return h(o.x,o.y,a.x,a.y)<=o.radius+a.radius};f.exports=g},81491:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h){var g=h.width/2,o=h.height/2,a=Math.abs(t.x-h.x-g),r=Math.abs(t.y-h.y-o),i=g+t.radius,n=o+t.radius;if(a>i||r>n)return!1;if(a<=g||r<=o)return!0;var l=a-g,s=r-o,u=l*l,d=s*s,c=t.radius*t.radius;return u+d<=c};f.exports=C},63376:(f,C,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),g=t(2044),o=function(a,r,i){if(i===void 0&&(i=[]),g(a,r)){var n=a.x,l=a.y,s=a.radius,u=r.x,d=r.y,c=r.radius,v,y,x,S,E;if(l===d)E=(c*c-s*s-u*u+n*n)/(2*(n-u)),v=1,y=-2*d,x=u*u+E*E-2*u*E+d*d-c*c,S=y*y-4*v*x,S===0?i.push(new h(E,-y/(2*v))):S>0&&(i.push(new h(E,(-y+Math.sqrt(S))/(2*v))),i.push(new h(E,(-y-Math.sqrt(S))/(2*v))));else{var A=(n-u)/(l-d),R=(c*c-s*s-u*u+n*n-d*d+l*l)/(2*(l-d));v=A*A+1,y=2*l*A-2*R*A-2*n,x=n*n+l*l+R*R-s*s-2*l*R,S=y*y-4*v*x,S===0?(E=-y/(2*v),i.push(new h(E,R-E*A))):S>0&&(E=(-y+Math.sqrt(S))/(2*v),i.push(new h(E,R-E*A)),E=(-y-Math.sqrt(S))/(2*v),i.push(new h(E,R-E*A)))}}return i};f.exports=o},97439:(f,C,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(4042),g=t(81491),o=function(a,r,i){if(i===void 0&&(i=[]),g(a,r)){var n=r.getLineA(),l=r.getLineB(),s=r.getLineC(),u=r.getLineD();h(n,a,i),h(l,a,i),h(s,a,i),h(u,a,i)}return i};f.exports=o},4042:(f,C,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),g=t(80462),o=function(a,r,i){if(i===void 0&&(i=[]),g(a,r)){var n=a.x1,l=a.y1,s=a.x2,u=a.y2,d=r.x,c=r.y,v=r.radius,y=s-n,x=u-l,S=n-d,E=l-c,A=y*y+x*x,R=2*(y*S+x*E),w=S*S+E*E-v*v,I=R*R-4*A*w,O,F;if(I===0){var L=-R/(2*A);O=n+L*y,F=l+L*x,L>=0&&L<=1&&i.push(new h(O,F))}else if(I>0){var D=(-R-Math.sqrt(I))/(2*A);O=n+D*y,F=l+D*x,D>=0&&D<=1&&i.push(new h(O,F));var b=(-R+Math.sqrt(I))/(2*A);O=n+b*y,F=l+b*x,b>=0&&b<=1&&i.push(new h(O,F))}}return i};f.exports=o},36100:(f,C,t)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25836),g=function(o,a,r,i){r===void 0&&(r=!1);var n=o.x1,l=o.y1,s=o.x2,u=o.y2,d=a.x1,c=a.y1,v=a.x2,y=a.y2,x=s-n,S=u-l,E=v-d,A=y-c,R=x*A-S*E;if(R===0)return null;var w,I,O;if(r){if(w=(x*(c-l)+S*(n-d))/(E*S-A*x),x!==0)I=(d+E*w-n)/x;else if(S!==0)I=(c+A*w-l)/S;else return null;if(I<0||w<0||w>1)return null;O=I}else{if(w=((d-n)*A-(c-l)*E)/R,I=((l-c)*x-(n-d)*S)/R,w<0||w>1||I<0||I>1)return null;O=w}return i===void 0&&(i=new h),i.set(n+x*O,l+S*O,O)};f.exports=g},3073:(f,C,t)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(36100),g=t(23031),o=t(25836),a=new g,r=new o,i=function(n,l,s,u){s===void 0&&(s=!1),u===void 0&&(u=new o);var d=!1;u.set(),r.set();for(var c=l[l.length-1],v=0;v<l.length;v++){var y=l[v];a.setTo(c.x,c.y,y.x,y.y),c=y,h(n,a,s,r)&&(!d||r.z<u.z)&&(u.copy(r),d=!0)}return d?u:null};f.exports=i},56362:(f,C,t)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25836),g=t(61369),o=t(3073),a=new h,r=function(i,n,l,s){s===void 0&&(s=new g),Array.isArray(n)||(n=[n]);var u=!1;s.set(),a.set();for(var d=0;d<n.length;d++)o(i,n[d].points,l,a)&&(!u||a.z<s.z)&&(s.set(a.x,a.y,a.z,d),u=!0);return u?s:null};f.exports=r},60646:(f,C,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),g=t(76112),o=t(92773),a=function(r,i,n){if(n===void 0&&(n=[]),o(r,i))for(var l=i.getLineA(),s=i.getLineB(),u=i.getLineC(),d=i.getLineD(),c=[new h,new h,new h,new h],v=[g(l,r,c[0]),g(s,r,c[1]),g(u,r,c[2]),g(d,r,c[3])],y=0;y<4;y++)v[y]&&n.push(c[y]);return n};f.exports=a},71147:(f,C,t)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(61369),g=t(56362),o=t(23031),a=new o;function r(l,s,u,d,c){var v=Math.cos(l),y=Math.sin(l);a.setTo(s,u,s+v,u+y);var x=g(a,d,!0);x&&c.push(new h(x.x,x.y,l,x.w))}function i(l,s){return l.z-s.z}var n=function(l,s,u){Array.isArray(u)||(u=[u]);for(var d=[],c=[],v=0;v<u.length;v++)for(var y=u[v].points,x=0;x<y.length;x++){var S=Math.atan2(y[x].y-s,y[x].x-l);c.indexOf(S)===-1&&(r(S,l,s,u,d),r(S-1e-5,l,s,u,d),r(S+1e-5,l,s,u,d),c.push(S))}return d.sort(i)};f.exports=n},68389:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87841),g=t(59996),o=function(a,r,i){return i===void 0&&(i=new h),g(a,r)&&(i.x=Math.max(a.x,r.x),i.y=Math.max(a.y,r.y),i.width=Math.min(a.right,r.right)-i.x,i.height=Math.min(a.bottom,r.bottom)-i.y),i};f.exports=o},52784:(f,C,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(60646),g=t(59996),o=function(a,r,i){if(i===void 0&&(i=[]),g(a,r)){var n=a.getLineA(),l=a.getLineB(),s=a.getLineC(),u=a.getLineD();h(n,r,i),h(l,r,i),h(s,r,i),h(u,r,i)}return i};f.exports=o},26341:(f,C,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(89265),g=t(60646),o=function(a,r,i){if(i===void 0&&(i=[]),h(a,r)){var n=r.getLineA(),l=r.getLineB(),s=r.getLineC();g(n,a,i),g(l,a,i),g(s,a,i)}return i};f.exports=o},38720:(f,C,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(4042),g=t(67636),o=function(a,r,i){if(i===void 0&&(i=[]),g(a,r)){var n=a.getLineA(),l=a.getLineB(),s=a.getLineC();h(n,r,i),h(l,r,i),h(s,r,i)}return i};f.exports=o},13882:(f,C,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),g=t(2822),o=t(76112),a=function(r,i,n){if(n===void 0&&(n=[]),g(r,i))for(var l=r.getLineA(),s=r.getLineB(),u=r.getLineC(),d=[new h,new h,new h],c=[o(l,i,d[0]),o(s,i,d[1]),o(u,i,d[2])],v=0;v<3;v++)c[v]&&n.push(d[v]);return n};f.exports=a},75636:(f,C,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(82944),g=t(13882),o=function(a,r,i){if(i===void 0&&(i=[]),h(a,r)){var n=r.getLineA(),l=r.getLineB(),s=r.getLineC();g(a,n,i),g(a,l,i),g(a,s,i)}return i};f.exports=o},80462:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87902),g=t(2141),o=new g,a=function(r,i,n){if(n===void 0&&(n=o),h(i,r.x1,r.y1))return n.x=r.x1,n.y=r.y1,!0;if(h(i,r.x2,r.y2))return n.x=r.x2,n.y=r.y2,!0;var l=r.x2-r.x1,s=r.y2-r.y1,u=i.x-r.x1,d=i.y-r.y1,c=l*l+s*s,v=l,y=s;if(c>0){var x=(u*l+d*s)/c;v*=x,y*=x}n.x=r.x1+v,n.y=r.y1+y;var S=v*v+y*y;return S<=c&&v*l+y*s>=0&&h(i,n.x,n.y)};f.exports=a},76112:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h,g){var o=t.x1,a=t.y1,r=t.x2,i=t.y2,n=h.x1,l=h.y1,s=h.x2,u=h.y2;if(o===r&&a===i||n===s&&l===u)return!1;var d=(u-l)*(r-o)-(s-n)*(i-a);if(d===0)return!1;var c=((s-n)*(a-l)-(u-l)*(o-n))/d,v=((r-o)*(a-l)-(i-a)*(o-n))/d;return c<0||c>1||v<0||v>1?!1:(g&&(g.x=o+c*(r-o),g.y=a+c*(i-a)),!0)};f.exports=C},92773:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h){var g=t.x1,o=t.y1,a=t.x2,r=t.y2,i=h.x,n=h.y,l=h.right,s=h.bottom,u=0;if(g>=i&&g<=l&&o>=n&&o<=s||a>=i&&a<=l&&r>=n&&r<=s)return!0;if(g<i&&a>=i){if(u=o+(r-o)*(i-g)/(a-g),u>n&&u<=s)return!0}else if(g>l&&a<=l&&(u=o+(r-o)*(l-g)/(a-g),u>=n&&u<=s))return!0;if(o<n&&r>=n){if(u=g+(a-g)*(n-o)/(r-o),u>=i&&u<=l)return!0}else if(o>s&&r<=s&&(u=g+(a-g)*(s-o)/(r-o),u>=i&&u<=l))return!0;return!1};f.exports=C},16204:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Florian Mertens
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h,g){g===void 0&&(g=1);var o=h.x1,a=h.y1,r=h.x2,i=h.y2,n=t.x,l=t.y,s=(r-o)*(r-o)+(i-a)*(i-a);if(s===0)return!1;var u=((n-o)*(r-o)+(l-a)*(i-a))/s;if(u<0)return Math.sqrt((o-n)*(o-n)+(a-l)*(a-l))<=g;if(u>=0&&u<=1){var d=((a-l)*(r-o)-(o-n)*(i-a))/s;return Math.abs(d)*Math.sqrt(s)<=g}else return Math.sqrt((r-n)*(r-n)+(i-l)*(i-l))<=g};f.exports=C},14199:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(16204),g=function(o,a){if(!h(o,a))return!1;var r=Math.min(a.x1,a.x2),i=Math.max(a.x1,a.x2),n=Math.min(a.y1,a.y2),l=Math.max(a.y1,a.y2);return o.x>=r&&o.x<=i&&o.y>=n&&o.y<=l};f.exports=g},59996:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h){return t.width<=0||t.height<=0||h.width<=0||h.height<=0?!1:!(t.right<h.x||t.bottom<h.y||t.x>h.right||t.y>h.bottom)};f.exports=C},89265:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(76112),g=t(37303),o=t(48653),a=t(77493),r=function(i,n){if(n.left>i.right||n.right<i.left||n.top>i.bottom||n.bottom<i.top)return!1;var l=n.getLineA(),s=n.getLineB(),u=n.getLineC();if(g(i,l.x1,l.y1)||g(i,l.x2,l.y2)||g(i,s.x1,s.y1)||g(i,s.x2,s.y2)||g(i,u.x1,u.y1)||g(i,u.x2,u.y2))return!0;var d=i.getLineA(),c=i.getLineB(),v=i.getLineC(),y=i.getLineD();if(h(l,d)||h(l,c)||h(l,v)||h(l,y)||h(s,d)||h(s,c)||h(s,v)||h(s,y)||h(u,d)||h(u,c)||h(u,v)||h(u,y))return!0;var x=a(i),S=o(n,x,!0);return S.length>0};f.exports=r},84411:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h,g,o,a,r){return r===void 0&&(r=0),!(h>t.right+r||g<t.left-r||o>t.bottom+r||a<t.top-r)};f.exports=C},67636:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(80462),g=t(10690),o=function(a,r){return a.left>r.right||a.right<r.left||a.top>r.bottom||a.bottom<r.top?!1:!!(g(a,r.x,r.y)||h(a.getLineA(),r)||h(a.getLineB(),r)||h(a.getLineC(),r))};f.exports=o},2822:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(76112),g=function(o,a){return!!(o.contains(a.x1,a.y1)||o.contains(a.x2,a.y2)||h(o.getLineA(),a)||h(o.getLineB(),a)||h(o.getLineC(),a))};f.exports=g},82944:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(48653),g=t(71694),o=t(76112),a=function(r,i){if(r.left>i.right||r.right<i.left||r.top>i.bottom||r.bottom<i.top)return!1;var n=r.getLineA(),l=r.getLineB(),s=r.getLineC(),u=i.getLineA(),d=i.getLineB(),c=i.getLineC();if(o(n,u)||o(n,d)||o(n,c)||o(l,u)||o(l,d)||o(l,c)||o(s,u)||o(s,d)||o(s,c))return!0;var v=g(r),y=h(i,v,!0);return y.length>0||(v=g(i),y=h(r,v,!0),y.length>0)};f.exports=a},91865:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={CircleToCircle:t(2044),CircleToRectangle:t(81491),GetCircleToCircle:t(63376),GetCircleToRectangle:t(97439),GetLineToCircle:t(4042),GetLineToLine:t(36100),GetLineToPoints:t(3073),GetLineToPolygon:t(56362),GetLineToRectangle:t(60646),GetRaysFromPointToPolygon:t(71147),GetRectangleIntersection:t(68389),GetRectangleToRectangle:t(52784),GetRectangleToTriangle:t(26341),GetTriangleToCircle:t(38720),GetTriangleToLine:t(13882),GetTriangleToTriangle:t(75636),LineToCircle:t(80462),LineToLine:t(76112),LineToRectangle:t(92773),PointToLine:t(16204),PointToLineSegment:t(14199),RectangleToRectangle:t(59996),RectangleToTriangle:t(89265),RectangleToValues:t(84411),TriangleToCircle:t(67636),TriangleToLine:t(2822),TriangleToTriangle:t(82944)}},91938:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t){return Math.atan2(t.y2-t.y1,t.x2-t.x1)};f.exports=C},84993:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h,g){h===void 0&&(h=1),g===void 0&&(g=[]);var o=Math.round(t.x1),a=Math.round(t.y1),r=Math.round(t.x2),i=Math.round(t.y2),n=Math.abs(r-o),l=Math.abs(i-a),s=o<r?1:-1,u=a<i?1:-1,d=n-l;g.push({x:o,y:a});for(var c=1;!(o===r&&a===i);){var v=d<<1;v>-l&&(d-=l,o+=s),v<n&&(d+=n,a+=u),c%h===0&&g.push({x:o,y:a}),c++}return g};f.exports=C},36469:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h,g){var o=h-(t.x1+t.x2)/2,a=g-(t.y1+t.y2)/2;return t.x1+=o,t.y1+=a,t.x2+=o,t.y2+=a,t};f.exports=C},31116:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(23031),g=function(o){return new h(o.x1,o.y1,o.x2,o.y2)};f.exports=g},59944:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h){return h.setTo(t.x1,t.y1,t.x2,t.y2)};f.exports=C},59220:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h){return t.x1===h.x1&&t.y1===h.y1&&t.x2===h.x2&&t.y2===h.y2};f.exports=C},78177:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(35001),g=function(o,a,r){r===void 0&&(r=a);var i=h(o),n=o.x2-o.x1,l=o.y2-o.y1;return a&&(o.x1=o.x1-n/i*a,o.y1=o.y1-l/i*a),r&&(o.x2=o.x2+n/i*r,o.y2=o.y2+l/i*r),o};f.exports=g},26708:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(52816),g=t(6113),o=t(2141),a=function(r,i,n,l,s){l===void 0&&(l=0),s===void 0&&(s=[]);var u=[],d=r.x1,c=r.y1,v=r.x2-d,y=r.y2-c,x=g(i,s),S,E,A=n-1;for(S=0;S<A;S++)E=x(S/A),u.push(new o(d+v*E,c+y*E));if(E=x(1),u.push(new o(d+v*E,c+y*E)),l>0){var R=u[0],w=[R];for(S=1;S<u.length-1;S++){var I=u[S];h(R,I)>=l&&(w.push(I),R=I)}var O=u[u.length-1];return h(R,O)<l&&w.pop(),w.push(O),w}else return u};f.exports=a},32125:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),g=function(o,a){return a===void 0&&(a=new h),a.x=(o.x1+o.x2)/2,a.y=(o.y1+o.y2)/2,a};f.exports=g},99569:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Florian Mertens
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),g=function(o,a,r){r===void 0&&(r=new h);var i=o.x1,n=o.y1,l=o.x2,s=o.y2,u=(l-i)*(l-i)+(s-n)*(s-n);if(u===0)return r;var d=((a.x-i)*(l-i)+(a.y-n)*(s-n))/u;return r.x=i+d*(l-i),r.y=n+d*(s-n),r};f.exports=g},34638:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(36383),g=t(91938),o=t(2141),a=function(r,i){i===void 0&&(i=new o);var n=g(r)-h.TAU;return i.x=Math.cos(n),i.y=Math.sin(n),i};f.exports=a},13151:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),g=function(o,a,r){return r===void 0&&(r=new h),r.x=o.x1+(o.x2-o.x1)*a,r.y=o.y1+(o.y2-o.y1)*a,r};f.exports=g},15258:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(35001),g=t(2141),o=function(a,r,i,n){n===void 0&&(n=[]),!r&&i>0&&(r=h(a)/i);for(var l=a.x1,s=a.y1,u=a.x2,d=a.y2,c=0;c<r;c++){var v=c/r,y=l+(u-l)*v,x=s+(d-s)*v;n.push(new g(y,x))}return n};f.exports=o},26408:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Florian Mertens
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h){var g=t.x1,o=t.y1,a=t.x2,r=t.y2,i=(a-g)*(a-g)+(r-o)*(r-o);if(i===0)return!1;var n=((o-h.y)*(a-g)-(g-h.x)*(r-o))/i;return Math.abs(n)*Math.sqrt(i)};f.exports=C},98770:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t){return Math.abs(t.y1-t.y2)};f.exports=C},35001:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t){return Math.sqrt((t.x2-t.x1)*(t.x2-t.x1)+(t.y2-t.y1)*(t.y2-t.y1))};f.exports=C},23031:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(13151),o=t(15258),a=t(23777),r=t(65822),i=t(26099),n=new h({initialize:function(s,u,d,c){s===void 0&&(s=0),u===void 0&&(u=0),d===void 0&&(d=0),c===void 0&&(c=0),this.type=a.LINE,this.x1=s,this.y1=u,this.x2=d,this.y2=c},getPoint:function(l,s){return g(this,l,s)},getPoints:function(l,s,u){return o(this,l,s,u)},getRandomPoint:function(l){return r(this,l)},setTo:function(l,s,u,d){return l===void 0&&(l=0),s===void 0&&(s=0),u===void 0&&(u=0),d===void 0&&(d=0),this.x1=l,this.y1=s,this.x2=u,this.y2=d,this},setFromObjects:function(l,s){return this.x1=l.x,this.y1=l.y,this.x2=s.x,this.y2=s.y,this},getPointA:function(l){return l===void 0&&(l=new i),l.set(this.x1,this.y1),l},getPointB:function(l){return l===void 0&&(l=new i),l.set(this.x2,this.y2),l},left:{get:function(){return Math.min(this.x1,this.x2)},set:function(l){this.x1<=this.x2?this.x1=l:this.x2=l}},right:{get:function(){return Math.max(this.x1,this.x2)},set:function(l){this.x1>this.x2?this.x1=l:this.x2=l}},top:{get:function(){return Math.min(this.y1,this.y2)},set:function(l){this.y1<=this.y2?this.y1=l:this.y2=l}},bottom:{get:function(){return Math.max(this.y1,this.y2)},set:function(l){this.y1>this.y2?this.y1=l:this.y2=l}}});f.exports=n},64795:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(36383),g=t(15994),o=t(91938),a=function(r){var i=o(r)-h.TAU;return g(i,-Math.PI,Math.PI)};f.exports=a},52616:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(36383),g=t(91938),o=function(a){return Math.cos(g(a)-h.TAU)};f.exports=o},87231:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(36383),g=t(91938),o=function(a){return Math.sin(g(a)-h.TAU)};f.exports=o},89662:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h,g){return t.x1+=h,t.y1+=g,t.x2+=h,t.y2+=g,t};f.exports=C},71165:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t){return-((t.x2-t.x1)/(t.y2-t.y1))};f.exports=C},65822:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),g=function(o,a){a===void 0&&(a=new h);var r=Math.random();return a.x=o.x1+r*(o.x2-o.x1),a.y=o.y1+r*(o.y2-o.y1),a};f.exports=g},69777:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91938),g=t(64795),o=function(a,r){return 2*g(r)-Math.PI-h(a)};f.exports=o},39706:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(64400),g=function(o,a){var r=(o.x1+o.x2)/2,i=(o.y1+o.y2)/2;return h(o,r,i,a)};f.exports=g},82585:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(64400),g=function(o,a,r){return h(o,a.x,a.y,r)};f.exports=g},64400:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h,g,o){var a=Math.cos(o),r=Math.sin(o),i=t.x1-h,n=t.y1-g;return t.x1=i*a-n*r+h,t.y1=i*r+n*a+g,i=t.x2-h,n=t.y2-g,t.x2=i*a-n*r+h,t.y2=i*r+n*a+g,t};f.exports=C},62377:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h,g,o,a){return t.x1=h,t.y1=g,t.x2=h+Math.cos(o)*a,t.y2=g+Math.sin(o)*a,t};f.exports=C},71366:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t){return(t.y2-t.y1)/(t.x2-t.x1)};f.exports=C},10809:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t){return Math.abs(t.x1-t.x2)};f.exports=C},2529:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(23031);h.Angle=t(91938),h.BresenhamPoints=t(84993),h.CenterOn=t(36469),h.Clone=t(31116),h.CopyFrom=t(59944),h.Equals=t(59220),h.Extend=t(78177),h.GetEasedPoints=t(26708),h.GetMidPoint=t(32125),h.GetNearestPoint=t(99569),h.GetNormal=t(34638),h.GetPoint=t(13151),h.GetPoints=t(15258),h.GetShortestDistance=t(26408),h.Height=t(98770),h.Length=t(35001),h.NormalAngle=t(64795),h.NormalX=t(52616),h.NormalY=t(87231),h.Offset=t(89662),h.PerpSlope=t(71165),h.Random=t(65822),h.ReflectAngle=t(69777),h.Rotate=t(39706),h.RotateAroundPoint=t(82585),h.RotateAroundXY=t(64400),h.SetToAngle=t(62377),h.Slope=t(71366),h.Width=t(10809),f.exports=h},83997:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(87841),o=t(26099);function a(i,n,l,s){var u=i-l,d=n-s,c=u*u+d*d;return Math.sqrt(c)}var r=new h({initialize:function(n,l,s){this.vertex1=n,this.vertex2=l,this.vertex3=s,this.bounds=new g,this._inCenter=new o},getInCenter:function(i){i===void 0&&(i=!0);var n=this.vertex1,l=this.vertex2,s=this.vertex3,u,d,c,v,y,x;i?(u=n.x,d=n.y,c=l.x,v=l.y,y=s.x,x=s.y):(u=n.vx,d=n.vy,c=l.vx,v=l.vy,y=s.vx,x=s.vy);var S=a(y,x,c,v),E=a(u,d,y,x),A=a(c,v,u,d),R=S+E+A;return this._inCenter.set((u*S+c*E+y*A)/R,(d*S+v*E+x*A)/R)},contains:function(i,n,l){var s=this.vertex1,u=this.vertex2,d=this.vertex3,c=s.vx,v=s.vy,y=u.vx,x=u.vy,S=d.vx,E=d.vy;if(l){var A=l.a,R=l.b,w=l.c,I=l.d,O=l.e,F=l.f;c=s.vx*A+s.vy*w+O,v=s.vx*R+s.vy*I+F,y=u.vx*A+u.vy*w+O,x=u.vx*R+u.vy*I+F,S=d.vx*A+d.vy*w+O,E=d.vx*R+d.vy*I+F}var L=S-c,D=E-v,b=y-c,G=x-v,W=i-c,Y=n-v,H=L*L+D*D,U=L*b+D*G,X=L*W+D*Y,V=b*b+G*G,B=b*W+G*Y,z=H*V-U*U,K=z===0?0:1/z,k=(V*X-U*B)*K,J=(H*B-U*X)*K;return k>=0&&J>=0&&k+J<1},isCounterClockwise:function(i){var n=this.vertex1,l=this.vertex2,s=this.vertex3,u=(l.vx-n.vx)*(s.vy-n.vy)-(l.vy-n.vy)*(s.vx-n.vx);return i<=0?u>=0:u<0},load:function(i,n,l,s,u){return l=this.vertex1.load(i,n,l,s,u),l=this.vertex2.load(i,n,l,s,u),l=this.vertex3.load(i,n,l,s,u),l},transformCoordinatesLocal:function(i,n,l,s){return this.vertex1.transformCoordinatesLocal(i,n,l,s),this.vertex2.transformCoordinatesLocal(i,n,l,s),this.vertex3.transformCoordinatesLocal(i,n,l,s),this},updateBounds:function(){var i=this.vertex1,n=this.vertex2,l=this.vertex3,s=this.bounds;return s.x=Math.min(i.vx,n.vx,l.vx),s.y=Math.min(i.vy,n.vy,l.vy),s.width=Math.max(i.vx,n.vx,l.vx)-s.x,s.height=Math.max(i.vy,n.vy,l.vy)-s.y,this},isInView:function(i,n,l,s,u,d,c,v,y,x,S){this.update(s,u,d,c,v,y,x,S);var E=this.vertex1,A=this.vertex2,R=this.vertex3;if(E.ta<=0&&A.ta<=0&&R.ta<=0||n&&!this.isCounterClockwise(l))return!1;var w=this.bounds;w.x=Math.min(E.tx,A.tx,R.tx),w.y=Math.min(E.ty,A.ty,R.ty),w.width=Math.max(E.tx,A.tx,R.tx)-w.x,w.height=Math.max(E.ty,A.ty,R.ty)-w.y;var I=i.x+i.width,O=i.y+i.height;return w.width<=0||w.height<=0||i.width<=0||i.height<=0?!1:!(w.right<i.x||w.bottom<i.y||w.x>I||w.y>O)},scrollUV:function(i,n){return this.vertex1.scrollUV(i,n),this.vertex2.scrollUV(i,n),this.vertex3.scrollUV(i,n),this},scaleUV:function(i,n){return this.vertex1.scaleUV(i,n),this.vertex2.scaleUV(i,n),this.vertex3.scaleUV(i,n),this},setColor:function(i){return this.vertex1.color=i,this.vertex2.color=i,this.vertex3.color=i,this},update:function(i,n,l,s,u,d,c,v){return this.vertex1.update(n,l,s,u,d,c,v,i),this.vertex2.update(n,l,s,u,d,c,v,i),this.vertex3.update(n,l,s,u,d,c,v,i),this},translate:function(i,n){n===void 0&&(n=0);var l=this.vertex1,s=this.vertex2,u=this.vertex3;return l.x+=i,l.y+=n,s.x+=i,s.y+=n,u.x+=i,u.y+=n,this},x:{get:function(){return this.getInCenter().x},set:function(i){var n=this.getInCenter();this.translate(i-n.x,0)}},y:{get:function(){return this.getInCenter().y},set:function(i){var n=this.getInCenter();this.translate(0,i-n.y)}},alpha:{get:function(){var i=this.vertex1,n=this.vertex2,l=this.vertex3;return(i.alpha+n.alpha+l.alpha)/3},set:function(i){this.vertex1.alpha=i,this.vertex2.alpha=i,this.vertex3.alpha=i}},depth:{get:function(){var i=this.vertex1,n=this.vertex2,l=this.vertex3;return(i.vz+n.vz+l.vz)/3}},destroy:function(){this.vertex1=null,this.vertex2=null,this.vertex3=null}});f.exports=r},48803:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83997),g=t(95540),o=t(37867),a=t(25836),r=t(39318),i=new a,n=new a,l=new o,s=function(u){var d=g(u,"mesh"),c=g(u,"texture",null),v=g(u,"frame"),y=g(u,"width",1),x=g(u,"height",y),S=g(u,"widthSegments",1),E=g(u,"heightSegments",S),A=g(u,"x",0),R=g(u,"y",0),w=g(u,"z",0),I=g(u,"rotateX",0),O=g(u,"rotateY",0),F=g(u,"rotateZ",0),L=g(u,"zIsUp",!0),D=g(u,"isOrtho",d?d.dirtyCache[11]:!1),b=g(u,"colors",[16777215]),G=g(u,"alphas",[1]),W=g(u,"tile",!1),Y=g(u,"flipY",!1),H=g(u,"width",null),U={faces:[],verts:[]};i.set(A,R,w),n.set(I,O,F),l.fromRotationXYTranslation(n,i,L);var X;if(!c&&d)c=d.texture,v||(X=d.frame);else if(d&&typeof c=="string")c=d.scene.sys.textures.get(c);else if(!c)return U;X||(X=c.get(v)),!H&&D&&c&&d&&(y=X.width/d.height,x=X.height/d.height);var V=y/2,B=x/2,z=Math.floor(S),K=Math.floor(E),k=z+1,J=K+1,q=y/z,j=x/K,Z=[],_=[],et,it,st=0,nt=1,ut=0,ft=1;X&&(st=X.u0,nt=X.u1,Y?(ut=X.v1,ft=X.v0):(ut=X.v0,ft=X.v1));var ht=nt-st,rt=ft-ut;for(it=0;it<J;it++){var lt=it*j-B;for(et=0;et<k;et++){var dt=et*q-V;_.push(dt,-lt);var yt=st+ht*(et/z),xt=ut+rt*(it/K);Z.push(yt,xt)}}Array.isArray(b)||(b=[b]),Array.isArray(G)||(G=[G]);var At=0,Et=0;for(it=0;it<K;it++)for(et=0;et<z;et++){var Lt=(et+k*it)*2,Xt=(et+k*(it+1))*2,qt=(et+1+k*(it+1))*2,Nt=(et+1+k*it)*2,Jt=b[Et],le=G[At],jt=new r(_[Lt],_[Lt+1],0,Z[Lt],Z[Lt+1],Jt,le).transformMat4(l),Pe=new r(_[Xt],_[Xt+1],0,Z[Xt],Z[Xt+1],Jt,le).transformMat4(l),Ei=new r(_[Nt],_[Nt+1],0,Z[Nt],Z[Nt+1],Jt,le).transformMat4(l),Ii=new r(_[Xt],_[Xt+1],0,Z[Xt],Z[Xt+1],Jt,le).transformMat4(l),Gi=new r(_[qt],_[qt+1],0,Z[qt],Z[qt+1],Jt,le).transformMat4(l),zi=new r(_[Nt],_[Nt+1],0,Z[Nt],Z[Nt+1],Jt,le).transformMat4(l);W&&(jt.setUVs(st,ft),Pe.setUVs(st,ut),Ei.setUVs(nt,ft),Ii.setUVs(st,ut),Gi.setUVs(nt,ut),zi.setUVs(nt,ft)),Et++,Et===b.length&&(Et=0),At++,At===G.length&&(At=0),U.verts.push(jt,Pe,Ei,Ii,Gi,zi),U.faces.push(new h(jt,Pe,Ei),new h(Ii,Gi,zi))}return d&&(d.faces=d.faces.concat(U.faces),d.vertices=d.vertices.concat(U.verts)),U};f.exports=s},34684:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83997),g=t(37867),o=t(25836),a=t(39318),r=new o,i=new o,n=new g,l=function(s,u,d,c,v,y,x,S,E,A){d===void 0&&(d=1),c===void 0&&(c=0),v===void 0&&(v=0),y===void 0&&(y=0),x===void 0&&(x=0),S===void 0&&(S=0),E===void 0&&(E=0),A===void 0&&(A=!0);var R={faces:[],verts:[]},w=s.materials;r.set(c,v,y),i.set(x,S,E),n.fromRotationXYTranslation(i,r,A);for(var I=0;I<s.models.length;I++)for(var O=s.models[I],F=O.vertices,L=O.textureCoords,D=O.faces,b=0;b<D.length;b++){var G=D[b],W=G.vertices[0],Y=G.vertices[1],H=G.vertices[2],U=F[W.vertexIndex],X=F[Y.vertexIndex],V=F[H.vertexIndex],B=W.textureCoordsIndex,z=Y.textureCoordsIndex,K=H.textureCoordsIndex,k=B===-1?{u:0,v:1}:L[B],J=z===-1?{u:0,v:0}:L[z],q=K===-1?{u:1,v:1}:L[K],j=16777215;G.material!==""&&w[G.material]&&(j=w[G.material]);var Z=new a(U.x*d,U.y*d,U.z*d,k.u,k.v,j).transformMat4(n),_=new a(X.x*d,X.y*d,X.z*d,J.u,J.v,j).transformMat4(n),et=new a(V.x*d,V.y*d,V.z*d,q.u,q.v,j).transformMat4(n);R.verts.push(Z,_,et),R.faces.push(new h(Z,_,et))}return u&&(u.faces=u.faces.concat(R.faces),u.vertices=u.vertices.concat(R.verts)),R};f.exports=l},92515:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83997),g=t(39318),o=function(a,r,i,n,l,s,u,d){if(n===void 0&&(n=!1),s===void 0&&(s=16777215),u===void 0&&(u=1),d===void 0&&(d=!1),a.length!==r.length&&!n){console.warn("GenerateVerts: vertices and uvs count not equal");return}var c={faces:[],vertices:[]},v,y,x,S,E,A,R,w,I,O,F,L=n?3:2,D=Array.isArray(s),b=Array.isArray(u);if(Array.isArray(i)&&i.length>0)for(v=0;v<i.length;v++){var G=i[v],W=i[v]*2,Y=i[v]*L;y=a[Y],x=a[Y+1],S=n?a[Y+2]:0,E=r[W],A=r[W+1],d&&(A=1-A),R=D?s[G]:s,w=b?u[G]:u,I=0,O=0,F=0,l&&(I=l[Y],O=l[Y+1],F=n?l[Y+2]:0),c.vertices.push(new g(y,x,S,E,A,R,w,I,O,F))}else{var H=0,U=0;for(v=0;v<a.length;v+=L)y=a[v],x=a[v+1],S=n?a[v+2]:0,E=r[H],A=r[H+1],R=D?s[U]:s,w=b?u[U]:u,I=0,O=0,F=0,l&&(I=l[v],O=l[v+1],F=n?l[v+2]:0),c.vertices.push(new g(y,x,S,E,A,R,w,I,O,F)),H+=2,U++}for(v=0;v<c.vertices.length;v+=3){var X=c.vertices[v],V=c.vertices[v+1],B=c.vertices[v+2];c.faces.push(new h(X,V,B))}return c};f.exports=o},85048:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=!0,t="untitled",h="",g="";function o(y){var x=y.indexOf("#");return x>-1?y.substring(0,x):y}function a(y){return y.models.length===0&&y.models.push({faces:[],name:t,textureCoords:[],vertexNormals:[],vertices:[]}),h="",y.models[y.models.length-1]}function r(y,x){var S=y.length>=2?y[1]:t;x.models.push({faces:[],name:S,textureCoords:[],vertexNormals:[],vertices:[]}),h=""}function i(y){y.length===2&&(h=y[1])}function n(y,x){var S=y.length,E=S>=2?parseFloat(y[1]):0,A=S>=3?parseFloat(y[2]):0,R=S>=4?parseFloat(y[3]):0;a(x).vertices.push({x:E,y:A,z:R})}function l(y,x){var S=y.length,E=S>=2?parseFloat(y[1]):0,A=S>=3?parseFloat(y[2]):0,R=S>=4?parseFloat(y[3]):0;isNaN(E)&&(E=0),isNaN(A)&&(A=0),isNaN(R)&&(R=0),C&&(A=1-A),a(x).textureCoords.push({u:E,v:A,w:R})}function s(y,x){var S=y.length,E=S>=2?parseFloat(y[1]):0,A=S>=3?parseFloat(y[2]):0,R=S>=4?parseFloat(y[3]):0;a(x).vertexNormals.push({x:E,y:A,z:R})}function u(y,x){var S=y.length-1;if(!(S<3)){for(var E={group:h,material:g,vertices:[]},A=0;A<S;A++){var R=y[A+1],w=R.split("/"),I=w.length;if(!(I<1||I>3)){var O=0,F=0,L=0;O=parseInt(w[0],10),I>1&&w[1]!==""&&(F=parseInt(w[1],10)),I>2&&(L=parseInt(w[2],10)),O!==0&&(O<0&&(O=a(x).vertices.length+1+O),F-=1,O-=1,L-=1,E.vertices.push({textureCoordsIndex:F,vertexIndex:O,vertexNormalIndex:L}))}}a(x).faces.push(E)}}function d(y,x){y.length>=2&&x.materialLibraries.push(y[1])}function c(y){y.length>=2&&(g=y[1])}var v=function(y,x){x===void 0&&(x=!0),C=x;var S={materials:{},materialLibraries:[],models:[]};h="",g="";for(var E=y.split(`
`),A=0;A<E.length;A++){var R=o(E[A]),w=R.replace(/\s\s+/g," ").trim().split(" ");switch(w[0].toLowerCase()){case"o":r(w,S);break;case"g":i(w);break;case"v":n(w,S);break;case"vt":l(w,S);break;case"vn":s(w,S);break;case"f":u(w,S);break;case"mtllib":d(w,S);break;case"usemtl":c(w);break}}return S};f.exports=v},61485:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(37589),g=function(o){for(var a={},r=o.split(`
`),i="",n=0;n<r.length;n++){var l=r[n].trim();if(!(l.indexOf("#")===0||l==="")){var s=l.replace(/\s\s+/g," ").trim().split(" ");switch(s[0].toLowerCase()){case"newmtl":{i=s[1];break}case"kd":{var u=Math.floor(s[1]*255),d=s.length>=2?Math.floor(s[2]*255):u,c=s.length>=3?Math.floor(s[3]*255):u;a[i]=h(u,d,c);break}}}}return a};f.exports=g},92570:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h,g,o){var a,r;if(g===void 0&&o===void 0){var i=t.getInCenter();a=i.x,r=i.y}var n=Math.cos(h),l=Math.sin(h),s=t.vertex1,u=t.vertex2,d=t.vertex3,c=s.x-a,v=s.y-r;s.set(c*n-v*l+a,c*l+v*n+r),c=u.x-a,v=u.y-r,u.set(c*n-v*l+a,c*l+v*n+r),c=d.x-a,v=d.y-r,d.set(c*n-v*l+a,c*l+v*n+r)};f.exports=C},39318:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(70554),o=t(25836),a=new h({Extends:o,initialize:function(i,n,l,s,u,d,c,v,y,x){d===void 0&&(d=16777215),c===void 0&&(c=1),v===void 0&&(v=0),y===void 0&&(y=0),x===void 0&&(x=0),o.call(this,i,n,l),this.vx=0,this.vy=0,this.vz=0,this.nx=v,this.ny=y,this.nz=x,this.u=s,this.v=u,this.color=d,this.alpha=c,this.tx=0,this.ty=0,this.ta=0,this.tu=s,this.tv=u},setUVs:function(r,i){return this.u=r,this.v=i,this.tu=r,this.tv=i,this},scrollUV:function(r,i){return this.tu+=r,this.tv+=i,this},scaleUV:function(r,i){return this.tu=this.u*r,this.tv=this.v*i,this},transformCoordinatesLocal:function(r,i,n,l){var s=this.x,u=this.y,d=this.z,c=r.val,v=s*c[0]+u*c[4]+d*c[8]+c[12],y=s*c[1]+u*c[5]+d*c[9]+c[13],x=s*c[2]+u*c[6]+d*c[10]+c[14],S=s*c[3]+u*c[7]+d*c[11]+c[15];this.vx=v/S*i,this.vy=-(y/S)*n,l<=0?this.vz=x/S:this.vz=-(x/S)},resize:function(r,i,n,l,s,u){return this.x=r,this.y=i,this.vx=this.x*n,this.vy=-this.y*l,this.vz=0,s<.5?this.vx+=n*(.5-s):s>.5&&(this.vx-=n*(s-.5)),u<.5?this.vy+=l*(.5-u):u>.5&&(this.vy-=l*(u-.5)),this},update:function(r,i,n,l,s,u,d,c){var v=this.vx*r+this.vy*n+s,y=this.vx*i+this.vy*l+u;return d&&(v=Math.round(v),y=Math.round(y)),this.tx=v,this.ty=y,this.ta=this.alpha*c,this},load:function(r,i,n,l,s){return r[++n]=this.tx,r[++n]=this.ty,r[++n]=this.tu,r[++n]=this.tv,r[++n]=l,r[++n]=s,i[++n]=g.getTintAppendFloatAlpha(this.color,this.ta),n}});f.exports=a},73090:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h={Face:t(83997),GenerateGridVerts:t(48803),GenerateObjVerts:t(34684),GenerateVerts:t(92515),ParseObj:t(85048),ParseObjMaterial:t(61485),RotateFace:t(92570),Vertex:t(39318)};f.exports=h},96550:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t){return t.setTo(Math.ceil(t.x),Math.ceil(t.y))};f.exports=C},99706:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),g=function(o){return new h(o.x,o.y)};f.exports=g},68010:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h){return h.setTo(t.x,t.y)};f.exports=C},27814:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h){return t.x===h.x&&t.y===h.y};f.exports=C},73565:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t){return t.setTo(Math.floor(t.x),Math.floor(t.y))};f.exports=C},87555:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),g=function(o,a){if(a===void 0&&(a=new h),!Array.isArray(o))throw new Error("GetCentroid points argument must be an array");var r=o.length;if(r<1)throw new Error("GetCentroid points array must not be empty");if(r===1)a.x=o[0].x,a.y=o[0].y;else{for(var i=0;i<r;i++)a.x+=o[i].x,a.y+=o[i].y;a.x/=r,a.y/=r}return a};f.exports=g},28793:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)};f.exports=C},44405:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t){return t.x*t.x+t.y*t.y};f.exports=C},20873:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87841),g=function(o,a){a===void 0&&(a=new h);for(var r=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY,l=Number.POSITIVE_INFINITY,s=0;s<o.length;s++){var u=o[s];u.x>r&&(r=u.x),u.x<i&&(i=u.x),u.y>n&&(n=u.y),u.y<l&&(l=u.y)}return a.x=i,a.y=l,a.width=r-i,a.height=n-l,a};f.exports=g},26152:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),g=function(o,a,r,i){return r===void 0&&(r=0),i===void 0&&(i=new h),i.x=o.x+(a.x-o.x)*r,i.y=o.y+(a.y-o.y)*r,i};f.exports=g},55767:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t){return t.setTo(t.y,t.x)};f.exports=C},79432:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),g=function(o,a){return a===void 0&&(a=new h),a.setTo(-o.x,-o.y)};f.exports=g},2141:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(23777),o=new h({initialize:function(r,i){r===void 0&&(r=0),i===void 0&&(i=r),this.type=g.POINT,this.x=r,this.y=i},setTo:function(a,r){return a===void 0&&(a=0),r===void 0&&(r=a),this.x=a,this.y=r,this}});f.exports=o},72930:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),g=t(44405),o=function(a,r,i){i===void 0&&(i=new h);var n=a.x*r.x+a.y*r.y,l=n/g(r);return l!==0&&(i.x=l*r.x,i.y=l*r.y),i};f.exports=o},62880:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),g=function(o,a,r){r===void 0&&(r=new h);var i=o.x*a.x+o.y*a.y;return i!==0&&(r.x=i*a.x,r.y=i*a.y),r};f.exports=g},15093:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(28793),g=function(o,a){if(o.x!==0||o.y!==0){var r=h(o);o.x/=r,o.y/=r}return o.x*=a,o.y*=a,o};f.exports=g},43711:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141);h.Ceil=t(96550),h.Clone=t(99706),h.CopyFrom=t(68010),h.Equals=t(27814),h.Floor=t(73565),h.GetCentroid=t(87555),h.GetMagnitude=t(28793),h.GetMagnitudeSq=t(44405),h.GetRectangleFromPoints=t(20873),h.Interpolate=t(26152),h.Invert=t(55767),h.Negative=t(79432),h.Project=t(72930),h.ProjectUnit=t(62880),h.SetMagnitude=t(15093),f.exports=h},12306:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25717),g=function(o){return new h(o.points)};f.exports=g},63814:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h,g){for(var o=!1,a=-1,r=t.points.length-1;++a<t.points.length;r=a){var i=t.points[a].x,n=t.points[a].y,l=t.points[r].x,s=t.points[r].y;(n<=g&&g<s||s<=g&&g<n)&&h<(l-i)*(g-n)/(s-n)+i&&(o=!o)}return o};f.exports=C},99338:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(63814),g=function(o,a){return h(o,a.x,a.y)};f.exports=g},94811:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function C(U,X,V){V=V||2;var B=X&&X.length,z=B?X[0]*V:U.length,K=t(U,0,z,V,!0),k=[];if(!K||K.next===K.prev)return k;var J,q,j,Z,_,et,it;if(B&&(K=n(U,X,K,V)),U.length>80*V){J=j=U[0],q=Z=U[1];for(var st=V;st<z;st+=V)_=U[st],et=U[st+1],_<J&&(J=_),et<q&&(q=et),_>j&&(j=_),et>Z&&(Z=et);it=Math.max(j-J,Z-q),it=it!==0?32767/it:0}return g(K,k,V,J,q,it,0),k}function t(U,X,V,B,z){var K,k;if(z===H(U,X,V,B)>0)for(K=X;K<V;K+=B)k=G(K,U[K],U[K+1],k);else for(K=V-B;K>=X;K-=B)k=G(K,U[K],U[K+1],k);return k&&R(k,k.next)&&(W(k),k=k.next),k}function h(U,X){if(!U)return U;X||(X=U);var V=U,B;do if(B=!1,!V.steiner&&(R(V,V.next)||A(V.prev,V,V.next)===0)){if(W(V),V=X=V.prev,V===V.next)break;B=!0}else V=V.next;while(B||V!==X);return X}function g(U,X,V,B,z,K,k){if(U){!k&&K&&c(U,B,z,K);for(var J=U,q,j;U.prev!==U.next;){if(q=U.prev,j=U.next,K?a(U,B,z,K):o(U)){X.push(q.i/V|0),X.push(U.i/V|0),X.push(j.i/V|0),W(U),U=j.next,J=j.next;continue}if(U=j,U===J){k?k===1?(U=r(h(U),X,V),g(U,X,V,B,z,K,2)):k===2&&i(U,X,V,B,z,K):g(h(U),X,V,B,z,K,1);break}}}}function o(U){var X=U.prev,V=U,B=U.next;if(A(X,V,B)>=0)return!1;for(var z=X.x,K=V.x,k=B.x,J=X.y,q=V.y,j=B.y,Z=z<K?z<k?z:k:K<k?K:k,_=J<q?J<j?J:j:q<j?q:j,et=z>K?z>k?z:k:K>k?K:k,it=J>q?J>j?J:j:q>j?q:j,st=B.next;st!==X;){if(st.x>=Z&&st.x<=et&&st.y>=_&&st.y<=it&&S(z,J,K,q,k,j,st.x,st.y)&&A(st.prev,st,st.next)>=0)return!1;st=st.next}return!0}function a(U,X,V,B){var z=U.prev,K=U,k=U.next;if(A(z,K,k)>=0)return!1;for(var J=z.x,q=K.x,j=k.x,Z=z.y,_=K.y,et=k.y,it=J<q?J<j?J:j:q<j?q:j,st=Z<_?Z<et?Z:et:_<et?_:et,nt=J>q?J>j?J:j:q>j?q:j,ut=Z>_?Z>et?Z:et:_>et?_:et,ft=y(it,st,X,V,B),ht=y(nt,ut,X,V,B),rt=U.prevZ,lt=U.nextZ;rt&&rt.z>=ft&&lt&&lt.z<=ht;){if(rt.x>=it&&rt.x<=nt&&rt.y>=st&&rt.y<=ut&&rt!==z&&rt!==k&&S(J,Z,q,_,j,et,rt.x,rt.y)&&A(rt.prev,rt,rt.next)>=0||(rt=rt.prevZ,lt.x>=it&&lt.x<=nt&&lt.y>=st&&lt.y<=ut&&lt!==z&&lt!==k&&S(J,Z,q,_,j,et,lt.x,lt.y)&&A(lt.prev,lt,lt.next)>=0))return!1;lt=lt.nextZ}for(;rt&&rt.z>=ft;){if(rt.x>=it&&rt.x<=nt&&rt.y>=st&&rt.y<=ut&&rt!==z&&rt!==k&&S(J,Z,q,_,j,et,rt.x,rt.y)&&A(rt.prev,rt,rt.next)>=0)return!1;rt=rt.prevZ}for(;lt&&lt.z<=ht;){if(lt.x>=it&&lt.x<=nt&&lt.y>=st&&lt.y<=ut&&lt!==z&&lt!==k&&S(J,Z,q,_,j,et,lt.x,lt.y)&&A(lt.prev,lt,lt.next)>=0)return!1;lt=lt.nextZ}return!0}function r(U,X,V){var B=U;do{var z=B.prev,K=B.next.next;!R(z,K)&&w(z,B,B.next,K)&&L(z,K)&&L(K,z)&&(X.push(z.i/V|0),X.push(B.i/V|0),X.push(K.i/V|0),W(B),W(B.next),B=U=K),B=B.next}while(B!==U);return h(B)}function i(U,X,V,B,z,K){var k=U;do{for(var J=k.next.next;J!==k.prev;){if(k.i!==J.i&&E(k,J)){var q=b(k,J);k=h(k,k.next),q=h(q,q.next),g(k,X,V,B,z,K,0),g(q,X,V,B,z,K,0);return}J=J.next}k=k.next}while(k!==U)}function n(U,X,V,B){var z=[],K,k,J,q,j;for(K=0,k=X.length;K<k;K++)J=X[K]*B,q=K<k-1?X[K+1]*B:U.length,j=t(U,J,q,B,!1),j===j.next&&(j.steiner=!0),z.push(x(j));for(z.sort(l),K=0;K<z.length;K++)V=s(z[K],V);return V}function l(U,X){return U.x-X.x}function s(U,X){var V=u(U,X);if(!V)return X;var B=b(V,U);return h(B,B.next),h(V,V.next)}function u(U,X){var V=X,B=U.x,z=U.y,K=-1/0,k;do{if(z<=V.y&&z>=V.next.y&&V.next.y!==V.y){var J=V.x+(z-V.y)*(V.next.x-V.x)/(V.next.y-V.y);if(J<=B&&J>K&&(K=J,k=V.x<V.next.x?V:V.next,J===B))return k}V=V.next}while(V!==X);if(!k)return null;var q=k,j=k.x,Z=k.y,_=1/0,et;V=k;do B>=V.x&&V.x>=j&&B!==V.x&&S(z<Z?B:K,z,j,Z,z<Z?K:B,z,V.x,V.y)&&(et=Math.abs(z-V.y)/(B-V.x),L(V,U)&&(et<_||et===_&&(V.x>k.x||V.x===k.x&&d(k,V)))&&(k=V,_=et)),V=V.next;while(V!==q);return k}function d(U,X){return A(U.prev,U,X.prev)<0&&A(X.next,U,U.next)<0}function c(U,X,V,B){var z=U;do z.z===0&&(z.z=y(z.x,z.y,X,V,B)),z.prevZ=z.prev,z.nextZ=z.next,z=z.next;while(z!==U);z.prevZ.nextZ=null,z.prevZ=null,v(z)}function v(U){var X,V,B,z,K,k,J,q,j=1;do{for(V=U,U=null,K=null,k=0;V;){for(k++,B=V,J=0,X=0;X<j&&(J++,B=B.nextZ,!!B);X++);for(q=j;J>0||q>0&&B;)J!==0&&(q===0||!B||V.z<=B.z)?(z=V,V=V.nextZ,J--):(z=B,B=B.nextZ,q--),K?K.nextZ=z:U=z,z.prevZ=K,K=z;V=B}K.nextZ=null,j*=2}while(k>1);return U}function y(U,X,V,B,z){return U=(U-V)*z|0,X=(X-B)*z|0,U=(U|U<<8)&16711935,U=(U|U<<4)&252645135,U=(U|U<<2)&858993459,U=(U|U<<1)&1431655765,X=(X|X<<8)&16711935,X=(X|X<<4)&252645135,X=(X|X<<2)&858993459,X=(X|X<<1)&1431655765,U|X<<1}function x(U){var X=U,V=U;do(X.x<V.x||X.x===V.x&&X.y<V.y)&&(V=X),X=X.next;while(X!==U);return V}function S(U,X,V,B,z,K,k,J){return(z-k)*(X-J)>=(U-k)*(K-J)&&(U-k)*(B-J)>=(V-k)*(X-J)&&(V-k)*(K-J)>=(z-k)*(B-J)}function E(U,X){return U.next.i!==X.i&&U.prev.i!==X.i&&!F(U,X)&&(L(U,X)&&L(X,U)&&D(U,X)&&(A(U.prev,U,X.prev)||A(U,X.prev,X))||R(U,X)&&A(U.prev,U,U.next)>0&&A(X.prev,X,X.next)>0)}function A(U,X,V){return(X.y-U.y)*(V.x-X.x)-(X.x-U.x)*(V.y-X.y)}function R(U,X){return U.x===X.x&&U.y===X.y}function w(U,X,V,B){var z=O(A(U,X,V)),K=O(A(U,X,B)),k=O(A(V,B,U)),J=O(A(V,B,X));return!!(z!==K&&k!==J||z===0&&I(U,V,X)||K===0&&I(U,B,X)||k===0&&I(V,U,B)||J===0&&I(V,X,B))}function I(U,X,V){return X.x<=Math.max(U.x,V.x)&&X.x>=Math.min(U.x,V.x)&&X.y<=Math.max(U.y,V.y)&&X.y>=Math.min(U.y,V.y)}function O(U){return U>0?1:U<0?-1:0}function F(U,X){var V=U;do{if(V.i!==U.i&&V.next.i!==U.i&&V.i!==X.i&&V.next.i!==X.i&&w(V,V.next,U,X))return!0;V=V.next}while(V!==U);return!1}function L(U,X){return A(U.prev,U,U.next)<0?A(U,X,U.next)>=0&&A(U,U.prev,X)>=0:A(U,X,U.prev)<0||A(U,U.next,X)<0}function D(U,X){var V=U,B=!1,z=(U.x+X.x)/2,K=(U.y+X.y)/2;do V.y>K!=V.next.y>K&&V.next.y!==V.y&&z<(V.next.x-V.x)*(K-V.y)/(V.next.y-V.y)+V.x&&(B=!B),V=V.next;while(V!==U);return B}function b(U,X){var V=new Y(U.i,U.x,U.y),B=new Y(X.i,X.x,X.y),z=U.next,K=X.prev;return U.next=X,X.prev=U,V.next=z,z.prev=V,B.next=V,V.prev=B,K.next=B,B.prev=K,B}function G(U,X,V,B){var z=new Y(U,X,V);return B?(z.next=B.next,z.prev=B,B.next.prev=z,B.next=z):(z.prev=z,z.next=z),z}function W(U){U.next.prev=U.prev,U.prev.next=U.next,U.prevZ&&(U.prevZ.nextZ=U.nextZ),U.nextZ&&(U.nextZ.prevZ=U.prevZ)}function Y(U,X,V){this.i=U,this.x=X,this.y=V,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}C.deviation=function(U,X,V,B){var z=X&&X.length,K=z?X[0]*V:U.length,k=Math.abs(H(U,0,K,V));if(z)for(var J=0,q=X.length;J<q;J++){var j=X[J]*V,Z=J<q-1?X[J+1]*V:U.length;k-=Math.abs(H(U,j,Z,V))}var _=0;for(J=0;J<B.length;J+=3){var et=B[J]*V,it=B[J+1]*V,st=B[J+2]*V;_+=Math.abs((U[et]-U[st])*(U[it+1]-U[et+1])-(U[et]-U[it])*(U[st+1]-U[et+1]))}return k===0&&_===0?0:Math.abs((_-k)/k)};function H(U,X,V,B){for(var z=0,K=X,k=V-B;K<V;K+=B)z+=(U[k]-U[K])*(U[K+1]+U[k+1]),k=K;return z}C.flatten=function(U){for(var X=U[0][0].length,V={vertices:[],holes:[],dimensions:X},B=0,z=0;z<U.length;z++){for(var K=0;K<U[z].length;K++)for(var k=0;k<X;k++)V.vertices.push(U[z][K][k]);z>0&&(B+=U[z-1].length,V.holes.push(B))}return V},f.exports=C},13829:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87841),g=function(o,a){a===void 0&&(a=new h);for(var r=1/0,i=1/0,n=-r,l=-i,s,u=0;u<o.points.length;u++)s=o.points[u],r=Math.min(r,s.x),i=Math.min(i,s.y),n=Math.max(n,s.x),l=Math.max(l,s.y);return a.x=r,a.y=i,a.width=n-r,a.height=l-i,a};f.exports=g},26173:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h){h===void 0&&(h=[]);for(var g=0;g<t.points.length;g++)h.push(t.points[g].x),h.push(t.points[g].y);return h};f.exports=C},9564:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(35001),g=t(23031),o=t(30052),a=function(r,i,n,l){l===void 0&&(l=[]);var s=r.points,u=o(r);!i&&n>0&&(i=u/n);for(var d=0;d<i;d++)for(var c=u*(d/i),v=0,y=0;y<s.length;y++){var x=s[y],S=s[(y+1)%s.length],E=new g(x.x,x.y,S.x,S.y),A=h(E);if(c<v||c>v+A){v+=A;continue}var R=E.getPoint((c-v)/A);l.push(R);break}return l};f.exports=a},30052:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(35001),g=t(23031),o=function(a){for(var r=a.points,i=0,n=0;n<r.length;n++){var l=r[n],s=r[(n+1)%r.length],u=new g(l.x,l.y,s.x,s.y);i+=h(u)}return i};f.exports=o},25717:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(63814),o=t(9564),a=t(23777),r=new h({initialize:function(n){this.type=a.POLYGON,this.area=0,this.points=[],n&&this.setTo(n)},contains:function(i,n){return g(this,i,n)},setTo:function(i){if(this.area=0,this.points=[],typeof i=="string"&&(i=i.split(" ")),!Array.isArray(i))return this;for(var n,l=0;l<i.length;l++)n={x:0,y:0},typeof i[l]=="number"||typeof i[l]=="string"?(n.x=parseFloat(i[l]),n.y=parseFloat(i[l+1]),l++):Array.isArray(i[l])?(n.x=i[l][0],n.y=i[l][1]):(n.x=i[l].x,n.y=i[l].y),this.points.push(n);return this.calculateArea(),this},calculateArea:function(){if(this.points.length<3)return this.area=0,this.area;for(var i=0,n,l,s=0;s<this.points.length-1;s++)n=this.points[s],l=this.points[s+1],i+=(l.x-n.x)*(n.y+l.y);return n=this.points[0],l=this.points[this.points.length-1],i+=(n.x-l.x)*(l.y+n.y),this.area=-i*.5,this.area},getPoints:function(i,n,l){return o(this,i,n,l)}});f.exports=r},8133:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t){return t.points.reverse(),t};f.exports=C},29524:f=>{function C(r,i){var n=r.x-i.x,l=r.y-i.y;return n*n+l*l}function t(r,i,n){var l=i.x,s=i.y,u=n.x-l,d=n.y-s;if(u!==0||d!==0){var c=((r.x-l)*u+(r.y-s)*d)/(u*u+d*d);c>1?(l=n.x,s=n.y):c>0&&(l+=u*c,s+=d*c)}return u=r.x-l,d=r.y-s,u*u+d*d}function h(r,i){for(var n=r[0],l=[n],s,u=1,d=r.length;u<d;u++)s=r[u],C(s,n)>i&&(l.push(s),n=s);return n!==s&&l.push(s),l}function g(r,i,n,l,s){for(var u=l,d,c=i+1;c<n;c++){var v=t(r[c],r[i],r[n]);v>u&&(d=c,u=v)}u>l&&(d-i>1&&g(r,i,d,l,s),s.push(r[d]),n-d>1&&g(r,d,n,l,s))}function o(r,i){var n=r.length-1,l=[r[0]];return g(r,0,n,i,l),l.push(r[n]),l}var a=function(r,i,n){i===void 0&&(i=1),n===void 0&&(n=!1);var l=r.points;if(l.length>2){var s=i*i;n||(l=h(l,s)),r.setTo(o(l,s))}return r};f.exports=a},5469:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Igor Ognichenko <ognichenko.igor@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(h,g){return h[0]=g[0],h[1]=g[1],h},t=function(h){var g,o=[],a=h.points;for(g=0;g<a.length;g++)o.push([a[g].x,a[g].y]);var r=[];for(o.length>0&&r.push(C([0,0],o[0])),g=0;g<o.length-1;g++){var i=o[g],n=o[g+1],l=i[0],s=i[1],u=n[0],d=n[1];r.push([.85*l+.15*u,.85*s+.15*d]),r.push([.15*l+.85*u,.15*s+.85*d])}return o.length>1&&r.push(C([0,0],o[o.length-1])),h.setTo(r)};f.exports=t},24709:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h,g){for(var o=t.points,a=0;a<o.length;a++)o[a].x+=h,o[a].y+=g;return t};f.exports=C},58423:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25717);h.Clone=t(12306),h.Contains=t(63814),h.ContainsPoint=t(99338),h.Earcut=t(94811),h.GetAABB=t(13829),h.GetNumberArray=t(26173),h.GetPoints=t(9564),h.Perimeter=t(30052),h.Reverse=t(8133),h.Simplify=t(29524),h.Smooth=t(5469),h.Translate=t(24709),f.exports=h},62224:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t){return t.width*t.height};f.exports=C},98615:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t){return t.x=Math.ceil(t.x),t.y=Math.ceil(t.y),t};f.exports=C},31688:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t){return t.x=Math.ceil(t.x),t.y=Math.ceil(t.y),t.width=Math.ceil(t.width),t.height=Math.ceil(t.height),t};f.exports=C},67502:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h,g){return t.x=h-t.width/2,t.y=g-t.height/2,t};f.exports=C},65085:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87841),g=function(o){return new h(o.x,o.y,o.width,o.height)};f.exports=g},37303:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h,g){return t.width<=0||t.height<=0?!1:t.x<=h&&t.x+t.width>=h&&t.y<=g&&t.y+t.height>=g};f.exports=C},96553:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(37303),g=function(o,a){return h(o,a.x,a.y)};f.exports=g},70273:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h){return h.width*h.height>t.width*t.height?!1:h.x>t.x&&h.x<t.right&&h.right>t.x&&h.right<t.right&&h.y>t.y&&h.y<t.bottom&&h.bottom>t.y&&h.bottom<t.bottom};f.exports=C},43459:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h){return h.setTo(t.x,t.y,t.width,t.height)};f.exports=C},77493:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h){return h===void 0&&(h=[]),h.push({x:t.x,y:t.y}),h.push({x:t.right,y:t.y}),h.push({x:t.right,y:t.bottom}),h.push({x:t.x,y:t.bottom}),h};f.exports=C},9219:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h){return t.x===h.x&&t.y===h.y&&t.width===h.width&&t.height===h.height};f.exports=C},53751:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(8249),g=function(o,a){var r=h(o);return r<h(a)?o.setSize(a.height*r,a.height):o.setSize(a.width,a.width/r),o.setPosition(a.centerX-o.width/2,a.centerY-o.height/2)};f.exports=g},16088:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(8249),g=function(o,a){var r=h(o);return r>h(a)?o.setSize(a.height*r,a.height):o.setSize(a.width,a.width/r),o.setPosition(a.centerX-o.width/2,a.centerY-o.height/2)};f.exports=g},80774:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t){return t.x=Math.floor(t.x),t.y=Math.floor(t.y),t};f.exports=C},83859:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t){return t.x=Math.floor(t.x),t.y=Math.floor(t.y),t.width=Math.floor(t.width),t.height=Math.floor(t.height),t};f.exports=C},19217:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87841),g=t(36383),o=function(a,r){if(r===void 0&&(r=new h),a.length===0)return r;for(var i=Number.MAX_VALUE,n=Number.MAX_VALUE,l=g.MIN_SAFE_INTEGER,s=g.MIN_SAFE_INTEGER,u,d,c,v=0;v<a.length;v++)u=a[v],Array.isArray(u)?(d=u[0],c=u[1]):(d=u.x,c=u.y),i=Math.min(i,d),n=Math.min(n,c),l=Math.max(l,d),s=Math.max(s,c);return r.x=i,r.y=n,r.width=l-i,r.height=s-n,r};f.exports=o},9477:(f,C,t)=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87841),g=function(o,a,r,i,n){return n===void 0&&(n=new h),n.setTo(Math.min(o,r),Math.min(a,i),Math.abs(o-r),Math.abs(a-i))};f.exports=g},8249:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t){return t.height===0?NaN:t.width/t.height};f.exports=C},27165:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),g=function(o,a){return a===void 0&&(a=new h),a.x=o.centerX,a.y=o.centerY,a};f.exports=g},20812:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(13019),g=t(2141),o=function(a,r,i){if(i===void 0&&(i=new g),r<=0||r>=1)return i.x=a.x,i.y=a.y,i;var n=h(a)*r;return r>.5?(n-=a.width+a.height,n<=a.width?(i.x=a.right-n,i.y=a.bottom):(i.x=a.x,i.y=a.bottom-(n-a.width))):n<=a.width?(i.x=a.x+n,i.y=a.y):(i.x=a.right,i.y=a.y+(n-a.width)),i};f.exports=o},34819:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(20812),g=t(13019),o=function(a,r,i,n){n===void 0&&(n=[]),!r&&i>0&&(r=g(a)/i);for(var l=0;l<r;l++){var s=l/r;n.push(h(a,s))}return n};f.exports=o},51313:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),g=function(o,a){return a===void 0&&(a=new h),a.x=o.width,a.y=o.height,a};f.exports=g},86091:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(67502),g=function(o,a,r){var i=o.centerX,n=o.centerY;return o.setSize(o.width+a*2,o.height+r*2),h(o,i,n)};f.exports=g},53951:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87841),g=t(59996),o=function(a,r,i){return i===void 0&&(i=new h),g(a,r)?(i.x=Math.max(a.x,r.x),i.y=Math.max(a.y,r.y),i.width=Math.min(a.right,r.right)-i.x,i.height=Math.min(a.bottom,r.bottom)-i.y):i.setEmpty(),i};f.exports=o},14649:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(13019),g=t(2141),o=function(a,r,i,n){if(n===void 0&&(n=[]),!r&&!i)return n;r?i=Math.round(h(a)/r):r=h(a)/i;for(var l=a.x,s=a.y,u=0,d=0;d<i;d++)switch(n.push(new g(l,s)),u){case 0:l+=r,l>=a.right&&(u=1,s+=l-a.right,l=a.right);break;case 1:s+=r,s>=a.bottom&&(u=2,l-=s-a.bottom,s=a.bottom);break;case 2:l-=r,l<=a.left&&(u=3,s-=a.left-l,l=a.left);break;case 3:s-=r,s<=a.top&&(u=0,s=a.top);break}return n};f.exports=o},33595:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h){for(var g=t.x,o=t.right,a=t.y,r=t.bottom,i=0;i<h.length;i++)g=Math.min(g,h[i].x),o=Math.max(o,h[i].x),a=Math.min(a,h[i].y),r=Math.max(r,h[i].y);return t.x=g,t.y=a,t.width=o-g,t.height=r-a,t};f.exports=C},20074:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h){var g=Math.min(t.x,h.x),o=Math.max(t.right,h.right);t.x=g,t.width=o-g;var a=Math.min(t.y,h.y),r=Math.max(t.bottom,h.bottom);return t.y=a,t.height=r-a,t};f.exports=C},92171:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h,g){var o=Math.min(t.x,h),a=Math.max(t.right,h);t.x=o,t.width=a-o;var r=Math.min(t.y,g),i=Math.max(t.bottom,g);return t.y=r,t.height=i-r,t};f.exports=C},42981:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h,g){return t.x+=h,t.y+=g,t};f.exports=C},46907:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h){return t.x+=h.x,t.y+=h.y,t};f.exports=C},60170:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h){return t.x<h.right&&t.right>h.x&&t.y<h.bottom&&t.bottom>h.y};f.exports=C},13019:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t){return 2*(t.width+t.height)};f.exports=C},85133:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),g=t(39506),o=function(a,r,i){i===void 0&&(i=new h),r=g(r);var n=Math.sin(r),l=Math.cos(r),s=l>0?a.width/2:a.width/-2,u=n>0?a.height/2:a.height/-2;return Math.abs(s*n)<Math.abs(u*l)?u=s*n/l:s=u*l/n,i.x=s+a.centerX,i.y=u+a.centerY,i};f.exports=o},26597:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),g=function(o,a){return a===void 0&&(a=new h),a.x=o.x+Math.random()*o.width,a.y=o.y+Math.random()*o.height,a};f.exports=g},86470:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(30976),g=t(70273),o=t(2141),a=function(r,i,n){if(n===void 0&&(n=new o),g(r,i))switch(h(0,3)){case 0:n.x=r.x+Math.random()*(i.right-r.x),n.y=r.y+Math.random()*(i.top-r.y);break;case 1:n.x=i.x+Math.random()*(r.right-i.x),n.y=i.bottom+Math.random()*(r.bottom-i.bottom);break;case 2:n.x=r.x+Math.random()*(i.x-r.x),n.y=i.y+Math.random()*(r.bottom-i.y);break;case 3:n.x=i.right+Math.random()*(r.right-i.right),n.y=r.y+Math.random()*(i.bottom-r.y);break}return n};f.exports=a},87841:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(37303),o=t(20812),a=t(34819),r=t(23777),i=t(23031),n=t(26597),l=new h({initialize:function(u,d,c,v){u===void 0&&(u=0),d===void 0&&(d=0),c===void 0&&(c=0),v===void 0&&(v=0),this.type=r.RECTANGLE,this.x=u,this.y=d,this.width=c,this.height=v},contains:function(s,u){return g(this,s,u)},getPoint:function(s,u){return o(this,s,u)},getPoints:function(s,u,d){return a(this,s,u,d)},getRandomPoint:function(s){return n(this,s)},setTo:function(s,u,d,c){return this.x=s,this.y=u,this.width=d,this.height=c,this},setEmpty:function(){return this.setTo(0,0,0,0)},setPosition:function(s,u){return u===void 0&&(u=s),this.x=s,this.y=u,this},setSize:function(s,u){return u===void 0&&(u=s),this.width=s,this.height=u,this},isEmpty:function(){return this.width<=0||this.height<=0},getLineA:function(s){return s===void 0&&(s=new i),s.setTo(this.x,this.y,this.right,this.y),s},getLineB:function(s){return s===void 0&&(s=new i),s.setTo(this.right,this.y,this.right,this.bottom),s},getLineC:function(s){return s===void 0&&(s=new i),s.setTo(this.right,this.bottom,this.x,this.bottom),s},getLineD:function(s){return s===void 0&&(s=new i),s.setTo(this.x,this.bottom,this.x,this.y),s},left:{get:function(){return this.x},set:function(s){s>=this.right?this.width=0:this.width=this.right-s,this.x=s}},right:{get:function(){return this.x+this.width},set:function(s){s<=this.x?this.width=0:this.width=s-this.x}},top:{get:function(){return this.y},set:function(s){s>=this.bottom?this.height=0:this.height=this.bottom-s,this.y=s}},bottom:{get:function(){return this.y+this.height},set:function(s){s<=this.y?this.height=0:this.height=s-this.y}},centerX:{get:function(){return this.x+this.width/2},set:function(s){this.x=s-this.width/2}},centerY:{get:function(){return this.y+this.height/2},set:function(s){this.y=s-this.height/2}}});f.exports=l},94845:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h){return t.width===h.width&&t.height===h.height};f.exports=C},31730:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h,g){return g===void 0&&(g=h),t.width*=h,t.height*=g,t};f.exports=C},36899:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87841),g=function(o,a,r){r===void 0&&(r=new h);var i=Math.min(o.x,a.x),n=Math.min(o.y,a.y),l=Math.max(o.right,a.right)-i,s=Math.max(o.bottom,a.bottom)-n;return r.setTo(i,n,l,s)};f.exports=g},93232:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87841);h.Area=t(62224),h.Ceil=t(98615),h.CeilAll=t(31688),h.CenterOn=t(67502),h.Clone=t(65085),h.Contains=t(37303),h.ContainsPoint=t(96553),h.ContainsRect=t(70273),h.CopyFrom=t(43459),h.Decompose=t(77493),h.Equals=t(9219),h.FitInside=t(53751),h.FitOutside=t(16088),h.Floor=t(80774),h.FloorAll=t(83859),h.FromPoints=t(19217),h.FromXY=t(9477),h.GetAspectRatio=t(8249),h.GetCenter=t(27165),h.GetPoint=t(20812),h.GetPoints=t(34819),h.GetSize=t(51313),h.Inflate=t(86091),h.Intersection=t(53951),h.MarchingAnts=t(14649),h.MergePoints=t(33595),h.MergeRect=t(20074),h.MergeXY=t(92171),h.Offset=t(42981),h.OffsetPoint=t(46907),h.Overlaps=t(60170),h.Perimeter=t(13019),h.PerimeterPoint=t(85133),h.Random=t(26597),h.RandomOutside=t(86470),h.SameDimensions=t(94845),h.Scale=t(31730),h.Union=t(36899),f.exports=h},41658:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t){var h=t.x1,g=t.y1,o=t.x2,a=t.y2,r=t.x3,i=t.y3;return Math.abs(((r-h)*(a-g)-(o-h)*(i-g))/2)};f.exports=C},39208:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(16483),g=function(o,a,r){var i=r*(Math.sqrt(3)/2),n=o,l=a,s=o+r/2,u=a+i,d=o-r/2,c=a+i;return new h(n,l,s,u,d,c)};f.exports=g},39545:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(94811),g=t(16483),o=function(a,r,i,n,l){r===void 0&&(r=null),i===void 0&&(i=1),n===void 0&&(n=1),l===void 0&&(l=[]);for(var s=h(a,r),u,d,c,v,y,x,S,E,A,R=0;R<s.length;R+=3)u=s[R],d=s[R+1],c=s[R+2],v=a[u*2]*i,y=a[u*2+1]*n,x=a[d*2]*i,S=a[d*2+1]*n,E=a[c*2]*i,A=a[c*2+1]*n,l.push(new g(v,y,x,S,E,A));return l};f.exports=o},90301:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(16483),g=function(o,a,r,i){i===void 0&&(i=r);var n=o,l=a,s=o,u=a-i,d=o+r,c=a;return new h(n,l,s,u,d,c)};f.exports=g},23707:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(97523),g=t(13584),o=function(a,r,i,n){n===void 0&&(n=h);var l=n(a),s=r-l.x,u=i-l.y;return g(a,s,u)};f.exports=o},97523:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),g=function(o,a){return a===void 0&&(a=new h),a.x=(o.x1+o.x2+o.x3)/3,a.y=(o.y1+o.y2+o.y3)/3,a};f.exports=g},24951:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26099);function g(a,r,i,n){return a*n-r*i}var o=function(a,r){r===void 0&&(r=new h);var i=a.x3,n=a.y3,l=a.x1-i,s=a.y1-n,u=a.x2-i,d=a.y2-n,c=2*g(l,s,u,d),v=g(s,l*l+s*s,d,u*u+d*d),y=g(l,l*l+s*s,u,u*u+d*d);return r.x=i-v/c,r.y=n+y/c,r};f.exports=o},85614:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(96503),g=function(o,a){a===void 0&&(a=new h);var r=o.x1,i=o.y1,n=o.x2,l=o.y2,s=o.x3,u=o.y3,d=n-r,c=l-i,v=s-r,y=u-i,x=d*(r+n)+c*(i+l),S=v*(r+s)+y*(i+u),E=2*(d*(u-l)-c*(s-n)),A,R;if(Math.abs(E)<1e-6){var w=Math.min(r,n,s),I=Math.min(i,l,u);A=(Math.max(r,n,s)-w)*.5,R=(Math.max(i,l,u)-I)*.5,a.x=w+A,a.y=I+R,a.radius=Math.sqrt(A*A+R*R)}else a.x=(y*x-c*S)/E,a.y=(d*S-v*x)/E,A=a.x-r,R=a.y-i,a.radius=Math.sqrt(A*A+R*R);return a};f.exports=g},74422:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(16483),g=function(o){return new h(o.x1,o.y1,o.x2,o.y2,o.x3,o.y3)};f.exports=g},10690:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h,g){var o=t.x3-t.x1,a=t.y3-t.y1,r=t.x2-t.x1,i=t.y2-t.y1,n=h-t.x1,l=g-t.y1,s=o*o+a*a,u=o*r+a*i,d=o*n+a*l,c=r*r+i*i,v=r*n+i*l,y=s*c-u*u,x=y===0?0:1/y,S=(c*d-u*v)*x,E=(s*v-u*d)*x;return S>=0&&E>=0&&S+E<1};f.exports=C},48653:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h,g,o){g===void 0&&(g=!1),o===void 0&&(o=[]);for(var a=t.x3-t.x1,r=t.y3-t.y1,i=t.x2-t.x1,n=t.y2-t.y1,l=a*a+r*r,s=a*i+r*n,u=i*i+n*n,d=l*u-s*s,c=d===0?0:1/d,v,y,x,S,E,A,R=t.x1,w=t.y1,I=0;I<h.length&&(x=h[I].x-R,S=h[I].y-w,E=a*x+r*S,A=i*x+n*S,v=(u*E-s*A)*c,y=(l*A-s*E)*c,!(v>=0&&y>=0&&v+y<1&&(o.push({x:h[I].x,y:h[I].y}),g)));I++);return o};f.exports=C},96006:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(10690),g=function(o,a){return h(o,a.x,a.y)};f.exports=g},71326:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h){return h.setTo(t.x1,t.y1,t.x2,t.y2,t.x3,t.y3)};f.exports=C},71694:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h){return h===void 0&&(h=[]),h.push({x:t.x1,y:t.y1}),h.push({x:t.x2,y:t.y2}),h.push({x:t.x3,y:t.y3}),h};f.exports=C},33522:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h){return t.x1===h.x1&&t.y1===h.y1&&t.x2===h.x2&&t.y2===h.y2&&t.x3===h.x3&&t.y3===h.y3};f.exports=C},20437:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),g=t(35001),o=function(a,r,i){i===void 0&&(i=new h);var n=a.getLineA(),l=a.getLineB(),s=a.getLineC();if(r<=0||r>=1)return i.x=n.x1,i.y=n.y1,i;var u=g(n),d=g(l),c=g(s),v=u+d+c,y=v*r,x=0;return y<u?(x=y/u,i.x=n.x1+(n.x2-n.x1)*x,i.y=n.y1+(n.y2-n.y1)*x):y>u+d?(y-=u+d,x=y/c,i.x=s.x1+(s.x2-s.x1)*x,i.y=s.y1+(s.y2-s.y1)*x):(y-=u,x=y/d,i.x=l.x1+(l.x2-l.x1)*x,i.y=l.y1+(l.y2-l.y1)*x),i};f.exports=o},80672:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(35001),g=t(2141),o=function(a,r,i,n){n===void 0&&(n=[]);var l=a.getLineA(),s=a.getLineB(),u=a.getLineC(),d=h(l),c=h(s),v=h(u),y=d+c+v;!r&&i>0&&(r=y/i);for(var x=0;x<r;x++){var S=y*(x/r),E=0,A=new g;S<d?(E=S/d,A.x=l.x1+(l.x2-l.x1)*E,A.y=l.y1+(l.y2-l.y1)*E):S>d+c?(S-=d+c,E=S/v,A.x=u.x1+(u.x2-u.x1)*E,A.y=u.y1+(u.y2-u.y1)*E):(S-=d,E=S/c,A.x=s.x1+(s.x2-s.x1)*E,A.y=s.y1+(s.y2-s.y1)*E),n.push(A)}return n};f.exports=o},39757:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141);function g(a,r,i,n){var l=a-i,s=r-n,u=l*l+s*s;return Math.sqrt(u)}var o=function(a,r){r===void 0&&(r=new h);var i=a.x1,n=a.y1,l=a.x2,s=a.y2,u=a.x3,d=a.y3,c=g(u,d,l,s),v=g(i,n,u,d),y=g(l,s,i,n),x=c+v+y;return r.x=(i*c+l*v+u*y)/x,r.y=(n*c+s*v+d*y)/x,r};f.exports=o},13584:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h,g){return t.x1+=h,t.y1+=g,t.x2+=h,t.y2+=g,t.x3+=h,t.y3+=g,t};f.exports=C},1376:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(35001),g=function(o){var a=o.getLineA(),r=o.getLineB(),i=o.getLineC();return h(a)+h(r)+h(i)};f.exports=g},90260:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),g=function(o,a){a===void 0&&(a=new h);var r=o.x2-o.x1,i=o.y2-o.y1,n=o.x3-o.x1,l=o.y3-o.y1,s=Math.random(),u=Math.random();return s+u>=1&&(s=1-s,u=1-u),a.x=o.x1+(r*s+n*u),a.y=o.y1+(i*s+l*u),a};f.exports=g},52172:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(99614),g=t(39757),o=function(a,r){var i=g(a);return h(a,i.x,i.y,r)};f.exports=o},49907:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(99614),g=function(o,a,r){return h(o,a.x,a.y,r)};f.exports=g},99614:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h,g,o){var a=Math.cos(o),r=Math.sin(o),i=t.x1-h,n=t.y1-g;return t.x1=i*a-n*r+h,t.y1=i*r+n*a+g,i=t.x2-h,n=t.y2-g,t.x2=i*a-n*r+h,t.y2=i*r+n*a+g,i=t.x3-h,n=t.y3-g,t.x3=i*a-n*r+h,t.y3=i*r+n*a+g,t};f.exports=C},16483:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(10690),o=t(20437),a=t(80672),r=t(23777),i=t(23031),n=t(90260),l=new h({initialize:function(u,d,c,v,y,x){u===void 0&&(u=0),d===void 0&&(d=0),c===void 0&&(c=0),v===void 0&&(v=0),y===void 0&&(y=0),x===void 0&&(x=0),this.type=r.TRIANGLE,this.x1=u,this.y1=d,this.x2=c,this.y2=v,this.x3=y,this.y3=x},contains:function(s,u){return g(this,s,u)},getPoint:function(s,u){return o(this,s,u)},getPoints:function(s,u,d){return a(this,s,u,d)},getRandomPoint:function(s){return n(this,s)},setTo:function(s,u,d,c,v,y){return s===void 0&&(s=0),u===void 0&&(u=0),d===void 0&&(d=0),c===void 0&&(c=0),v===void 0&&(v=0),y===void 0&&(y=0),this.x1=s,this.y1=u,this.x2=d,this.y2=c,this.x3=v,this.y3=y,this},getLineA:function(s){return s===void 0&&(s=new i),s.setTo(this.x1,this.y1,this.x2,this.y2),s},getLineB:function(s){return s===void 0&&(s=new i),s.setTo(this.x2,this.y2,this.x3,this.y3),s},getLineC:function(s){return s===void 0&&(s=new i),s.setTo(this.x3,this.y3,this.x1,this.y1),s},left:{get:function(){return Math.min(this.x1,this.x2,this.x3)},set:function(s){var u=0;this.x1<=this.x2&&this.x1<=this.x3?u=this.x1-s:this.x2<=this.x1&&this.x2<=this.x3?u=this.x2-s:u=this.x3-s,this.x1-=u,this.x2-=u,this.x3-=u}},right:{get:function(){return Math.max(this.x1,this.x2,this.x3)},set:function(s){var u=0;this.x1>=this.x2&&this.x1>=this.x3?u=this.x1-s:this.x2>=this.x1&&this.x2>=this.x3?u=this.x2-s:u=this.x3-s,this.x1-=u,this.x2-=u,this.x3-=u}},top:{get:function(){return Math.min(this.y1,this.y2,this.y3)},set:function(s){var u=0;this.y1<=this.y2&&this.y1<=this.y3?u=this.y1-s:this.y2<=this.y1&&this.y2<=this.y3?u=this.y2-s:u=this.y3-s,this.y1-=u,this.y2-=u,this.y3-=u}},bottom:{get:function(){return Math.max(this.y1,this.y2,this.y3)},set:function(s){var u=0;this.y1>=this.y2&&this.y1>=this.y3?u=this.y1-s:this.y2>=this.y1&&this.y2>=this.y3?u=this.y2-s:u=this.y3-s,this.y1-=u,this.y2-=u,this.y3-=u}}});f.exports=l},84435:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(16483);h.Area=t(41658),h.BuildEquilateral=t(39208),h.BuildFromPolygon=t(39545),h.BuildRight=t(90301),h.CenterOn=t(23707),h.Centroid=t(97523),h.CircumCenter=t(24951),h.CircumCircle=t(85614),h.Clone=t(74422),h.Contains=t(10690),h.ContainsArray=t(48653),h.ContainsPoint=t(96006),h.CopyFrom=t(71326),h.Decompose=t(71694),h.Equals=t(33522),h.GetPoint=t(20437),h.GetPoints=t(80672),h.InCenter=t(39757),h.Perimeter=t(1376),h.Offset=t(13584),h.Random=t(90260),h.Rotate=t(52172),h.RotateAroundPoint=t(49907),h.RotateAroundXY=t(99614),f.exports=h},74457:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h,g){return{gameObject:t,enabled:!0,draggable:!1,dropZone:!1,cursor:!1,target:null,camera:null,hitArea:h,hitAreaCallback:g,hitAreaDebug:null,customHitArea:!1,localX:0,localY:0,dragState:0,dragStartX:0,dragStartY:0,dragStartXGlobal:0,dragStartYGlobal:0,dragStartCamera:null,dragX:0,dragY:0}};f.exports=C},84409:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h){return function(g,o,a,r){var i=t.getPixelAlpha(o,a,r.texture.key,r.frame.name);return i&&i>=h}};f.exports=C},7003:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(93301),o=t(50792),a=t(8214),r=t(8443),i=t(78970),n=t(85098),l=t(42515),s=t(36210),u=t(61340),d=t(85955),c=new h({initialize:function(y,x){this.game=y,this.scaleManager,this.canvas,this.config=x,this.enabled=!0,this.events=new o,this.isOver=!0,this.defaultCursor="",this.keyboard=x.inputKeyboard?new i(this):null,this.mouse=x.inputMouse?new n(this):null,this.touch=x.inputTouch?new s(this):null,this.pointers=[],this.pointersTotal=x.inputActivePointers;for(var S=0;S<=this.pointersTotal;S++){var E=new l(this,S);E.smoothFactor=x.inputSmoothFactor,this.pointers.push(E)}this.mousePointer=x.inputMouse?this.pointers[0]:null,this.activePointer=this.pointers[0],this.globalTopOnly=!0,this.time=0,this._tempPoint={x:0,y:0},this._tempHitTest=[],this._tempMatrix=new u,this._tempMatrix2=new u,this._tempSkip=!1,this.mousePointerContainer=[this.mousePointer],y.events.once(r.BOOT,this.boot,this)},boot:function(){var v=this.game,y=v.events;this.canvas=v.canvas,this.scaleManager=v.scale,this.events.emit(a.MANAGER_BOOT),y.on(r.PRE_RENDER,this.preRender,this),y.once(r.DESTROY,this.destroy,this)},setCanvasOver:function(v){this.isOver=!0,this.events.emit(a.GAME_OVER,v)},setCanvasOut:function(v){this.isOver=!1,this.events.emit(a.GAME_OUT,v)},preRender:function(){var v=this.game.loop.now,y=this.game.loop.delta,x=this.game.scene.getScenes(!0,!0);this.time=v,this.events.emit(a.MANAGER_UPDATE);for(var S=0;S<x.length;S++){var E=x[S];if(E.sys.input&&E.sys.input.updatePoll(v,y)&&this.globalTopOnly)return}},setDefaultCursor:function(v){this.defaultCursor=v,this.canvas.style.cursor!==v&&(this.canvas.style.cursor=v)},setCursor:function(v){v.cursor&&(this.canvas.style.cursor=v.cursor)},resetCursor:function(v,y){(y||v&&v.cursor)&&this.canvas&&(this.canvas.style.cursor=this.defaultCursor)},addPointer:function(v){v===void 0&&(v=1);var y=[];this.pointersTotal+v>10&&(v=10-this.pointersTotal);for(var x=0;x<v;x++){var S=this.pointers.length,E=new l(this,S);E.smoothFactor=this.config.inputSmoothFactor,this.pointers.push(E),this.pointersTotal++,y.push(E)}return y},updateInputPlugins:function(v,y){var x=this.game.scene.getScenes(!1,!0);this._tempSkip=!1;for(var S=0;S<x.length;S++){var E=x[S];if(E.sys.input){var A=E.sys.input.update(v,y);if(A&&this.globalTopOnly||this._tempSkip)return}}},onTouchStart:function(v){for(var y=this.pointers,x=[],S=0;S<v.changedTouches.length;S++)for(var E=v.changedTouches[S],A=1;A<y.length;A++){var R=y[A];if(!R.active){R.touchstart(E,v),this.activePointer=R,x.push(R);break}}this.updateInputPlugins(g.TOUCH_START,x)},onTouchMove:function(v){for(var y=this.pointers,x=[],S=0;S<v.changedTouches.length;S++)for(var E=v.changedTouches[S],A=1;A<y.length;A++){var R=y[A];if(R.active&&R.identifier===E.identifier){var w=document.elementFromPoint(E.clientX,E.clientY),I=w===this.canvas;!this.isOver&&I?this.setCanvasOver(v):this.isOver&&!I&&this.setCanvasOut(v),this.isOver&&(R.touchmove(E,v),this.activePointer=R,x.push(R));break}}this.updateInputPlugins(g.TOUCH_MOVE,x)},onTouchEnd:function(v){for(var y=this.pointers,x=[],S=0;S<v.changedTouches.length;S++)for(var E=v.changedTouches[S],A=1;A<y.length;A++){var R=y[A];if(R.active&&R.identifier===E.identifier){R.touchend(E,v),x.push(R);break}}this.updateInputPlugins(g.TOUCH_END,x)},onTouchCancel:function(v){for(var y=this.pointers,x=[],S=0;S<v.changedTouches.length;S++)for(var E=v.changedTouches[S],A=1;A<y.length;A++){var R=y[A];if(R.active&&R.identifier===E.identifier){R.touchcancel(E,v),x.push(R);break}}this.updateInputPlugins(g.TOUCH_CANCEL,x)},onMouseDown:function(v){var y=this.mousePointer;y.down(v),y.updateMotion(),this.activePointer=y,this.updateInputPlugins(g.MOUSE_DOWN,this.mousePointerContainer)},onMouseMove:function(v){var y=this.mousePointer;y.move(v),y.updateMotion(),this.activePointer=y,this.updateInputPlugins(g.MOUSE_MOVE,this.mousePointerContainer)},onMouseUp:function(v){var y=this.mousePointer;y.up(v),y.updateMotion(),this.activePointer=y,this.updateInputPlugins(g.MOUSE_UP,this.mousePointerContainer)},onMouseWheel:function(v){var y=this.mousePointer;y.wheel(v),this.activePointer=y,this.updateInputPlugins(g.MOUSE_WHEEL,this.mousePointerContainer)},onPointerLockChange:function(v){var y=this.mouse.locked;this.mousePointer.locked=y,this.events.emit(a.POINTERLOCK_CHANGE,v,y)},inputCandidate:function(v,y){var x=v.input;if(!x||!x.enabled||!v.willRender(y))return!1;var S=!0,E=v.parentContainer;if(E)do{if(!E.willRender(y)){S=!1;break}E=E.parentContainer}while(E);return S},hitTest:function(v,y,x,S){S===void 0&&(S=this._tempHitTest);var E=this._tempPoint,A=x.scrollX,R=x.scrollY;S.length=0;var w=v.x,I=v.y;x.getWorldPoint(w,I,E),v.worldX=E.x,v.worldY=E.y;for(var O={x:0,y:0},F=this._tempMatrix,L=this._tempMatrix2,D=0;D<y.length;D++){var b=y[D];if(this.inputCandidate(b,x)){var G=E.x+A*b.scrollFactorX-A,W=E.y+R*b.scrollFactorY-R;b.parentContainer?(b.getWorldTransformMatrix(F,L),F.applyInverse(G,W,O)):d(G,W,b.x,b.y,b.rotation,b.scaleX,b.scaleY,O),this.pointWithinHitArea(b,O.x,O.y)&&S.push(b)}}return S},pointWithinHitArea:function(v,y,x){y+=v.displayOriginX,x+=v.displayOriginY;var S=v.input;return S&&S.hitAreaCallback(S.hitArea,y,x,v)?(S.localX=y,S.localY=x,!0):!1},pointWithinInteractiveObject:function(v,y,x){return v.hitArea?(y+=v.gameObject.displayOriginX,x+=v.gameObject.displayOriginY,v.localX=y,v.localY=x,v.hitAreaCallback(v.hitArea,y,x,v)):!1},transformPointer:function(v,y,x,S){var E=v.position,A=v.prevPosition;A.x=E.x,A.y=E.y;var R=this.scaleManager.transformX(y),w=this.scaleManager.transformY(x),I=v.smoothFactor;!S||I===0?(E.x=R,E.y=w):(E.x=R*I+A.x*(1-I),E.y=w*I+A.y*(1-I))},destroy:function(){this.events.removeAllListeners(),this.game.events.off(r.PRE_RENDER),this.keyboard&&this.keyboard.destroy(),this.mouse&&this.mouse.destroy(),this.touch&&this.touch.destroy();for(var v=0;v<this.pointers.length;v++)this.pointers[v].destroy();this.pointers=[],this._tempHitTest=[],this._tempMatrix.destroy(),this.canvas=null,this.game=null}});f.exports=c},48205:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(96503),g=t(87902),o=t(83419),a=t(93301),r=t(74457),i=t(84409),n=t(20339),l=t(8497),s=t(81154),u=t(8214),d=t(50792),c=t(95540),v=t(23777),y=t(89639),x=t(41212),S=t(37277),E=t(87841),A=t(37303),R=t(44594),w=t(16483),I=t(10690),O=new o({Extends:d,initialize:function(L){d.call(this),this.scene=L,this.systems=L.sys,this.settings=L.sys.settings,this.manager=L.sys.game.input,this.pluginEvents=new d,this.enabled=!0,this.displayList,this.cameras,y.install(this),this.mouse=this.manager.mouse,this.topOnly=!0,this.pollRate=-1,this._pollTimer=0;var D={cancelled:!1};this._eventContainer={stopPropagation:function(){D.cancelled=!0}},this._eventData=D,this.dragDistanceThreshold=0,this.dragTimeThreshold=0,this._temp=[],this._tempZones=[],this._list=[],this._pendingInsertion=[],this._pendingRemoval=[],this._draggable=[],this._drag={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._dragState=[],this._over={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._validTypes=["onDown","onUp","onOver","onOut","onMove","onDragStart","onDrag","onDragEnd","onDragEnter","onDragLeave","onDragOver","onDrop"],this._updatedThisFrame=!1,L.sys.events.once(R.BOOT,this.boot,this),L.sys.events.on(R.START,this.start,this)},boot:function(){this.cameras=this.systems.cameras,this.displayList=this.systems.displayList,this.systems.events.once(R.DESTROY,this.destroy,this),this.pluginEvents.emit(u.BOOT)},start:function(){var F=this.systems.events;F.on(R.TRANSITION_START,this.transitionIn,this),F.on(R.TRANSITION_OUT,this.transitionOut,this),F.on(R.TRANSITION_COMPLETE,this.transitionComplete,this),F.on(R.PRE_UPDATE,this.preUpdate,this),F.once(R.SHUTDOWN,this.shutdown,this),this.manager.events.on(u.GAME_OUT,this.onGameOut,this),this.manager.events.on(u.GAME_OVER,this.onGameOver,this),this.enabled=!0,this._dragState=[0,0,0,0,0,0,0,0,0,0],this.pluginEvents.emit(u.START)},onGameOver:function(F){this.isActive()&&this.emit(u.GAME_OVER,F.timeStamp,F)},onGameOut:function(F){this.isActive()&&this.emit(u.GAME_OUT,F.timeStamp,F)},preUpdate:function(){this.pluginEvents.emit(u.PRE_UPDATE);var F=this._pendingRemoval,L=this._pendingInsertion,D=F.length,b=L.length;if(!(D===0&&b===0)){for(var G=this._list,W=0;W<D;W++){var Y=F[W],H=G.indexOf(Y);H>-1&&(G.splice(H,1),this.clear(Y,!0))}this._pendingRemoval.length=0,this._list=G.concat(L.splice(0))}},isActive:function(){return this.manager&&this.manager.enabled&&this.enabled&&this.scene.sys.canInput()},setCursor:function(F){this.manager&&this.manager.setCursor(F)},resetCursor:function(){this.manager&&this.manager.resetCursor(null,!0)},updatePoll:function(F,L){if(!this.isActive())return!1;if(this.pluginEvents.emit(u.UPDATE,F,L),this._updatedThisFrame)return this._updatedThisFrame=!1,!1;var D,b=this.manager,G=b.pointers;for(D=0;D<G.length;D++)G[D].updateMotion();if(this._list.length===0)return!1;var W=this.pollRate;if(W===-1)return!1;if(W>0)if(this._pollTimer-=L,this._pollTimer<0)this._pollTimer=this.pollRate;else return!1;var Y=!1;for(D=0;D<G.length;D++){var H=0,U=G[D];this._tempZones=[],this._temp=this.hitTestPointer(U),this.sortGameObjects(this._temp,U),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),H+=this.processOverOutEvents(U),this.getDragState(U)===2&&this.processDragThresholdEvent(U,F),H>0&&(Y=!0)}return Y},update:function(F,L){if(!this.isActive())return!1;for(var D=!1,b=0;b<L.length;b++){var G=0,W=L[b];switch(this._tempZones=[],this._temp=this.hitTestPointer(W),this.sortGameObjects(this._temp,W),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),F){case a.MOUSE_DOWN:G+=this.processDragDownEvent(W),G+=this.processDownEvents(W),G+=this.processOverOutEvents(W);break;case a.MOUSE_UP:G+=this.processDragUpEvent(W),G+=this.processUpEvents(W),G+=this.processOverOutEvents(W);break;case a.TOUCH_START:G+=this.processDragDownEvent(W),G+=this.processDownEvents(W),G+=this.processOverEvents(W);break;case a.TOUCH_END:case a.TOUCH_CANCEL:G+=this.processDragUpEvent(W),G+=this.processUpEvents(W),G+=this.processOutEvents(W);break;case a.MOUSE_MOVE:case a.TOUCH_MOVE:G+=this.processDragMoveEvent(W),G+=this.processMoveEvents(W),G+=this.processOverOutEvents(W);break;case a.MOUSE_WHEEL:G+=this.processWheelEvent(W);break}G>0&&(D=!0)}return this._updatedThisFrame=!0,D},clear:function(F,L){L===void 0&&(L=!1),this.disable(F);var D=F.input;D&&(this.removeDebug(F),this.manager.resetCursor(D),D.gameObject=void 0,D.target=void 0,D.hitArea=void 0,D.hitAreaCallback=void 0,D.callbackContext=void 0,F.input=null),L||this.queueForRemoval(F);var b=this._draggable.indexOf(F);return b>-1&&this._draggable.splice(b,1),F},disable:function(F,L){L===void 0&&(L=!1);var D=F.input;D&&(D.enabled=!1,D.dragState=0);for(var b=this._drag,G=this._over,W=this.manager,Y=0,H;Y<W.pointers.length;Y++)H=b[Y].indexOf(F),H>-1&&b[Y].splice(H,1),H=G[Y].indexOf(F),H>-1&&G[Y].splice(H,1);return L&&this.resetCursor(),this},enable:function(F,L,D,b){return b===void 0&&(b=!1),F.input?F.input.enabled=!0:this.setHitArea(F,L,D),F.input&&b&&!F.input.dropZone&&(F.input.dropZone=b),this},hitTestPointer:function(F){for(var L=this.cameras.getCamerasBelowPointer(F),D=0;D<L.length;D++){for(var b=L[D],G=this.manager.hitTest(F,this._list,b),W=0;W<G.length;W++){var Y=G[W];Y.input.dropZone&&this._tempZones.push(Y)}if(G.length>0)return F.camera=b,G}return F.camera=L[0],[]},processDownEvents:function(F){var L=0,D=this._temp,b=this._eventData,G=this._eventContainer;b.cancelled=!1;for(var W=0;W<D.length;W++){var Y=D[W];if(!(!Y.input||!Y.input.enabled)&&(L++,Y.emit(u.GAMEOBJECT_POINTER_DOWN,F,Y.input.localX,Y.input.localY,G),b.cancelled||!this.isActive()||Y.input&&Y.input.enabled&&(this.emit(u.GAMEOBJECT_DOWN,F,Y,G),b.cancelled||!this.isActive())))break}return!b.cancelled&&this.isActive()&&(F.downElement===this.manager.game.canvas?this.emit(u.POINTER_DOWN,F,D):this.emit(u.POINTER_DOWN_OUTSIDE,F)),L},getDragState:function(F){return this._dragState[F.id]},setDragState:function(F,L){this._dragState[F.id]=L},processDragThresholdEvent:function(F,L){var D=!1,b=this.dragTimeThreshold,G=this.dragDistanceThreshold;if((G>0&&n(F.x,F.y,F.downX,F.downY)>=G||b>0&&L>=F.downTime+b)&&(D=!0),D)return this.setDragState(F,3),this.processDragStartList(F)},processDragStartList:function(F){if(this.getDragState(F)!==3)return 0;var L=this._drag[F.id];L.length>1&&(L=L.slice(0));for(var D=0;D<L.length;D++){var b=L[D],G=b.input;G.dragState=2,G.dragStartX=b.x,G.dragStartY=b.y,G.dragStartXGlobal=F.worldX,G.dragStartYGlobal=F.worldY,G.dragStartCamera=F.camera,G.dragX=G.dragStartXGlobal-G.dragStartX,G.dragY=G.dragStartYGlobal-G.dragStartY,b.emit(u.GAMEOBJECT_DRAG_START,F,G.dragX,G.dragY),this.emit(u.DRAG_START,F,b)}return this.setDragState(F,4),L.length},processDragDownEvent:function(F){var L=this._temp;if(this._draggable.length===0||L.length===0||!F.primaryDown||this.getDragState(F)!==0)return 0;this.setDragState(F,1);for(var D=[],b=0;b<L.length;b++){var G=L[b];G.input.draggable&&G.input.dragState===0&&D.push(G)}return D.length===0?(this.setDragState(F,0),0):(D.length>1&&(this.sortGameObjects(D,F),this.topOnly&&D.splice(1)),this._drag[F.id]=D,this.dragDistanceThreshold===0&&this.dragTimeThreshold===0?(this.setDragState(F,3),this.processDragStartList(F)):(this.setDragState(F,2),0))},processDragMoveEvent:function(F){if(this.getDragState(F)===2&&this.processDragThresholdEvent(F,this.manager.game.loop.now),this.getDragState(F)!==4)return 0;var L=this._tempZones,D=this._drag[F.id];D.length>1&&(D=D.slice(0));for(var b=0;b<D.length;b++){var G=D[b],W=G.input,Y=W.target;if(Y){var H=L.indexOf(Y);H===0?(G.emit(u.GAMEOBJECT_DRAG_OVER,F,Y),this.emit(u.DRAG_OVER,F,G,Y)):H>0?(G.emit(u.GAMEOBJECT_DRAG_LEAVE,F,Y),this.emit(u.DRAG_LEAVE,F,G,Y),W.target=L[0],Y=W.target,G.emit(u.GAMEOBJECT_DRAG_ENTER,F,Y),this.emit(u.DRAG_ENTER,F,G,Y)):(G.emit(u.GAMEOBJECT_DRAG_LEAVE,F,Y),this.emit(u.DRAG_LEAVE,F,G,Y),L[0]?(W.target=L[0],Y=W.target,G.emit(u.GAMEOBJECT_DRAG_ENTER,F,Y),this.emit(u.DRAG_ENTER,F,G,Y)):W.target=null)}else!Y&&L[0]&&(W.target=L[0],Y=W.target,G.emit(u.GAMEOBJECT_DRAG_ENTER,F,Y),this.emit(u.DRAG_ENTER,F,G,Y));var U,X,V=F.positionToCamera(W.dragStartCamera);if(!G.parentContainer)U=V.x-W.dragX,X=V.y-W.dragY;else{var B=V.x-W.dragStartXGlobal,z=V.y-W.dragStartYGlobal,K=G.getParentRotation(),k=B*Math.cos(K)+z*Math.sin(K),J=z*Math.cos(K)-B*Math.sin(K);k*=1/G.parentContainer.scaleX,J*=1/G.parentContainer.scaleY,U=k+W.dragStartX,X=J+W.dragStartY}G.emit(u.GAMEOBJECT_DRAG,F,U,X),this.emit(u.DRAG,F,G,U,X)}return D.length},processDragUpEvent:function(F){var L=this._drag[F.id];L.length>1&&(L=L.slice(0));for(var D=0;D<L.length;D++){var b=L[D],G=b.input;if(G&&G.dragState===2){G.dragState=0,G.dragX=G.localX-b.displayOriginX,G.dragY=G.localY-b.displayOriginY,G.dragStartCamera=null;var W=!1,Y=G.target;Y&&(b.emit(u.GAMEOBJECT_DROP,F,Y),this.emit(u.DROP,F,b,Y),G.target=null,W=!0),b.input&&b.input.enabled&&(b.emit(u.GAMEOBJECT_DRAG_END,F,G.dragX,G.dragY,W),this.emit(u.DRAG_END,F,b,W))}}return this.setDragState(F,0),L.splice(0),0},processMoveEvents:function(F){var L=0,D=this._temp,b=this._eventData,G=this._eventContainer;b.cancelled=!1;for(var W=0;W<D.length;W++){var Y=D[W];if(!(!Y.input||!Y.input.enabled)&&(L++,Y.emit(u.GAMEOBJECT_POINTER_MOVE,F,Y.input.localX,Y.input.localY,G),b.cancelled||!this.isActive()||Y.input&&Y.input.enabled&&(this.emit(u.GAMEOBJECT_MOVE,F,Y,G),b.cancelled||!this.isActive()||this.topOnly)))break}return!b.cancelled&&this.isActive()&&this.emit(u.POINTER_MOVE,F,D),L},processWheelEvent:function(F){var L=0,D=this._temp,b=this._eventData,G=this._eventContainer;b.cancelled=!1;for(var W=F.deltaX,Y=F.deltaY,H=F.deltaZ,U=0;U<D.length;U++){var X=D[U];if(!(!X.input||!X.input.enabled)&&(L++,X.emit(u.GAMEOBJECT_POINTER_WHEEL,F,W,Y,H,G),b.cancelled||!this.isActive()||X.input&&X.input.enabled&&(this.emit(u.GAMEOBJECT_WHEEL,F,X,W,Y,H,G),b.cancelled||!this.isActive())))break}return!b.cancelled&&this.isActive()&&this.emit(u.POINTER_WHEEL,F,D,W,Y,H),L},processOverEvents:function(F){var L=this._temp,D=0,b=L.length,G=[];if(b>0){var W=this.manager,Y=this._eventData,H=this._eventContainer;Y.cancelled=!1;for(var U=0;U<b;U++){var X=L[U];if(!(!X.input||!X.input.enabled)&&(G.push(X),W.setCursor(X.input),X.emit(u.GAMEOBJECT_POINTER_OVER,F,X.input.localX,X.input.localY,H),D++,Y.cancelled||!this.isActive()||X.input&&X.input.enabled&&(this.emit(u.GAMEOBJECT_OVER,F,X,H),Y.cancelled||!this.isActive())))break}!Y.cancelled&&this.isActive()&&this.emit(u.POINTER_OVER,F,G)}return this._over[F.id]=G,D},processOutEvents:function(F){var L=this._over[F.id],D=0,b=L.length;if(b>0){var G=this.manager,W=this._eventData,Y=this._eventContainer;W.cancelled=!1,this.sortGameObjects(L,F);for(var H=0;H<b;H++){var U=L[H];if(U=L[H],!(!U.input||!U.input.enabled)&&(G.resetCursor(U.input),U.emit(u.GAMEOBJECT_POINTER_OUT,F,Y),D++,W.cancelled||!this.isActive()||U.input&&U.input.enabled&&(this.emit(u.GAMEOBJECT_OUT,F,U,Y),W.cancelled||!this.isActive())))break}!W.cancelled&&this.isActive()&&this.emit(u.POINTER_OUT,F,L),this._over[F.id]=[]}return D},processOverOutEvents:function(F){var L=this._temp,D,b,G=[],W=[],Y=[],H=this._over[F.id],U=this._drag[F.id],X=this.manager;for(D=0;D<H.length;D++)b=H[D],L.indexOf(b)===-1&&U.indexOf(b)===-1?G.push(b):Y.push(b);for(D=0;D<L.length;D++)b=L[D],H.indexOf(b)===-1&&W.push(b);var V=G.length,B=0,z=this._eventData,K=this._eventContainer;if(z.cancelled=!1,V>0){for(this.sortGameObjects(G,F),D=0;D<V&&(b=G[D],!(!(!b.input||!b.input.enabled)&&(X.resetCursor(b.input),b.emit(u.GAMEOBJECT_POINTER_OUT,F,K),B++,z.cancelled||!this.isActive()||b.input&&b.input.enabled&&(this.emit(u.GAMEOBJECT_OUT,F,b,K),z.cancelled||!this.isActive()))));D++);(!z.cancelled||this.isActive())&&this.emit(u.POINTER_OUT,F,G)}if(V=W.length,z.cancelled=!1,V>0){for(this.sortGameObjects(W,F),D=0;D<V&&(b=W[D],!(!(!b.input||!b.input.enabled)&&(X.setCursor(b.input),b.emit(u.GAMEOBJECT_POINTER_OVER,F,b.input.localX,b.input.localY,K),B++,z.cancelled||!this.isActive()||b.input&&b.input.enabled&&(this.emit(u.GAMEOBJECT_OVER,F,b,K),z.cancelled||!this.isActive()))));D++);!z.cancelled&&this.isActive()&&this.emit(u.POINTER_OVER,F,W)}return H=Y.concat(W),this._over[F.id]=this.sortGameObjects(H,F),B},processUpEvents:function(F){var L=this._temp,D=this._eventData,b=this._eventContainer;D.cancelled=!1;for(var G=0;G<L.length;G++){var W=L[G];if(!(!W.input||!W.input.enabled)&&(W.emit(u.GAMEOBJECT_POINTER_UP,F,W.input.localX,W.input.localY,b),D.cancelled||!this.isActive()||W.input&&W.input.enabled&&(this.emit(u.GAMEOBJECT_UP,F,W,b),D.cancelled||!this.isActive())))break}return!D.cancelled&&this.isActive()&&(F.upElement===this.manager.game.canvas?this.emit(u.POINTER_UP,F,L):this.emit(u.POINTER_UP_OUTSIDE,F)),L.length},forceDownState:function(F,L){this.forceState(F,L,u.GAMEOBJECT_POINTER_DOWN,u.GAMEOBJECT_DOWN,!1)},forceUpState:function(F,L){this.forceState(F,L,u.GAMEOBJECT_POINTER_UP,u.GAMEOBJECT_UP,!1)},forceOverState:function(F,L){this.forceState(F,L,u.GAMEOBJECT_POINTER_OVER,u.GAMEOBJECT_OVER,!0)},forceOutState:function(F,L){this.forceState(F,L,u.GAMEOBJECT_POINTER_OUT,u.GAMEOBJECT_OUT,!1)},forceState:function(F,L,D,b,G){var W=this._eventData,Y=this._eventContainer;W.cancelled=!1,L.input&&L.input.enabled&&(L.emit(D,F,L.input.localX,L.input.localY,Y),G&&this.setCursor(L.input),!W.cancelled&&this.isActive()&&L.input&&L.input.enabled&&this.emit(b,F,L,Y))},queueForInsertion:function(F){return this._pendingInsertion.indexOf(F)===-1&&this._list.indexOf(F)===-1&&this._pendingInsertion.push(F),this},queueForRemoval:function(F){return this._pendingRemoval.push(F),this},setDraggable:function(F,L){L===void 0&&(L=!0),Array.isArray(F)||(F=[F]);for(var D=0;D<F.length;D++){var b=F[D];b.input.draggable=L;var G=this._draggable.indexOf(b);L&&G===-1?this._draggable.push(b):!L&&G>-1&&this._draggable.splice(G,1)}return this},makePixelPerfect:function(F){F===void 0&&(F=1);var L=this.systems.textures;return i(L,F)},setHitArea:function(F,L,D){if(L===void 0)return this.setHitAreaFromTexture(F);Array.isArray(F)||(F=[F]);var b=!1,G=!1,W=!1,Y=!1,H=!1,U=!0;if(x(L)&&Object.keys(L).length){var X=L,V=F.some(function(J){return J.hasOwnProperty("faces")});if(!V){L=c(X,"hitArea",null),D=c(X,"hitAreaCallback",null),H=c(X,"pixelPerfect",!1);var B=c(X,"alphaTolerance",1);H&&(L={},D=this.makePixelPerfect(B))}b=c(X,"draggable",!1),G=c(X,"dropZone",!1),W=c(X,"cursor",!1),Y=c(X,"useHandCursor",!1),(!L||!D)&&(this.setHitAreaFromTexture(F),U=!1)}else typeof L=="function"&&!D&&(D=L,L={});for(var z=0;z<F.length;z++){var K=F[z];if(H&&K.type==="Container"){console.warn("Cannot pixelPerfect test a Container. Use a custom callback.");continue}var k=K.input?K.input:r(K,L,D);k.customHitArea=U,k.dropZone=G,k.cursor=Y?"pointer":W,K.input=k,b&&this.setDraggable(K),this.queueForInsertion(K)}return this},setHitAreaCircle:function(F,L,D,b,G){G===void 0&&(G=g);var W=new h(L,D,b);return this.setHitArea(F,W,G)},setHitAreaEllipse:function(F,L,D,b,G,W){W===void 0&&(W=s);var Y=new l(L,D,b,G);return this.setHitArea(F,Y,W)},setHitAreaFromTexture:function(F,L){L===void 0&&(L=A),Array.isArray(F)||(F=[F]);for(var D=0;D<F.length;D++){var b=F[D],G=b.frame,W=0,Y=0;if(b.width?(W=b.width,Y=b.height):G&&(W=G.realWidth,Y=G.realHeight),b.type==="Container"&&(W===0||Y===0)){console.warn("Container.setInteractive must specify a Shape or call setSize() first");continue}W!==0&&Y!==0&&(b.input=r(b,new E(0,0,W,Y),L),this.queueForInsertion(b))}return this},setHitAreaRectangle:function(F,L,D,b,G,W){W===void 0&&(W=A);var Y=new E(L,D,b,G);return this.setHitArea(F,Y,W)},setHitAreaTriangle:function(F,L,D,b,G,W,Y,H){H===void 0&&(H=I);var U=new w(L,D,b,G,W,Y);return this.setHitArea(F,U,H)},enableDebug:function(F,L){L===void 0&&(L=65280);var D=F.input;if(!D||!D.hitArea)return this;var b=D.hitArea,G=b.type,W=D.hitAreaDebug,Y=this.systems.add,H=this.systems.updateList;W&&(H.remove(W),W.destroy(),W=null);var U=0,X=0;switch(G){case v.CIRCLE:W=Y.arc(0,0,b.radius),U=b.x-b.radius,X=b.y-b.radius;break;case v.ELLIPSE:W=Y.ellipse(0,0,b.width,b.height),U=b.x-b.width/2,X=b.y-b.height/2;break;case v.LINE:W=Y.line(0,0,b.x1,b.y1,b.x2,b.y2);break;case v.POLYGON:W=Y.polygon(0,0,b.points);break;case v.RECTANGLE:W=Y.rectangle(0,0,b.width,b.height),U=b.x,X=b.y;break;case v.TRIANGLE:W=Y.triangle(0,0,b.x1,b.y1,b.x2,b.y2,b.x3,b.y3);break}return W&&(W.isFilled=!1,W.strokeColor=L,W.preUpdate=function(){W.setVisible(F.visible),W.setStrokeStyle(1/F.scale,W.strokeColor),W.setDisplayOrigin(F.displayOriginX,F.displayOriginY);var V=F.x,B=F.y,z=F.rotation,K=F.scaleX,k=F.scaleY;if(F.parentContainer){var J=F.getWorldTransformMatrix();V=J.tx,B=J.ty,z=J.rotation,K=J.scaleX,k=J.scaleY}W.setRotation(z),W.setScale(K,k),W.setPosition(V+U*K,B+X*k),W.setScrollFactor(F.scrollFactorX,F.scrollFactorY),W.setDepth(F.depth)},H.add(W),D.hitAreaDebug=W),this},removeDebug:function(F){var L=F.input;if(L&&L.hitAreaDebug){var D=L.hitAreaDebug;D.destroy(),L.hitAreaDebug=null}return this},setPollAlways:function(){return this.setPollRate(0)},setPollOnMove:function(){return this.setPollRate(-1)},setPollRate:function(F){return this.pollRate=F,this._pollTimer=0,this},setGlobalTopOnly:function(F){return this.manager.globalTopOnly=F,this},setTopOnly:function(F){return this.topOnly=F,this},sortGameObjects:function(F,L){if(F.length<2||!L.camera)return F;var D=L.camera.renderList;return F.sort(function(b,G){var W=Math.max(D.indexOf(b),0),Y=Math.max(D.indexOf(G),0);return Y-W})},sortDropZones:function(F){return F.length<2?F:(this.scene.sys.depthSort(),F.sort(this.sortDropZoneHandler.bind(this)))},sortDropZoneHandler:function(F,L){if(!F.parentContainer&&!L.parentContainer)return this.displayList.getIndex(L)-this.displayList.getIndex(F);if(F.parentContainer===L.parentContainer)return L.parentContainer.getIndex(L)-F.parentContainer.getIndex(F);if(F.parentContainer===L)return-1;if(L.parentContainer===F)return 1;for(var D=F.getIndexList(),b=L.getIndexList(),G=Math.min(D.length,b.length),W=0;W<G;W++){var Y=D[W],H=b[W];if(Y!==H)return H-Y}return b.length-D.length},stopPropagation:function(){return this.manager._tempSkip=!0,this},addPointer:function(F){return this.manager.addPointer(F)},setDefaultCursor:function(F){return this.manager.setDefaultCursor(F),this},transitionIn:function(){this.enabled=this.settings.transitionAllowInput},transitionComplete:function(){this.settings.transitionAllowInput||(this.enabled=!0)},transitionOut:function(){this.enabled=this.settings.transitionAllowInput},shutdown:function(){this.pluginEvents.emit(u.SHUTDOWN),this._temp.length=0,this._list.length=0,this._draggable.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0,this._dragState.length=0;for(var F=0;F<10;F++)this._drag[F]=[],this._over[F]=[];this.removeAllListeners();var L=this.manager;L.canvas.style.cursor=L.defaultCursor;var D=this.systems.events;D.off(R.TRANSITION_START,this.transitionIn,this),D.off(R.TRANSITION_OUT,this.transitionOut,this),D.off(R.TRANSITION_COMPLETE,this.transitionComplete,this),D.off(R.PRE_UPDATE,this.preUpdate,this),L.events.off(u.GAME_OUT,this.onGameOut,this),L.events.off(u.GAME_OVER,this.onGameOver,this),D.off(R.SHUTDOWN,this.shutdown,this)},resetPointers:function(){for(var F=this.manager.pointers,L=0;L<F.length;L++)F[L].reset()},destroy:function(){this.shutdown(),this.pluginEvents.emit(u.DESTROY),this.pluginEvents.removeAllListeners(),this.scene.sys.events.off(R.START,this.start,this),this.scene=null,this.cameras=null,this.manager=null,this.events=null,this.mouse=null},x:{get:function(){return this.manager.activePointer.x}},y:{get:function(){return this.manager.activePointer.y}},isOver:{get:function(){return this.manager.isOver}},mousePointer:{get:function(){return this.manager.mousePointer}},activePointer:{get:function(){return this.manager.activePointer}},pointer1:{get:function(){return this.manager.pointers[1]}},pointer2:{get:function(){return this.manager.pointers[2]}},pointer3:{get:function(){return this.manager.pointers[3]}},pointer4:{get:function(){return this.manager.pointers[4]}},pointer5:{get:function(){return this.manager.pointers[5]}},pointer6:{get:function(){return this.manager.pointers[6]}},pointer7:{get:function(){return this.manager.pointers[7]}},pointer8:{get:function(){return this.manager.pointers[8]}},pointer9:{get:function(){return this.manager.pointers[9]}},pointer10:{get:function(){return this.manager.pointers[10]}}});S.register("InputPlugin",O,"input"),f.exports=O},89639:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(35154),g={},o={};o.register=function(a,r,i,n,l){g[a]={plugin:r,mapping:i,settingsKey:n,configKey:l}},o.getPlugin=function(a){return g[a]},o.install=function(a){var r=a.scene.sys,i=r.settings.input,n=r.game.config;for(var l in g){var s=g[l].plugin,u=g[l].mapping,d=g[l].settingsKey,c=g[l].configKey;h(i,d,n[c])&&(a[u]=new s(a))}},o.remove=function(a){g.hasOwnProperty(a)&&delete g[a]},f.exports=o},42515:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(31040),g=t(83419),o=t(20339),a=t(43855),r=t(47235),i=t(26099),n=t(25892),l=new g({initialize:function(u,d){this.manager=u,this.id=d,this.event,this.downElement,this.upElement,this.camera=null,this.button=0,this.buttons=0,this.position=new i,this.prevPosition=new i,this.midPoint=new i(-1,-1),this.velocity=new i,this.angle=0,this.distance=0,this.smoothFactor=0,this.motionFactor=.2,this.worldX=0,this.worldY=0,this.moveTime=0,this.downX=0,this.downY=0,this.downTime=0,this.upX=0,this.upY=0,this.upTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.active=d===0,this.locked=!1,this.deltaX=0,this.deltaY=0,this.deltaZ=0},updateWorldPoint:function(s){var u=s.getWorldPoint(this.x,this.y);return this.worldX=u.x,this.worldY=u.y,this},positionToCamera:function(s,u){return s.getWorldPoint(this.x,this.y,u)},updateMotion:function(){var s=this.position.x,u=this.position.y,d=this.midPoint.x,c=this.midPoint.y;if(!(s===d&&u===c)){var v=r(this.motionFactor,d,s),y=r(this.motionFactor,c,u);a(v,s,.1)&&(v=s),a(y,u,.1)&&(y=u),this.midPoint.set(v,y);var x=s-v,S=u-y;this.velocity.set(x,S),this.angle=h(v,y,s,u),this.distance=Math.sqrt(x*x+S*S)}},up:function(s){"buttons"in s&&(this.buttons=s.buttons),this.event=s,this.button=s.button,this.upElement=s.target,this.manager.transformPointer(this,s.pageX,s.pageY,!1),s.button===0&&(this.primaryDown=!1,this.upX=this.x,this.upY=this.y),this.buttons===0&&(this.isDown=!1,this.upTime=s.timeStamp,this.wasTouch=!1)},down:function(s){"buttons"in s&&(this.buttons=s.buttons),this.event=s,this.button=s.button,this.downElement=s.target,this.manager.transformPointer(this,s.pageX,s.pageY,!1),s.button===0&&(this.primaryDown=!0,this.downX=this.x,this.downY=this.y),n.macOS&&s.ctrlKey&&(this.buttons=2,this.primaryDown=!1),this.isDown||(this.isDown=!0,this.downTime=s.timeStamp),this.wasTouch=!1},move:function(s){"buttons"in s&&(this.buttons=s.buttons),this.event=s,this.manager.transformPointer(this,s.pageX,s.pageY,!0),this.locked&&(this.movementX=s.movementX||s.mozMovementX||s.webkitMovementX||0,this.movementY=s.movementY||s.mozMovementY||s.webkitMovementY||0),this.moveTime=s.timeStamp,this.wasTouch=!1},wheel:function(s){"buttons"in s&&(this.buttons=s.buttons),this.event=s,this.manager.transformPointer(this,s.pageX,s.pageY,!1),this.deltaX=s.deltaX,this.deltaY=s.deltaY,this.deltaZ=s.deltaZ,this.wasTouch=!1},touchstart:function(s,u){s.pointerId&&(this.pointerId=s.pointerId),this.identifier=s.identifier,this.target=s.target,this.active=!0,this.buttons=1,this.event=u,this.downElement=s.target,this.manager.transformPointer(this,s.pageX,s.pageY,!1),this.primaryDown=!0,this.downX=this.x,this.downY=this.y,this.downTime=u.timeStamp,this.isDown=!0,this.wasTouch=!0,this.wasCanceled=!1,this.updateMotion()},touchmove:function(s,u){this.event=u,this.manager.transformPointer(this,s.pageX,s.pageY,!0),this.moveTime=u.timeStamp,this.wasTouch=!0,this.updateMotion()},touchend:function(s,u){this.buttons=0,this.event=u,this.upElement=s.target,this.manager.transformPointer(this,s.pageX,s.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=u.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!1,this.active=!1,this.updateMotion()},touchcancel:function(s,u){this.buttons=0,this.event=u,this.upElement=s.target,this.manager.transformPointer(this,s.pageX,s.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=u.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!0,this.active=!1},noButtonDown:function(){return this.buttons===0},leftButtonDown:function(){return!!(this.buttons&1)},rightButtonDown:function(){return!!(this.buttons&2)},middleButtonDown:function(){return!!(this.buttons&4)},backButtonDown:function(){return!!(this.buttons&8)},forwardButtonDown:function(){return!!(this.buttons&16)},leftButtonReleased:function(){return this.buttons===0?this.button===0&&!this.isDown:this.button===0},rightButtonReleased:function(){return this.buttons===0?this.button===2&&!this.isDown:this.button===2},middleButtonReleased:function(){return this.buttons===0?this.button===1&&!this.isDown:this.button===1},backButtonReleased:function(){return this.buttons===0?this.button===3&&!this.isDown:this.button===3},forwardButtonReleased:function(){return this.buttons===0?this.button===4&&!this.isDown:this.button===4},getDistance:function(){return this.isDown?o(this.downX,this.downY,this.x,this.y):o(this.downX,this.downY,this.upX,this.upY)},getDistanceX:function(){return this.isDown?Math.abs(this.downX-this.x):Math.abs(this.downX-this.upX)},getDistanceY:function(){return this.isDown?Math.abs(this.downY-this.y):Math.abs(this.downY-this.upY)},getDuration:function(){return this.isDown?this.manager.time-this.downTime:this.upTime-this.downTime},getAngle:function(){return this.isDown?h(this.downX,this.downY,this.x,this.y):h(this.downX,this.downY,this.upX,this.upY)},getInterpolatedPosition:function(s,u){s===void 0&&(s=10),u===void 0&&(u=[]);for(var d=this.prevPosition.x,c=this.prevPosition.y,v=this.position.x,y=this.position.y,x=0;x<s;x++){var S=1/s*x;u[x]={x:r(S,d,v),y:r(S,c,y)}}return u},reset:function(){this.event=null,this.downElement=null,this.upElement=null,this.button=0,this.buttons=0,this.position.set(0,0),this.prevPosition.set(0,0),this.midPoint.set(-1,-1),this.velocity.set(0,0),this.angle=0,this.distance=0,this.worldX=0,this.worldY=0,this.downX=0,this.downY=0,this.upX=0,this.upY=0,this.moveTime=0,this.upTime=0,this.downTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.deltaX=0,this.deltaY=0,this.deltaZ=0,this.active=this.id===0},destroy:function(){this.camera=null,this.manager=null,this.position=null},x:{get:function(){return this.position.x},set:function(s){this.position.x=s}},y:{get:function(){return this.position.y},set:function(s){this.position.y=s}},time:{get:function(){return this.event?this.event.timeStamp:0}}});f.exports=l},93301:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={MOUSE_DOWN:0,MOUSE_MOVE:1,MOUSE_UP:2,TOUCH_START:3,TOUCH_MOVE:4,TOUCH_END:5,POINTER_LOCK_CHANGE:6,TOUCH_CANCEL:7,MOUSE_WHEEL:8};f.exports=C},7179:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="boot"},85375:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="destroy"},39843:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="dragend"},23388:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="dragenter"},16133:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="drag"},27829:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="dragleave"},53904:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="dragover"},56058:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="dragstart"},2642:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="drop"},88171:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="gameobjectdown"},36147:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="dragend"},71692:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="dragenter"},96149:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="drag"},81285:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="dragleave"},74048:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="dragover"},21322:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="dragstart"},49378:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="drop"},86754:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="gameobjectmove"},86433:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="gameobjectout"},60709:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="gameobjectover"},24081:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="pointerdown"},11172:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="pointermove"},18907:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="pointerout"},95579:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="pointerover"},35368:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="pointerup"},26972:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="wheel"},47078:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="gameobjectup"},73802:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="gameobjectwheel"},56718:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="gameout"},25936:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="gameover"},27503:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="boot"},50852:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="process"},96438:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="update"},59152:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="pointerlockchange"},47777:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="pointerdown"},27957:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="pointerdownoutside"},19444:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="pointermove"},54251:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="pointerout"},18667:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="pointerover"},27192:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="pointerup"},24652:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="pointerupoutside"},45132:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="wheel"},44512:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="preupdate"},15757:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="shutdown"},41637:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="start"},93802:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="update"},8214:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={BOOT:t(7179),DESTROY:t(85375),DRAG_END:t(39843),DRAG_ENTER:t(23388),DRAG:t(16133),DRAG_LEAVE:t(27829),DRAG_OVER:t(53904),DRAG_START:t(56058),DROP:t(2642),GAME_OUT:t(56718),GAME_OVER:t(25936),GAMEOBJECT_DOWN:t(88171),GAMEOBJECT_DRAG_END:t(36147),GAMEOBJECT_DRAG_ENTER:t(71692),GAMEOBJECT_DRAG:t(96149),GAMEOBJECT_DRAG_LEAVE:t(81285),GAMEOBJECT_DRAG_OVER:t(74048),GAMEOBJECT_DRAG_START:t(21322),GAMEOBJECT_DROP:t(49378),GAMEOBJECT_MOVE:t(86754),GAMEOBJECT_OUT:t(86433),GAMEOBJECT_OVER:t(60709),GAMEOBJECT_POINTER_DOWN:t(24081),GAMEOBJECT_POINTER_MOVE:t(11172),GAMEOBJECT_POINTER_OUT:t(18907),GAMEOBJECT_POINTER_OVER:t(95579),GAMEOBJECT_POINTER_UP:t(35368),GAMEOBJECT_POINTER_WHEEL:t(26972),GAMEOBJECT_UP:t(47078),GAMEOBJECT_WHEEL:t(73802),MANAGER_BOOT:t(27503),MANAGER_PROCESS:t(50852),MANAGER_UPDATE:t(96438),POINTER_DOWN:t(47777),POINTER_DOWN_OUTSIDE:t(27957),POINTER_MOVE:t(19444),POINTER_OUT:t(54251),POINTER_OVER:t(18667),POINTER_UP:t(27192),POINTER_UP_OUTSIDE:t(24652),POINTER_WHEEL:t(45132),POINTERLOCK_CHANGE:t(59152),PRE_UPDATE:t(44512),SHUTDOWN:t(15757),START:t(41637),UPDATE:t(93802)}},97421:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=new h({initialize:function(a,r){this.pad=a,this.events=a.events,this.index=r,this.value=0,this.threshold=.1},update:function(o){this.value=o},getValue:function(){return Math.abs(this.value)<this.threshold?0:this.value},destroy:function(){this.pad=null,this.events=null}});f.exports=g},28884:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(92734),o=new h({initialize:function(r,i){this.pad=r,this.events=r.manager,this.index=i,this.value=0,this.threshold=1,this.pressed=!1},update:function(a){this.value=a;var r=this.pad,i=this.index;a>=this.threshold?this.pressed||(this.pressed=!0,this.events.emit(g.BUTTON_DOWN,r,this,a),this.pad.emit(g.GAMEPAD_BUTTON_DOWN,i,a,this)):this.pressed&&(this.pressed=!1,this.events.emit(g.BUTTON_UP,r,this,a),this.pad.emit(g.GAMEPAD_BUTTON_UP,i,a,this))},destroy:function(){this.pad=null,this.events=null}});f.exports=o},99125:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(97421),g=t(28884),o=t(83419),a=t(50792),r=t(26099),i=new o({Extends:a,initialize:function(l,s){a.call(this),this.manager=l,this.pad=s,this.id=s.id,this.index=s.index;for(var u=[],d=0;d<s.buttons.length;d++)u.push(new g(this,d));this.buttons=u;var c=[];for(d=0;d<s.axes.length;d++)c.push(new h(this,d));this.axes=c,this.vibration=s.vibrationActuator;var v={value:0,pressed:!1};this._LCLeft=u[14]?u[14]:v,this._LCRight=u[15]?u[15]:v,this._LCTop=u[12]?u[12]:v,this._LCBottom=u[13]?u[13]:v,this._RCLeft=u[2]?u[2]:v,this._RCRight=u[1]?u[1]:v,this._RCTop=u[3]?u[3]:v,this._RCBottom=u[0]?u[0]:v,this._FBLeftTop=u[4]?u[4]:v,this._FBLeftBottom=u[6]?u[6]:v,this._FBRightTop=u[5]?u[5]:v,this._FBRightBottom=u[7]?u[7]:v;var y={value:0};this._HAxisLeft=c[0]?c[0]:y,this._VAxisLeft=c[1]?c[1]:y,this._HAxisRight=c[2]?c[2]:y,this._VAxisRight=c[3]?c[3]:y,this.leftStick=new r,this.rightStick=new r,this._created=performance.now()},getAxisTotal:function(){return this.axes.length},getAxisValue:function(n){return this.axes[n].getValue()},setAxisThreshold:function(n){for(var l=0;l<this.axes.length;l++)this.axes[l].threshold=n},getButtonTotal:function(){return this.buttons.length},getButtonValue:function(n){return this.buttons[n].value},isButtonDown:function(n){return this.buttons[n].pressed},update:function(n){if(!(n.timestamp<this._created)){var l,s=this.buttons,u=n.buttons,d=s.length;for(l=0;l<d;l++)s[l].update(u[l].value);var c=this.axes,v=n.axes;for(d=c.length,l=0;l<d;l++)c[l].update(v[l]);d>=2&&(this.leftStick.set(c[0].getValue(),c[1].getValue()),d>=4&&this.rightStick.set(c[2].getValue(),c[3].getValue()))}},destroy:function(){this.removeAllListeners(),this.manager=null,this.pad=null;var n;for(n=0;n<this.buttons.length;n++)this.buttons[n].destroy();for(n=0;n<this.axes.length;n++)this.axes[n].destroy();this.buttons=[],this.axes=[]},connected:{get:function(){return this.pad.connected}},timestamp:{get:function(){return this.pad.timestamp}},left:{get:function(){return this._LCLeft.pressed}},right:{get:function(){return this._LCRight.pressed}},up:{get:function(){return this._LCTop.pressed}},down:{get:function(){return this._LCBottom.pressed}},A:{get:function(){return this._RCBottom.pressed}},Y:{get:function(){return this._RCTop.pressed}},X:{get:function(){return this._RCLeft.pressed}},B:{get:function(){return this._RCRight.pressed}},L1:{get:function(){return this._FBLeftTop.value}},L2:{get:function(){return this._FBLeftBottom.value}},R1:{get:function(){return this._FBRightTop.value}},R2:{get:function(){return this._FBRightBottom.value}}});f.exports=i},56654:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(50792),o=t(92734),a=t(99125),r=t(35154),i=t(89639),n=t(8214),l=new h({Extends:g,initialize:function(u){g.call(this),this.scene=u.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=u,this.enabled=!0,this.target,this.gamepads=[],this.queue=[],this.onGamepadHandler,this._pad1,this._pad2,this._pad3,this._pad4,u.pluginEvents.once(n.BOOT,this.boot,this),u.pluginEvents.on(n.START,this.start,this)},boot:function(){var s=this.scene.sys.game,u=this.settings.input,d=s.config;this.enabled=r(u,"gamepad",d.inputGamepad)&&s.device.input.gamepads,this.target=r(u,"gamepad.target",d.inputGamepadEventTarget),this.sceneInputPlugin.pluginEvents.once(n.DESTROY,this.destroy,this)},start:function(){this.enabled&&(this.startListeners(),this.refreshPads()),this.sceneInputPlugin.pluginEvents.once(n.SHUTDOWN,this.shutdown,this)},isActive:function(){return this.enabled&&this.scene.sys.isActive()},startListeners:function(){var s=this,u=this.target,d=function(c){c.defaultPrevented||!s.isActive()||(s.refreshPads(),s.queue.push(c))};this.onGamepadHandler=d,u.addEventListener("gamepadconnected",d,!1),u.addEventListener("gamepaddisconnected",d,!1),this.sceneInputPlugin.pluginEvents.on(n.UPDATE,this.update,this)},stopListeners:function(){this.target.removeEventListener("gamepadconnected",this.onGamepadHandler),this.target.removeEventListener("gamepaddisconnected",this.onGamepadHandler),this.sceneInputPlugin.pluginEvents.off(n.UPDATE,this.update);for(var s=0;s<this.gamepads.length;s++)this.gamepads[s].removeAllListeners()},disconnectAll:function(){for(var s=0;s<this.gamepads.length;s++)this.gamepads[s].pad.connected=!1},refreshPads:function(){var s=navigator.getGamepads();if(!s)this.disconnectAll();else for(var u=this.gamepads,d=0;d<s.length;d++){var c=s[d];if(c){var v=c.id,y=c.index,x=u[y];if(x)x.id!==v?(x.destroy(),u[y]=new a(this,c)):x.update(c);else{var S=new a(this,c);u[y]=S,this._pad1?this._pad2?this._pad3?this._pad4||(this._pad4=S):this._pad3=S:this._pad2=S:this._pad1=S}}}},getAll:function(){for(var s=[],u=this.gamepads,d=0;d<u.length;d++)u[d]&&s.push(u[d]);return s},getPad:function(s){for(var u=this.gamepads,d=0;d<u.length;d++)if(u[d]&&u[d].index===s)return u[d]},update:function(){if(this.enabled){this.refreshPads();var s=this.queue.length;if(s!==0)for(var u=this.queue.splice(0,s),d=0;d<s;d++){var c=u[d],v=this.getPad(c.gamepad.index);c.type==="gamepadconnected"?this.emit(o.CONNECTED,v,c):c.type==="gamepaddisconnected"&&this.emit(o.DISCONNECTED,v,c)}}},shutdown:function(){this.stopListeners(),this.removeAllListeners()},destroy:function(){this.shutdown();for(var s=0;s<this.gamepads.length;s++)this.gamepads[s]&&this.gamepads[s].destroy();this.gamepads=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.target=null},total:{get:function(){return this.gamepads.length}},pad1:{get:function(){return this._pad1}},pad2:{get:function(){return this._pad2}},pad3:{get:function(){return this._pad3}},pad4:{get:function(){return this._pad4}}});i.register("GamepadPlugin",l,"gamepad","gamepad","inputGamepad"),f.exports=l},89651:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SELECT:8,START:9,B:0,A:1,Y:2,X:3,LEFT_SHOULDER:4,RIGHT_SHOULDER:5}},65294:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SHARE:8,OPTIONS:9,PS:16,TOUCHBAR:17,X:0,CIRCLE:1,SQUARE:2,TRIANGLE:3,L1:4,R1:5,L2:6,R2:7,L3:10,R3:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},90089:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,MENU:16,A:0,B:1,X:2,Y:3,LB:4,RB:5,LT:6,RT:7,BACK:8,START:9,LS:10,RS:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},64894:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={DUALSHOCK_4:t(65294),SNES_USB:t(89651),XBOX_360:t(90089)}},46008:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="down"},7629:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="up"},42206:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="connected"},86544:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="disconnected"},94784:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="down"},14325:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="up"},92734:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={BUTTON_DOWN:t(46008),BUTTON_UP:t(7629),CONNECTED:t(42206),DISCONNECTED:t(86544),GAMEPAD_BUTTON_DOWN:t(94784),GAMEPAD_BUTTON_UP:t(14325)}},48646:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={Axis:t(97421),Button:t(28884),Events:t(92734),Gamepad:t(99125),GamepadPlugin:t(56654),Configs:t(64894)}},14350:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(93301),g=t(79291),o={CreatePixelPerfectHandler:t(84409),CreateInteractiveObject:t(74457),Events:t(8214),Gamepad:t(48646),InputManager:t(7003),InputPlugin:t(48205),InputPluginCache:t(89639),Keyboard:t(51442),Mouse:t(87078),Pointer:t(42515),Touch:t(95618)};o=g(!1,o,h),f.exports=o},78970:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(72905),g=t(83419),o=t(8443),a=t(8214),r=t(46032),i=t(29747),n=new g({initialize:function(s){this.manager=s,this.queue=[],this.preventDefault=!0,this.captures=[],this.enabled=!1,this.target,this.onKeyDown=i,this.onKeyUp=i,s.events.once(a.MANAGER_BOOT,this.boot,this)},boot:function(){var l=this.manager.config;this.enabled=l.inputKeyboard,this.target=l.inputKeyboardEventTarget,this.addCapture(l.inputKeyboardCapture),!this.target&&window&&(this.target=window),this.enabled&&this.target&&this.startListeners(),this.manager.game.events.on(o.POST_STEP,this.postUpdate,this)},startListeners:function(){var l=this;this.onKeyDown=function(u){if(!(u.defaultPrevented||!l.enabled||!l.manager)){l.queue.push(u),l.manager.events.emit(a.MANAGER_PROCESS);var d=u.altKey||u.ctrlKey||u.shiftKey||u.metaKey;l.preventDefault&&!d&&l.captures.indexOf(u.keyCode)>-1&&u.preventDefault()}},this.onKeyUp=function(u){if(!(u.defaultPrevented||!l.enabled||!l.manager)){l.queue.push(u),l.manager.events.emit(a.MANAGER_PROCESS);var d=u.altKey||u.ctrlKey||u.shiftKey||u.metaKey;l.preventDefault&&!d&&l.captures.indexOf(u.keyCode)>-1&&u.preventDefault()}};var s=this.target;s&&(s.addEventListener("keydown",this.onKeyDown,!1),s.addEventListener("keyup",this.onKeyUp,!1),this.enabled=!0)},stopListeners:function(){var l=this.target;l.removeEventListener("keydown",this.onKeyDown,!1),l.removeEventListener("keyup",this.onKeyUp,!1),this.enabled=!1},postUpdate:function(){this.queue=[]},addCapture:function(l){typeof l=="string"&&(l=l.split(",")),Array.isArray(l)||(l=[l]);for(var s=this.captures,u=0;u<l.length;u++){var d=l[u];typeof d=="string"&&(d=r[d.trim().toUpperCase()]),s.indexOf(d)===-1&&s.push(d)}this.preventDefault=s.length>0},removeCapture:function(l){typeof l=="string"&&(l=l.split(",")),Array.isArray(l)||(l=[l]);for(var s=this.captures,u=0;u<l.length;u++){var d=l[u];typeof d=="string"&&(d=r[d.toUpperCase()]),h(s,d)}this.preventDefault=s.length>0},clearCaptures:function(){this.captures=[],this.preventDefault=!1},destroy:function(){this.stopListeners(),this.clearCaptures(),this.queue=[],this.manager.game.events.off(o.POST_RENDER,this.postUpdate,this),this.target=null,this.enabled=!1,this.manager=null}});f.exports=n},28846:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(50792),o=t(95922),a=t(8443),r=t(35154),i=t(8214),n=t(89639),l=t(30472),s=t(46032),u=t(87960),d=t(74600),c=t(44594),v=t(56583),y=new h({Extends:g,initialize:function(S){g.call(this),this.game=S.systems.game,this.scene=S.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=S,this.manager=S.manager.keyboard,this.enabled=!0,this.keys=[],this.combos=[],this.prevCode=null,this.prevTime=0,this.prevType=null,S.pluginEvents.once(i.BOOT,this.boot,this),S.pluginEvents.on(i.START,this.start,this)},boot:function(){var x=this.settings.input;this.enabled=r(x,"keyboard",!0);var S=r(x,"keyboard.capture",null);S&&this.addCaptures(S),this.sceneInputPlugin.pluginEvents.once(i.DESTROY,this.destroy,this)},start:function(){this.sceneInputPlugin.manager.events.on(i.MANAGER_PROCESS,this.update,this),this.sceneInputPlugin.pluginEvents.once(i.SHUTDOWN,this.shutdown,this),this.game.events.on(a.BLUR,this.resetKeys,this),this.scene.sys.events.on(c.PAUSE,this.resetKeys,this),this.scene.sys.events.on(c.SLEEP,this.resetKeys,this)},isActive:function(){return this.enabled&&this.scene.sys.canInput()},addCapture:function(x){return this.manager.addCapture(x),this},removeCapture:function(x){return this.manager.removeCapture(x),this},getCaptures:function(){return this.manager.captures},enableGlobalCapture:function(){return this.manager.preventDefault=!0,this},disableGlobalCapture:function(){return this.manager.preventDefault=!1,this},clearCaptures:function(){return this.manager.clearCaptures(),this},createCursorKeys:function(){return this.addKeys({up:s.UP,down:s.DOWN,left:s.LEFT,right:s.RIGHT,space:s.SPACE,shift:s.SHIFT})},addKeys:function(x,S,E){S===void 0&&(S=!0),E===void 0&&(E=!1);var A={};if(typeof x=="string"){x=x.split(",");for(var R=0;R<x.length;R++){var w=x[R].trim();w&&(A[w]=this.addKey(w,S,E))}}else for(var I in x)A[I]=this.addKey(x[I],S,E);return A},addKey:function(x,S,E){S===void 0&&(S=!0),E===void 0&&(E=!1);var A=this.keys;if(x instanceof l){var R=A.indexOf(x);return R>-1?A[R]=x:A[x.keyCode]=x,S&&this.addCapture(x.keyCode),x.setEmitOnRepeat(E),x}return typeof x=="string"&&(x=s[x.toUpperCase()]),A[x]||(A[x]=new l(this,x),S&&this.addCapture(x),A[x].setEmitOnRepeat(E)),A[x]},removeKey:function(x,S,E){S===void 0&&(S=!1),E===void 0&&(E=!1);var A=this.keys,R;if(x instanceof l){var w=A.indexOf(x);w>-1&&(R=this.keys[w],this.keys[w]=void 0)}else typeof x=="string"&&(x=s[x.toUpperCase()]);return A[x]&&(R=A[x],A[x]=void 0),R&&(R.plugin=null,E&&this.removeCapture(R.keyCode),S&&R.destroy()),this},removeAllKeys:function(x,S){x===void 0&&(x=!1),S===void 0&&(S=!1);for(var E=this.keys,A=0;A<E.length;A++){var R=E[A];R&&(E[A]=void 0,S&&this.removeCapture(R.keyCode),x&&R.destroy())}return this},createCombo:function(x,S){return new u(this,x,S)},checkDown:function(x,S){if(S===void 0&&(S=0),this.enabled&&x.isDown){var E=v(this.time-x.timeDown,S);if(E>x._tick)return x._tick=E,!0}return!1},update:function(){var x=this.manager.queue,S=x.length;if(!(!this.isActive()||S===0))for(var E=this.keys,A=0;A<S;A++){var R=x[A],w=R.keyCode,I=E[w],O=!1;R.cancelled===void 0&&(R.cancelled=0,R.stopImmediatePropagation=function(){R.cancelled=1},R.stopPropagation=function(){R.cancelled=-1}),R.cancelled!==-1&&(w===this.prevCode&&R.timeStamp===this.prevTime&&R.type===this.prevType||(this.prevCode=w,this.prevTime=R.timeStamp,this.prevType=R.type,R.type==="keydown"?(I&&(O=I.isDown,I.onDown(R)),!R.cancelled&&(!I||!O)&&(d[w]&&this.emit(o.KEY_DOWN+d[w],R),R.cancelled||this.emit(o.ANY_KEY_DOWN,R))):(I&&I.onUp(R),R.cancelled||(d[w]&&this.emit(o.KEY_UP+d[w],R),R.cancelled||this.emit(o.ANY_KEY_UP,R))),R.cancelled===1&&(R.cancelled=0)))}},resetKeys:function(){for(var x=this.keys,S=0;S<x.length;S++)x[S]&&x[S].reset();return this},shutdown:function(){this.removeAllKeys(!0),this.removeAllListeners(),this.sceneInputPlugin.manager.events.off(i.MANAGER_PROCESS,this.update,this),this.game.events.off(a.BLUR,this.resetKeys),this.scene.sys.events.off(c.PAUSE,this.resetKeys,this),this.scene.sys.events.off(c.SLEEP,this.resetKeys,this),this.queue=[]},destroy:function(){this.shutdown();for(var x=this.keys,S=0;S<x.length;S++)x[S]&&x[S].destroy();this.keys=[],this.combos=[],this.queue=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.manager=null},time:{get:function(){return this.sceneInputPlugin.manager.time}}});n.register("KeyboardPlugin",y,"keyboard","keyboard","inputKeyboard"),f.exports=y},66970:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h){return h.timeLastMatched=t.timeStamp,h.index++,h.index===h.size?!0:(h.current=h.keyCodes[h.index],!1)};f.exports=C},87960:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(95922),o=t(95540),a=t(68769),r=t(92803),i=new h({initialize:function(l,s,u){if(u===void 0&&(u={}),s.length<2)return!1;this.manager=l,this.enabled=!0,this.keyCodes=[];for(var d=0;d<s.length;d++){var c=s[d];typeof c=="string"?this.keyCodes.push(c.toUpperCase().charCodeAt(0)):typeof c=="number"?this.keyCodes.push(c):c.hasOwnProperty("keyCode")&&this.keyCodes.push(c.keyCode)}this.current=this.keyCodes[0],this.index=0,this.size=this.keyCodes.length,this.timeLastMatched=0,this.matched=!1,this.timeMatched=0,this.resetOnWrongKey=o(u,"resetOnWrongKey",!0),this.maxKeyDelay=o(u,"maxKeyDelay",0),this.resetOnMatch=o(u,"resetOnMatch",!1),this.deleteOnMatch=o(u,"deleteOnMatch",!1);var v=this,y=function(x){if(!(v.matched||!v.enabled)){var S=a(x,v);S&&(v.manager.emit(g.COMBO_MATCH,v,x),v.resetOnMatch?r(v):v.deleteOnMatch&&v.destroy())}};this.onKeyDown=y,this.manager.on(g.ANY_KEY_DOWN,this.onKeyDown)},progress:{get:function(){return this.index/this.size}},destroy:function(){this.enabled=!1,this.keyCodes=[],this.manager.off(g.ANY_KEY_DOWN,this.onKeyDown),this.manager=null}});f.exports=i},68769:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66970),g=function(o,a){if(a.matched)return!0;var r=!1,i=!1;if(o.keyCode===a.current)if(a.index>0&&a.maxKeyDelay>0){var n=a.timeLastMatched+a.maxKeyDelay;o.timeStamp<=n&&(i=!0,r=h(o,a))}else i=!0,r=h(o,a);return!i&&a.resetOnWrongKey&&(a.index=0,a.current=a.keyCodes[0]),r&&(a.timeLastMatched=o.timeStamp,a.matched=!0,a.timeMatched=o.timeStamp),r};f.exports=g},92803:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t){return t.current=t.keyCodes[0],t.index=0,t.timeLastMatched=0,t.matched=!1,t.timeMatched=0,t};f.exports=C},92612:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="keydown"},23345:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="keyup"},21957:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="keycombomatch"},44743:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="down"},3771:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="keydown-"},46358:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="keyup-"},75674:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="up"},95922:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={ANY_KEY_DOWN:t(92612),ANY_KEY_UP:t(23345),COMBO_MATCH:t(21957),DOWN:t(44743),KEY_DOWN:t(3771),KEY_UP:t(46358),UP:t(75674)}},51442:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={Events:t(95922),KeyboardManager:t(78970),KeyboardPlugin:t(28846),Key:t(30472),KeyCodes:t(46032),KeyCombo:t(87960),AdvanceKeyCombo:t(66970),ProcessKeyCombo:t(68769),ResetKeyCombo:t(92803),JustDown:t(90229),JustUp:t(38796),DownDuration:t(37015),UpDuration:t(41170)}},37015:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h){h===void 0&&(h=50);var g=t.plugin.game.loop.time-t.timeDown;return t.isDown&&g<h};f.exports=C},90229:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t){return t._justDown?(t._justDown=!1,!0):!1};f.exports=C},38796:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t){return t._justUp?(t._justUp=!1,!0):!1};f.exports=C},30472:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(50792),o=t(95922),a=new h({Extends:g,initialize:function(i,n){g.call(this),this.plugin=i,this.keyCode=n,this.originalEvent=void 0,this.enabled=!0,this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.location=0,this.timeDown=0,this.duration=0,this.timeUp=0,this.emitOnRepeat=!1,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1},setEmitOnRepeat:function(r){return this.emitOnRepeat=r,this},onDown:function(r){this.originalEvent=r,this.enabled&&(this.altKey=r.altKey,this.ctrlKey=r.ctrlKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.location=r.location,this.repeats++,this.isDown?this.emitOnRepeat&&this.emit(o.DOWN,this,r):(this.isDown=!0,this.isUp=!1,this.timeDown=r.timeStamp,this.duration=0,this._justDown=!0,this._justUp=!1,this.emit(o.DOWN,this,r)))},onUp:function(r){this.originalEvent=r,this.enabled&&(this.isDown=!1,this.isUp=!0,this.timeUp=r.timeStamp,this.duration=this.timeUp-this.timeDown,this.repeats=0,this._justDown=!1,this._justUp=!0,this._tick=-1,this.emit(o.UP,this,r))},reset:function(){return this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.timeDown=0,this.duration=0,this.timeUp=0,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1,this},getDuration:function(){return this.isDown?this.plugin.game.loop.time-this.timeDown:0},destroy:function(){this.removeAllListeners(),this.originalEvent=null,this.plugin=null}});f.exports=a},46032:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:42,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,NUMPAD_ZERO:96,NUMPAD_ONE:97,NUMPAD_TWO:98,NUMPAD_THREE:99,NUMPAD_FOUR:100,NUMPAD_FIVE:101,NUMPAD_SIX:102,NUMPAD_SEVEN:103,NUMPAD_EIGHT:104,NUMPAD_NINE:105,NUMPAD_ADD:107,NUMPAD_SUBTRACT:109,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SEMICOLON:186,PLUS:187,COMMA:188,MINUS:189,PERIOD:190,FORWARD_SLASH:191,BACK_SLASH:220,QUOTES:222,BACKTICK:192,OPEN_BRACKET:219,CLOSED_BRACKET:221,SEMICOLON_FIREFOX:59,COLON:58,COMMA_FIREFOX_WINDOWS:60,COMMA_FIREFOX:62,BRACKET_RIGHT_FIREFOX:174,BRACKET_LEFT_FIREFOX:175};f.exports=C},74600:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(46032),g={};for(var o in h)g[h[o]]=o;f.exports=g},41170:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h){h===void 0&&(h=50);var g=t.plugin.game.loop.time-t.timeUp;return t.isUp&&g<h};f.exports=C},85098:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(89357),o=t(8214),a=t(29747),r=new h({initialize:function(n){this.manager=n,this.preventDefaultDown=!0,this.preventDefaultUp=!0,this.preventDefaultMove=!0,this.preventDefaultWheel=!1,this.enabled=!1,this.target,this.locked=!1,this.onMouseMove=a,this.onMouseDown=a,this.onMouseUp=a,this.onMouseDownWindow=a,this.onMouseUpWindow=a,this.onMouseOver=a,this.onMouseOut=a,this.onMouseWheel=a,this.pointerLockChange=a,this.isTop=!0,n.events.once(o.MANAGER_BOOT,this.boot,this)},boot:function(){var i=this.manager.config;this.enabled=i.inputMouse,this.target=i.inputMouseEventTarget,this.passive=i.inputMousePassive,this.preventDefaultDown=i.inputMousePreventDefaultDown,this.preventDefaultUp=i.inputMousePreventDefaultUp,this.preventDefaultMove=i.inputMousePreventDefaultMove,this.preventDefaultWheel=i.inputMousePreventDefaultWheel,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,i.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(i){return i.preventDefault(),!1}),this},requestPointerLock:function(){if(g.pointerLock){var i=this.target;i.requestPointerLock=i.requestPointerLock||i.mozRequestPointerLock||i.webkitRequestPointerLock,i.requestPointerLock()}},releasePointerLock:function(){g.pointerLock&&(document.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock,document.exitPointerLock())},startListeners:function(){var i=this.target;if(i){var n=this,l=this.manager,s=l.canvas,u=window&&window.focus&&l.game.config.autoFocus;this.onMouseMove=function(c){!c.defaultPrevented&&n.enabled&&l&&l.enabled&&(l.onMouseMove(c),n.preventDefaultMove&&c.preventDefault())},this.onMouseDown=function(c){u&&window.focus(),!c.defaultPrevented&&n.enabled&&l&&l.enabled&&(l.onMouseDown(c),n.preventDefaultDown&&c.target===s&&c.preventDefault())},this.onMouseDownWindow=function(c){c.sourceCapabilities&&c.sourceCapabilities.firesTouchEvents||!c.defaultPrevented&&n.enabled&&l&&l.enabled&&c.target!==s&&l.onMouseDown(c)},this.onMouseUp=function(c){!c.defaultPrevented&&n.enabled&&l&&l.enabled&&(l.onMouseUp(c),n.preventDefaultUp&&c.target===s&&c.preventDefault())},this.onMouseUpWindow=function(c){c.sourceCapabilities&&c.sourceCapabilities.firesTouchEvents||!c.defaultPrevented&&n.enabled&&l&&l.enabled&&c.target!==s&&l.onMouseUp(c)},this.onMouseOver=function(c){!c.defaultPrevented&&n.enabled&&l&&l.enabled&&l.setCanvasOver(c)},this.onMouseOut=function(c){!c.defaultPrevented&&n.enabled&&l&&l.enabled&&l.setCanvasOut(c)},this.onMouseWheel=function(c){!c.defaultPrevented&&n.enabled&&l&&l.enabled&&l.onMouseWheel(c),n.preventDefaultWheel&&c.target===s&&c.preventDefault()};var d={passive:!0};if(i.addEventListener("mousemove",this.onMouseMove),i.addEventListener("mousedown",this.onMouseDown),i.addEventListener("mouseup",this.onMouseUp),i.addEventListener("mouseover",this.onMouseOver,d),i.addEventListener("mouseout",this.onMouseOut,d),this.preventDefaultWheel?i.addEventListener("wheel",this.onMouseWheel,{passive:!1}):i.addEventListener("wheel",this.onMouseWheel,d),window&&l.game.config.inputWindowEvents)try{window.top.addEventListener("mousedown",this.onMouseDownWindow,d),window.top.addEventListener("mouseup",this.onMouseUpWindow,d)}catch{window.addEventListener("mousedown",this.onMouseDownWindow,d),window.addEventListener("mouseup",this.onMouseUpWindow,d),this.isTop=!1}g.pointerLock&&(this.pointerLockChange=function(c){var v=n.target;n.locked=document.pointerLockElement===v||document.mozPointerLockElement===v||document.webkitPointerLockElement===v,l.onPointerLockChange(c)},document.addEventListener("pointerlockchange",this.pointerLockChange,!0),document.addEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.addEventListener("webkitpointerlockchange",this.pointerLockChange,!0)),this.enabled=!0}},stopListeners:function(){var i=this.target;i.removeEventListener("mousemove",this.onMouseMove),i.removeEventListener("mousedown",this.onMouseDown),i.removeEventListener("mouseup",this.onMouseUp),i.removeEventListener("mouseover",this.onMouseOver),i.removeEventListener("mouseout",this.onMouseOut),window&&(i=this.isTop?window.top:window,i.removeEventListener("mousedown",this.onMouseDownWindow),i.removeEventListener("mouseup",this.onMouseUpWindow)),g.pointerLock&&(document.removeEventListener("pointerlockchange",this.pointerLockChange,!0),document.removeEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.removeEventListener("webkitpointerlockchange",this.pointerLockChange,!0))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});f.exports=r},87078:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={MouseManager:t(85098)}},36210:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(8214),o=t(29747),a=new h({initialize:function(i){this.manager=i,this.capture=!0,this.enabled=!1,this.target,this.onTouchStart=o,this.onTouchStartWindow=o,this.onTouchMove=o,this.onTouchEnd=o,this.onTouchEndWindow=o,this.onTouchCancel=o,this.onTouchCancelWindow=o,this.isTop=!0,i.events.once(g.MANAGER_BOOT,this.boot,this)},boot:function(){var r=this.manager.config;this.enabled=r.inputTouch,this.target=r.inputTouchEventTarget,this.capture=r.inputTouchCapture,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,r.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(r){return r.preventDefault(),!1}),this},startListeners:function(){var r=this.target;if(r){var i=this,n=this.manager,l=n.canvas,s=window&&window.focus&&n.game.config.autoFocus;this.onTouchMove=function(v){!v.defaultPrevented&&i.enabled&&n&&n.enabled&&(n.onTouchMove(v),i.capture&&v.cancelable&&v.preventDefault())},this.onTouchStart=function(v){s&&window.focus(),!v.defaultPrevented&&i.enabled&&n&&n.enabled&&(n.onTouchStart(v),i.capture&&v.cancelable&&v.target===l&&v.preventDefault())},this.onTouchStartWindow=function(v){!v.defaultPrevented&&i.enabled&&n&&n.enabled&&v.target!==l&&n.onTouchStart(v)},this.onTouchEnd=function(v){!v.defaultPrevented&&i.enabled&&n&&n.enabled&&(n.onTouchEnd(v),i.capture&&v.cancelable&&v.target===l&&v.preventDefault())},this.onTouchEndWindow=function(v){!v.defaultPrevented&&i.enabled&&n&&n.enabled&&v.target!==l&&n.onTouchEnd(v)},this.onTouchCancel=function(v){!v.defaultPrevented&&i.enabled&&n&&n.enabled&&(n.onTouchCancel(v),i.capture&&v.preventDefault())},this.onTouchCancelWindow=function(v){!v.defaultPrevented&&i.enabled&&n&&n.enabled&&n.onTouchCancel(v)};var u=this.capture,d={passive:!0},c={passive:!1};if(r.addEventListener("touchstart",this.onTouchStart,u?c:d),r.addEventListener("touchmove",this.onTouchMove,u?c:d),r.addEventListener("touchend",this.onTouchEnd,u?c:d),r.addEventListener("touchcancel",this.onTouchCancel,u?c:d),window&&n.game.config.inputWindowEvents)try{window.top.addEventListener("touchstart",this.onTouchStartWindow,c),window.top.addEventListener("touchend",this.onTouchEndWindow,c),window.top.addEventListener("touchcancel",this.onTouchCancelWindow,c)}catch{window.addEventListener("touchstart",this.onTouchStartWindow,c),window.addEventListener("touchend",this.onTouchEndWindow,c),window.addEventListener("touchcancel",this.onTouchCancelWindow,c),this.isTop=!1}this.enabled=!0}},stopListeners:function(){var r=this.target;r.removeEventListener("touchstart",this.onTouchStart),r.removeEventListener("touchmove",this.onTouchMove),r.removeEventListener("touchend",this.onTouchEnd),r.removeEventListener("touchcancel",this.onTouchCancel),window&&(r=this.isTop?window.top:window,r.removeEventListener("touchstart",this.onTouchStartWindow),r.removeEventListener("touchend",this.onTouchEndWindow),r.removeEventListener("touchcancel",this.onTouchCancelWindow))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});f.exports=a},95618:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={TouchManager:t(36210)}},41299:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(23906),o=t(54899),a=t(95540),r=t(98356),i=t(3374),n=t(84376),l=t(92638),s=new h({initialize:function(d,c){if(this.loader=d,this.cache=a(c,"cache",!1),this.type=a(c,"type",!1),!this.type)throw new Error("Invalid File type: "+this.type);this.key=a(c,"key",!1);var v=this.key;if(d.prefix&&d.prefix!==""&&(this.key=d.prefix+v),!this.key)throw new Error("Invalid File key: "+this.key);var y=a(c,"url");y===void 0?y=d.path+v+"."+a(c,"extension",""):typeof y=="string"&&!y.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)&&(y=d.path+y),this.url=y,this.src="",this.xhrSettings=l(a(c,"responseType",void 0)),a(c,"xhrSettings",!1)&&(this.xhrSettings=i(this.xhrSettings,a(c,"xhrSettings",{}))),this.xhrLoader=null,this.state=typeof this.url=="function"?g.FILE_POPULATED:g.FILE_PENDING,this.bytesTotal=0,this.bytesLoaded=-1,this.percentComplete=-1,this.crossOrigin=void 0,this.data=void 0,this.config=a(c,"config",{}),this.multiFile,this.linkFile,this.base64=typeof y=="string"&&y.indexOf("data:")===0,this.retryAttempts=a(c,"maxRetries",d.maxRetries)},setLink:function(u){this.linkFile=u,u.linkFile=this},resetXHR:function(){this.xhrLoader&&(this.xhrLoader.onload=void 0,this.xhrLoader.onerror=void 0,this.xhrLoader.onprogress=void 0)},load:function(){if(this.state===g.FILE_POPULATED)this.loader.nextFile(this,!0);else{if(this.state=g.FILE_LOADING,this.src=r(this,this.loader.baseURL),!this.src)throw new Error("URL Error in File: "+this.key+" from: "+this.url);this.src.indexOf("data:")===0&&(this.base64=!0),this.xhrLoader=n(this,this.loader.xhr)}},onLoad:function(u,d){var c=u.responseURL&&this.loader.localSchemes.some(function(x){return u.responseURL.indexOf(x)===0}),v=c&&d.target.status===0,y=!(d.target&&d.target.status!==200)||v;u.readyState===4&&u.status>=400&&u.status<=599&&(y=!1),this.state=g.FILE_LOADED,this.resetXHR(),this.loader.nextFile(this,y)},onBase64Load:function(u){this.xhrLoader=u,this.state=g.FILE_LOADED,this.percentComplete=1,this.loader.emit(o.FILE_PROGRESS,this,this.percentComplete),this.loader.nextFile(this,!0)},onError:function(){this.resetXHR(),this.retryAttempts>0?(this.retryAttempts--,this.load()):this.loader.nextFile(this,!1)},onProgress:function(u){u.lengthComputable&&(this.bytesLoaded=u.loaded,this.bytesTotal=u.total,this.percentComplete=Math.min(this.bytesLoaded/this.bytesTotal,1),this.loader.emit(o.FILE_PROGRESS,this,this.percentComplete))},onProcess:function(){this.state=g.FILE_PROCESSING,this.onProcessComplete()},onProcessComplete:function(){this.state=g.FILE_COMPLETE,this.multiFile&&this.multiFile.onFileComplete(this),this.loader.fileProcessComplete(this)},onProcessError:function(){console.error('Failed to process file: %s "%s"',this.type,this.key),this.state=g.FILE_ERRORED,this.multiFile&&this.multiFile.onFileFailed(this),this.loader.fileProcessComplete(this)},hasCacheConflict:function(){return this.cache&&this.cache.exists(this.key)},addToCache:function(){this.cache&&this.data&&this.cache.add(this.key,this.data)},pendingDestroy:function(u){if(this.state!==g.FILE_PENDING_DESTROY){u===void 0&&(u=this.data);var d=this.key,c=this.type;this.loader.emit(o.FILE_COMPLETE,d,c,u),this.loader.emit(o.FILE_KEY_COMPLETE+c+"-"+d,d,c,u),this.loader.flagForRemoval(this),this.state=g.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.cache=null,this.xhrSettings=null,this.multiFile=null,this.linkFile=null,this.data=null}});s.createObjectURL=function(u,d,c){if(typeof URL=="function")u.src=URL.createObjectURL(d);else{var v=new FileReader;v.onload=function(){u.removeAttribute("crossOrigin"),u.src="data:"+(d.type||c)+";base64,"+v.result.split(",")[1]},v.onerror=u.onerror,v.readAsDataURL(d)}},s.revokeObjectURL=function(u){typeof URL=="function"&&URL.revokeObjectURL(u.src)},f.exports=s},74099:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={},t={install:function(h){for(var g in C)h[g]=C[g]},register:function(h,g){C[h]=g},destroy:function(){C={}}};f.exports=t},98356:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h){return t.url?t.url.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)?t.url:h+t.url:!1};f.exports=C},74261:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(23906),o=t(35072),a=t(50792),r=t(54899),i=t(74099),n=t(95540),l=t(35154),s=t(41212),u=t(37277),d=t(44594),c=t(92638),v=new h({Extends:a,initialize:function(x){a.call(this);var S=x.sys.game.config,E=x.sys.settings.loader;this.scene=x,this.systems=x.sys,this.cacheManager=x.sys.cache,this.textureManager=x.sys.textures,this.sceneManager=x.sys.game.scene,i.install(this),this.prefix="",this.path="",this.baseURL="",this.setBaseURL(n(E,"baseURL",S.loaderBaseURL)),this.setPath(n(E,"path",S.loaderPath)),this.setPrefix(n(E,"prefix",S.loaderPrefix)),this.maxParallelDownloads=n(E,"maxParallelDownloads",S.loaderMaxParallelDownloads),this.xhr=c(n(E,"responseType",S.loaderResponseType),n(E,"async",S.loaderAsync),n(E,"user",S.loaderUser),n(E,"password",S.loaderPassword),n(E,"timeout",S.loaderTimeout),n(E,"withCredentials",S.loaderWithCredentials)),this.crossOrigin=n(E,"crossOrigin",S.loaderCrossOrigin),this.imageLoadType=n(E,"imageLoadType",S.loaderImageLoadType),this.localSchemes=n(E,"localScheme",S.loaderLocalScheme),this.totalToLoad=0,this.progress=0,this.list=new o,this.inflight=new o,this.queue=new o,this._deleteQueue=new o,this.totalFailed=0,this.totalComplete=0,this.state=g.LOADER_IDLE,this.multiKeyIndex=0,this.maxRetries=n(E,"maxRetries",S.loaderMaxRetries),x.sys.events.once(d.BOOT,this.boot,this),x.sys.events.on(d.START,this.pluginStart,this)},boot:function(){this.systems.events.once(d.DESTROY,this.destroy,this)},pluginStart:function(){this.systems.events.once(d.SHUTDOWN,this.shutdown,this)},setBaseURL:function(y){return y===void 0&&(y=""),y!==""&&y.substr(-1)!=="/"&&(y=y.concat("/")),this.baseURL=y,this},setPath:function(y){return y===void 0&&(y=""),y!==""&&y.substr(-1)!=="/"&&(y=y.concat("/")),this.path=y,this},setPrefix:function(y){return y===void 0&&(y=""),this.prefix=y,this},setCORS:function(y){return this.crossOrigin=y,this},addFile:function(y){Array.isArray(y)||(y=[y]);for(var x=0;x<y.length;x++){var S=y[x];this.keyExists(S)||(this.list.set(S),this.emit(r.ADD,S.key,S.type,this,S),this.isLoading()&&(this.totalToLoad++,this.updateProgress()))}},keyExists:function(y){var x=y.hasCacheConflict();return x||this.list.iterate(function(S){if(S.type===y.type&&S.key===y.key)return x=!0,!1}),!x&&this.isLoading()&&(this.inflight.iterate(function(S){if(S.type===y.type&&S.key===y.key)return x=!0,!1}),this.queue.iterate(function(S){if(S.type===y.type&&S.key===y.key)return x=!0,!1})),x},addPack:function(y,x){if(typeof x=="string"){var S=l(y,x);S&&(y={packKey:S})}var E=0,A=this.baseURL,R=this.path,w=this.prefix;for(var I in y)if(Object.prototype.hasOwnProperty.call(y,I)){var O=y[I],F=n(O,"baseURL",A),L=n(O,"path",R),D=n(O,"prefix",w),b=n(O,"files",null),G=n(O,"defaultType","void");if(Array.isArray(b)){this.setBaseURL(F),this.setPath(L),this.setPrefix(D);for(var W=0;W<b.length;W++){var Y=b[W],H=Y.hasOwnProperty("type")?Y.type:G;this[H]&&(this[H](Y),E++)}}}return this.setBaseURL(A),this.setPath(R),this.setPrefix(w),E>0},removePack:function(y,x){var S=this.systems.anims,E=this.cacheManager,A=this.textureManager,R={animation:"json",aseprite:"json",audio:"audio",audioSprite:"audio",binary:"binary",bitmapFont:"bitmapFont",css:null,glsl:"shader",html:"html",json:"json",obj:"obj",plugin:null,scenePlugin:null,script:null,spine:"json",text:"text",tilemapCSV:"tilemap",tilemapImpact:"tilemap",tilemapTiledJSON:"tilemap",video:"video",xml:"xml"},w;if(s(y))w=y;else if(w=E.json.get(y),!w){console.warn("Asset Pack not found in JSON cache:",y);return}x&&(w={_:w[x]});for(var I in w){var O=w[I],F=n(O,"prefix",""),L=n(O,"files"),D=n(O,"defaultType");if(Array.isArray(L))for(var b=0;b<L.length;b++){var G=L[b],W=G.hasOwnProperty("type")?G.type:D;if(!W){console.warn("No type:",G);continue}var Y=F+G.key;if(W==="animation"&&S.remove(Y),!((W==="aseprite"||W==="atlas"||W==="atlasXML"||W==="htmlTexture"||W==="image"||W==="multiatlas"||W==="spritesheet"||W==="svg"||W==="texture"||W==="unityAtlas")&&(A.remove(Y),!R[W]))){if(W==="pack"){this.removePack(Y,G.dataKey);continue}if(W==="spine"){var H=E.custom.spine.get(Y);if(!H)continue;var U=H.prefix===void 0?"":H.prefix;E.custom.spine.remove(Y);var X=E.custom.spineTextures.get(Y);if(!X)continue;E.custom.spineTextures.remove(Y);for(var V=0;V<X.pages.length;V++){var B=X.pages[V],z=U+B.name,K=Y+":"+z;A.exists(K)?A.remove(K):A.remove(z)}}var k=R[W];if(k!==null){if(!k){console.warn("Unknown type:",W);continue}var J=E[k];J.remove(Y)}}}}},isLoading:function(){return this.state===g.LOADER_LOADING||this.state===g.LOADER_PROCESSING},isReady:function(){return this.state===g.LOADER_IDLE||this.state===g.LOADER_COMPLETE},start:function(){this.isReady()&&(this.progress=0,this.totalFailed=0,this.totalComplete=0,this.totalToLoad=this.list.size,this.emit(r.START,this),this.list.size===0?this.loadComplete():(this.state=g.LOADER_LOADING,this.inflight.clear(),this.queue.clear(),this.updateProgress(),this.checkLoadQueue(),this.systems.events.on(d.UPDATE,this.update,this)))},updateProgress:function(){this.progress=1-(this.list.size+this.inflight.size)/this.totalToLoad,this.emit(r.PROGRESS,this.progress)},update:function(){this.state===g.LOADER_LOADING&&this.list.size>0&&this.inflight.size<this.maxParallelDownloads&&this.checkLoadQueue()},checkLoadQueue:function(){this.list.each(function(y){if((y.state===g.FILE_POPULATED||y.state===g.FILE_PENDING&&this.inflight.size<this.maxParallelDownloads)&&(this.inflight.set(y),this.list.delete(y),y.crossOrigin||(y.crossOrigin=this.crossOrigin),y.load()),this.inflight.size===this.maxParallelDownloads)return!1},this)},nextFile:function(y,x){this.inflight&&(this.inflight.delete(y),this.updateProgress(),x?(this.totalComplete++,this.queue.set(y),this.emit(r.FILE_LOAD,y),y.onProcess()):(this.totalFailed++,this._deleteQueue.set(y),this.emit(r.FILE_LOAD_ERROR,y),this.fileProcessComplete(y)))},fileProcessComplete:function(y){!this.scene||!this.systems||!this.systems.game||this.systems.game.pendingDestroy||(y.state===g.FILE_ERRORED?y.multiFile&&y.multiFile.onFileFailed(y):y.state===g.FILE_COMPLETE&&(y.multiFile?y.multiFile.isReadyToProcess()&&(y.multiFile.addToCache(),y.multiFile.pendingDestroy()):(y.addToCache(),y.pendingDestroy())),this.queue.delete(y),this.list.size===0&&this.inflight.size===0&&this.queue.size===0&&this.loadComplete())},loadComplete:function(){this.emit(r.POST_PROCESS,this),this.list.clear(),this.inflight.clear(),this.queue.clear(),this.progress=1,this.state=g.LOADER_COMPLETE,this.systems.events.off(d.UPDATE,this.update,this),this._deleteQueue.iterateLocal("destroy"),this._deleteQueue.clear(),this.emit(r.COMPLETE,this,this.totalComplete,this.totalFailed)},flagForRemoval:function(y){this._deleteQueue.set(y)},saveJSON:function(y,x){return this.save(JSON.stringify(y),x)},save:function(y,x,S){x===void 0&&(x="file.json"),S===void 0&&(S="application/json");var E=new Blob([y],{type:S}),A=URL.createObjectURL(E),R=document.createElement("a");return R.download=x,R.textContent="Download "+x,R.href=A,R.click(),this},reset:function(){this.list.clear(),this.inflight.clear(),this.queue.clear();var y=this.systems.game.config,x=this.systems.settings.loader;this.setBaseURL(n(x,"baseURL",y.loaderBaseURL)),this.setPath(n(x,"path",y.loaderPath)),this.setPrefix(n(x,"prefix",y.loaderPrefix)),this.state=g.LOADER_IDLE},shutdown:function(){this.reset(),this.state=g.LOADER_SHUTDOWN,this.removeAllListeners(),this.systems.events.off(d.UPDATE,this.update,this),this.systems.events.off(d.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.state=g.LOADER_DESTROYED,this.systems.events.off(d.UPDATE,this.update,this),this.systems.events.off(d.START,this.pluginStart,this),this.list=null,this.inflight=null,this.queue=null,this.scene=null,this.systems=null,this.textureManager=null,this.cacheManager=null,this.sceneManager=null}});u.register("Loader",v,"load"),f.exports=v},3374:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(79291),g=t(92638),o=function(a,r){var i=a===void 0?g():h({},a);if(r)for(var n in r)r[n]!==void 0&&(i[n]=r[n]);return i};f.exports=o},26430:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(23906),o=t(54899),a=new h({initialize:function(i,n,l,s){var u=[];s.forEach(function(v){v&&u.push(v)}),this.loader=i,this.type=n,this.key=l;var d=this.key;i.prefix&&i.prefix!==""&&(this.key=i.prefix+d),this.multiKeyIndex=i.multiKeyIndex++,this.files=u,this.state=g.FILE_PENDING,this.complete=!1,this.pending=u.length,this.failed=0,this.config={},this.baseURL=i.baseURL,this.path=i.path,this.prefix=i.prefix;for(var c=0;c<u.length;c++)u[c].multiFile=this},isReadyToProcess:function(){return this.pending===0&&this.failed===0&&!this.complete},addToMultiFile:function(r){return this.files.push(r),r.multiFile=this,this.pending++,this.complete=!1,this},onFileComplete:function(r){var i=this.files.indexOf(r);i!==-1&&this.pending--},onFileFailed:function(r){var i=this.files.indexOf(r);i!==-1&&(this.failed++,console.error('File failed: %s "%s" (via %s "%s")',this.type,this.key,r.type,r.key))},pendingDestroy:function(){if(this.state!==g.FILE_PENDING_DESTROY){var r=this.key,i=this.type;this.loader.emit(o.FILE_COMPLETE,r,i),this.loader.emit(o.FILE_KEY_COMPLETE+i+"-"+r,r,i),this.loader.flagForRemoval(this);for(var n=0;n<this.files.length;n++)this.files[n].pendingDestroy();this.state=g.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.files=null,this.config=null}});f.exports=a},84376:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(3374),g=function(o,a){var r=h(a,o.xhrSettings);if(o.base64){var i=o.url.split(";base64,").pop()||o.url.split(",").pop(),n={responseText:atob(i)};o.onBase64Load(n);return}var l=new XMLHttpRequest;if(l.open("GET",o.src,r.async,r.user,r.password),l.responseType=o.xhrSettings.responseType,l.timeout=r.timeout,r.headers)for(var s in r.headers)l.setRequestHeader(s,r.headers[s]);return r.header&&r.headerValue&&l.setRequestHeader(r.header,r.headerValue),r.requestedWith&&l.setRequestHeader("X-Requested-With",r.requestedWith),r.overrideMimeType&&l.overrideMimeType(r.overrideMimeType),r.withCredentials&&(l.withCredentials=!0),l.onload=o.onLoad.bind(o,l),l.onerror=o.onError.bind(o,l),l.onprogress=o.onProgress.bind(o),l.ontimeout=o.onError.bind(o,l),l.send(),l};f.exports=g},92638:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h,g,o,a,r){return t===void 0&&(t=""),h===void 0&&(h=!0),g===void 0&&(g=""),o===void 0&&(o=""),a===void 0&&(a=0),r===void 0&&(r=!1),{responseType:t,async:h,user:g,password:o,timeout:a,headers:void 0,header:void 0,headerValue:void 0,requestedWith:!1,overrideMimeType:void 0,withCredentials:r}};f.exports=C},23906:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={LOADER_IDLE:0,LOADER_LOADING:1,LOADER_PROCESSING:2,LOADER_COMPLETE:3,LOADER_SHUTDOWN:4,LOADER_DESTROYED:5,FILE_PENDING:10,FILE_LOADING:11,FILE_LOADED:12,FILE_FAILED:13,FILE_PROCESSING:14,FILE_ERRORED:16,FILE_COMPLETE:17,FILE_DESTROYED:18,FILE_POPULATED:19,FILE_PENDING_DESTROY:20};f.exports=C},42155:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="addfile"},38991:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="complete"},27540:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="filecomplete"},87464:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="filecomplete-"},94486:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="loaderror"},13035:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="load"},38144:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="fileprogress"},97520:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="postprocess"},85595:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="progress"},55680:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="start"},54899:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={ADD:t(42155),COMPLETE:t(38991),FILE_COMPLETE:t(27540),FILE_KEY_COMPLETE:t(87464),FILE_LOAD_ERROR:t(94486),FILE_LOAD:t(13035),FILE_PROGRESS:t(38144),POST_PROCESS:t(97520),PROGRESS:t(85595),START:t(55680)}},14135:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(74099),o=t(518),a=t(54899),r=new h({Extends:o,initialize:function(n,l,s,u,d){o.call(this,n,l,s,u,d),this.type="animationJSON"},onProcess:function(){this.loader.once(a.POST_PROCESS,this.onLoadComplete,this),o.prototype.onProcess.call(this)},onLoadComplete:function(){this.loader.systems.anims.fromJSON(this.data)}});g.register("animation",function(i,n,l,s){if(Array.isArray(i))for(var u=0;u<i.length;u++)this.addFile(new r(this,i[u]));else this.addFile(new r(this,i,n,s,l));return this}),f.exports=r},76272:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(74099),o=t(95540),a=t(19550),r=t(41212),i=t(518),n=t(26430),l=new h({Extends:n,initialize:function(u,d,c,v,y,x){var S,E;if(r(d)){var A=d;d=o(A,"key"),S=new a(u,{key:d,url:o(A,"textureURL"),extension:o(A,"textureExtension","png"),normalMap:o(A,"normalMap"),xhrSettings:o(A,"textureXhrSettings")}),E=new i(u,{key:d,url:o(A,"atlasURL"),extension:o(A,"atlasExtension","json"),xhrSettings:o(A,"atlasXhrSettings")})}else S=new a(u,d,c,y),E=new i(u,d,v,x);S.linkFile?n.call(this,u,"atlasjson",d,[S,E,S.linkFile]):n.call(this,u,"atlasjson",d,[S,E])},addToCache:function(){if(this.isReadyToProcess()){var s=this.files[0],u=this.files[1],d=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(s.key,s.data,u.data,d),u.addToCache(),this.complete=!0}}});g.register("aseprite",function(s,u,d,c,v){var y;if(Array.isArray(s))for(var x=0;x<s.length;x++)y=new l(this,s[x]),this.addFile(y.files);else y=new l(this,s,u,d,c,v),this.addFile(y.files);return this}),f.exports=l},38734:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(74099),o=t(95540),a=t(19550),r=t(41212),i=t(518),n=t(26430),l=new h({Extends:n,initialize:function(u,d,c,v,y,x){var S,E;if(r(d)){var A=d;d=o(A,"key"),S=new a(u,{key:d,url:o(A,"textureURL"),extension:o(A,"textureExtension","png"),normalMap:o(A,"normalMap"),xhrSettings:o(A,"textureXhrSettings")}),E=new i(u,{key:d,url:o(A,"atlasURL"),extension:o(A,"atlasExtension","json"),xhrSettings:o(A,"atlasXhrSettings")})}else S=new a(u,d,c,y),E=new i(u,d,v,x);S.linkFile?n.call(this,u,"atlasjson",d,[S,E,S.linkFile]):n.call(this,u,"atlasjson",d,[S,E])},addToCache:function(){if(this.isReadyToProcess()){var s=this.files[0],u=this.files[1],d=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(s.key,s.data,u.data,d),this.complete=!0}}});g.register("atlas",function(s,u,d,c,v){var y;if(Array.isArray(s))for(var x=0;x<s.length;x++)y=new l(this,s[x]),this.addFile(y.files);else y=new l(this,s,u,d,c,v),this.addFile(y.files);return this}),f.exports=l},74599:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(74099),o=t(95540),a=t(19550),r=t(41212),i=t(26430),n=t(57318),l=new h({Extends:i,initialize:function(u,d,c,v,y,x){var S,E;if(r(d)){var A=d;d=o(A,"key"),S=new a(u,{key:d,url:o(A,"textureURL"),extension:o(A,"textureExtension","png"),normalMap:o(A,"normalMap"),xhrSettings:o(A,"textureXhrSettings")}),E=new n(u,{key:d,url:o(A,"atlasURL"),extension:o(A,"atlasExtension","xml"),xhrSettings:o(A,"atlasXhrSettings")})}else S=new a(u,d,c,y),E=new n(u,d,v,x);S.linkFile?i.call(this,u,"atlasxml",d,[S,E,S.linkFile]):i.call(this,u,"atlasxml",d,[S,E])},addToCache:function(){if(this.isReadyToProcess()){var s=this.files[0],u=this.files[1],d=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlasXML(s.key,s.data,u.data,d),this.complete=!0}}});g.register("atlasXML",function(s,u,d,c,v){var y;if(Array.isArray(s))for(var x=0;x<s.length;x++)y=new l(this,s[x]),this.addFile(y.files);else y=new l(this,s,u,d,c,v),this.addFile(y.files);return this}),f.exports=l},21097:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(23906),o=t(41299),a=t(74099),r=t(95540),i=t(89749),n=t(41212),l=new h({Extends:o,initialize:function(u,d,c,v,y){if(n(d)){var x=d;d=r(x,"key"),v=r(x,"xhrSettings"),y=r(x,"context",y)}var S={type:"audio",cache:u.cacheManager.audio,extension:c.type,responseType:"arraybuffer",key:d,url:c.url,xhrSettings:v,config:{context:y}};o.call(this,u,S)},onProcess:function(){this.state=g.FILE_PROCESSING;var s=this;this.config.context.decodeAudioData(this.xhrLoader.response,function(u){s.data=u,s.onProcessComplete()},function(u){console.error("Error decoding audio: "+s.key+" - ",u?u.message:null),s.onProcessError()}),this.config.context=null}});l.create=function(s,u,d,c,v){var y=s.systems.game,x=y.config.audio,S=y.device.audio;n(u)&&(d=r(u,"url",[]),c=r(u,"config",{}));var E=l.getAudioURL(y,d);return E?S.webAudio&&!x.disableWebAudio?new l(s,u,E,v,y.sound.context):new i(s,u,E,c):(console.warn('No audio URLs for "%s" can play on this device',u),null)},l.getAudioURL=function(s,u){Array.isArray(u)||(u=[u]);for(var d=0;d<u.length;d++){var c=r(u[d],"url",u[d]);if(c.indexOf("blob:")===0||c.indexOf("data:")===0)return{url:c,type:""};var v=c.match(/\.([a-zA-Z0-9]+)($|\?)/);if(v=r(u[d],"type",v?v[1]:"").toLowerCase(),s.device.audio[v])return{url:c,type:v}}return null},a.register("audio",function(s,u,d,c){var v=this.systems.game,y=v.config.audio,x=v.device.audio;if(y.noAudio||!x.webAudio&&!x.audioData)return this;var S;if(Array.isArray(s))for(var E=0;E<s.length;E++)S=l.create(this,s[E]),S&&this.addFile(S);else S=l.create(this,s,u,d,c),S&&this.addFile(S);return this}),f.exports=l},89524:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(21097),g=t(83419),o=t(74099),a=t(95540),r=t(41212),i=t(518),n=t(26430),l=new g({Extends:n,initialize:function(u,d,c,v,y,x,S){if(r(d)){var E=d;d=a(E,"key"),c=a(E,"jsonURL"),v=a(E,"audioURL"),y=a(E,"audioConfig"),x=a(E,"audioXhrSettings"),S=a(E,"jsonXhrSettings")}var A;if(!v)A=new i(u,d,c,S),n.call(this,u,"audiosprite",d,[A]),this.config.resourceLoad=!0,this.config.audioConfig=y,this.config.audioXhrSettings=x;else{var R=h.create(u,d,v,y,x);R&&(A=new i(u,d,c,S),n.call(this,u,"audiosprite",d,[R,A]),this.config.resourceLoad=!1)}},onFileComplete:function(s){var u=this.files.indexOf(s);if(u!==-1&&(this.pending--,this.config.resourceLoad&&s.type==="json"&&s.data.hasOwnProperty("resources"))){var d=s.data.resources,c=a(this.config,"audioConfig"),v=a(this.config,"audioXhrSettings"),y=h.create(this.loader,s.key,d,c,v);y&&(this.addToMultiFile(y),this.loader.addFile(y))}},addToCache:function(){if(this.isReadyToProcess()){var s=this.files[0],u=this.files[1];s.addToCache(),u.addToCache(),this.complete=!0}}});o.register("audioSprite",function(s,u,d,c,v,y){var x=this.systems.game,S=x.config.audio,E=x.device.audio;if(S&&S.noAudio||!E.webAudio&&!E.audioData)return this;var A;if(Array.isArray(s))for(var R=0;R<s.length;R++)A=new l(this,s[R]),A.files&&this.addFile(A.files);else A=new l(this,s,u,d,c,v,y),A.files&&this.addFile(A.files);return this})},85722:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(23906),o=t(41299),a=t(74099),r=t(95540),i=t(41212),n=new h({Extends:o,initialize:function(s,u,d,c,v){var y="bin";if(i(u)){var x=u;u=r(x,"key"),d=r(x,"url"),c=r(x,"xhrSettings"),y=r(x,"extension",y),v=r(x,"dataType",v)}var S={type:"binary",cache:s.cacheManager.binary,extension:y,responseType:"arraybuffer",key:u,url:d,xhrSettings:c,config:{dataType:v}};o.call(this,s,S)},onProcess:function(){this.state=g.FILE_PROCESSING;var l=this.config.dataType;this.data=l?new l(this.xhrLoader.response):this.xhrLoader.response,this.onProcessComplete()}});a.register("binary",function(l,s,u,d){if(Array.isArray(l))for(var c=0;c<l.length;c++)this.addFile(new n(this,l[c]));else this.addFile(new n(this,l,s,d,u));return this}),f.exports=n},97025:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(74099),o=t(95540),a=t(19550),r=t(41212),i=t(26430),n=t(21859),l=t(57318),s=new h({Extends:i,initialize:function(d,c,v,y,x,S){var E,A;if(r(c)){var R=c;c=o(R,"key"),E=new a(d,{key:c,url:o(R,"textureURL"),extension:o(R,"textureExtension","png"),normalMap:o(R,"normalMap"),xhrSettings:o(R,"textureXhrSettings")}),A=new l(d,{key:c,url:o(R,"fontDataURL"),extension:o(R,"fontDataExtension","xml"),xhrSettings:o(R,"fontDataXhrSettings")})}else E=new a(d,c,v,x),A=new l(d,c,y,S);E.linkFile?i.call(this,d,"bitmapfont",c,[E,A,E.linkFile]):i.call(this,d,"bitmapfont",c,[E,A])},addToCache:function(){if(this.isReadyToProcess()){var u=this.files[0],d=this.files[1];u.addToCache();var c=u.cache.get(u.key),v=n(d.data,u.cache.getFrame(u.key),0,0,c);this.loader.cacheManager.bitmapFont.add(u.key,{data:v,texture:u.key,frame:null}),this.complete=!0}}});g.register("bitmapFont",function(u,d,c,v,y){var x;if(Array.isArray(u))for(var S=0;S<u.length;S++)x=new s(this,u[S]),this.addFile(x.files);else x=new s(this,u,d,c,v,y),this.addFile(x.files);return this}),f.exports=s},16024:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(23906),o=t(41299),a=t(74099),r=t(95540),i=t(41212),n=new h({Extends:o,initialize:function(s,u,d,c){var v="css";if(i(u)){var y=u;u=r(y,"key"),d=r(y,"url"),c=r(y,"xhrSettings"),v=r(y,"extension",v)}var x={type:"script",cache:!1,extension:v,responseType:"text",key:u,url:d,xhrSettings:c};o.call(this,s,x)},onProcess:function(){this.state=g.FILE_PROCESSING,this.data=document.createElement("style"),this.data.defer=!1,this.data.innerHTML=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});a.register("css",function(l,s,u){if(Array.isArray(l))for(var d=0;d<l.length;d++)this.addFile(new n(this,l[d]));else this.addFile(new n(this,l,s,u));return this}),f.exports=n},69559:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(38734),g=t(85722),o=t(83419),a=t(74099),r=t(95540),i=t(19550),n=t(41212),l=t(518),s=t(31403),u=t(46975),d=t(59327),c=t(26430),v=t(82038),y=t(55222),x=new o({Extends:c,initialize:function(E,A,R,w){if(R.multiAtlasURL){var I=new l(E,{key:A,url:R.multiAtlasURL,xhrSettings:w,config:R});c.call(this,E,"texture",A,[I])}else{var O=R.textureURL.substr(R.textureURL.length-3);R.type||(R.type=O.toLowerCase()==="ktx"?"KTX":"PVR");var F=new g(E,{key:A,url:R.textureURL,extension:O,xhrSettings:w,config:R});if(R.atlasURL){var L=new l(E,{key:A,url:R.atlasURL,xhrSettings:w,config:R});c.call(this,E,"texture",A,[F,L])}else c.call(this,E,"texture",A,[F])}this.config=R},onFileComplete:function(S){var E=this.files.indexOf(S);if(E!==-1){if(this.pending--,!this.config.multiAtlasURL)return;if(S.type==="json"&&S.data.hasOwnProperty("textures")){var A=S.data.textures,R=this.config,w=this.loader,I=w.baseURL,O=w.path,F=w.prefix,L=r(R,"multiBaseURL",this.baseURL),D=r(R,"multiPath",this.path),b=r(R,"prefix",this.prefix),G=r(R,"textureXhrSettings");L&&w.setBaseURL(L),D&&w.setPath(D),b&&w.setPrefix(b);for(var W=0;W<A.length;W++){var Y=A[W].image,H="CMA"+this.multiKeyIndex+"_"+Y,U=new g(w,H,Y,G);if(this.addToMultiFile(U),w.addFile(U),A[W].normalMap){var X=new g(w,H,A[W].normalMap,G);X.type="normalMap",U.setLink(X),this.addToMultiFile(X),w.addFile(X)}}w.setBaseURL(I),w.setPath(O),w.setPrefix(F)}}},addToCache:function(){function S(L){console.warn('Compressed Texture Invalid: "'+I.key+'". '+L)}if(this.isReadyToProcess()){var E=this.config;if(E.multiAtlasURL)this.addMultiToCache();else{var A=this.loader.systems.renderer,R=this.loader.textureManager,w,I=this.files[0],O=this.files[1];if(E.type==="PVR"?w=v(I.data):E.type==="KTX"&&(w=s(I.data),w||S("KTX file contains unsupported format.")),w&&!y(w)&&(S("Texture dimensions failed verification. Check the texture format specifications for "+E.format+" 0x"+w.internalFormat.toString(16)+"."),w=null),w&&!A.supportsCompressedTexture(E.format,w.internalFormat)&&(S("Texture format "+E.format+" with internal format "+w.internalFormat+" not supported by the GPU. Texture invalid. This is often due to the texture using sRGB instead of linear RGB."),w=null),w){w.format=A.getCompressedTextureName(E.format,w.internalFormat);var F=O&&O.data?O.data:null;R.addCompressedTexture(I.key,w,F)}}this.complete=!0}},addMultiToCache:function(){for(var S=this.config,E=this.files[0],A=[],R=[],w=[],I=this.loader.systems.renderer,O=this.loader.textureManager,F,L=1;L<this.files.length;L++){var D=this.files[L];if(D.type!=="normalMap")for(var b=D.key.indexOf("_"),G=D.key.substr(b+1),W=D.data,Y=0;Y<E.data.textures.length;Y++){var H=E.data.textures[Y];if(H.image===G){S.type==="PVR"?F=v(W):S.type==="KTX"&&(F=s(W)),F&&I.supportsCompressedTexture(S.format,F.internalFormat)&&(F.format=I.getCompressedTextureName(S.format,F.internalFormat),R.push(F),A.push(H),D.linkFile&&w.push(D.linkFile.data));break}}}w.length===0&&(w=void 0),O.addAtlasJSONArray(this.key,R,A,w),this.complete=!0}});a.register("texture",function(S,E,A){var R=this.systems.renderer,w=function(O,F,L,D){var b={format:null,type:null,textureURL:void 0,atlasURL:void 0,multiAtlasURL:void 0,multiPath:void 0,multiBaseURL:void 0};if(n(F)){var G=F;F=r(G,"key"),L=r(G,"url"),D=r(G,"xhrSettings")}var W=!1;for(var Y in L)if(R.supportsCompressedTexture(Y)){var H=L[Y];typeof H=="string"?b.textureURL=H:b=u(H,b),b.format=Y.toUpperCase(),W=!0;break}if(!W)console.warn("No supported compressed texture format or IMG fallback",F);else if(b.format==="IMG"){var U,X;b.multiAtlasURL?(X=new d(O,F,b.multiAtlasURL,b.multiPath,b.multiBaseURL,D),U=X.files):b.atlasURL?(X=new h(O,F,b.textureURL,b.atlasURL,D),U=X.files):U=new i(O,F,b.textureURL,D),O.addFile(U)}else{var V=new x(O,F,b,D);O.addFile(V.files)}};if(Array.isArray(S))for(var I=0;I<S.length;I++)w(this,S[I]);else w(this,S,E,A);return this}),f.exports=x},87674:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(23906),o=t(41299),a=t(74099),r=t(95540),i=t(98356),n=t(41212),l=new h({Extends:o,initialize:function(u,d,c,v,y,x){var S="ttf";if(n(d)){var E=d;d=r(E,"key"),c=r(E,"url"),v=r(E,"format","truetype"),y=r(E,"descriptors",null),x=r(E,"xhrSettings"),S=r(E,"extension",S)}else v===void 0&&(v="truetype");var A={type:"font",cache:!1,extension:S,responseType:"text",key:d,url:c,xhrSettings:x};o.call(this,u,A),this.data={format:v,descriptors:y},this.state=g.FILE_POPULATED},onProcess:function(){this.state=g.FILE_PROCESSING,this.src=i(this,this.loader.baseURL);var s,u=this.key,d="url("+this.src+') format("'+this.data.format+'")';this.data.descriptors?s=new FontFace(u,d,this.data.descriptors):s=new FontFace(u,d);var c=this;s.load().then(function(){document.fonts.add(s),document.body.classList.add("fonts-loaded"),c.onProcessComplete()}).catch(function(){console.warn("Font failed to load",d),c.onProcessComplete()})}});a.register("font",function(s,u,d,c,v){if(Array.isArray(s))for(var y=0;y<s.length;y++)this.addFile(new l(this,s[y]));else this.addFile(new l(this,s,u,d,c,v));return this}),f.exports=l},47931:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(23906),o=t(41299),a=t(74099),r=t(95540),i=t(41212),n=t(73894),l=new h({Extends:o,initialize:function(u,d,c,v,y){var x="glsl";if(i(d)){var S=d;d=r(S,"key"),c=r(S,"url"),v=r(S,"shaderType","fragment"),y=r(S,"xhrSettings"),x=r(S,"extension",x)}else v===void 0&&(v="fragment");var E={type:"glsl",cache:u.cacheManager.shader,extension:x,responseType:"text",key:d,url:c,config:{shaderType:v},xhrSettings:y};o.call(this,u,E)},onProcess:function(){this.state=g.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var s=this.data.split(`
`),u=this.extractBlock(s,0);if(u)for(;u;){var d=this.getShaderName(u.header),c=this.getShaderType(u.header),v=this.getShaderUniforms(u.header),y=u.shader;if(this.cache.has(d)){var x=this.cache.get(d);c==="fragment"?x.fragmentSrc=y:x.vertexSrc=y,x.uniforms||(x.uniforms=v)}else c==="fragment"?this.cache.add(d,new n(d,y,"",v)):this.cache.add(d,new n(d,"",y,v));u=this.extractBlock(s,u.offset)}else this.config.shaderType==="fragment"?this.cache.add(this.key,new n(this.key,this.data)):this.cache.add(this.key,new n(this.key,"",this.data))},getShaderName:function(s){for(var u=0;u<s.length;u++){var d=s[u].trim();if(d.substring(0,5)==="name:")return d.substring(5).trim()}return this.key},getShaderType:function(s){for(var u=0;u<s.length;u++){var d=s[u].trim();if(d.substring(0,5)==="type:")return d.substring(5).trim()}return this.config.shaderType},getShaderUniforms:function(s){for(var u={},d=0;d<s.length;d++){var c=s[d].trim();if(c.substring(0,8)==="uniform."){var v=c.indexOf(":");if(v){var y=c.substring(8,v);try{u[y]=JSON.parse(c.substring(v+1))}catch{console.warn("Invalid uniform JSON: "+y)}}}}return u},extractBlock:function(s,u){for(var d=-1,c=-1,v=-1,y=!1,x=!1,S=[],E=[],A=u;A<s.length;A++){var R=s[A].trim();if(R==="---")if(d===-1)d=A,y=!0;else if(y)c=A,y=!1,x=!0;else{x=!1;break}else y?S.push(R):x&&(E.push(R),v=A)}return!y&&c!==-1?{header:S,shader:E.join(`
`),offset:v}:null}});a.register("glsl",function(s,u,d,c){if(Array.isArray(s))for(var v=0;v<s.length;v++)this.addFile(new l(this,s[v]));else this.addFile(new l(this,s,u,d,c));return this}),f.exports=l},89749:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(54899),o=t(41299),a=t(95540),r=t(98356),i=t(41212),n=new h({Extends:o,initialize:function(s,u,d,c){if(i(u)){var v=u;u=a(v,"key"),c=a(v,"config",c)}var y={type:"audio",cache:s.cacheManager.audio,extension:d.type,key:u,url:d.url,config:c};o.call(this,s,y),this.locked="ontouchstart"in window,this.loaded=!1,this.filesLoaded=0,this.filesTotal=0},onLoad:function(){this.loaded||(this.loaded=!0,this.loader.nextFile(this,!0))},onError:function(){for(var l=0;l<this.data.length;l++){var s=this.data[l];s.oncanplaythrough=null,s.onerror=null}this.loader.nextFile(this,!1)},onProgress:function(l){var s=l.target;s.oncanplaythrough=null,s.onerror=null,this.filesLoaded++,this.percentComplete=Math.min(this.filesLoaded/this.filesTotal,1),this.loader.emit(g.FILE_PROGRESS,this,this.percentComplete),this.filesLoaded===this.filesTotal&&this.onLoad()},load:function(){this.data=[];var l=this.config&&this.config.instances||1;this.filesTotal=l,this.filesLoaded=0,this.percentComplete=0;for(var s=0;s<l;s++){var u=new Audio;u.dataset||(u.dataset={}),u.dataset.name=this.key+("0"+s).slice(-2),u.dataset.used="false",this.locked?u.dataset.locked="true":(u.dataset.locked="false",u.preload="auto",u.oncanplaythrough=this.onProgress.bind(this),u.onerror=this.onError.bind(this)),this.data.push(u)}for(s=0;s<this.data.length;s++)u=this.data[s],u.src=r(this,this.loader.baseURL),this.locked||u.load();this.locked&&setTimeout(this.onLoad.bind(this))}});f.exports=n},88470:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(23906),o=t(41299),a=t(74099),r=t(95540),i=t(41212),n=new h({Extends:o,initialize:function(s,u,d,c){var v="html";if(i(u)){var y=u;u=r(y,"key"),d=r(y,"url"),c=r(y,"xhrSettings"),v=r(y,"extension",v)}var x={type:"text",cache:s.cacheManager.html,extension:v,responseType:"text",key:u,url:d,xhrSettings:c};o.call(this,s,x)},onProcess:function(){this.state=g.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});a.register("html",function(l,s,u){if(Array.isArray(l))for(var d=0;d<l.length;d++)this.addFile(new n(this,l[d]));else this.addFile(new n(this,l,s,u));return this}),f.exports=n},14643:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(23906),o=t(41299),a=t(74099),r=t(95540),i=t(41212),n=new h({Extends:o,initialize:function(s,u,d,c,v,y){c===void 0&&(c=512),v===void 0&&(v=512);var x="html";if(i(u)){var S=u;u=r(S,"key"),d=r(S,"url"),y=r(S,"xhrSettings"),x=r(S,"extension",x),c=r(S,"width",c),v=r(S,"height",v)}var E={type:"html",cache:s.textureManager,extension:x,responseType:"text",key:u,url:d,xhrSettings:y,config:{width:c,height:v}};o.call(this,s,E)},onProcess:function(){this.state=g.FILE_PROCESSING;var l=this.config.width,s=this.config.height,u=[];u.push('<svg width="'+l+'px" height="'+s+'px" viewBox="0 0 '+l+" "+s+'" xmlns="http://www.w3.org/2000/svg">'),u.push('<foreignObject width="100%" height="100%">'),u.push('<body xmlns="http://www.w3.org/1999/xhtml">'),u.push(this.xhrLoader.responseText),u.push("</body>"),u.push("</foreignObject>"),u.push("</svg>");var d=[u.join(`
`)],c=this;try{var v=new window.Blob(d,{type:"image/svg+xml;charset=utf-8"})}catch{c.state=g.FILE_ERRORED,c.onProcessComplete();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin,this.data.onload=function(){o.revokeObjectURL(c.data),c.onProcessComplete()},this.data.onerror=function(){o.revokeObjectURL(c.data),c.onProcessError()},o.createObjectURL(this.data,v,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});a.register("htmlTexture",function(l,s,u,d,c){if(Array.isArray(l))for(var v=0;v<l.length;v++)this.addFile(new n(this,l[v]));else this.addFile(new n(this,l,s,u,d,c));return this}),f.exports=n},19550:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(23906),o=t(41299),a=t(74099),r=t(95540),i=t(41212),n=t(98356),l=new h({Extends:o,initialize:function s(u,d,c,v,y){var x="png",S;if(i(d)){var E=d;d=r(E,"key"),c=r(E,"url"),S=r(E,"normalMap"),v=r(E,"xhrSettings"),x=r(E,"extension",x),y=r(E,"frameConfig")}Array.isArray(c)&&(S=c[1],c=c[0]);var A={type:"image",cache:u.textureManager,extension:x,responseType:"blob",key:d,url:c,xhrSettings:v,config:y};if(o.call(this,u,A),S){var R=new s(u,this.key,S,v,y);R.type="normalMap",this.setLink(R),u.addFile(R)}this.useImageElementLoad=u.imageLoadType==="HTMLImageElement"||this.base64,this.useImageElementLoad&&(this.load=this.loadImage,this.onProcess=this.onProcessImage)},onProcess:function(){this.state=g.FILE_PROCESSING,this.data=new Image,this.data.crossOrigin=this.crossOrigin;var s=this;this.data.onload=function(){o.revokeObjectURL(s.data),s.onProcessComplete()},this.data.onerror=function(){o.revokeObjectURL(s.data),s.onProcessError()},o.createObjectURL(this.data,this.xhrLoader.response,"image/png")},onProcessImage:function(){var s=this.state;this.state=g.FILE_PROCESSING,s===g.FILE_LOADED?this.onProcessComplete():this.onProcessError()},loadImage:function(){this.state=g.FILE_LOADING,this.src=n(this,this.loader.baseURL),this.data=new Image,this.data.crossOrigin=this.crossOrigin;var s=this;this.data.onload=function(){s.state=g.FILE_LOADED,s.loader.nextFile(s,!0)},this.data.onerror=function(){s.loader.nextFile(s,!1)},this.data.src=this.src},addToCache:function(){var s=this.linkFile;s?s.state>=g.FILE_COMPLETE&&(s.type==="spritesheet"?s.addToCache():this.type==="normalMap"?this.cache.addImage(this.key,s.data,this.data):this.cache.addImage(this.key,this.data,s.data)):this.cache.addImage(this.key,this.data)}});a.register("image",function(s,u,d){if(Array.isArray(s))for(var c=0;c<s.length;c++)this.addFile(new l(this,s[c]));else this.addFile(new l(this,s,u,d));return this}),f.exports=l},518:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(23906),o=t(41299),a=t(74099),r=t(95540),i=t(35154),n=t(41212),l=new h({Extends:o,initialize:function(u,d,c,v,y){var x="json";if(n(d)){var S=d;d=r(S,"key"),c=r(S,"url"),v=r(S,"xhrSettings"),x=r(S,"extension",x),y=r(S,"dataKey",y)}var E={type:"json",cache:u.cacheManager.json,extension:x,responseType:"text",key:d,url:c,xhrSettings:v,config:y};o.call(this,u,E),n(c)&&(y?this.data=i(c,y):this.data=c,this.state=g.FILE_POPULATED)},onProcess:function(){if(this.state!==g.FILE_POPULATED){this.state=g.FILE_PROCESSING;try{var s=JSON.parse(this.xhrLoader.responseText)}catch(d){throw this.onProcessError(),d}var u=this.config;typeof u=="string"?this.data=i(s,u,s):this.data=s}this.onProcessComplete()}});a.register("json",function(s,u,d,c){if(Array.isArray(s))for(var v=0;v<s.length;v++)this.addFile(new l(this,s[v]));else this.addFile(new l(this,s,u,c,d));return this}),f.exports=l},59327:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(74099),o=t(95540),a=t(19550),r=t(41212),i=t(518),n=t(26430),l=new h({Extends:n,initialize:function(u,d,c,v,y,x,S){if(r(d)){var E=d;d=o(E,"key"),o(E,"url",!1)?c=o(E,"url"):c=o(E,"atlasURL"),x=o(E,"xhrSettings"),v=o(E,"path"),y=o(E,"baseURL"),S=o(E,"textureXhrSettings")}var A=new i(u,d,c,x);n.call(this,u,"multiatlas",d,[A]),this.config.path=v,this.config.baseURL=y,this.config.textureXhrSettings=S},onFileComplete:function(s){var u=this.files.indexOf(s);if(u!==-1&&(this.pending--,s.type==="json"&&s.data.hasOwnProperty("textures"))){var d=s.data.textures,c=this.config,v=this.loader,y=v.baseURL,x=v.path,S=v.prefix,E=o(c,"baseURL",this.baseURL),A=o(c,"path",this.path),R=o(c,"prefix",this.prefix),w=o(c,"textureXhrSettings");v.setBaseURL(E),v.setPath(A),v.setPrefix(R);for(var I=0;I<d.length;I++){var O=d[I].image,F="MA"+this.multiKeyIndex+"_"+O,L=new a(v,F,O,w);if(this.addToMultiFile(L),v.addFile(L),d[I].normalMap){var D=new a(v,F,d[I].normalMap,w);D.type="normalMap",L.setLink(D),this.addToMultiFile(D),v.addFile(D)}}v.setBaseURL(y),v.setPath(x),v.setPrefix(S)}},addToCache:function(){if(this.isReadyToProcess()){for(var s=this.files[0],u=[],d=[],c=[],v=1;v<this.files.length;v++){var y=this.files[v];if(y.type!=="normalMap")for(var x=y.key.indexOf("_"),S=y.key.substr(x+1),E=y.data,A=0;A<s.data.textures.length;A++){var R=s.data.textures[A];if(R.image===S){d.push(E),u.push(R),y.linkFile&&c.push(y.linkFile.data);break}}}c.length===0&&(c=void 0),this.loader.textureManager.addAtlasJSONArray(this.key,d,u,c),this.complete=!0}}});g.register("multiatlas",function(s,u,d,c,v){var y;if(Array.isArray(s))for(var x=0;x<s.length;x++)y=new l(this,s[x]),this.addFile(y.files);else y=new l(this,s,u,d,c,v),this.addFile(y.files);return this}),f.exports=l},99297:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(74099),o=t(95540),a=t(41212),r=t(26430),i=t(34328),n=new h({Extends:r,initialize:function(s,u,d,c){var v="js",y=[];if(a(u)){var x=u;u=o(x,"key"),d=o(x,"url"),c=o(x,"xhrSettings"),v=o(x,"extension",v)}Array.isArray(d)||(d=[d]);for(var S=0;S<d.length;S++){var E=new i(s,{key:u+"_"+S.toString(),url:d[S],extension:v,xhrSettings:c});E.onProcess=function(){this.onProcessComplete()},y.push(E)}r.call(this,s,"scripts",u,y)},addToCache:function(){if(this.isReadyToProcess()){for(var l=0;l<this.files.length;l++){var s=this.files[l];s.data=document.createElement("script"),s.data.language="javascript",s.data.type="text/javascript",s.data.defer=!1,s.data.text=s.xhrLoader.responseText,document.head.appendChild(s.data)}this.complete=!0}}});g.register("scripts",function(l,s,u){var d;if(Array.isArray(l))for(var c=0;c<l.length;c++)d=new n(this,l[c]),this.addFile(d.files);else d=new n(this,l,s,u),this.addFile(d.files);return this}),f.exports=n},41846:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(74099),o=t(95540),a=t(41212),r=t(26430),i=t(85048),n=t(61485),l=t(78776),s=new h({Extends:r,initialize:function(d,c,v,y,x,S){var E,A,R=d.cacheManager.obj;if(a(c)){var w=c;c=o(w,"key"),E=new l(d,{key:c,type:"obj",cache:R,url:o(w,"url"),extension:o(w,"extension","obj"),xhrSettings:o(w,"xhrSettings"),config:{flipUV:o(w,"flipUV",x)}}),y=o(w,"matURL"),y&&(A=new l(d,{key:c,type:"mat",cache:R,url:y,extension:o(w,"matExtension","mat"),xhrSettings:o(w,"xhrSettings")}))}else E=new l(d,{key:c,url:v,type:"obj",cache:R,extension:"obj",xhrSettings:S,config:{flipUV:x}}),y&&(A=new l(d,{key:c,url:y,type:"mat",cache:R,extension:"mat",xhrSettings:S}));r.call(this,d,"obj",c,[E,A])},addToCache:function(){if(this.isReadyToProcess()){var u=this.files[0],d=this.files[1],c=i(u.data,u.config.flipUV);d&&(c.materials=n(d.data)),u.cache.add(u.key,c),this.complete=!0}}});g.register("obj",function(u,d,c,v,y){var x;if(Array.isArray(u))for(var S=0;S<u.length;S++)x=new s(this,u[S]),this.addFile(x.files);else x=new s(this,u,d,c,v,y),this.addFile(x.files);return this}),f.exports=s},58610:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(23906),o=t(74099),a=t(518),r=new h({Extends:a,initialize:function(n,l,s,u,d){a.call(this,n,l,s,u,d),this.type="packfile"},onProcess:function(){if(this.state!==g.FILE_POPULATED&&(this.state=g.FILE_PROCESSING,this.data=JSON.parse(this.xhrLoader.responseText)),this.data.hasOwnProperty("files")&&this.config){var i={};i[this.config]=this.data,this.data=i}this.loader.addPack(this.data,this.config),this.onProcessComplete()}});o.register("pack",function(i,n,l,s){if(Array.isArray(i))for(var u=0;u<i.length;u++)this.addFile(new r(this,i[u]));else this.addFile(new r(this,i,n,s,l));return this}),f.exports=r},48988:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(23906),o=t(41299),a=t(74099),r=t(95540),i=t(41212),n=new h({Extends:o,initialize:function(s,u,d,c,v,y){var x="js";if(i(u)){var S=u;u=r(S,"key"),d=r(S,"url"),y=r(S,"xhrSettings"),x=r(S,"extension",x),c=r(S,"start"),v=r(S,"mapping")}var E={type:"plugin",cache:!1,extension:x,responseType:"text",key:u,url:d,xhrSettings:y,config:{start:c,mapping:v}};o.call(this,s,E),typeof d=="function"&&(this.data=d,this.state=g.FILE_POPULATED)},onProcess:function(){var l=this.loader.systems.plugins,s=this.config,u=r(s,"start",!1),d=r(s,"mapping",null);if(this.state===g.FILE_POPULATED)l.install(this.key,this.data,u,d);else{this.state=g.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data);var c=l.install(this.key,window[this.key],u,d);(u||d)&&(this.loader.systems[d]=c,this.loader.scene[d]=c)}this.onProcessComplete()}});a.register("plugin",function(l,s,u,d,c){if(Array.isArray(l))for(var v=0;v<l.length;v++)this.addFile(new n(this,l[v]));else this.addFile(new n(this,l,s,u,d,c));return this}),f.exports=n},67397:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(23906),o=t(41299),a=t(74099),r=t(95540),i=t(41212),n=new h({Extends:o,initialize:function(s,u,d,c,v){var y="svg";if(i(u)){var x=u;u=r(x,"key"),d=r(x,"url"),c=r(x,"svgConfig",{}),v=r(x,"xhrSettings"),y=r(x,"extension",y)}var S={type:"svg",cache:s.textureManager,extension:y,responseType:"text",key:u,url:d,xhrSettings:v,config:{width:r(c,"width"),height:r(c,"height"),scale:r(c,"scale")}};o.call(this,s,S)},onProcess:function(){this.state=g.FILE_PROCESSING;var l=this.xhrLoader.responseText,s=[l],u=this.config.width,d=this.config.height,c=this.config.scale;t:if(u&&d||c){var v=null,y=new DOMParser;v=y.parseFromString(l,"text/xml");var x=v.getElementsByTagName("svg")[0],S=x.hasAttribute("viewBox"),E=parseFloat(x.getAttribute("width")),A=parseFloat(x.getAttribute("height"));if(!S&&E&&A)x.setAttribute("viewBox","0  0 "+E+" "+A);else if(S&&!E&&!A){var R=x.getAttribute("viewBox").split(/\s+|,/);E=R[2],A=R[3]}if(c)if(E&&A)u=E*c,d=A*c;else break t;x.setAttribute("width",u.toString()+"px"),x.setAttribute("height",d.toString()+"px"),s=[new XMLSerializer().serializeToString(x)]}try{var w=new window.Blob(s,{type:"image/svg+xml;charset=utf-8"})}catch{this.onProcessError();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin;var I=this,O=!1;this.data.onload=function(){O||o.revokeObjectURL(I.data),I.onProcessComplete()},this.data.onerror=function(){O?I.onProcessError():(O=!0,o.revokeObjectURL(I.data),I.data.src="data:image/svg+xml,"+encodeURIComponent(s.join("")))},o.createObjectURL(this.data,w,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});a.register("svg",function(l,s,u,d){if(Array.isArray(l))for(var c=0;c<l.length;c++)this.addFile(new n(this,l[c]));else this.addFile(new n(this,l,s,u,d));return this}),f.exports=n},88423:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(23906),o=t(41299),a=t(74099),r=t(95540),i=t(41212),n=new h({Extends:o,initialize:function(s,u,d,c){var v="js";if(i(u)){var y=u;u=r(y,"key"),d=r(y,"url"),c=r(y,"xhrSettings"),v=r(y,"extension",v)}var x={type:"text",extension:v,responseType:"text",key:u,url:d,xhrSettings:c};o.call(this,s,x)},onProcess:function(){this.state=g.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var l=this.data.concat(`(function(){
return new `+this.key+`();
}).call(this);`),s=eval;this.loader.sceneManager.add(this.key,s(l)),this.complete=!0}});a.register("sceneFile",function(l,s,u){if(Array.isArray(l))for(var d=0;d<l.length;d++)this.addFile(new n(this,l[d]));else this.addFile(new n(this,l,s,u));return this}),f.exports=n},56812:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(23906),o=t(41299),a=t(74099),r=t(95540),i=t(41212),n=new h({Extends:o,initialize:function(s,u,d,c,v,y){var x="js";if(i(u)){var S=u;u=r(S,"key"),d=r(S,"url"),y=r(S,"xhrSettings"),x=r(S,"extension",x),c=r(S,"systemKey"),v=r(S,"sceneKey")}var E={type:"scenePlugin",cache:!1,extension:x,responseType:"text",key:u,url:d,xhrSettings:y,config:{systemKey:c,sceneKey:v}};o.call(this,s,E),typeof d=="function"&&(this.data=d,this.state=g.FILE_POPULATED)},onProcess:function(){var l=this.loader.systems.plugins,s=this.config,u=this.key,d=r(s,"systemKey",u),c=r(s,"sceneKey",u);this.state===g.FILE_POPULATED?l.installScenePlugin(d,this.data,c,this.loader.scene,!0):(this.state=g.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),l.installScenePlugin(d,window[this.key],c,this.loader.scene,!0)),this.onProcessComplete()}});a.register("scenePlugin",function(l,s,u,d,c){if(Array.isArray(l))for(var v=0;v<l.length;v++)this.addFile(new n(this,l[v]));else this.addFile(new n(this,l,s,u,d,c));return this}),f.exports=n},34328:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(23906),o=t(41299),a=t(74099),r=t(95540),i=t(41212),n=new h({Extends:o,initialize:function(s,u,d,c,v){var y="js";if(i(u)){var x=u;u=r(x,"key"),d=r(x,"url"),c=r(x,"type","script"),v=r(x,"xhrSettings"),y=r(x,"extension",y)}else c===void 0&&(c="script");var S={type:c,cache:!1,extension:y,responseType:"text",key:u,url:d,xhrSettings:v};o.call(this,s,S)},onProcess:function(){this.state=g.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});a.register("script",function(l,s,u,d){if(Array.isArray(l))for(var c=0;c<l.length;c++)this.addFile(new n(this,l[c]));else this.addFile(new n(this,l,s,u,d));return this}),f.exports=n},85035:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(23906),o=t(74099),a=t(19550),r=new h({Extends:a,initialize:function(n,l,s,u,d){a.call(this,n,l,s,d,u),this.type="spritesheet"},addToCache:function(){var i=this.linkFile;i?i.state>=g.FILE_COMPLETE&&(this.type==="normalMap"?this.cache.addSpriteSheet(this.key,i.data,this.config,this.data):this.cache.addSpriteSheet(this.key,this.data,this.config,i.data)):this.cache.addSpriteSheet(this.key,this.data,this.config)}});o.register("spritesheet",function(i,n,l,s){if(Array.isArray(i))for(var u=0;u<i.length;u++)this.addFile(new r(this,i[u]));else this.addFile(new r(this,i,n,l,s));return this}),f.exports=r},78776:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(23906),o=t(41299),a=t(74099),r=t(95540),i=t(41212),n=new h({Extends:o,initialize:function(s,u,d,c){var v="text",y="txt",x=s.cacheManager.text;if(i(u)){var S=u;u=r(S,"key"),d=r(S,"url"),c=r(S,"xhrSettings"),y=r(S,"extension",y),v=r(S,"type",v),x=r(S,"cache",x)}var E={type:v,cache:x,extension:y,responseType:"text",key:u,url:d,xhrSettings:c};o.call(this,s,E)},onProcess:function(){this.state=g.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});a.register("text",function(l,s,u){if(Array.isArray(l))for(var d=0;d<l.length;d++)this.addFile(new n(this,l[d]));else this.addFile(new n(this,l,s,u));return this}),f.exports=n},49477:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(23906),o=t(41299),a=t(74099),r=t(95540),i=t(41212),n=t(80341),l=new h({Extends:o,initialize:function(u,d,c,v){var y="csv";if(i(d)){var x=d;d=r(x,"key"),c=r(x,"url"),v=r(x,"xhrSettings"),y=r(x,"extension",y)}var S={type:"tilemapCSV",cache:u.cacheManager.tilemap,extension:y,responseType:"text",key:d,url:c,xhrSettings:v};o.call(this,u,S),this.tilemapFormat=n.CSV},onProcess:function(){this.state=g.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var s={format:this.tilemapFormat,data:this.data};this.cache.add(this.key,s)}});a.register("tilemapCSV",function(s,u,d){if(Array.isArray(s))for(var c=0;c<s.length;c++)this.addFile(new l(this,s[c]));else this.addFile(new l(this,s,u,d));return this}),f.exports=l},40807:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(74099),o=t(518),a=t(80341),r=new h({Extends:o,initialize:function(n,l,s,u){o.call(this,n,l,s,u),this.type="tilemapJSON",this.cache=n.cacheManager.tilemap},addToCache:function(){var i={format:a.WELTMEISTER,data:this.data};this.cache.add(this.key,i)}});g.register("tilemapImpact",function(i,n,l){if(Array.isArray(i))for(var s=0;s<i.length;s++)this.addFile(new r(this,i[s]));else this.addFile(new r(this,i,n,l));return this}),f.exports=r},56775:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(74099),o=t(518),a=t(80341),r=new h({Extends:o,initialize:function(n,l,s,u){o.call(this,n,l,s,u),this.type="tilemapJSON",this.cache=n.cacheManager.tilemap},addToCache:function(){var i={format:a.TILED_JSON,data:this.data};this.cache.add(this.key,i)}});g.register("tilemapTiledJSON",function(i,n,l){if(Array.isArray(i))for(var s=0;s<i.length;s++)this.addFile(new r(this,i[s]));else this.addFile(new r(this,i,n,l));return this}),f.exports=r},25771:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(74099),o=t(95540),a=t(19550),r=t(41212),i=t(26430),n=t(78776),l=new h({Extends:i,initialize:function(u,d,c,v,y,x){var S,E;if(r(d)){var A=d;d=o(A,"key"),S=new a(u,{key:d,url:o(A,"textureURL"),extension:o(A,"textureExtension","png"),normalMap:o(A,"normalMap"),xhrSettings:o(A,"textureXhrSettings")}),E=new n(u,{key:d,url:o(A,"atlasURL"),extension:o(A,"atlasExtension","txt"),xhrSettings:o(A,"atlasXhrSettings")})}else S=new a(u,d,c,y),E=new n(u,d,v,x);S.linkFile?i.call(this,u,"unityatlas",d,[S,E,S.linkFile]):i.call(this,u,"unityatlas",d,[S,E])},addToCache:function(){if(this.isReadyToProcess()){var s=this.files[0],u=this.files[1],d=this.files[2]?this.files[2].data:null;this.loader.textureManager.addUnityAtlas(s.key,s.data,u.data,d),this.complete=!0}}});g.register("unityAtlas",function(s,u,d,c,v){var y;if(Array.isArray(s))for(var x=0;x<s.length;x++)y=new l(this,s[x]),this.addFile(y.files);else y=new l(this,s,u,d,c,v),this.addFile(y.files);return this}),f.exports=l},33720:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(23906),o=t(41299),a=t(74099),r=t(98356),i=t(95540),n=t(41212),l=new h({Extends:o,initialize:function(u,d,c,v){if(v===void 0&&(v=!1),n(d)){var y=d;d=i(y,"key"),c=i(y,"url",[]),v=i(y,"noAudio",!1)}var x=u.systems.game.device.video.getVideoURL(c);x||console.warn("VideoFile: No supported format for "+d);var S={type:"video",cache:u.cacheManager.video,extension:x.type,key:d,url:x.url,config:{noAudio:v}};o.call(this,u,S)},onProcess:function(){this.data={url:this.src,noAudio:this.config.noAudio,crossOrigin:this.crossOrigin},this.onProcessComplete()},load:function(){this.src=r(this,this.loader.baseURL),this.state=g.FILE_LOADED,this.loader.nextFile(this,!0)}});a.register("video",function(s,u,d){if(Array.isArray(s))for(var c=0;c<s.length;c++)this.addFile(new l(this,s[c]));else this.addFile(new l(this,s,u,d));return this}),f.exports=l},57318:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(23906),o=t(41299),a=t(74099),r=t(95540),i=t(41212),n=t(56836),l=new h({Extends:o,initialize:function(u,d,c,v){var y="xml";if(i(d)){var x=d;d=r(x,"key"),c=r(x,"url"),v=r(x,"xhrSettings"),y=r(x,"extension",y)}var S={type:"xml",cache:u.cacheManager.xml,extension:y,responseType:"text",key:d,url:c,xhrSettings:v};o.call(this,u,S)},onProcess:function(){this.state=g.FILE_PROCESSING,this.data=n(this.xhrLoader.responseText),this.data?this.onProcessComplete():this.onProcessError()}});a.register("xml",function(s,u,d){if(Array.isArray(s))for(var c=0;c<s.length;c++)this.addFile(new l(this,s[c]));else this.addFile(new l(this,s,u,d));return this}),f.exports=l},64589:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={AnimationJSONFile:t(14135),AsepriteFile:t(76272),AtlasJSONFile:t(38734),AtlasXMLFile:t(74599),AudioFile:t(21097),AudioSpriteFile:t(89524),BinaryFile:t(85722),BitmapFontFile:t(97025),CompressedTextureFile:t(69559),CSSFile:t(16024),FontFile:t(87674),GLSLFile:t(47931),HTML5AudioFile:t(89749),HTMLFile:t(88470),HTMLTextureFile:t(14643),ImageFile:t(19550),JSONFile:t(518),MultiAtlasFile:t(59327),MultiScriptFile:t(99297),OBJFile:t(41846),PackFile:t(58610),PluginFile:t(48988),SceneFile:t(88423),ScenePluginFile:t(56812),ScriptFile:t(34328),SpriteSheetFile:t(85035),SVGFile:t(67397),TextFile:t(78776),TilemapCSVFile:t(49477),TilemapImpactFile:t(40807),TilemapJSONFile:t(56775),UnityAtlasFile:t(25771),VideoFile:t(33720),XMLFile:t(57318)}},57777:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(23906),g=t(79291),o={Events:t(54899),FileTypes:t(64589),File:t(41299),FileTypesManager:t(74099),GetURL:t(98356),LoaderPlugin:t(74261),MergeXHRSettings:t(3374),MultiFile:t(26430),XHRLoader:t(84376),XHRSettings:t(92638)};o=g(!1,o,h),f.exports=o},53307:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t){for(var h=0,g=0;g<t.length;g++)h+=+t[g];return h/t.length};f.exports=C},85710:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(6411),g=function(o,a){return h(o)/h(a)/h(o-a)};f.exports=g},30976:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h){return Math.floor(Math.random()*(h-t+1)+t)};f.exports=C},87842:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h,g,o,a){var r=(o-h)*.5,i=(a-g)*.5,n=t*t,l=t*n;return(2*g-2*o+r+i)*l+(-3*g+3*o-2*r-i)*n+r*t+g};f.exports=C},26302:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h,g){h===void 0&&(h=0),g===void 0&&(g=10);var o=Math.pow(g,-h);return Math.ceil(t*o)/o};f.exports=C},45319:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h,g){return Math.max(h,Math.min(g,t))};f.exports=C},39506:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(36383),g=function(o){return o*h.DEG_TO_RAD};f.exports=g},61241:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h){return Math.abs(t-h)};f.exports=C},38857:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(45319),g=t(83419),o=t(37867),a=t(29747),r=new o,i=new g({initialize:function n(l,s,u,d){l===void 0&&(l=0),s===void 0&&(s=0),u===void 0&&(u=0),d===void 0&&(d=n.DefaultOrder),this._x=l,this._y=s,this._z=u,this._order=d,this.onChangeCallback=a},x:{get:function(){return this._x},set:function(n){this._x=n,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(n){this._y=n,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(n){this._z=n,this.onChangeCallback(this)}},order:{get:function(){return this._order},set:function(n){this._order=n,this.onChangeCallback(this)}},set:function(n,l,s,u){return u===void 0&&(u=this._order),this._x=n,this._y=l,this._z=s,this._order=u,this.onChangeCallback(this),this},copy:function(n){return this.set(n.x,n.y,n.z,n.order)},setFromQuaternion:function(n,l,s){return l===void 0&&(l=this._order),s===void 0&&(s=!1),r.fromQuat(n),this.setFromRotationMatrix(r,l,s)},setFromRotationMatrix:function(n,l,s){l===void 0&&(l=this._order),s===void 0&&(s=!1);var u=n.val,d=u[0],c=u[4],v=u[8],y=u[1],x=u[5],S=u[9],E=u[2],A=u[6],R=u[10],w=0,I=0,O=0,F=.99999;switch(l){case"XYZ":{I=Math.asin(h(v,-1,1)),Math.abs(v)<F?(w=Math.atan2(-S,R),O=Math.atan2(-c,d)):w=Math.atan2(A,x);break}case"YXZ":{w=Math.asin(-h(S,-1,1)),Math.abs(S)<F?(I=Math.atan2(v,R),O=Math.atan2(y,x)):I=Math.atan2(-E,d);break}case"ZXY":{w=Math.asin(h(A,-1,1)),Math.abs(A)<F?(I=Math.atan2(-E,R),O=Math.atan2(-c,x)):O=Math.atan2(y,d);break}case"ZYX":{I=Math.asin(-h(E,-1,1)),Math.abs(E)<F?(w=Math.atan2(A,R),O=Math.atan2(y,d)):O=Math.atan2(-c,x);break}case"YZX":{O=Math.asin(h(y,-1,1)),Math.abs(y)<F?(w=Math.atan2(-S,x),I=Math.atan2(-E,d)):I=Math.atan2(v,R);break}case"XZY":{O=Math.asin(-h(c,-1,1)),Math.abs(c)<F?(w=Math.atan2(A,x),I=Math.atan2(v,d)):w=Math.atan2(-S,R);break}}return this._x=w,this._y=I,this._z=O,this._order=l,s&&this.onChangeCallback(this),this}});i.RotationOrders=["XYZ","YXZ","ZXY","ZYX","YZX","XZY"],i.DefaultOrder="XYZ",f.exports=i},6411:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t){if(t===0)return 1;for(var h=t;--t;)h*=t;return h};f.exports=C},99472:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h){return Math.random()*(h-t)+t};f.exports=C},77623:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h,g){h===void 0&&(h=0),g===void 0&&(g=10);var o=Math.pow(g,-h);return Math.floor(t*o)/o};f.exports=C},62945:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(45319),g=function(o,a,r){return o=h(o,0,1),(r-a)*o+a};f.exports=g},38265:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h){return t/h/1e3};f.exports=C},78702:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t){return t==parseFloat(t)?!(t%2):void 0};f.exports=C},94883:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t){return t===parseFloat(t)?!(t%2):void 0};f.exports=C},28915:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h,g){return(h-t)*g+t};f.exports=C},94908:f=>{/**
 * @author       Greg McLean <GregDevProjects>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h,g){return g===void 0&&(g=0),t.clone().lerp(h,g)};f.exports=C},94434:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=new h({initialize:function(a){this.val=new Float32Array(9),a?this.copy(a):this.identity()},clone:function(){return new g(this)},set:function(o){return this.copy(o)},copy:function(o){var a=this.val,r=o.val;return a[0]=r[0],a[1]=r[1],a[2]=r[2],a[3]=r[3],a[4]=r[4],a[5]=r[5],a[6]=r[6],a[7]=r[7],a[8]=r[8],this},fromMat4:function(o){var a=o.val,r=this.val;return r[0]=a[0],r[1]=a[1],r[2]=a[2],r[3]=a[4],r[4]=a[5],r[5]=a[6],r[6]=a[8],r[7]=a[9],r[8]=a[10],this},fromArray:function(o){var a=this.val;return a[0]=o[0],a[1]=o[1],a[2]=o[2],a[3]=o[3],a[4]=o[4],a[5]=o[5],a[6]=o[6],a[7]=o[7],a[8]=o[8],this},identity:function(){var o=this.val;return o[0]=1,o[1]=0,o[2]=0,o[3]=0,o[4]=1,o[5]=0,o[6]=0,o[7]=0,o[8]=1,this},transpose:function(){var o=this.val,a=o[1],r=o[2],i=o[5];return o[1]=o[3],o[2]=o[6],o[3]=a,o[5]=o[7],o[6]=r,o[7]=i,this},invert:function(){var o=this.val,a=o[0],r=o[1],i=o[2],n=o[3],l=o[4],s=o[5],u=o[6],d=o[7],c=o[8],v=c*l-s*d,y=-c*n+s*u,x=d*n-l*u,S=a*v+r*y+i*x;return S?(S=1/S,o[0]=v*S,o[1]=(-c*r+i*d)*S,o[2]=(s*r-i*l)*S,o[3]=y*S,o[4]=(c*a-i*u)*S,o[5]=(-s*a+i*n)*S,o[6]=x*S,o[7]=(-d*a+r*u)*S,o[8]=(l*a-r*n)*S,this):null},adjoint:function(){var o=this.val,a=o[0],r=o[1],i=o[2],n=o[3],l=o[4],s=o[5],u=o[6],d=o[7],c=o[8];return o[0]=l*c-s*d,o[1]=i*d-r*c,o[2]=r*s-i*l,o[3]=s*u-n*c,o[4]=a*c-i*u,o[5]=i*n-a*s,o[6]=n*d-l*u,o[7]=r*u-a*d,o[8]=a*l-r*n,this},determinant:function(){var o=this.val,a=o[0],r=o[1],i=o[2],n=o[3],l=o[4],s=o[5],u=o[6],d=o[7],c=o[8];return a*(c*l-s*d)+r*(-c*n+s*u)+i*(d*n-l*u)},multiply:function(o){var a=this.val,r=a[0],i=a[1],n=a[2],l=a[3],s=a[4],u=a[5],d=a[6],c=a[7],v=a[8],y=o.val,x=y[0],S=y[1],E=y[2],A=y[3],R=y[4],w=y[5],I=y[6],O=y[7],F=y[8];return a[0]=x*r+S*l+E*d,a[1]=x*i+S*s+E*c,a[2]=x*n+S*u+E*v,a[3]=A*r+R*l+w*d,a[4]=A*i+R*s+w*c,a[5]=A*n+R*u+w*v,a[6]=I*r+O*l+F*d,a[7]=I*i+O*s+F*c,a[8]=I*n+O*u+F*v,this},translate:function(o){var a=this.val,r=o.x,i=o.y;return a[6]=r*a[0]+i*a[3]+a[6],a[7]=r*a[1]+i*a[4]+a[7],a[8]=r*a[2]+i*a[5]+a[8],this},rotate:function(o){var a=this.val,r=a[0],i=a[1],n=a[2],l=a[3],s=a[4],u=a[5],d=Math.sin(o),c=Math.cos(o);return a[0]=c*r+d*l,a[1]=c*i+d*s,a[2]=c*n+d*u,a[3]=c*l-d*r,a[4]=c*s-d*i,a[5]=c*u-d*n,this},scale:function(o){var a=this.val,r=o.x,i=o.y;return a[0]=r*a[0],a[1]=r*a[1],a[2]=r*a[2],a[3]=i*a[3],a[4]=i*a[4],a[5]=i*a[5],this},fromQuat:function(o){var a=o.x,r=o.y,i=o.z,n=o.w,l=a+a,s=r+r,u=i+i,d=a*l,c=a*s,v=a*u,y=r*s,x=r*u,S=i*u,E=n*l,A=n*s,R=n*u,w=this.val;return w[0]=1-(y+S),w[3]=c+R,w[6]=v-A,w[1]=c-R,w[4]=1-(d+S),w[7]=x+E,w[2]=v+A,w[5]=x-E,w[8]=1-(d+y),this},normalFromMat4:function(o){var a=o.val,r=this.val,i=a[0],n=a[1],l=a[2],s=a[3],u=a[4],d=a[5],c=a[6],v=a[7],y=a[8],x=a[9],S=a[10],E=a[11],A=a[12],R=a[13],w=a[14],I=a[15],O=i*d-n*u,F=i*c-l*u,L=i*v-s*u,D=n*c-l*d,b=n*v-s*d,G=l*v-s*c,W=y*R-x*A,Y=y*w-S*A,H=y*I-E*A,U=x*w-S*R,X=x*I-E*R,V=S*I-E*w,B=O*V-F*X+L*U+D*H-b*Y+G*W;return B?(B=1/B,r[0]=(d*V-c*X+v*U)*B,r[1]=(c*H-u*V-v*Y)*B,r[2]=(u*X-d*H+v*W)*B,r[3]=(l*X-n*V-s*U)*B,r[4]=(i*V-l*H+s*Y)*B,r[5]=(n*H-i*X-s*W)*B,r[6]=(R*G-w*b+I*D)*B,r[7]=(w*L-A*G-I*F)*B,r[8]=(A*b-R*L+I*O)*B,this):null}});f.exports=g},37867:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(25836),o=1e-6,a=new h({initialize:function(d){this.val=new Float32Array(16),d?this.copy(d):this.identity()},clone:function(){return new a(this)},set:function(u){return this.copy(u)},setValues:function(u,d,c,v,y,x,S,E,A,R,w,I,O,F,L,D){var b=this.val;return b[0]=u,b[1]=d,b[2]=c,b[3]=v,b[4]=y,b[5]=x,b[6]=S,b[7]=E,b[8]=A,b[9]=R,b[10]=w,b[11]=I,b[12]=O,b[13]=F,b[14]=L,b[15]=D,this},copy:function(u){var d=u.val;return this.setValues(d[0],d[1],d[2],d[3],d[4],d[5],d[6],d[7],d[8],d[9],d[10],d[11],d[12],d[13],d[14],d[15])},fromArray:function(u){return this.setValues(u[0],u[1],u[2],u[3],u[4],u[5],u[6],u[7],u[8],u[9],u[10],u[11],u[12],u[13],u[14],u[15])},zero:function(){return this.setValues(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)},transform:function(u,d,c){var v=r.fromQuat(c),y=v.val,x=d.x,S=d.y,E=d.z;return this.setValues(y[0]*x,y[1]*x,y[2]*x,0,y[4]*S,y[5]*S,y[6]*S,0,y[8]*E,y[9]*E,y[10]*E,0,u.x,u.y,u.z,1)},xyz:function(u,d,c){this.identity();var v=this.val;return v[12]=u,v[13]=d,v[14]=c,this},scaling:function(u,d,c){this.zero();var v=this.val;return v[0]=u,v[5]=d,v[10]=c,v[15]=1,this},identity:function(){return this.setValues(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},transpose:function(){var u=this.val,d=u[1],c=u[2],v=u[3],y=u[6],x=u[7],S=u[11];return u[1]=u[4],u[2]=u[8],u[3]=u[12],u[4]=d,u[6]=u[9],u[7]=u[13],u[8]=c,u[9]=y,u[11]=u[14],u[12]=v,u[13]=x,u[14]=S,this},getInverse:function(u){return this.copy(u),this.invert()},invert:function(){var u=this.val,d=u[0],c=u[1],v=u[2],y=u[3],x=u[4],S=u[5],E=u[6],A=u[7],R=u[8],w=u[9],I=u[10],O=u[11],F=u[12],L=u[13],D=u[14],b=u[15],G=d*S-c*x,W=d*E-v*x,Y=d*A-y*x,H=c*E-v*S,U=c*A-y*S,X=v*A-y*E,V=R*L-w*F,B=R*D-I*F,z=R*b-O*F,K=w*D-I*L,k=w*b-O*L,J=I*b-O*D,q=G*J-W*k+Y*K+H*z-U*B+X*V;return q?(q=1/q,this.setValues((S*J-E*k+A*K)*q,(v*k-c*J-y*K)*q,(L*X-D*U+b*H)*q,(I*U-w*X-O*H)*q,(E*z-x*J-A*B)*q,(d*J-v*z+y*B)*q,(D*Y-F*X-b*W)*q,(R*X-I*Y+O*W)*q,(x*k-S*z+A*V)*q,(c*z-d*k-y*V)*q,(F*U-L*Y+b*G)*q,(w*Y-R*U-O*G)*q,(S*B-x*K-E*V)*q,(d*K-c*B+v*V)*q,(L*W-F*H-D*G)*q,(R*H-w*W+I*G)*q)):this},adjoint:function(){var u=this.val,d=u[0],c=u[1],v=u[2],y=u[3],x=u[4],S=u[5],E=u[6],A=u[7],R=u[8],w=u[9],I=u[10],O=u[11],F=u[12],L=u[13],D=u[14],b=u[15];return this.setValues(S*(I*b-O*D)-w*(E*b-A*D)+L*(E*O-A*I),-(c*(I*b-O*D)-w*(v*b-y*D)+L*(v*O-y*I)),c*(E*b-A*D)-S*(v*b-y*D)+L*(v*A-y*E),-(c*(E*O-A*I)-S*(v*O-y*I)+w*(v*A-y*E)),-(x*(I*b-O*D)-R*(E*b-A*D)+F*(E*O-A*I)),d*(I*b-O*D)-R*(v*b-y*D)+F*(v*O-y*I),-(d*(E*b-A*D)-x*(v*b-y*D)+F*(v*A-y*E)),d*(E*O-A*I)-x*(v*O-y*I)+R*(v*A-y*E),x*(w*b-O*L)-R*(S*b-A*L)+F*(S*O-A*w),-(d*(w*b-O*L)-R*(c*b-y*L)+F*(c*O-y*w)),d*(S*b-A*L)-x*(c*b-y*L)+F*(c*A-y*S),-(d*(S*O-A*w)-x*(c*O-y*w)+R*(c*A-y*S)),-(x*(w*D-I*L)-R*(S*D-E*L)+F*(S*I-E*w)),d*(w*D-I*L)-R*(c*D-v*L)+F*(c*I-v*w),-(d*(S*D-E*L)-x*(c*D-v*L)+F*(c*E-v*S)),d*(S*I-E*w)-x*(c*I-v*w)+R*(c*E-v*S))},determinant:function(){var u=this.val,d=u[0],c=u[1],v=u[2],y=u[3],x=u[4],S=u[5],E=u[6],A=u[7],R=u[8],w=u[9],I=u[10],O=u[11],F=u[12],L=u[13],D=u[14],b=u[15],G=d*S-c*x,W=d*E-v*x,Y=d*A-y*x,H=c*E-v*S,U=c*A-y*S,X=v*A-y*E,V=R*L-w*F,B=R*D-I*F,z=R*b-O*F,K=w*D-I*L,k=w*b-O*L,J=I*b-O*D;return G*J-W*k+Y*K+H*z-U*B+X*V},multiply:function(u){var d=this.val,c=d[0],v=d[1],y=d[2],x=d[3],S=d[4],E=d[5],A=d[6],R=d[7],w=d[8],I=d[9],O=d[10],F=d[11],L=d[12],D=d[13],b=d[14],G=d[15],W=u.val,Y=W[0],H=W[1],U=W[2],X=W[3];return d[0]=Y*c+H*S+U*w+X*L,d[1]=Y*v+H*E+U*I+X*D,d[2]=Y*y+H*A+U*O+X*b,d[3]=Y*x+H*R+U*F+X*G,Y=W[4],H=W[5],U=W[6],X=W[7],d[4]=Y*c+H*S+U*w+X*L,d[5]=Y*v+H*E+U*I+X*D,d[6]=Y*y+H*A+U*O+X*b,d[7]=Y*x+H*R+U*F+X*G,Y=W[8],H=W[9],U=W[10],X=W[11],d[8]=Y*c+H*S+U*w+X*L,d[9]=Y*v+H*E+U*I+X*D,d[10]=Y*y+H*A+U*O+X*b,d[11]=Y*x+H*R+U*F+X*G,Y=W[12],H=W[13],U=W[14],X=W[15],d[12]=Y*c+H*S+U*w+X*L,d[13]=Y*v+H*E+U*I+X*D,d[14]=Y*y+H*A+U*O+X*b,d[15]=Y*x+H*R+U*F+X*G,this},multiplyLocal:function(u){var d=this.val,c=u.val;return this.setValues(d[0]*c[0]+d[1]*c[4]+d[2]*c[8]+d[3]*c[12],d[0]*c[1]+d[1]*c[5]+d[2]*c[9]+d[3]*c[13],d[0]*c[2]+d[1]*c[6]+d[2]*c[10]+d[3]*c[14],d[0]*c[3]+d[1]*c[7]+d[2]*c[11]+d[3]*c[15],d[4]*c[0]+d[5]*c[4]+d[6]*c[8]+d[7]*c[12],d[4]*c[1]+d[5]*c[5]+d[6]*c[9]+d[7]*c[13],d[4]*c[2]+d[5]*c[6]+d[6]*c[10]+d[7]*c[14],d[4]*c[3]+d[5]*c[7]+d[6]*c[11]+d[7]*c[15],d[8]*c[0]+d[9]*c[4]+d[10]*c[8]+d[11]*c[12],d[8]*c[1]+d[9]*c[5]+d[10]*c[9]+d[11]*c[13],d[8]*c[2]+d[9]*c[6]+d[10]*c[10]+d[11]*c[14],d[8]*c[3]+d[9]*c[7]+d[10]*c[11]+d[11]*c[15],d[12]*c[0]+d[13]*c[4]+d[14]*c[8]+d[15]*c[12],d[12]*c[1]+d[13]*c[5]+d[14]*c[9]+d[15]*c[13],d[12]*c[2]+d[13]*c[6]+d[14]*c[10]+d[15]*c[14],d[12]*c[3]+d[13]*c[7]+d[14]*c[11]+d[15]*c[15])},premultiply:function(u){return this.multiplyMatrices(u,this)},multiplyMatrices:function(u,d){var c=u.val,v=d.val,y=c[0],x=c[4],S=c[8],E=c[12],A=c[1],R=c[5],w=c[9],I=c[13],O=c[2],F=c[6],L=c[10],D=c[14],b=c[3],G=c[7],W=c[11],Y=c[15],H=v[0],U=v[4],X=v[8],V=v[12],B=v[1],z=v[5],K=v[9],k=v[13],J=v[2],q=v[6],j=v[10],Z=v[14],_=v[3],et=v[7],it=v[11],st=v[15];return this.setValues(y*H+x*B+S*J+E*_,A*H+R*B+w*J+I*_,O*H+F*B+L*J+D*_,b*H+G*B+W*J+Y*_,y*U+x*z+S*q+E*et,A*U+R*z+w*q+I*et,O*U+F*z+L*q+D*et,b*U+G*z+W*q+Y*et,y*X+x*K+S*j+E*it,A*X+R*K+w*j+I*it,O*X+F*K+L*j+D*it,b*X+G*K+W*j+Y*it,y*V+x*k+S*Z+E*st,A*V+R*k+w*Z+I*st,O*V+F*k+L*Z+D*st,b*V+G*k+W*Z+Y*st)},translate:function(u){return this.translateXYZ(u.x,u.y,u.z)},translateXYZ:function(u,d,c){var v=this.val;return v[12]=v[0]*u+v[4]*d+v[8]*c+v[12],v[13]=v[1]*u+v[5]*d+v[9]*c+v[13],v[14]=v[2]*u+v[6]*d+v[10]*c+v[14],v[15]=v[3]*u+v[7]*d+v[11]*c+v[15],this},scale:function(u){return this.scaleXYZ(u.x,u.y,u.z)},scaleXYZ:function(u,d,c){var v=this.val;return v[0]=v[0]*u,v[1]=v[1]*u,v[2]=v[2]*u,v[3]=v[3]*u,v[4]=v[4]*d,v[5]=v[5]*d,v[6]=v[6]*d,v[7]=v[7]*d,v[8]=v[8]*c,v[9]=v[9]*c,v[10]=v[10]*c,v[11]=v[11]*c,this},makeRotationAxis:function(u,d){var c=Math.cos(d),v=Math.sin(d),y=1-c,x=u.x,S=u.y,E=u.z,A=y*x,R=y*S;return this.setValues(A*x+c,A*S-v*E,A*E+v*S,0,A*S+v*E,R*S+c,R*E-v*x,0,A*E-v*S,R*E+v*x,y*E*E+c,0,0,0,0,1)},rotate:function(u,d){var c=this.val,v=d.x,y=d.y,x=d.z,S=Math.sqrt(v*v+y*y+x*x);if(Math.abs(S)<o)return this;S=1/S,v*=S,y*=S,x*=S;var E=Math.sin(u),A=Math.cos(u),R=1-A,w=c[0],I=c[1],O=c[2],F=c[3],L=c[4],D=c[5],b=c[6],G=c[7],W=c[8],Y=c[9],H=c[10],U=c[11],X=c[12],V=c[13],B=c[14],z=c[15],K=v*v*R+A,k=y*v*R+x*E,J=x*v*R-y*E,q=v*y*R-x*E,j=y*y*R+A,Z=x*y*R+v*E,_=v*x*R+y*E,et=y*x*R-v*E,it=x*x*R+A;return this.setValues(w*K+L*k+W*J,I*K+D*k+Y*J,O*K+b*k+H*J,F*K+G*k+U*J,w*q+L*j+W*Z,I*q+D*j+Y*Z,O*q+b*j+H*Z,F*q+G*j+U*Z,w*_+L*et+W*it,I*_+D*et+Y*it,O*_+b*et+H*it,F*_+G*et+U*it,X,V,B,z)},rotateX:function(u){var d=this.val,c=Math.sin(u),v=Math.cos(u),y=d[4],x=d[5],S=d[6],E=d[7],A=d[8],R=d[9],w=d[10],I=d[11];return d[4]=y*v+A*c,d[5]=x*v+R*c,d[6]=S*v+w*c,d[7]=E*v+I*c,d[8]=A*v-y*c,d[9]=R*v-x*c,d[10]=w*v-S*c,d[11]=I*v-E*c,this},rotateY:function(u){var d=this.val,c=Math.sin(u),v=Math.cos(u),y=d[0],x=d[1],S=d[2],E=d[3],A=d[8],R=d[9],w=d[10],I=d[11];return d[0]=y*v-A*c,d[1]=x*v-R*c,d[2]=S*v-w*c,d[3]=E*v-I*c,d[8]=y*c+A*v,d[9]=x*c+R*v,d[10]=S*c+w*v,d[11]=E*c+I*v,this},rotateZ:function(u){var d=this.val,c=Math.sin(u),v=Math.cos(u),y=d[0],x=d[1],S=d[2],E=d[3],A=d[4],R=d[5],w=d[6],I=d[7];return d[0]=y*v+A*c,d[1]=x*v+R*c,d[2]=S*v+w*c,d[3]=E*v+I*c,d[4]=A*v-y*c,d[5]=R*v-x*c,d[6]=w*v-S*c,d[7]=I*v-E*c,this},fromRotationTranslation:function(u,d){var c=u.x,v=u.y,y=u.z,x=u.w,S=c+c,E=v+v,A=y+y,R=c*S,w=c*E,I=c*A,O=v*E,F=v*A,L=y*A,D=x*S,b=x*E,G=x*A;return this.setValues(1-(O+L),w+G,I-b,0,w-G,1-(R+L),F+D,0,I+b,F-D,1-(R+O),0,d.x,d.y,d.z,1)},fromQuat:function(u){var d=u.x,c=u.y,v=u.z,y=u.w,x=d+d,S=c+c,E=v+v,A=d*x,R=d*S,w=d*E,I=c*S,O=c*E,F=v*E,L=y*x,D=y*S,b=y*E;return this.setValues(1-(I+F),R+b,w-D,0,R-b,1-(A+F),O+L,0,w+D,O-L,1-(A+I),0,0,0,0,1)},frustum:function(u,d,c,v,y,x){var S=1/(d-u),E=1/(v-c),A=1/(y-x);return this.setValues(y*2*S,0,0,0,0,y*2*E,0,0,(d+u)*S,(v+c)*E,(x+y)*A,-1,0,0,x*y*2*A,0)},perspective:function(u,d,c,v){var y=1/Math.tan(u/2),x=1/(c-v);return this.setValues(y/d,0,0,0,0,y,0,0,0,0,(v+c)*x,-1,0,0,2*v*c*x,0)},perspectiveLH:function(u,d,c,v){return this.setValues(2*c/u,0,0,0,0,2*c/d,0,0,0,0,-v/(c-v),1,0,0,c*v/(c-v),0)},ortho:function(u,d,c,v,y,x){var S=u-d,E=c-v,A=y-x;return S=S===0?S:1/S,E=E===0?E:1/E,A=A===0?A:1/A,this.setValues(-2*S,0,0,0,0,-2*E,0,0,0,0,2*A,0,(u+d)*S,(v+c)*E,(x+y)*A,1)},lookAtRH:function(u,d,c){var v=this.val;return s.subVectors(u,d),s.lengthSq()===0&&(s.z=1),s.normalize(),n.crossVectors(c,s),n.lengthSq()===0&&(Math.abs(c.z)===1?s.x+=1e-4:s.z+=1e-4,s.normalize(),n.crossVectors(c,s)),n.normalize(),l.crossVectors(s,n),v[0]=n.x,v[1]=n.y,v[2]=n.z,v[4]=l.x,v[5]=l.y,v[6]=l.z,v[8]=s.x,v[9]=s.y,v[10]=s.z,this},lookAt:function(u,d,c){var v=u.x,y=u.y,x=u.z,S=c.x,E=c.y,A=c.z,R=d.x,w=d.y,I=d.z;if(Math.abs(v-R)<o&&Math.abs(y-w)<o&&Math.abs(x-I)<o)return this.identity();var O=v-R,F=y-w,L=x-I,D=1/Math.sqrt(O*O+F*F+L*L);O*=D,F*=D,L*=D;var b=E*L-A*F,G=A*O-S*L,W=S*F-E*O;D=Math.sqrt(b*b+G*G+W*W),D?(D=1/D,b*=D,G*=D,W*=D):(b=0,G=0,W=0);var Y=F*W-L*G,H=L*b-O*W,U=O*G-F*b;return D=Math.sqrt(Y*Y+H*H+U*U),D?(D=1/D,Y*=D,H*=D,U*=D):(Y=0,H=0,U=0),this.setValues(b,Y,O,0,G,H,F,0,W,U,L,0,-(b*v+G*y+W*x),-(Y*v+H*y+U*x),-(O*v+F*y+L*x),1)},yawPitchRoll:function(u,d,c){this.zero(),r.zero(),i.zero();var v=this.val,y=r.val,x=i.val,S=Math.sin(c),E=Math.cos(c);return v[10]=1,v[15]=1,v[0]=E,v[1]=S,v[4]=-S,v[5]=E,S=Math.sin(d),E=Math.cos(d),y[0]=1,y[15]=1,y[5]=E,y[10]=E,y[9]=-S,y[6]=S,S=Math.sin(u),E=Math.cos(u),x[5]=1,x[15]=1,x[0]=E,x[2]=-S,x[8]=S,x[10]=E,this.multiplyLocal(r),this.multiplyLocal(i),this},setWorldMatrix:function(u,d,c,v,y){return this.yawPitchRoll(u.y,u.x,u.z),r.scaling(c.x,c.y,c.z),i.xyz(d.x,d.y,d.z),this.multiplyLocal(r),this.multiplyLocal(i),v&&this.multiplyLocal(v),y&&this.multiplyLocal(y),this},multiplyToMat4:function(u,d){var c=this.val,v=u.val,y=c[0],x=c[1],S=c[2],E=c[3],A=c[4],R=c[5],w=c[6],I=c[7],O=c[8],F=c[9],L=c[10],D=c[11],b=c[12],G=c[13],W=c[14],Y=c[15],H=v[0],U=v[1],X=v[2],V=v[3],B=v[4],z=v[5],K=v[6],k=v[7],J=v[8],q=v[9],j=v[10],Z=v[11],_=v[12],et=v[13],it=v[14],st=v[15];return d.setValues(H*y+U*A+X*O+V*b,U*x+U*R+X*F+V*G,X*S+U*w+X*L+V*W,V*E+U*I+X*D+V*Y,B*y+z*A+K*O+k*b,B*x+z*R+K*F+k*G,B*S+z*w+K*L+k*W,B*E+z*I+K*D+k*Y,J*y+q*A+j*O+Z*b,J*x+q*R+j*F+Z*G,J*S+q*w+j*L+Z*W,J*E+q*I+j*D+Z*Y,_*y+et*A+it*O+st*b,_*x+et*R+it*F+st*G,_*S+et*w+it*L+st*W,_*E+et*I+it*D+st*Y)},fromRotationXYTranslation:function(u,d,c){var v=d.x,y=d.y,x=d.z,S=Math.sin(u.x),E=Math.cos(u.x),A=Math.sin(u.y),R=Math.cos(u.y),w=v,I=y,O=x,F=-S,L=0-F*A,D=0-E*A,b=F*R,G=E*R;return c||(w=R*v+A*x,I=L*v+E*y+b*x,O=D*v+S*y+G*x),this.setValues(R,L,D,0,0,E,S,0,A,b,G,0,w,I,O,1)},getMaxScaleOnAxis:function(){var u=this.val,d=u[0]*u[0]+u[1]*u[1]+u[2]*u[2],c=u[4]*u[4]+u[5]*u[5]+u[6]*u[6],v=u[8]*u[8]+u[9]*u[9]+u[10]*u[10];return Math.sqrt(Math.max(d,c,v))}}),r=new a,i=new a,n=new g,l=new g,s=new g;f.exports=a},86883:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h,g){return Math.min(t+h,g)};f.exports=C},50040:f=>{/**
 * @author       Vladislav Forsh <vlad@robowhale.com>
 * @copyright    2021 RoboWhale
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t){var h=t.length;if(h===0)return 0;t.sort(function(o,a){return o-a});var g=Math.floor(h/2);return h%2===0?(t[g]+t[g-1])/2:t[g]};f.exports=C},37204:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h,g){return Math.max(t-h,g)};f.exports=C},65201:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h,g,o){g===void 0&&(g=h+1);var a=(t-h)/(g-h);return a>1?o!==void 0?(a=(o-t)/(o-g),a<0&&(a=0)):a=1:a<0&&(a=0),a};f.exports=C},15746:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(94434),o=t(29747),a=t(25836),r=1e-6,i=new Int8Array([1,2,0]),n=new Float32Array([0,0,0]),l=new a(1,0,0),s=new a(0,1,0),u=new a,d=new g,c=new h({initialize:function(y,x,S,E){this.onChangeCallback=o,this.set(y,x,S,E)},x:{get:function(){return this._x},set:function(v){this._x=v,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(v){this._y=v,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(v){this._z=v,this.onChangeCallback(this)}},w:{get:function(){return this._w},set:function(v){this._w=v,this.onChangeCallback(this)}},copy:function(v){return this.set(v)},set:function(v,y,x,S,E){return E===void 0&&(E=!0),typeof v=="object"?(this._x=v.x||0,this._y=v.y||0,this._z=v.z||0,this._w=v.w||0):(this._x=v||0,this._y=y||0,this._z=x||0,this._w=S||0),E&&this.onChangeCallback(this),this},add:function(v){return this._x+=v.x,this._y+=v.y,this._z+=v.z,this._w+=v.w,this.onChangeCallback(this),this},subtract:function(v){return this._x-=v.x,this._y-=v.y,this._z-=v.z,this._w-=v.w,this.onChangeCallback(this),this},scale:function(v){return this._x*=v,this._y*=v,this._z*=v,this._w*=v,this.onChangeCallback(this),this},length:function(){var v=this.x,y=this.y,x=this.z,S=this.w;return Math.sqrt(v*v+y*y+x*x+S*S)},lengthSq:function(){var v=this.x,y=this.y,x=this.z,S=this.w;return v*v+y*y+x*x+S*S},normalize:function(){var v=this.x,y=this.y,x=this.z,S=this.w,E=v*v+y*y+x*x+S*S;return E>0&&(E=1/Math.sqrt(E),this._x=v*E,this._y=y*E,this._z=x*E,this._w=S*E),this.onChangeCallback(this),this},dot:function(v){return this.x*v.x+this.y*v.y+this.z*v.z+this.w*v.w},lerp:function(v,y){y===void 0&&(y=0);var x=this.x,S=this.y,E=this.z,A=this.w;return this.set(x+y*(v.x-x),S+y*(v.y-S),E+y*(v.z-E),A+y*(v.w-A))},rotationTo:function(v,y){var x=v.x*y.x+v.y*y.y+v.z*y.z;return x<-.999999?(u.copy(l).cross(v).length()<r&&u.copy(s).cross(v),u.normalize(),this.setAxisAngle(u,Math.PI)):x>.999999?this.set(0,0,0,1):(u.copy(v).cross(y),this._x=u.x,this._y=u.y,this._z=u.z,this._w=1+x,this.normalize())},setAxes:function(v,y,x){var S=d.val;return S[0]=y.x,S[3]=y.y,S[6]=y.z,S[1]=x.x,S[4]=x.y,S[7]=x.z,S[2]=-v.x,S[5]=-v.y,S[8]=-v.z,this.fromMat3(d).normalize()},identity:function(){return this.set(0,0,0,1)},setAxisAngle:function(v,y){y=y*.5;var x=Math.sin(y);return this.set(x*v.x,x*v.y,x*v.z,Math.cos(y))},multiply:function(v){var y=this.x,x=this.y,S=this.z,E=this.w,A=v.x,R=v.y,w=v.z,I=v.w;return this.set(y*I+E*A+x*w-S*R,x*I+E*R+S*A-y*w,S*I+E*w+y*R-x*A,E*I-y*A-x*R-S*w)},slerp:function(v,y){var x=this.x,S=this.y,E=this.z,A=this.w,R=v.x,w=v.y,I=v.z,O=v.w,F=x*R+S*w+E*I+A*O;F<0&&(F=-F,R=-R,w=-w,I=-I,O=-O);var L=1-y,D=y;if(1-F>r){var b=Math.acos(F),G=Math.sin(b);L=Math.sin((1-y)*b)/G,D=Math.sin(y*b)/G}return this.set(L*x+D*R,L*S+D*w,L*E+D*I,L*A+D*O)},invert:function(){var v=this.x,y=this.y,x=this.z,S=this.w,E=v*v+y*y+x*x+S*S,A=E?1/E:0;return this.set(-v*A,-y*A,-x*A,S*A)},conjugate:function(){return this._x=-this.x,this._y=-this.y,this._z=-this.z,this.onChangeCallback(this),this},rotateX:function(v){v*=.5;var y=this.x,x=this.y,S=this.z,E=this.w,A=Math.sin(v),R=Math.cos(v);return this.set(y*R+E*A,x*R+S*A,S*R-x*A,E*R-y*A)},rotateY:function(v){v*=.5;var y=this.x,x=this.y,S=this.z,E=this.w,A=Math.sin(v),R=Math.cos(v);return this.set(y*R-S*A,x*R+E*A,S*R+y*A,E*R-x*A)},rotateZ:function(v){v*=.5;var y=this.x,x=this.y,S=this.z,E=this.w,A=Math.sin(v),R=Math.cos(v);return this.set(y*R+x*A,x*R-y*A,S*R+E*A,E*R-S*A)},calculateW:function(){var v=this.x,y=this.y,x=this.z;return this.w=-Math.sqrt(1-v*v-y*y-x*x),this},setFromEuler:function(v,y){var x=v.x/2,S=v.y/2,E=v.z/2,A=Math.cos(x),R=Math.cos(S),w=Math.cos(E),I=Math.sin(x),O=Math.sin(S),F=Math.sin(E);switch(v.order){case"XYZ":{this.set(I*R*w+A*O*F,A*O*w-I*R*F,A*R*F+I*O*w,A*R*w-I*O*F,y);break}case"YXZ":{this.set(I*R*w+A*O*F,A*O*w-I*R*F,A*R*F-I*O*w,A*R*w+I*O*F,y);break}case"ZXY":{this.set(I*R*w-A*O*F,A*O*w+I*R*F,A*R*F+I*O*w,A*R*w-I*O*F,y);break}case"ZYX":{this.set(I*R*w-A*O*F,A*O*w+I*R*F,A*R*F-I*O*w,A*R*w+I*O*F,y);break}case"YZX":{this.set(I*R*w+A*O*F,A*O*w+I*R*F,A*R*F-I*O*w,A*R*w-I*O*F,y);break}case"XZY":{this.set(I*R*w-A*O*F,A*O*w-I*R*F,A*R*F+I*O*w,A*R*w+I*O*F,y);break}}return this},setFromRotationMatrix:function(v){var y=v.val,x=y[0],S=y[4],E=y[8],A=y[1],R=y[5],w=y[9],I=y[2],O=y[6],F=y[10],L=x+R+F,D;return L>0?(D=.5/Math.sqrt(L+1),this.set((O-w)*D,(E-I)*D,(A-S)*D,.25/D)):x>R&&x>F?(D=2*Math.sqrt(1+x-R-F),this.set(.25*D,(S+A)/D,(E+I)/D,(O-w)/D)):R>F?(D=2*Math.sqrt(1+R-x-F),this.set((S+A)/D,.25*D,(w+O)/D,(E-I)/D)):(D=2*Math.sqrt(1+F-x-R),this.set((E+I)/D,(w+O)/D,.25*D,(A-S)/D)),this},fromMat3:function(v){var y=v.val,x=y[0]+y[4]+y[8],S;if(x>0)S=Math.sqrt(x+1),this.w=.5*S,S=.5/S,this._x=(y[7]-y[5])*S,this._y=(y[2]-y[6])*S,this._z=(y[3]-y[1])*S;else{var E=0;y[4]>y[0]&&(E=1),y[8]>y[E*3+E]&&(E=2);var A=i[E],R=i[A];S=Math.sqrt(y[E*3+E]-y[A*3+A]-y[R*3+R]+1),n[E]=.5*S,S=.5/S,n[A]=(y[A*3+E]+y[E*3+A])*S,n[R]=(y[R*3+E]+y[E*3+R])*S,this._x=n[0],this._y=n[1],this._z=n[2],this._w=(y[R*3+A]-y[A*3+R])*S}return this.onChangeCallback(this),this}});f.exports=c},43396:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(36383),g=function(o){return o*h.RAD_TO_DEG};f.exports=g},74362:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h){h===void 0&&(h=1);var g=Math.random()*2*Math.PI;return t.x=Math.cos(g)*h,t.y=Math.sin(g)*h,t};f.exports=C},60706:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h){h===void 0&&(h=1);var g=Math.random()*2*Math.PI,o=Math.random()*2-1,a=Math.sqrt(1-o*o)*h;return t.x=Math.cos(g)*a,t.y=Math.sin(g)*a,t.z=o*h,t};f.exports=C},67421:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h){return h===void 0&&(h=1),t.x=(Math.random()*2-1)*h,t.y=(Math.random()*2-1)*h,t.z=(Math.random()*2-1)*h,t.w=(Math.random()*2-1)*h,t};f.exports=C},36305:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h){var g=t.x,o=t.y;return t.x=g*Math.cos(h)-o*Math.sin(h),t.y=g*Math.sin(h)+o*Math.cos(h),t};f.exports=C},11520:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h,g,o){var a=Math.cos(o),r=Math.sin(o),i=t.x-h,n=t.y-g;return t.x=i*a-n*r+h,t.y=i*r+n*a+g,t};f.exports=C},1163:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h,g,o,a){var r=o+Math.atan2(t.y-g,t.x-h);return t.x=h+a*Math.cos(r),t.y=g+a*Math.sin(r),t};f.exports=C},70336:f=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h,g,o,a){return t.x=h+a*Math.cos(o),t.y=g+a*Math.sin(o),t};f.exports=C},72678:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25836),g=t(37867),o=t(15746),a=new g,r=new o,i=new h,n=function(l,s,u){return r.setAxisAngle(s,u),a.fromRotationTranslation(r,i.set(0,0,0)),l.transformMat4(a)};f.exports=n},2284:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t){return t>0?Math.ceil(t):Math.floor(t)};f.exports=C},41013:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h,g){h===void 0&&(h=0),g===void 0&&(g=10);var o=Math.pow(g,-h);return Math.round(t*o)/o};f.exports=C},16922:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h,g,o){h===void 0&&(h=1),g===void 0&&(g=1),o===void 0&&(o=1),o*=Math.PI/t;for(var a=[],r=[],i=0;i<t;i++)g-=h*o,h+=g*o,a[i]=g,r[i]=h;return{sin:r,cos:a,length:t}};f.exports=C},7602:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h,g){return t<=h?0:t>=g?1:(t=(t-h)/(g-h),t*t*(3-2*t))};f.exports=C},54261:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h,g){return t=Math.max(0,Math.min(1,(t-h)/(g-h))),t*t*t*(t*(t*6-15)+10)};f.exports=C},44408:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26099),g=function(o,a,r,i){i===void 0&&(i=new h);var n=0,l=0,s=a*r;return o>0&&o<=s&&(o>a-1?(l=Math.floor(o/a),n=o-l*a):n=o),i.set(n,l)};f.exports=g},85955:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26099),g=function(o,a,r,i,n,l,s,u){u===void 0&&(u=new h);var d=Math.sin(n),c=Math.cos(n),v=c*l,y=d*l,x=-d*s,S=c*s,E=1/(v*S+x*-y);return u.x=S*E*o+-x*E*a+(i*x-r*S)*E,u.y=v*E*a+-y*E*o+(-i*v+r*y)*E,u};f.exports=g},26099:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(43855),o=new h({initialize:function(r,i){this.x=0,this.y=0,typeof r=="object"?(this.x=r.x||0,this.y=r.y||0):(i===void 0&&(i=r),this.x=r||0,this.y=i||0)},clone:function(){return new o(this.x,this.y)},copy:function(a){return this.x=a.x||0,this.y=a.y||0,this},setFromObject:function(a){return this.x=a.x||0,this.y=a.y||0,this},set:function(a,r){return r===void 0&&(r=a),this.x=a,this.y=r,this},setTo:function(a,r){return this.set(a,r)},setToPolar:function(a,r){return r==null&&(r=1),this.x=Math.cos(a)*r,this.y=Math.sin(a)*r,this},equals:function(a){return this.x===a.x&&this.y===a.y},fuzzyEquals:function(a,r){return g(this.x,a.x,r)&&g(this.y,a.y,r)},angle:function(){var a=Math.atan2(this.y,this.x);return a<0&&(a+=2*Math.PI),a},setAngle:function(a){return this.setToPolar(a,this.length())},add:function(a){return this.x+=a.x,this.y+=a.y,this},subtract:function(a){return this.x-=a.x,this.y-=a.y,this},multiply:function(a){return this.x*=a.x,this.y*=a.y,this},scale:function(a){return isFinite(a)?(this.x*=a,this.y*=a):(this.x=0,this.y=0),this},divide:function(a){return this.x/=a.x,this.y/=a.y,this},negate:function(){return this.x=-this.x,this.y=-this.y,this},distance:function(a){var r=a.x-this.x,i=a.y-this.y;return Math.sqrt(r*r+i*i)},distanceSq:function(a){var r=a.x-this.x,i=a.y-this.y;return r*r+i*i},length:function(){var a=this.x,r=this.y;return Math.sqrt(a*a+r*r)},setLength:function(a){return this.normalize().scale(a)},lengthSq:function(){var a=this.x,r=this.y;return a*a+r*r},normalize:function(){var a=this.x,r=this.y,i=a*a+r*r;return i>0&&(i=1/Math.sqrt(i),this.x=a*i,this.y=r*i),this},normalizeRightHand:function(){var a=this.x;return this.x=this.y*-1,this.y=a,this},normalizeLeftHand:function(){var a=this.x;return this.x=this.y,this.y=a*-1,this},dot:function(a){return this.x*a.x+this.y*a.y},cross:function(a){return this.x*a.y-this.y*a.x},lerp:function(a,r){r===void 0&&(r=0);var i=this.x,n=this.y;return this.x=i+r*(a.x-i),this.y=n+r*(a.y-n),this},transformMat3:function(a){var r=this.x,i=this.y,n=a.val;return this.x=n[0]*r+n[3]*i+n[6],this.y=n[1]*r+n[4]*i+n[7],this},transformMat4:function(a){var r=this.x,i=this.y,n=a.val;return this.x=n[0]*r+n[4]*i+n[12],this.y=n[1]*r+n[5]*i+n[13],this},reset:function(){return this.x=0,this.y=0,this},limit:function(a){var r=this.length();return r&&r>a&&this.scale(a/r),this},reflect:function(a){return a=a.clone().normalize(),this.subtract(a.scale(2*this.dot(a)))},mirror:function(a){return this.reflect(a).negate()},rotate:function(a){var r=Math.cos(a),i=Math.sin(a);return this.set(r*this.x-i*this.y,i*this.x+r*this.y)},project:function(a){var r=this.dot(a)/a.dot(a);return this.copy(a).scale(r)}});o.ZERO=new o,o.RIGHT=new o(1,0),o.LEFT=new o(-1,0),o.UP=new o(0,-1),o.DOWN=new o(0,1),o.ONE=new o(1,1),f.exports=o},25836:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=new h({initialize:function(a,r,i){this.x=0,this.y=0,this.z=0,typeof a=="object"?(this.x=a.x||0,this.y=a.y||0,this.z=a.z||0):(this.x=a||0,this.y=r||0,this.z=i||0)},up:function(){return this.x=0,this.y=1,this.z=0,this},min:function(o){return this.x=Math.min(this.x,o.x),this.y=Math.min(this.y,o.y),this.z=Math.min(this.z,o.z),this},max:function(o){return this.x=Math.max(this.x,o.x),this.y=Math.max(this.y,o.y),this.z=Math.max(this.z,o.z),this},clone:function(){return new g(this.x,this.y,this.z)},addVectors:function(o,a){return this.x=o.x+a.x,this.y=o.y+a.y,this.z=o.z+a.z,this},subVectors:function(o,a){return this.x=o.x-a.x,this.y=o.y-a.y,this.z=o.z-a.z,this},crossVectors:function(o,a){var r=o.x,i=o.y,n=o.z,l=a.x,s=a.y,u=a.z;return this.x=i*u-n*s,this.y=n*l-r*u,this.z=r*s-i*l,this},equals:function(o){return this.x===o.x&&this.y===o.y&&this.z===o.z},copy:function(o){return this.x=o.x,this.y=o.y,this.z=o.z||0,this},set:function(o,a,r){return typeof o=="object"?(this.x=o.x||0,this.y=o.y||0,this.z=o.z||0):(this.x=o||0,this.y=a||0,this.z=r||0),this},setFromMatrixPosition:function(o){return this.fromArray(o.val,12)},setFromMatrixColumn:function(o,a){return this.fromArray(o.val,a*4)},fromArray:function(o,a){return a===void 0&&(a=0),this.x=o[a],this.y=o[a+1],this.z=o[a+2],this},add:function(o){return this.x+=o.x,this.y+=o.y,this.z+=o.z||0,this},addScalar:function(o){return this.x+=o,this.y+=o,this.z+=o,this},addScale:function(o,a){return this.x+=o.x*a,this.y+=o.y*a,this.z+=o.z*a||0,this},subtract:function(o){return this.x-=o.x,this.y-=o.y,this.z-=o.z||0,this},multiply:function(o){return this.x*=o.x,this.y*=o.y,this.z*=o.z||1,this},scale:function(o){return isFinite(o)?(this.x*=o,this.y*=o,this.z*=o):(this.x=0,this.y=0,this.z=0),this},divide:function(o){return this.x/=o.x,this.y/=o.y,this.z/=o.z||1,this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},distance:function(o){var a=o.x-this.x,r=o.y-this.y,i=o.z-this.z||0;return Math.sqrt(a*a+r*r+i*i)},distanceSq:function(o){var a=o.x-this.x,r=o.y-this.y,i=o.z-this.z||0;return a*a+r*r+i*i},length:function(){var o=this.x,a=this.y,r=this.z;return Math.sqrt(o*o+a*a+r*r)},lengthSq:function(){var o=this.x,a=this.y,r=this.z;return o*o+a*a+r*r},normalize:function(){var o=this.x,a=this.y,r=this.z,i=o*o+a*a+r*r;return i>0&&(i=1/Math.sqrt(i),this.x=o*i,this.y=a*i,this.z=r*i),this},dot:function(o){return this.x*o.x+this.y*o.y+this.z*o.z},cross:function(o){var a=this.x,r=this.y,i=this.z,n=o.x,l=o.y,s=o.z;return this.x=r*s-i*l,this.y=i*n-a*s,this.z=a*l-r*n,this},lerp:function(o,a){a===void 0&&(a=0);var r=this.x,i=this.y,n=this.z;return this.x=r+a*(o.x-r),this.y=i+a*(o.y-i),this.z=n+a*(o.z-n),this},applyMatrix3:function(o){var a=this.x,r=this.y,i=this.z,n=o.val;return this.x=n[0]*a+n[3]*r+n[6]*i,this.y=n[1]*a+n[4]*r+n[7]*i,this.z=n[2]*a+n[5]*r+n[8]*i,this},applyMatrix4:function(o){var a=this.x,r=this.y,i=this.z,n=o.val,l=1/(n[3]*a+n[7]*r+n[11]*i+n[15]);return this.x=(n[0]*a+n[4]*r+n[8]*i+n[12])*l,this.y=(n[1]*a+n[5]*r+n[9]*i+n[13])*l,this.z=(n[2]*a+n[6]*r+n[10]*i+n[14])*l,this},transformMat3:function(o){var a=this.x,r=this.y,i=this.z,n=o.val;return this.x=a*n[0]+r*n[3]+i*n[6],this.y=a*n[1]+r*n[4]+i*n[7],this.z=a*n[2]+r*n[5]+i*n[8],this},transformMat4:function(o){var a=this.x,r=this.y,i=this.z,n=o.val;return this.x=n[0]*a+n[4]*r+n[8]*i+n[12],this.y=n[1]*a+n[5]*r+n[9]*i+n[13],this.z=n[2]*a+n[6]*r+n[10]*i+n[14],this},transformCoordinates:function(o){var a=this.x,r=this.y,i=this.z,n=o.val,l=a*n[0]+r*n[4]+i*n[8]+n[12],s=a*n[1]+r*n[5]+i*n[9]+n[13],u=a*n[2]+r*n[6]+i*n[10]+n[14],d=a*n[3]+r*n[7]+i*n[11]+n[15];return this.x=l/d,this.y=s/d,this.z=u/d,this},transformQuat:function(o){var a=this.x,r=this.y,i=this.z,n=o.x,l=o.y,s=o.z,u=o.w,d=u*a+l*i-s*r,c=u*r+s*a-n*i,v=u*i+n*r-l*a,y=-n*a-l*r-s*i;return this.x=d*u+y*-n+c*-s-v*-l,this.y=c*u+y*-l+v*-n-d*-s,this.z=v*u+y*-s+d*-l-c*-n,this},project:function(o){var a=this.x,r=this.y,i=this.z,n=o.val,l=n[0],s=n[1],u=n[2],d=n[3],c=n[4],v=n[5],y=n[6],x=n[7],S=n[8],E=n[9],A=n[10],R=n[11],w=n[12],I=n[13],O=n[14],F=n[15],L=1/(a*d+r*x+i*R+F);return this.x=(a*l+r*c+i*S+w)*L,this.y=(a*s+r*v+i*E+I)*L,this.z=(a*u+r*y+i*A+O)*L,this},projectViewMatrix:function(o,a){return this.applyMatrix4(o).applyMatrix4(a)},unprojectViewMatrix:function(o,a){return this.applyMatrix4(o).applyMatrix4(a)},unproject:function(o,a){var r=o.x,i=o.y,n=o.z,l=o.w,s=this.x-r,u=l-this.y-1-i,d=this.z;return this.x=2*s/n-1,this.y=2*u/l-1,this.z=2*d-1,this.project(a)},reset:function(){return this.x=0,this.y=0,this.z=0,this}});g.ZERO=new g,g.RIGHT=new g(1,0,0),g.LEFT=new g(-1,0,0),g.UP=new g(0,-1,0),g.DOWN=new g(0,1,0),g.FORWARD=new g(0,0,1),g.BACK=new g(0,0,-1),g.ONE=new g(1,1,1),f.exports=g},61369:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=new h({initialize:function(a,r,i,n){this.x=0,this.y=0,this.z=0,this.w=0,typeof a=="object"?(this.x=a.x||0,this.y=a.y||0,this.z=a.z||0,this.w=a.w||0):(this.x=a||0,this.y=r||0,this.z=i||0,this.w=n||0)},clone:function(){return new g(this.x,this.y,this.z,this.w)},copy:function(o){return this.x=o.x,this.y=o.y,this.z=o.z||0,this.w=o.w||0,this},equals:function(o){return this.x===o.x&&this.y===o.y&&this.z===o.z&&this.w===o.w},set:function(o,a,r,i){return typeof o=="object"?(this.x=o.x||0,this.y=o.y||0,this.z=o.z||0,this.w=o.w||0):(this.x=o||0,this.y=a||0,this.z=r||0,this.w=i||0),this},add:function(o){return this.x+=o.x,this.y+=o.y,this.z+=o.z||0,this.w+=o.w||0,this},subtract:function(o){return this.x-=o.x,this.y-=o.y,this.z-=o.z||0,this.w-=o.w||0,this},scale:function(o){return this.x*=o,this.y*=o,this.z*=o,this.w*=o,this},length:function(){var o=this.x,a=this.y,r=this.z,i=this.w;return Math.sqrt(o*o+a*a+r*r+i*i)},lengthSq:function(){var o=this.x,a=this.y,r=this.z,i=this.w;return o*o+a*a+r*r+i*i},normalize:function(){var o=this.x,a=this.y,r=this.z,i=this.w,n=o*o+a*a+r*r+i*i;return n>0&&(n=1/Math.sqrt(n),this.x=o*n,this.y=a*n,this.z=r*n,this.w=i*n),this},dot:function(o){return this.x*o.x+this.y*o.y+this.z*o.z+this.w*o.w},lerp:function(o,a){a===void 0&&(a=0);var r=this.x,i=this.y,n=this.z,l=this.w;return this.x=r+a*(o.x-r),this.y=i+a*(o.y-i),this.z=n+a*(o.z-n),this.w=l+a*(o.w-l),this},multiply:function(o){return this.x*=o.x,this.y*=o.y,this.z*=o.z||1,this.w*=o.w||1,this},divide:function(o){return this.x/=o.x,this.y/=o.y,this.z/=o.z||1,this.w/=o.w||1,this},distance:function(o){var a=o.x-this.x,r=o.y-this.y,i=o.z-this.z||0,n=o.w-this.w||0;return Math.sqrt(a*a+r*r+i*i+n*n)},distanceSq:function(o){var a=o.x-this.x,r=o.y-this.y,i=o.z-this.z||0,n=o.w-this.w||0;return a*a+r*r+i*i+n*n},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},transformMat4:function(o){var a=this.x,r=this.y,i=this.z,n=this.w,l=o.val;return this.x=l[0]*a+l[4]*r+l[8]*i+l[12]*n,this.y=l[1]*a+l[5]*r+l[9]*i+l[13]*n,this.z=l[2]*a+l[6]*r+l[10]*i+l[14]*n,this.w=l[3]*a+l[7]*r+l[11]*i+l[15]*n,this},transformQuat:function(o){var a=this.x,r=this.y,i=this.z,n=o.x,l=o.y,s=o.z,u=o.w,d=u*a+l*i-s*r,c=u*r+s*a-n*i,v=u*i+n*r-l*a,y=-n*a-l*r-s*i;return this.x=d*u+y*-n+c*-s-v*-l,this.y=c*u+y*-l+v*-n-d*-s,this.z=v*u+y*-s+d*-l-c*-n,this},reset:function(){return this.x=0,this.y=0,this.z=0,this.w=0,this}});g.prototype.sub=g.prototype.subtract,g.prototype.mul=g.prototype.multiply,g.prototype.div=g.prototype.divide,g.prototype.dist=g.prototype.distance,g.prototype.distSq=g.prototype.distanceSq,g.prototype.len=g.prototype.length,g.prototype.lenSq=g.prototype.lengthSq,f.exports=g},60417:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h,g){return Math.abs(t-h)<=g};f.exports=C},15994:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h,g){var o=g-h;return h+((t-h)%o+o)%o};f.exports=C},31040:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h,g,o){return Math.atan2(o-h,g-t)};f.exports=C},55495:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h){return Math.atan2(h.y-t.y,h.x-t.x)};f.exports=C},128:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h){return Math.atan2(h.x-t.x,h.y-t.y)};f.exports=C},41273:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h,g,o){return Math.atan2(g-t,o-h)};f.exports=C},1432:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(36383),g=function(o){return o>Math.PI&&(o-=h.PI2),Math.abs(((o+h.TAU)%h.PI2-h.PI2)%h.PI2)};f.exports=g},12407:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t){return t=t%(2*Math.PI),t>=0?t:t+2*Math.PI};f.exports=C},53993:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       @samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(99472),g=function(){return h(-Math.PI,Math.PI)};f.exports=g},86564:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       @samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(99472),g=function(){return h(-180,180)};f.exports=g},90154:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(12407),g=function(o){return h(o+Math.PI)};f.exports=g},48736:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(36383),g=function(o,a,r){return r===void 0&&(r=.05),o===a||(Math.abs(a-o)<=r||Math.abs(a-o)>=h.PI2-r?o=a:(Math.abs(a-o)>Math.PI&&(a<o?a+=h.PI2:a-=h.PI2),a>o?o+=r:a<o&&(o-=r))),o};f.exports=g},61430:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h){var g=h-t;if(g===0)return 0;var o=Math.floor((g- -180)/360);return g-o*360};f.exports=C},86554:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(15994),g=function(o){return h(o,-Math.PI,Math.PI)};f.exports=g},30954:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(15994),g=function(o){return h(o,-180,180)};f.exports=g},25588:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={Between:t(31040),BetweenPoints:t(55495),BetweenPointsY:t(128),BetweenY:t(41273),CounterClockwise:t(1432),Normalize:t(12407),Random:t(53993),RandomDegrees:t(86564),Reverse:t(90154),RotateTo:t(48736),ShortestBetween:t(61430),Wrap:t(86554),WrapDegrees:t(30954)}},36383:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={PI2:Math.PI*2,TAU:Math.PI*.5,EPSILON:1e-6,DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,RND:null,MIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER||-9007199254740991,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991};f.exports=C},20339:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h,g,o){var a=t-g,r=h-o;return Math.sqrt(a*a+r*r)};f.exports=C},52816:f=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h){var g=t.x-h.x,o=t.y-h.y;return Math.sqrt(g*g+o*o)};f.exports=C},64559:f=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h){var g=t.x-h.x,o=t.y-h.y;return g*g+o*o};f.exports=C},82340:f=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h,g,o){return Math.max(Math.abs(t-g),Math.abs(h-o))};f.exports=C},14390:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h,g,o,a){return a===void 0&&(a=2),Math.sqrt(Math.pow(g-t,a)+Math.pow(o-h,a))};f.exports=C},2243:f=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h,g,o){return Math.abs(t-g)+Math.abs(h-o)};f.exports=C},89774:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h,g,o){var a=t-g,r=h-o;return a*a+r*r};f.exports=C},50994:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={Between:t(20339),BetweenPoints:t(52816),BetweenPointsSquared:t(64559),Chebyshev:t(82340),Power:t(14390),Snake:t(2243),Squared:t(89774)}},62640:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(54178),g=t(41521),o=t(79980),a=t(85433),r=t(99140),i=t(48857),n=t(81596),l=t(59133),s=t(98516),u=t(35248),d=t(82500),c=t(49752);f.exports={Power0:n,Power1:l.Out,Power2:a.Out,Power3:s.Out,Power4:u.Out,Linear:n,Quad:l.Out,Cubic:a.Out,Quart:s.Out,Quint:u.Out,Sine:d.Out,Expo:i.Out,Circ:o.Out,Elastic:r.Out,Back:h.Out,Bounce:g.Out,Stepped:c,"Quad.easeIn":l.In,"Cubic.easeIn":a.In,"Quart.easeIn":s.In,"Quint.easeIn":u.In,"Sine.easeIn":d.In,"Expo.easeIn":i.In,"Circ.easeIn":o.In,"Elastic.easeIn":r.In,"Back.easeIn":h.In,"Bounce.easeIn":g.In,"Quad.easeOut":l.Out,"Cubic.easeOut":a.Out,"Quart.easeOut":s.Out,"Quint.easeOut":u.Out,"Sine.easeOut":d.Out,"Expo.easeOut":i.Out,"Circ.easeOut":o.Out,"Elastic.easeOut":r.Out,"Back.easeOut":h.Out,"Bounce.easeOut":g.Out,"Quad.easeInOut":l.InOut,"Cubic.easeInOut":a.InOut,"Quart.easeInOut":s.InOut,"Quint.easeInOut":u.InOut,"Sine.easeInOut":d.InOut,"Expo.easeInOut":i.InOut,"Circ.easeInOut":o.InOut,"Elastic.easeInOut":r.InOut,"Back.easeInOut":h.InOut,"Bounce.easeInOut":g.InOut}},1639:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h){return h===void 0&&(h=1.70158),t*t*((h+1)*t-h)};f.exports=C},50099:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h){h===void 0&&(h=1.70158);var g=h*1.525;return(t*=2)<1?.5*(t*t*((g+1)*t-g)):.5*((t-=2)*t*((g+1)*t+g)+2)};f.exports=C},41286:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h){return h===void 0&&(h=1.70158),--t*t*((h+1)*t+h)+1};f.exports=C},54178:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={In:t(1639),Out:t(41286),InOut:t(50099)}},59590:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t){return t=1-t,t<.36363636363636365?1-7.5625*t*t:t<.7272727272727273?1-(7.5625*(t-=.5454545454545454)*t+.75):t<.9090909090909091?1-(7.5625*(t-=.8181818181818182)*t+.9375):1-(7.5625*(t-=.9545454545454546)*t+.984375)};f.exports=C},41788:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t){var h=!1;return t<.5?(t=1-t*2,h=!0):t=t*2-1,t<.36363636363636365?t=7.5625*t*t:t<.7272727272727273?t=7.5625*(t-=.5454545454545454)*t+.75:t<.9090909090909091?t=7.5625*(t-=.8181818181818182)*t+.9375:t=7.5625*(t-=.9545454545454546)*t+.984375,h?(1-t)*.5:t*.5+.5};f.exports=C},69905:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t){return t<.36363636363636365?7.5625*t*t:t<.7272727272727273?7.5625*(t-=.5454545454545454)*t+.75:t<.9090909090909091?7.5625*(t-=.8181818181818182)*t+.9375:7.5625*(t-=.9545454545454546)*t+.984375};f.exports=C},41521:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={In:t(59590),Out:t(69905),InOut:t(41788)}},91861:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t){return 1-Math.sqrt(1-t*t)};f.exports=C},4177:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)};f.exports=C},57512:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t){return Math.sqrt(1- --t*t)};f.exports=C},79980:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={In:t(91861),Out:t(57512),InOut:t(4177)}},51150:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t){return t*t*t};f.exports=C},82820:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)};f.exports=C},35033:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t){return--t*t*t+1};f.exports=C},85433:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={In:t(51150),Out:t(35033),InOut:t(82820)}},69965:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h,g){if(h===void 0&&(h=.1),g===void 0&&(g=.1),t===0)return 0;if(t===1)return 1;var o=g/4;return h<1?h=1:o=g*Math.asin(1/h)/(2*Math.PI),-(h*Math.pow(2,10*(t-=1))*Math.sin((t-o)*(2*Math.PI)/g))};f.exports=C},50665:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h,g){if(h===void 0&&(h=.1),g===void 0&&(g=.1),t===0)return 0;if(t===1)return 1;var o=g/4;return h<1?h=1:o=g*Math.asin(1/h)/(2*Math.PI),(t*=2)<1?-.5*(h*Math.pow(2,10*(t-=1))*Math.sin((t-o)*(2*Math.PI)/g)):h*Math.pow(2,-10*(t-=1))*Math.sin((t-o)*(2*Math.PI)/g)*.5+1};f.exports=C},7744:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h,g){if(h===void 0&&(h=.1),g===void 0&&(g=.1),t===0)return 0;if(t===1)return 1;var o=g/4;return h<1?h=1:o=g*Math.asin(1/h)/(2*Math.PI),h*Math.pow(2,-10*t)*Math.sin((t-o)*(2*Math.PI)/g)+1};f.exports=C},99140:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={In:t(69965),Out:t(7744),InOut:t(50665)}},24590:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t){return Math.pow(2,10*(t-1))-.001};f.exports=C},87844:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t){return(t*=2)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*(t-1)))};f.exports=C},89433:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t){return 1-Math.pow(2,-10*t)};f.exports=C},48857:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={In:t(24590),Out:t(89433),InOut:t(87844)}},48820:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={Back:t(54178),Bounce:t(41521),Circular:t(79980),Cubic:t(85433),Elastic:t(99140),Expo:t(48857),Linear:t(81596),Quadratic:t(59133),Quartic:t(98516),Quintic:t(35248),Sine:t(82500),Stepped:t(49752)}},7147:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t){return t};f.exports=C},81596:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports=t(7147)},34826:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t){return t*t};f.exports=C},20544:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)};f.exports=C},92029:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t){return t*(2-t)};f.exports=C},59133:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={In:t(34826),Out:t(92029),InOut:t(20544)}},64413:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t){return t*t*t*t};f.exports=C},78137:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)};f.exports=C},45840:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t){return 1- --t*t*t*t};f.exports=C},98516:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={In:t(64413),Out:t(45840),InOut:t(78137)}},87745:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t){return t*t*t*t*t};f.exports=C},16509:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)};f.exports=C},17868:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t){return--t*t*t*t*t+1};f.exports=C},35248:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={In:t(87745),Out:t(17868),InOut:t(16509)}},80461:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t){return t===0?0:t===1?1:1-Math.cos(t*Math.PI/2)};f.exports=C},34025:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t){return t===0?0:t===1?1:.5*(1-Math.cos(Math.PI*t))};f.exports=C},52768:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t){return t===0?0:t===1?1:Math.sin(t*Math.PI/2)};f.exports=C},82500:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={In:t(80461),Out:t(52768),InOut:t(34025)}},72251:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h){return h===void 0&&(h=1),t<=0?0:t>=1?1:((h*t|0)+1)*(1/h)};f.exports=C},49752:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports=t(72251)},75698:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h){return h===void 0&&(h=1e-4),Math.ceil(t-h)};f.exports=C},43855:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h,g){return g===void 0&&(g=1e-4),Math.abs(t-h)<g};f.exports=C},25777:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h){return h===void 0&&(h=1e-4),Math.floor(t+h)};f.exports=C},5470:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h,g){return g===void 0&&(g=1e-4),t>h-g};f.exports=C},94977:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h,g){return g===void 0&&(g=1e-4),t<h+g};f.exports=C},48379:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={Ceil:t(75698),Equal:t(43855),Floor:t(25777),GreaterThan:t(5470),LessThan:t(94977)}},75508:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(36383),g=t(79291),o={Angle:t(25588),Distance:t(50994),Easing:t(48820),Fuzzy:t(48379),Interpolation:t(38289),Pow2:t(49001),Snap:t(73697),RandomDataGenerator:t(28453),Average:t(53307),Bernstein:t(85710),Between:t(30976),CatmullRom:t(87842),CeilTo:t(26302),Clamp:t(45319),DegToRad:t(39506),Difference:t(61241),Euler:t(38857),Factorial:t(6411),FloatBetween:t(99472),FloorTo:t(77623),FromPercent:t(62945),GetSpeed:t(38265),IsEven:t(78702),IsEvenStrict:t(94883),Linear:t(28915),LinearXY:t(94908),MaxAdd:t(86883),Median:t(50040),MinSub:t(37204),Percent:t(65201),RadToDeg:t(43396),RandomXY:t(74362),RandomXYZ:t(60706),RandomXYZW:t(67421),Rotate:t(36305),RotateAround:t(11520),RotateAroundDistance:t(1163),RotateTo:t(70336),RoundAwayFromZero:t(2284),RoundTo:t(41013),SinCosTableGenerator:t(16922),SmootherStep:t(54261),SmoothStep:t(7602),ToXY:t(44408),TransformXY:t(85955),Within:t(60417),Wrap:t(15994),Vector2:t(26099),Vector3:t(25836),Vector4:t(61369),Matrix3:t(94434),Matrix4:t(37867),Quaternion:t(15746),RotateVec3:t(72678)};o=g(!1,o,h),f.exports=o},89318:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(85710),g=function(o,a){for(var r=0,i=o.length-1,n=0;n<=i;n++)r+=Math.pow(1-a,i-n)*Math.pow(a,n)*o[n]*h(i,n);return r};f.exports=g},77259:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87842),g=function(o,a){var r=o.length-1,i=r*a,n=Math.floor(i);return o[0]===o[r]?(a<0&&(n=Math.floor(i=r*(1+a))),h(i-n,o[(n-1+r)%r],o[n],o[(n+1)%r],o[(n+2)%r])):a<0?o[0]-(h(-i,o[0],o[0],o[1],o[1])-o[0]):a>1?o[r]-(h(i-r,o[r],o[r],o[r-1],o[r-1])-o[r]):h(i-n,o[n?n-1:0],o[n],o[r<n+1?r:n+1],o[r<n+2?r:n+2])};f.exports=g},36316:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function C(a,r){var i=1-a;return i*i*i*r}function t(a,r){var i=1-a;return 3*i*i*a*r}function h(a,r){return 3*(1-a)*a*a*r}function g(a,r){return a*a*a*r}var o=function(a,r,i,n,l){return C(a,r)+t(a,i)+h(a,n)+g(a,l)};f.exports=o},28392:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(28915),g=function(o,a){var r=o.length-1,i=r*a,n=Math.floor(i);return a<0?h(o[0],o[1],i):a>1?h(o[r],o[r-1],r-i):h(o[n],o[n+1>r?r:n+1],i-n)};f.exports=g},32112:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function C(o,a){var r=1-o;return r*r*a}function t(o,a){return 2*(1-o)*o*a}function h(o,a){return o*o*a}var g=function(o,a,r,i){return C(o,a)+t(o,r)+h(o,i)};f.exports=g},47235:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7602),g=function(o,a,r){return a+(r-a)*h(o,0,1)};f.exports=g},50178:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(54261),g=function(o,a,r){return a+(r-a)*h(o,0,1)};f.exports=g},38289:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={Bezier:t(89318),CatmullRom:t(77259),CubicBezier:t(36316),Linear:t(28392),QuadraticBezier:t(32112),SmoothStep:t(47235),SmootherStep:t(50178)}},98439:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t){var h=Math.log(t)/.6931471805599453;return 1<<Math.ceil(h)};f.exports=C},50030:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h){return t>0&&(t&t-1)===0&&h>0&&(h&h-1)===0};f.exports=C},81230:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t){return t>0&&(t&t-1)===0};f.exports=C},49001:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={GetNext:t(98439),IsSize:t(50030),IsValue:t(81230)}},28453:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=new h({initialize:function(a){a===void 0&&(a=[(Date.now()*Math.random()).toString()]),this.c=1,this.s0=0,this.s1=0,this.s2=0,this.n=0,this.signs=[-1,1],a&&this.init(a)},rnd:function(){var o=2091639*this.s0+this.c*23283064365386963e-26;return this.c=o|0,this.s0=this.s1,this.s1=this.s2,this.s2=o-this.c,this.s2},hash:function(o){var a,r=this.n;o=o.toString();for(var i=0;i<o.length;i++)r+=o.charCodeAt(i),a=.02519603282416938*r,r=a>>>0,a-=r,a*=r,r=a>>>0,a-=r,r+=a*4294967296;return this.n=r,(r>>>0)*23283064365386963e-26},init:function(o){typeof o=="string"?this.state(o):this.sow(o)},sow:function(o){if(this.n=4022871197,this.s0=this.hash(" "),this.s1=this.hash(" "),this.s2=this.hash(" "),this.c=1,!!o)for(var a=0;a<o.length&&o[a]!=null;a++){var r=o[a];this.s0-=this.hash(r),this.s0+=~~(this.s0<0),this.s1-=this.hash(r),this.s1+=~~(this.s1<0),this.s2-=this.hash(r),this.s2+=~~(this.s2<0)}},integer:function(){return this.rnd()*4294967296},frac:function(){return this.rnd()+(this.rnd()*2097152|0)*11102230246251565e-32},real:function(){return this.integer()+this.frac()},integerInRange:function(o,a){return Math.floor(this.realInRange(0,a-o+1)+o)},between:function(o,a){return Math.floor(this.realInRange(0,a-o+1)+o)},realInRange:function(o,a){return this.frac()*(a-o)+o},normal:function(){return 1-2*this.frac()},uuid:function(){var o="",a="";for(a=o="";o++<36;a+=~o%5|o*3&4?(o^15?8^this.frac()*(o^20?16:4):4).toString(16):"-");return a},pick:function(o){return o[this.integerInRange(0,o.length-1)]},sign:function(){return this.pick(this.signs)},weightedPick:function(o){return o[~~(Math.pow(this.frac(),2)*(o.length-.5)+.5)]},timestamp:function(o,a){return this.realInRange(o||9466848e5,a||1577862e6)},angle:function(){return this.integerInRange(-180,180)},rotation:function(){return this.realInRange(-3.1415926,3.1415926)},state:function(o){return typeof o=="string"&&o.match(/^!rnd/)&&(o=o.split(","),this.c=parseFloat(o[1]),this.s0=parseFloat(o[2]),this.s1=parseFloat(o[3]),this.s2=parseFloat(o[4])),["!rnd",this.c,this.s0,this.s1,this.s2].join(",")},shuffle:function(o){for(var a=o.length-1,r=a;r>0;r--){var i=Math.floor(this.frac()*(r+1)),n=o[i];o[i]=o[r],o[r]=n}return o}});f.exports=g},63448:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h,g,o){return g===void 0&&(g=0),h===0?t:(t-=g,t=h*Math.ceil(t/h),o?(g+t)/h:g+t)};f.exports=C},56583:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h,g,o){return g===void 0&&(g=0),h===0?t:(t-=g,t=h*Math.floor(t/h),o?(g+t)/h:g+t)};f.exports=C},77720:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h,g,o){return g===void 0&&(g=0),h===0?t:(t-=g,t=h*Math.round(t/h),o?(g+t)/h:g+t)};f.exports=C},73697:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={Ceil:t(63448),Floor:t(56583),To:t(77720)}},85454:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */t(63595);var h=t(8054),g=t(79291),o={Actions:t(61061),Animations:t(60421),BlendModes:t(10312),Cache:t(83388),Cameras:t(26638),Core:t(42857),Class:t(83419),Create:t(15822),Curves:t(25410),Data:t(44965),Display:t(27460),DOM:t(84902),Events:t(93055),FX:t(66064),Game:t(50127),GameObjects:t(77856),Geom:t(55738),Input:t(14350),Loader:t(57777),Math:t(75508),Physics:t(44563),Plugins:t(18922),Renderer:t(36909),Scale:t(93364),ScaleModes:t(29795),Scene:t(97482),Scenes:t(62194),Structs:t(41392),Textures:t(27458),Tilemaps:t(62501),Time:t(90291),Tweens:t(43066),Utils:t(91799)};o.Sound=t(23717),o=g(!1,o,h),f.exports=o,t.g.Phaser=o},71289:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(92209),o=t(88571),a=new h({Extends:o,Mixins:[g.Acceleration,g.Angular,g.Bounce,g.Collision,g.Debug,g.Drag,g.Enable,g.Friction,g.Gravity,g.Immovable,g.Mass,g.Pushable,g.Size,g.Velocity],initialize:function(i,n,l,s,u){o.call(this,i,n,l,s,u),this.body=null}});f.exports=a},86689:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(39506),o=t(20339),a=t(89774),r=t(66022),i=t(95540),n=t(46975),l=t(72441),s=t(47956),u=t(37277),d=t(44594),c=t(26099),v=t(82248),y=new h({initialize:function(S){this.scene=S,this.systems=S.sys,this.config=this.getConfig(),this.world,this.add,this._category=1,S.sys.events.once(d.BOOT,this.boot,this),S.sys.events.on(d.START,this.start,this)},boot:function(){this.world=new v(this.scene,this.config),this.add=new r(this.world),this.systems.events.once(d.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new v(this.scene,this.config),this.add=new r(this.world));var x=this.systems.events;i(this.config,"customUpdate",!1)||x.on(d.UPDATE,this.world.update,this.world),x.on(d.POST_UPDATE,this.world.postUpdate,this.world),x.once(d.SHUTDOWN,this.shutdown,this)},enableUpdate:function(){this.systems.events.on(d.UPDATE,this.world.update,this.world)},disableUpdate:function(){this.systems.events.off(d.UPDATE,this.world.update,this.world)},getConfig:function(){var x=this.systems.game.config.physics,S=this.systems.settings.physics,E=n(i(S,"arcade",{}),i(x,"arcade",{}));return E},nextCategory:function(){return this._category=this._category<<1,this._category},overlap:function(x,S,E,A,R){return E===void 0&&(E=null),A===void 0&&(A=null),R===void 0&&(R=E),this.world.collideObjects(x,S,E,A,R,!0)},collide:function(x,S,E,A,R){return E===void 0&&(E=null),A===void 0&&(A=null),R===void 0&&(R=E),this.world.collideObjects(x,S,E,A,R,!1)},collideTiles:function(x,S,E,A,R){return this.world.collideTiles(x,S,E,A,R)},overlapTiles:function(x,S,E,A,R){return this.world.overlapTiles(x,S,E,A,R)},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},accelerateTo:function(x,S,E,A,R,w){A===void 0&&(A=60);var I=Math.atan2(E-x.y,S-x.x);return x.body.acceleration.setToPolar(I,A),R!==void 0&&w!==void 0&&x.body.maxVelocity.set(R,w),I},accelerateToObject:function(x,S,E,A,R){return this.accelerateTo(x,S.x,S.y,E,A,R)},closest:function(x,S){S||(S=this.world.bodies.entries);for(var E=Number.MAX_VALUE,A=null,R=x.x,w=x.y,I=S.length,O=0;O<I;O++){var F=S[O],L=F.body||F;if(!(x===F||x===L||x===L.gameObject||x===L.center)){var D=a(R,w,L.center.x,L.center.y);D<E&&(A=F,E=D)}}return A},furthest:function(x,S){S||(S=this.world.bodies.entries);for(var E=-1,A=null,R=x.x,w=x.y,I=S.length,O=0;O<I;O++){var F=S[O],L=F.body||F;if(!(x===F||x===L||x===L.gameObject||x===L.center)){var D=a(R,w,L.center.x,L.center.y);D>E&&(A=F,E=D)}}return A},moveTo:function(x,S,E,A,R){A===void 0&&(A=60),R===void 0&&(R=0);var w=Math.atan2(E-x.y,S-x.x);return R>0&&(A=o(x.x,x.y,S,E)/(R/1e3)),x.body.velocity.setToPolar(w,A),w},moveToObject:function(x,S,E,A){return this.moveTo(x,S.x,S.y,E,A)},velocityFromAngle:function(x,S,E){return S===void 0&&(S=60),E===void 0&&(E=new c),E.setToPolar(g(x),S)},velocityFromRotation:function(x,S,E){return S===void 0&&(S=60),E===void 0&&(E=new c),E.setToPolar(x,S)},overlapRect:function(x,S,E,A,R,w){return s(this.world,x,S,E,A,R,w)},overlapCirc:function(x,S,E,A,R){return l(this.world,x,S,E,A,R)},shutdown:function(){if(this.world){var x=this.systems.events;x.off(d.UPDATE,this.world.update,this.world),x.off(d.POST_UPDATE,this.world.postUpdate,this.world),x.off(d.SHUTDOWN,this.shutdown,this),this.add.destroy(),this.world.destroy(),this.add=null,this.world=null,this._category=1}},destroy:function(){this.shutdown(),this.scene.sys.events.off(d.START,this.start,this),this.scene=null,this.systems=null}});u.register("ArcadePhysics",y,"arcadePhysics"),f.exports=y},13759:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(92209),o=t(68287),a=new h({Extends:o,Mixins:[g.Acceleration,g.Angular,g.Bounce,g.Collision,g.Debug,g.Drag,g.Enable,g.Friction,g.Gravity,g.Immovable,g.Mass,g.Pushable,g.Size,g.Velocity],initialize:function(i,n,l,s,u){o.call(this,i,n,l,s,u),this.body=null}});f.exports=a},37742:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(78389),o=t(37747),a=t(63012),r=t(43396),i=t(87841),n=t(37303),l=t(95829),s=t(26099),u=new h({Mixins:[g],initialize:function(c,v){var y=64,x=64,S={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},E=v!==void 0;E&&v.displayWidth&&(y=v.displayWidth,x=v.displayHeight),E||(v=S),this.world=c,this.gameObject=E?v:void 0,this.isBody=!0,this.transform={x:v.x,y:v.y,rotation:v.angle,scaleX:v.scaleX,scaleY:v.scaleY,displayOriginX:v.displayOriginX,displayOriginY:v.displayOriginY},this.debugShowBody=c.defaults.debugShowBody,this.debugShowVelocity=c.defaults.debugShowVelocity,this.debugBodyColor=c.defaults.bodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new s,this.position=new s(v.x-v.scaleX*v.displayOriginX,v.y-v.scaleY*v.displayOriginY),this.prev=this.position.clone(),this.prevFrame=this.position.clone(),this.allowRotation=!0,this.rotation=v.angle,this.preRotation=v.angle,this.width=y,this.height=x,this.sourceWidth=y,this.sourceHeight=x,v.frame&&(this.sourceWidth=v.frame.realWidth,this.sourceHeight=v.frame.realHeight),this.halfWidth=Math.abs(y/2),this.halfHeight=Math.abs(x/2),this.center=new s(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=new s,this.newVelocity=new s,this.deltaMax=new s,this.acceleration=new s,this.allowDrag=!0,this.drag=new s,this.allowGravity=!0,this.gravity=new s,this.bounce=new s,this.worldBounce=null,this.customBoundsRectangle=c.bounds,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.maxVelocity=new s(1e4,1e4),this.maxSpeed=-1,this.friction=new s(1,0),this.useDamping=!1,this.angularVelocity=0,this.angularAcceleration=0,this.angularDrag=0,this.maxAngular=1e3,this.mass=1,this.angle=0,this.speed=0,this.facing=o.FACING_NONE,this.immovable=!1,this.pushable=!0,this.slideFactor=new s(1,1),this.moves=!0,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision=l(!1),this.touching=l(!0),this.wasTouching=l(!0),this.blocked=l(!0),this.syncBounds=!1,this.physicsType=o.DYNAMIC_BODY,this.collisionCategory=1,this.collisionMask=1,this._sx=v.scaleX,this._sy=v.scaleY,this._dx=0,this._dy=0,this._tx=0,this._ty=0,this._bounds=new i,this.directControl=!1,this.autoFrame=this.position.clone()},updateBounds:function(){var d=this.gameObject,c=this.transform;if(d.parentContainer){var v=d.getWorldTransformMatrix(this.world._tempMatrix,this.world._tempMatrix2);c.x=v.tx,c.y=v.ty,c.rotation=r(v.rotation),c.scaleX=v.scaleX,c.scaleY=v.scaleY,c.displayOriginX=d.displayOriginX,c.displayOriginY=d.displayOriginY}else c.x=d.x,c.y=d.y,c.rotation=d.angle,c.scaleX=d.scaleX,c.scaleY=d.scaleY,c.displayOriginX=d.displayOriginX,c.displayOriginY=d.displayOriginY;var y=!1;if(this.syncBounds){var x=d.getBounds(this._bounds);this.width=x.width,this.height=x.height,y=!0}else{var S=Math.abs(c.scaleX),E=Math.abs(c.scaleY);(this._sx!==S||this._sy!==E)&&(this.width=this.sourceWidth*S,this.height=this.sourceHeight*E,this._sx=S,this._sy=E,y=!0)}y&&(this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter())},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},updateFromGameObject:function(){this.updateBounds();var d=this.transform;this.position.x=d.x+d.scaleX*(this.offset.x-d.displayOriginX),this.position.y=d.y+d.scaleY*(this.offset.y-d.displayOriginY),this.updateCenter()},resetFlags:function(d){d===void 0&&(d=!1);var c=this.wasTouching,v=this.touching,y=this.blocked;d?l(!0,c):(c.none=v.none,c.up=v.up,c.down=v.down,c.left=v.left,c.right=v.right),l(!0,v),l(!0,y),this.overlapR=0,this.overlapX=0,this.overlapY=0,this.embedded=!1},preUpdate:function(d,c){if(d&&this.resetFlags(),this.gameObject&&this.updateFromGameObject(),this.rotation=this.transform.rotation,this.preRotation=this.rotation,this.moves){var v=this.position;this.prev.x=v.x,this.prev.y=v.y,this.prevFrame.x=v.x,this.prevFrame.y=v.y}d&&this.update(c)},update:function(d){var c=this.prev,v=this.position,y=this.velocity;if(c.set(v.x,v.y),!this.moves){this._dx=v.x-c.x,this._dy=v.y-c.y;return}if(this.directControl){var x=this.autoFrame;y.set((v.x-x.x)/d,(v.y-x.y)/d),this.world.updateMotion(this,d),this._dx=v.x-x.x,this._dy=v.y-x.y}else this.world.updateMotion(this,d),this.newVelocity.set(y.x*d,y.y*d),v.add(this.newVelocity),this._dx=v.x-c.x,this._dy=v.y-c.y;var S=y.x,E=y.y;if(this.updateCenter(),this.angle=Math.atan2(E,S),this.speed=Math.sqrt(S*S+E*E),this.collideWorldBounds&&this.checkWorldBounds()&&this.onWorldBounds){var A=this.blocked;this.world.emit(a.WORLD_BOUNDS,this,A.up,A.down,A.left,A.right)}},postUpdate:function(){var d=this.position,c=d.x-this.prevFrame.x,v=d.y-this.prevFrame.y,y=this.gameObject;if(this.moves){var x=this.deltaMax.x,S=this.deltaMax.y;x!==0&&c!==0&&(c<0&&c<-x?c=-x:c>0&&c>x&&(c=x)),S!==0&&v!==0&&(v<0&&v<-S?v=-S:v>0&&v>S&&(v=S)),y&&(y.x+=c,y.y+=v)}c<0?this.facing=o.FACING_LEFT:c>0&&(this.facing=o.FACING_RIGHT),v<0?this.facing=o.FACING_UP:v>0&&(this.facing=o.FACING_DOWN),this.allowRotation&&y&&(y.angle+=this.deltaZ()),this._tx=c,this._ty=v,this.autoFrame.set(d.x,d.y)},setBoundsRectangle:function(d){return this.customBoundsRectangle=d||this.world.bounds,this},checkWorldBounds:function(){var d=this.position,c=this.velocity,v=this.blocked,y=this.customBoundsRectangle,x=this.world.checkCollision,S=this.worldBounce?-this.worldBounce.x:-this.bounce.x,E=this.worldBounce?-this.worldBounce.y:-this.bounce.y,A=!1;return d.x<y.x&&x.left?(d.x=y.x,c.x*=S,v.left=!0,A=!0):this.right>y.right&&x.right&&(d.x=y.right-this.width,c.x*=S,v.right=!0,A=!0),d.y<y.y&&x.up?(d.y=y.y,c.y*=E,v.up=!0,A=!0):this.bottom>y.bottom&&x.down&&(d.y=y.bottom-this.height,c.y*=E,v.down=!0,A=!0),A&&(this.blocked.none=!1,this.updateCenter()),A},setOffset:function(d,c){return c===void 0&&(c=d),this.offset.set(d,c),this},setGameObject:function(d,c){if(c===void 0&&(c=!0),!d||!d.hasTransformComponent)return this;var v=this.world;return this.gameObject&&this.gameObject.body&&(v.disable(this.gameObject),this.gameObject.body=null),d.body&&v.disable(d),this.gameObject=d,d.body=this,this.setSize(),this.enable=c,this},setSize:function(d,c,v){v===void 0&&(v=!0);var y=this.gameObject;if(y&&(!d&&y.frame&&(d=y.frame.realWidth),!c&&y.frame&&(c=y.frame.realHeight)),this.sourceWidth=d,this.sourceHeight=c,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter(),v&&y&&y.getCenter){var x=(y.width-d)/2,S=(y.height-c)/2;this.offset.set(x,S)}return this.isCircle=!1,this.radius=0,this},setCircle:function(d,c,v){return c===void 0&&(c=this.offset.x),v===void 0&&(v=this.offset.y),d>0?(this.isCircle=!0,this.radius=d,this.sourceWidth=d*2,this.sourceHeight=d*2,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(c,v),this.updateCenter()):this.isCircle=!1,this},reset:function(d,c){this.stop();var v=this.gameObject;v&&(v.setPosition(d,c),this.rotation=v.angle,this.preRotation=v.angle);var y=this.position;v&&v.getTopLeft?v.getTopLeft(y):y.set(d,c),this.prev.copy(y),this.prevFrame.copy(y),this.autoFrame.copy(y),v&&this.updateBounds(),this.updateCenter(),this.collideWorldBounds&&this.checkWorldBounds(),this.resetFlags(!0)},stop:function(){return this.velocity.set(0),this.acceleration.set(0),this.speed=0,this.angularVelocity=0,this.angularAcceleration=0,this},getBounds:function(d){return d.x=this.x,d.y=this.y,d.right=this.right,d.bottom=this.bottom,d},hitTest:function(d,c){if(!this.isCircle)return n(this,d,c);if(this.radius>0&&d>=this.left&&d<=this.right&&c>=this.top&&c<=this.bottom){var v=(this.center.x-d)*(this.center.x-d),y=(this.center.y-c)*(this.center.y-c);return v+y<=this.radius*this.radius}return!1},onFloor:function(){return this.blocked.down},onCeiling:function(){return this.blocked.up},onWall:function(){return this.blocked.left||this.blocked.right},deltaAbsX:function(){return this._dx>0?this._dx:-this._dx},deltaAbsY:function(){return this._dy>0?this._dy:-this._dy},deltaX:function(){return this._dx},deltaY:function(){return this._dy},deltaXFinal:function(){return this._tx},deltaYFinal:function(){return this._ty},deltaZ:function(){return this.rotation-this.preRotation},destroy:function(){this.enable=!1,this.world&&this.world.pendingDestroy.set(this)},drawDebug:function(d){var c=this.position,v=c.x+this.halfWidth,y=c.y+this.halfHeight;this.debugShowBody&&(d.lineStyle(d.defaultStrokeWidth,this.debugBodyColor),this.isCircle?d.strokeCircle(v,y,this.width/2):(this.checkCollision.up&&d.lineBetween(c.x,c.y,c.x+this.width,c.y),this.checkCollision.right&&d.lineBetween(c.x+this.width,c.y,c.x+this.width,c.y+this.height),this.checkCollision.down&&d.lineBetween(c.x,c.y+this.height,c.x+this.width,c.y+this.height),this.checkCollision.left&&d.lineBetween(c.x,c.y,c.x,c.y+this.height))),this.debugShowVelocity&&(d.lineStyle(d.defaultStrokeWidth,this.world.defaults.velocityDebugColor,1),d.lineBetween(v,y,v+this.velocity.x/2,y+this.velocity.y/2))},willDrawDebug:function(){return this.debugShowBody||this.debugShowVelocity},setDirectControl:function(d){return d===void 0&&(d=!0),this.directControl=d,this},setCollideWorldBounds:function(d,c,v,y){d===void 0&&(d=!0),this.collideWorldBounds=d;var x=c!==void 0,S=v!==void 0;return(x||S)&&(this.worldBounce||(this.worldBounce=new s),x&&(this.worldBounce.x=c),S&&(this.worldBounce.y=v)),y!==void 0&&(this.onWorldBounds=y),this},setVelocity:function(d,c){return this.velocity.set(d,c),d=this.velocity.x,c=this.velocity.y,this.speed=Math.sqrt(d*d+c*c),this},setVelocityX:function(d){return this.setVelocity(d,this.velocity.y)},setVelocityY:function(d){return this.setVelocity(this.velocity.x,d)},setMaxVelocity:function(d,c){return this.maxVelocity.set(d,c),this},setMaxVelocityX:function(d){return this.maxVelocity.x=d,this},setMaxVelocityY:function(d){return this.maxVelocity.y=d,this},setMaxSpeed:function(d){return this.maxSpeed=d,this},setSlideFactor:function(d,c){return this.slideFactor.set(d,c),this},setBounce:function(d,c){return this.bounce.set(d,c),this},setBounceX:function(d){return this.bounce.x=d,this},setBounceY:function(d){return this.bounce.y=d,this},setAcceleration:function(d,c){return this.acceleration.set(d,c),this},setAccelerationX:function(d){return this.acceleration.x=d,this},setAccelerationY:function(d){return this.acceleration.y=d,this},setAllowDrag:function(d){return d===void 0&&(d=!0),this.allowDrag=d,this},setAllowGravity:function(d){return d===void 0&&(d=!0),this.allowGravity=d,this},setAllowRotation:function(d){return d===void 0&&(d=!0),this.allowRotation=d,this},setDrag:function(d,c){return this.drag.set(d,c),this},setDamping:function(d){return this.useDamping=d,this},setDragX:function(d){return this.drag.x=d,this},setDragY:function(d){return this.drag.y=d,this},setGravity:function(d,c){return this.gravity.set(d,c),this},setGravityX:function(d){return this.gravity.x=d,this},setGravityY:function(d){return this.gravity.y=d,this},setFriction:function(d,c){return this.friction.set(d,c),this},setFrictionX:function(d){return this.friction.x=d,this},setFrictionY:function(d){return this.friction.y=d,this},setAngularVelocity:function(d){return this.angularVelocity=d,this},setAngularAcceleration:function(d){return this.angularAcceleration=d,this},setAngularDrag:function(d){return this.angularDrag=d,this},setMass:function(d){return this.mass=d,this},setImmovable:function(d){return d===void 0&&(d=!0),this.immovable=d,this},setEnable:function(d){return d===void 0&&(d=!0),this.enable=d,this},processX:function(d,c,v,y){this.x+=d,this.updateCenter(),c!==null&&(this.velocity.x=c*this.slideFactor.x);var x=this.blocked;v&&(x.left=!0,x.none=!1),y&&(x.right=!0,x.none=!1)},processY:function(d,c,v,y){this.y+=d,this.updateCenter(),c!==null&&(this.velocity.y=c*this.slideFactor.y);var x=this.blocked;v&&(x.up=!0,x.none=!1),y&&(x.down=!0,x.none=!1)},x:{get:function(){return this.position.x},set:function(d){this.position.x=d}},y:{get:function(){return this.position.y},set:function(d){this.position.y=d}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});f.exports=u},79342:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=new h({initialize:function(a,r,i,n,l,s,u){this.world=a,this.name="",this.active=!0,this.overlapOnly=r,this.object1=i,this.object2=n,this.collideCallback=l,this.processCallback=s,this.callbackContext=u},setName:function(o){return this.name=o,this},update:function(){this.world.collideObjects(this.object1,this.object2,this.collideCallback,this.processCallback,this.callbackContext,this.overlapOnly)},destroy:function(){this.world.removeCollider(this),this.active=!1,this.world=null,this.object1=null,this.object2=null,this.collideCallback=null,this.processCallback=null,this.callbackContext=null}});f.exports=g},66022:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(71289),g=t(13759),o=t(37742),a=t(83419),r=t(37747),i=t(60758),n=t(72624),l=t(71464),s=new a({initialize:function(d){this.world=d,this.scene=d.scene,this.sys=d.scene.sys},collider:function(u,d,c,v,y){return this.world.addCollider(u,d,c,v,y)},overlap:function(u,d,c,v,y){return this.world.addOverlap(u,d,c,v,y)},existing:function(u,d){var c=d?r.STATIC_BODY:r.DYNAMIC_BODY;return this.world.enableBody(u,c),u},staticImage:function(u,d,c,v){var y=new h(this.scene,u,d,c,v);return this.sys.displayList.add(y),this.world.enableBody(y,r.STATIC_BODY),y},image:function(u,d,c,v){var y=new h(this.scene,u,d,c,v);return this.sys.displayList.add(y),this.world.enableBody(y,r.DYNAMIC_BODY),y},staticSprite:function(u,d,c,v){var y=new g(this.scene,u,d,c,v);return this.sys.displayList.add(y),this.sys.updateList.add(y),this.world.enableBody(y,r.STATIC_BODY),y},sprite:function(u,d,c,v){var y=new g(this.scene,u,d,c,v);return this.sys.displayList.add(y),this.sys.updateList.add(y),this.world.enableBody(y,r.DYNAMIC_BODY),y},staticGroup:function(u,d){return this.sys.updateList.add(new l(this.world,this.world.scene,u,d))},group:function(u,d){return this.sys.updateList.add(new i(this.world,this.world.scene,u,d))},body:function(u,d,c,v){var y=new o(this.world);return y.position.set(u,d),c&&v&&y.setSize(c,v),this.world.add(y,r.DYNAMIC_BODY),y},staticBody:function(u,d,c,v){var y=new n(this.world);return y.position.set(u,d),c&&v&&y.setSize(c,v),this.world.add(y,r.STATIC_BODY),y},destroy:function(){this.world=null,this.scene=null,this.sys=null}});f.exports=s},79599:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t){var h=0;if(!Array.isArray(t))h=t;else for(var g=0;g<t.length;g++)h|=t[g];return h};f.exports=C},64897:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(37747),g=function(o,a,r,i){var n=0,l=o.deltaAbsX()+a.deltaAbsX()+i;return o._dx===0&&a._dx===0?(o.embedded=!0,a.embedded=!0):o._dx>a._dx?(n=o.right-a.x,n>l&&!r||o.checkCollision.right===!1||a.checkCollision.left===!1?n=0:(o.touching.none=!1,o.touching.right=!0,a.touching.none=!1,a.touching.left=!0,a.physicsType===h.STATIC_BODY&&!r&&(o.blocked.none=!1,o.blocked.right=!0),o.physicsType===h.STATIC_BODY&&!r&&(a.blocked.none=!1,a.blocked.left=!0))):o._dx<a._dx&&(n=o.x-a.width-a.x,-n>l&&!r||o.checkCollision.left===!1||a.checkCollision.right===!1?n=0:(o.touching.none=!1,o.touching.left=!0,a.touching.none=!1,a.touching.right=!0,a.physicsType===h.STATIC_BODY&&!r&&(o.blocked.none=!1,o.blocked.left=!0),o.physicsType===h.STATIC_BODY&&!r&&(a.blocked.none=!1,a.blocked.right=!0))),o.overlapX=n,a.overlapX=n,n};f.exports=g},45170:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(37747),g=function(o,a,r,i){var n=0,l=o.deltaAbsY()+a.deltaAbsY()+i;return o._dy===0&&a._dy===0?(o.embedded=!0,a.embedded=!0):o._dy>a._dy?(n=o.bottom-a.y,n>l&&!r||o.checkCollision.down===!1||a.checkCollision.up===!1?n=0:(o.touching.none=!1,o.touching.down=!0,a.touching.none=!1,a.touching.up=!0,a.physicsType===h.STATIC_BODY&&!r&&(o.blocked.none=!1,o.blocked.down=!0),o.physicsType===h.STATIC_BODY&&!r&&(a.blocked.none=!1,a.blocked.up=!0))):o._dy<a._dy&&(n=o.y-a.bottom,-n>l&&!r||o.checkCollision.up===!1||a.checkCollision.down===!1?n=0:(o.touching.none=!1,o.touching.up=!0,a.touching.none=!1,a.touching.down=!0,a.physicsType===h.STATIC_BODY&&!r&&(o.blocked.none=!1,o.blocked.up=!0),o.physicsType===h.STATIC_BODY&&!r&&(a.blocked.none=!1,a.blocked.down=!0))),o.overlapY=n,a.overlapY=n,n};f.exports=g},60758:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(13759),g=t(83419),o=t(78389),a=t(37747),r=t(95540),i=t(26479),n=t(41212),l=new g({Extends:i,Mixins:[o],initialize:function(u,d,c,v){if(!c&&!v)v={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};else if(n(c))v=c,c=null,v.internalCreateCallback=this.createCallbackHandler,v.internalRemoveCallback=this.removeCallbackHandler;else if(Array.isArray(c)&&n(c[0])){var y=this;c.forEach(function(x){x.internalCreateCallback=y.createCallbackHandler,x.internalRemoveCallback=y.removeCallbackHandler,x.classType=r(x,"classType",h)}),v=null}else v={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};this.world=u,v&&(v.classType=r(v,"classType",h)),this.physicsType=a.DYNAMIC_BODY,this.collisionCategory=1,this.collisionMask=2147483647,this.defaults={setCollideWorldBounds:r(v,"collideWorldBounds",!1),setBoundsRectangle:r(v,"customBoundsRectangle",null),setAccelerationX:r(v,"accelerationX",0),setAccelerationY:r(v,"accelerationY",0),setAllowDrag:r(v,"allowDrag",!0),setAllowGravity:r(v,"allowGravity",!0),setAllowRotation:r(v,"allowRotation",!0),setDamping:r(v,"useDamping",!1),setBounceX:r(v,"bounceX",0),setBounceY:r(v,"bounceY",0),setDragX:r(v,"dragX",0),setDragY:r(v,"dragY",0),setEnable:r(v,"enable",!0),setGravityX:r(v,"gravityX",0),setGravityY:r(v,"gravityY",0),setFrictionX:r(v,"frictionX",0),setFrictionY:r(v,"frictionY",0),setMaxSpeed:r(v,"maxSpeed",-1),setMaxVelocityX:r(v,"maxVelocityX",1e4),setMaxVelocityY:r(v,"maxVelocityY",1e4),setVelocityX:r(v,"velocityX",0),setVelocityY:r(v,"velocityY",0),setAngularVelocity:r(v,"angularVelocity",0),setAngularAcceleration:r(v,"angularAcceleration",0),setAngularDrag:r(v,"angularDrag",0),setMass:r(v,"mass",1),setImmovable:r(v,"immovable",!1)},i.call(this,d,c,v),this.type="PhysicsGroup"},createCallbackHandler:function(s){s.body||this.world.enableBody(s,a.DYNAMIC_BODY);var u=s.body;for(var d in this.defaults)u[d](this.defaults[d])},removeCallbackHandler:function(s){s.body&&this.world.disableBody(s)},setVelocity:function(s,u,d){d===void 0&&(d=0);for(var c=this.getChildren(),v=0;v<c.length;v++)c[v].body.velocity.set(s+v*d,u+v*d);return this},setVelocityX:function(s,u){u===void 0&&(u=0);for(var d=this.getChildren(),c=0;c<d.length;c++)d[c].body.velocity.x=s+c*u;return this},setVelocityY:function(s,u){u===void 0&&(u=0);for(var d=this.getChildren(),c=0;c<d.length;c++)d[c].body.velocity.y=s+c*u;return this}});f.exports=l},3017:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C,t,h,g,o,a,r,i,n,l,s,u,d,c,v,y,x,S=function(O,F,L){C=O,t=F;var D=C.velocity.x,b=t.velocity.x;return h=C.pushable,n=C._dx<0,l=C._dx>0,s=C._dx===0,v=Math.abs(C.right-t.x)<=Math.abs(t.right-C.x),r=b-D*C.bounce.x,g=t.pushable,u=t._dx<0,d=t._dx>0,c=t._dx===0,y=!v,i=D-b*t.bounce.x,x=Math.abs(L),E()},E=function(){return l&&v&&t.blocked.right?(C.processX(-x,r,!1,!0),1):n&&y&&t.blocked.left?(C.processX(x,r,!0),1):d&&y&&C.blocked.right?(t.processX(-x,i,!1,!0),2):u&&v&&C.blocked.left?(t.processX(x,i,!0),2):0},A=function(){var O=C.velocity.x,F=t.velocity.x,L=Math.sqrt(F*F*t.mass/C.mass)*(F>0?1:-1),D=Math.sqrt(O*O*C.mass/t.mass)*(O>0?1:-1),b=(L+D)*.5;return L-=b,D-=b,o=b+L*C.bounce.x,a=b+D*t.bounce.x,n&&y?R(0):u&&v?R(1):l&&v?R(2):d&&y?R(3):!1},R=function(O){if(h&&g)x*=.5,O===0||O===3?(C.processX(x,o),t.processX(-x,a)):(C.processX(-x,o),t.processX(x,a));else if(h&&!g)O===0||O===3?C.processX(x,r,!0):C.processX(-x,r,!1,!0);else if(!h&&g)O===0||O===3?t.processX(-x,i,!1,!0):t.processX(x,i,!0);else{var F=x*.5;O===0?c?(C.processX(x,0,!0),t.processX(0,null,!1,!0)):d?(C.processX(F,0,!0),t.processX(-F,0,!1,!0)):(C.processX(F,t.velocity.x,!0),t.processX(-F,null,!1,!0)):O===1?s?(C.processX(0,null,!1,!0),t.processX(x,0,!0)):l?(C.processX(-F,0,!1,!0),t.processX(F,0,!0)):(C.processX(-F,null,!1,!0),t.processX(F,C.velocity.x,!0)):O===2?c?(C.processX(-x,0,!1,!0),t.processX(0,null,!0)):u?(C.processX(-F,0,!1,!0),t.processX(F,0,!0)):(C.processX(-F,t.velocity.x,!1,!0),t.processX(F,null,!0)):O===3&&(s?(C.processX(0,null,!0),t.processX(-x,0,!1,!0)):n?(C.processX(F,0,!0),t.processX(-F,0,!1,!0)):(C.processX(F,t.velocity.y,!0),t.processX(-F,null,!1,!0)))}return!0},w=function(O){if(O===1?t.velocity.x=0:v?t.processX(x,i,!0):t.processX(-x,i,!1,!0),C.moves){var F=C.directControl?C.y-C.autoFrame.y:C.y-C.prev.y;t.y+=F*C.friction.y,t._dy=t.y-t.prev.y}},I=function(O){if(O===2?C.velocity.x=0:y?C.processX(x,r,!0):C.processX(-x,r,!1,!0),t.moves){var F=t.directControl?t.y-t.autoFrame.y:t.y-t.prev.y;C.y+=F*t.friction.y,C._dy=C.y-C.prev.y}};f.exports={BlockCheck:E,Check:A,Set:S,Run:R,RunImmovableBody1:w,RunImmovableBody2:I}},47962:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C,t,h,g,o,a,r,i,n,l,s,u,d,c,v,y,x,S=function(O,F,L){C=O,t=F;var D=C.velocity.y,b=t.velocity.y;return h=C.pushable,n=C._dy<0,l=C._dy>0,s=C._dy===0,v=Math.abs(C.bottom-t.y)<=Math.abs(t.bottom-C.y),r=b-D*C.bounce.y,g=t.pushable,u=t._dy<0,d=t._dy>0,c=t._dy===0,y=!v,i=D-b*t.bounce.y,x=Math.abs(L),E()},E=function(){return l&&v&&t.blocked.down?(C.processY(-x,r,!1,!0),1):n&&y&&t.blocked.up?(C.processY(x,r,!0),1):d&&y&&C.blocked.down?(t.processY(-x,i,!1,!0),2):u&&v&&C.blocked.up?(t.processY(x,i,!0),2):0},A=function(){var O=C.velocity.y,F=t.velocity.y,L=Math.sqrt(F*F*t.mass/C.mass)*(F>0?1:-1),D=Math.sqrt(O*O*C.mass/t.mass)*(O>0?1:-1),b=(L+D)*.5;return L-=b,D-=b,o=b+L*C.bounce.y,a=b+D*t.bounce.y,n&&y?R(0):u&&v?R(1):l&&v?R(2):d&&y?R(3):!1},R=function(O){if(h&&g)x*=.5,O===0||O===3?(C.processY(x,o),t.processY(-x,a)):(C.processY(-x,o),t.processY(x,a));else if(h&&!g)O===0||O===3?C.processY(x,r,!0):C.processY(-x,r,!1,!0);else if(!h&&g)O===0||O===3?t.processY(-x,i,!1,!0):t.processY(x,i,!0);else{var F=x*.5;O===0?c?(C.processY(x,0,!0),t.processY(0,null,!1,!0)):d?(C.processY(F,0,!0),t.processY(-F,0,!1,!0)):(C.processY(F,t.velocity.y,!0),t.processY(-F,null,!1,!0)):O===1?s?(C.processY(0,null,!1,!0),t.processY(x,0,!0)):l?(C.processY(-F,0,!1,!0),t.processY(F,0,!0)):(C.processY(-F,null,!1,!0),t.processY(F,C.velocity.y,!0)):O===2?c?(C.processY(-x,0,!1,!0),t.processY(0,null,!0)):u?(C.processY(-F,0,!1,!0),t.processY(F,0,!0)):(C.processY(-F,t.velocity.y,!1,!0),t.processY(F,null,!0)):O===3&&(s?(C.processY(0,null,!0),t.processY(-x,0,!1,!0)):n?(C.processY(F,0,!0),t.processY(-F,0,!1,!0)):(C.processY(F,t.velocity.y,!0),t.processY(-F,null,!1,!0)))}return!0},w=function(O){if(O===1?t.velocity.y=0:v?t.processY(x,i,!0):t.processY(-x,i,!1,!0),C.moves){var F=C.directControl?C.x-C.autoFrame.x:C.x-C.prev.x;t.x+=F*C.friction.x,t._dx=t.x-t.prev.x}},I=function(O){if(O===2?C.velocity.y=0:y?C.processY(x,r,!0):C.processY(-x,r,!1,!0),t.moves){var F=t.directControl?t.x-t.autoFrame.x:t.x-t.prev.x;C.x+=F*t.friction.x,C._dx=C.x-C.prev.x}};f.exports={BlockCheck:E,Check:A,Set:S,Run:R,RunImmovableBody1:w,RunImmovableBody2:I}},14087:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(64897),g=t(3017),o=function(a,r,i,n,l){l===void 0&&(l=h(a,r,i,n));var s=a.immovable,u=r.immovable;if(i||l===0||s&&u||a.customSeparateX||r.customSeparateX)return l!==0||a.embedded&&r.embedded;var d=g.Set(a,r,l);return!s&&!u?d>0?!0:g.Check():(s?g.RunImmovableBody1(d):u&&g.RunImmovableBody2(d),!0)};f.exports=o},89936:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(45170),g=t(47962),o=function(a,r,i,n,l){l===void 0&&(l=h(a,r,i,n));var s=a.immovable,u=r.immovable;if(i||l===0||s&&u||a.customSeparateY||r.customSeparateY)return l!==0||a.embedded&&r.embedded;var d=g.Set(a,r,l);return!s&&!u?d>0?!0:g.Check():(s?g.RunImmovableBody1(d):u&&g.RunImmovableBody2(d),!0)};f.exports=o},95829:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h){return h===void 0&&(h={}),h.none=t,h.up=!1,h.down=!1,h.left=!1,h.right=!1,t||(h.up=!0,h.down=!0,h.left=!0,h.right=!0),h};f.exports=C},72624:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87902),g=t(83419),o=t(78389),a=t(37747),r=t(37303),i=t(95829),n=t(26099),l=new g({Mixins:[o],initialize:function(u,d){var c=64,v=64,y={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},x=d!==void 0;x&&d.displayWidth&&(c=d.displayWidth,v=d.displayHeight),x||(d=y),this.world=u,this.gameObject=x?d:void 0,this.isBody=!0,this.debugShowBody=u.defaults.debugShowStaticBody,this.debugBodyColor=u.defaults.staticBodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new n,this.position=new n(d.x-c*d.originX,d.y-v*d.originY),this.width=c,this.height=v,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center=new n(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=n.ZERO,this.allowGravity=!1,this.gravity=n.ZERO,this.bounce=n.ZERO,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.mass=1,this.immovable=!0,this.pushable=!1,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision=i(!1),this.touching=i(!0),this.wasTouching=i(!0),this.blocked=i(!0),this.physicsType=a.STATIC_BODY,this.collisionCategory=1,this.collisionMask=1,this._dx=0,this._dy=0},setGameObject:function(s,u,d){if(u===void 0&&(u=!0),d===void 0&&(d=!0),!s||!s.hasTransformComponent)return this;var c=this.world;return this.gameObject&&this.gameObject.body&&(c.disable(this.gameObject),this.gameObject.body=null),s.body&&c.disable(s),this.gameObject=s,s.body=this,this.setSize(),u&&this.updateFromGameObject(),this.enable=d,this},updateFromGameObject:function(){this.world.staticTree.remove(this);var s=this.gameObject;return s.getTopLeft(this.position),this.width=s.displayWidth,this.height=s.displayHeight,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.world.staticTree.insert(this),this},setOffset:function(s,u){return u===void 0&&(u=s),this.world.staticTree.remove(this),this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(s,u),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this),this},setSize:function(s,u,d){d===void 0&&(d=!0);var c=this.gameObject;if(c&&c.frame&&(s||(s=c.frame.realWidth),u||(u=c.frame.realHeight)),this.world.staticTree.remove(this),this.width=s,this.height=u,this.halfWidth=Math.floor(s/2),this.halfHeight=Math.floor(u/2),d&&c&&c.getCenter){var v=c.displayWidth/2,y=c.displayHeight/2;this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(v-this.halfWidth,y-this.halfHeight),this.position.x+=this.offset.x,this.position.y+=this.offset.y}return this.updateCenter(),this.isCircle=!1,this.radius=0,this.world.staticTree.insert(this),this},setCircle:function(s,u,d){return u===void 0&&(u=this.offset.x),d===void 0&&(d=this.offset.y),s>0?(this.world.staticTree.remove(this),this.isCircle=!0,this.radius=s,this.width=s*2,this.height=s*2,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(u,d),this.updateCenter(),this.world.staticTree.insert(this)):this.isCircle=!1,this},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},reset:function(s,u){var d=this.gameObject;s===void 0&&(s=d.x),u===void 0&&(u=d.y),this.world.staticTree.remove(this),d.setPosition(s,u),d.getTopLeft(this.position),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this)},stop:function(){return this},getBounds:function(s){return s.x=this.x,s.y=this.y,s.right=this.right,s.bottom=this.bottom,s},hitTest:function(s,u){return this.isCircle?h(this,s,u):r(this,s,u)},postUpdate:function(){},deltaAbsX:function(){return 0},deltaAbsY:function(){return 0},deltaX:function(){return 0},deltaY:function(){return 0},deltaZ:function(){return 0},destroy:function(){this.enable=!1,this.world.pendingDestroy.set(this)},drawDebug:function(s){var u=this.position,d=u.x+this.halfWidth,c=u.y+this.halfHeight;this.debugShowBody&&(s.lineStyle(s.defaultStrokeWidth,this.debugBodyColor,1),this.isCircle?s.strokeCircle(d,c,this.width/2):s.strokeRect(u.x,u.y,this.width,this.height))},willDrawDebug:function(){return this.debugShowBody},setMass:function(s){return s<=0&&(s=.1),this.mass=s,this},x:{get:function(){return this.position.x},set:function(s){this.world.staticTree.remove(this),this.position.x=s,this.world.staticTree.insert(this)}},y:{get:function(){return this.position.y},set:function(s){this.world.staticTree.remove(this),this.position.y=s,this.world.staticTree.insert(this)}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});f.exports=l},71464:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(13759),g=t(83419),o=t(78389),a=t(37747),r=t(95540),i=t(26479),n=t(41212),l=new g({Extends:i,Mixins:[o],initialize:function(u,d,c,v){!c&&!v?v={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler,createMultipleCallback:this.createMultipleCallbackHandler,classType:h}:n(c)?(v=c,c=null,v.internalCreateCallback=this.createCallbackHandler,v.internalRemoveCallback=this.removeCallbackHandler,v.createMultipleCallback=this.createMultipleCallbackHandler,v.classType=r(v,"classType",h)):Array.isArray(c)&&n(c[0])?(v=c,c=null,v.forEach(function(y){y.internalCreateCallback=this.createCallbackHandler,y.internalRemoveCallback=this.removeCallbackHandler,y.createMultipleCallback=this.createMultipleCallbackHandler,y.classType=r(y,"classType",h)})):v={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler},this.world=u,this.physicsType=a.STATIC_BODY,this.collisionCategory=1,this.collisionMask=1,i.call(this,d,c,v),this.type="StaticPhysicsGroup"},createCallbackHandler:function(s){s.body||this.world.enableBody(s,a.STATIC_BODY)},removeCallbackHandler:function(s){s.body&&this.world.disableBody(s)},createMultipleCallbackHandler:function(){this.refresh()},refresh:function(){for(var s=this.children.entries,u=0;u<s.length;u++)s[u].body.reset();return this}});f.exports=l},82248:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(55495),g=t(37742),o=t(45319),a=t(83419),r=t(79342),i=t(37747),n=t(20339),l=t(52816),s=t(50792),u=t(63012),d=t(43855),c=t(5470),v=t(94977),y=t(64897),x=t(45170),S=t(96523),E=t(35154),A=t(36383),R=t(25774),w=t(96602),I=t(87841),O=t(59542),F=t(40012),L=t(14087),D=t(89936),b=t(35072),G=t(72624),W=t(2483),Y=t(61340),H=t(26099),U=t(15994),X=new a({Extends:s,initialize:function(B,z){s.call(this),this.scene=B,this.bodies=new b,this.staticBodies=new b,this.pendingDestroy=new b,this.colliders=new R,this.gravity=new H(E(z,"gravity.x",0),E(z,"gravity.y",0)),this.bounds=new I(E(z,"x",0),E(z,"y",0),E(z,"width",B.sys.scale.width),E(z,"height",B.sys.scale.height)),this.checkCollision={up:E(z,"checkCollision.up",!0),down:E(z,"checkCollision.down",!0),left:E(z,"checkCollision.left",!0),right:E(z,"checkCollision.right",!0)},this.fps=E(z,"fps",60),this.fixedStep=E(z,"fixedStep",!0),this._elapsed=0,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this.stepsLastFrame=0,this.timeScale=E(z,"timeScale",1),this.OVERLAP_BIAS=E(z,"overlapBias",4),this.TILE_BIAS=E(z,"tileBias",16),this.forceX=E(z,"forceX",!1),this.isPaused=E(z,"isPaused",!1),this._total=0,this.drawDebug=E(z,"debug",!1),this.debugGraphic,this.defaults={debugShowBody:E(z,"debugShowBody",!0),debugShowStaticBody:E(z,"debugShowStaticBody",!0),debugShowVelocity:E(z,"debugShowVelocity",!0),bodyDebugColor:E(z,"debugBodyColor",16711935),staticBodyDebugColor:E(z,"debugStaticBodyColor",255),velocityDebugColor:E(z,"debugVelocityColor",65280)},this.maxEntries=E(z,"maxEntries",16),this.useTree=E(z,"useTree",!0),this.tree=new O(this.maxEntries),this.staticTree=new O(this.maxEntries),this.treeMinMax={minX:0,minY:0,maxX:0,maxY:0},this._tempMatrix=new Y,this._tempMatrix2=new Y,this.tileFilterOptions={isColliding:!0,isNotEmpty:!0,hasInterestingFace:!0},this.drawDebug&&this.createDebugGraphic()},enable:function(V,B){B===void 0&&(B=i.DYNAMIC_BODY),Array.isArray(V)||(V=[V]);for(var z=0;z<V.length;z++){var K=V[z];if(K.isParent)for(var k=K.getChildren(),J=0;J<k.length;J++){var q=k[J];q.isParent?this.enable(q,B):this.enableBody(q,B)}else this.enableBody(K,B)}},enableBody:function(V,B){return B===void 0&&(B=i.DYNAMIC_BODY),V.hasTransformComponent&&(V.body||(B===i.DYNAMIC_BODY?V.body=new g(this,V):B===i.STATIC_BODY&&(V.body=new G(this,V))),this.add(V.body)),V},add:function(V){return V.physicsType===i.DYNAMIC_BODY?this.bodies.set(V):V.physicsType===i.STATIC_BODY&&(this.staticBodies.set(V),this.staticTree.insert(V)),V.enable=!0,V},disable:function(V){Array.isArray(V)||(V=[V]);for(var B=0;B<V.length;B++){var z=V[B];if(z.isParent)for(var K=z.getChildren(),k=0;k<K.length;k++){var J=K[k];J.isParent?this.disable(J):this.disableBody(J.body)}else this.disableBody(z.body)}},disableBody:function(V){this.remove(V),V.enable=!1},remove:function(V){V.physicsType===i.DYNAMIC_BODY?(this.tree.remove(V),this.bodies.delete(V)):V.physicsType===i.STATIC_BODY&&(this.staticBodies.delete(V),this.staticTree.remove(V))},createDebugGraphic:function(){var V=this.scene.sys.add.graphics({x:0,y:0});return V.setDepth(Number.MAX_VALUE),this.debugGraphic=V,this.drawDebug=!0,V},setBounds:function(V,B,z,K,k,J,q,j){return this.bounds.setTo(V,B,z,K),k!==void 0&&this.setBoundsCollision(k,J,q,j),this},setBoundsCollision:function(V,B,z,K){return V===void 0&&(V=!0),B===void 0&&(B=!0),z===void 0&&(z=!0),K===void 0&&(K=!0),this.checkCollision.left=V,this.checkCollision.right=B,this.checkCollision.up=z,this.checkCollision.down=K,this},pause:function(){return this.isPaused=!0,this.emit(u.PAUSE),this},resume:function(){return this.isPaused=!1,this.emit(u.RESUME),this},addCollider:function(V,B,z,K,k){z===void 0&&(z=null),K===void 0&&(K=null),k===void 0&&(k=z);var J=new r(this,!1,V,B,z,K,k);return this.colliders.add(J),J},addOverlap:function(V,B,z,K,k){z===void 0&&(z=null),K===void 0&&(K=null),k===void 0&&(k=z);var J=new r(this,!0,V,B,z,K,k);return this.colliders.add(J),J},removeCollider:function(V){return this.colliders.remove(V),this},setFPS:function(V){return this.fps=V,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this},update:function(V,B){if(!(this.isPaused||this.bodies.size===0)){var z,K=this._frameTime,k=this._frameTimeMS*this.timeScale;this._elapsed+=B;var J,q=this.bodies.entries,j=this._elapsed>=k;for(this.fixedStep||(K=B*.001,j=!0,this._elapsed=0),z=0;z<q.length;z++)J=q[z],J.enable&&J.preUpdate(j,K);if(j){this._elapsed-=k,this.stepsLastFrame=1,this.useTree&&(this.tree.clear(),this.tree.load(q));var Z=this.colliders.update();for(z=0;z<Z.length;z++){var _=Z[z];_.active&&_.update()}this.emit(u.WORLD_STEP,K)}for(;this._elapsed>=k;)this._elapsed-=k,this.step(K)}},step:function(V){var B,z,K=this.bodies.entries,k=K.length;for(B=0;B<k;B++)z=K[B],z.enable&&z.update(V);this.useTree&&(this.tree.clear(),this.tree.load(K));var J=this.colliders.update();for(B=0;B<J.length;B++){var q=J[B];q.active&&q.update()}this.emit(u.WORLD_STEP,V),this.stepsLastFrame++},singleStep:function(){this.update(0,this._frameTimeMS),this.postUpdate()},postUpdate:function(){var V,B,z=this.bodies.entries,K=z.length,k=this.bodies,J=this.staticBodies;if(this.stepsLastFrame)for(this.stepsLastFrame=0,V=0;V<K;V++)B=z[V],B.enable&&B.postUpdate();if(this.drawDebug){var q=this.debugGraphic;for(q.clear(),V=0;V<K;V++)B=z[V],B.willDrawDebug()&&B.drawDebug(q);for(z=J.entries,K=z.length,V=0;V<K;V++)B=z[V],B.willDrawDebug()&&B.drawDebug(q)}var j=this.pendingDestroy;if(j.size>0){var Z=this.tree,_=this.staticTree;for(z=j.entries,K=z.length,V=0;V<K;V++)B=z[V],B.physicsType===i.DYNAMIC_BODY?(Z.remove(B),k.delete(B)):B.physicsType===i.STATIC_BODY&&(_.remove(B),J.delete(B)),B.world=void 0,B.gameObject=void 0;j.clear()}},updateMotion:function(V,B){V.allowRotation&&this.computeAngularVelocity(V,B),this.computeVelocity(V,B)},computeAngularVelocity:function(V,B){var z=V.angularVelocity,K=V.angularAcceleration,k=V.angularDrag,J=V.maxAngular;K?z+=K*B:V.allowDrag&&k&&(k*=B,c(z-k,0,.1)?z-=k:v(z+k,0,.1)?z+=k:z=0),z=o(z,-J,J);var q=z-V.angularVelocity;V.angularVelocity+=q,V.rotation+=V.angularVelocity*B},computeVelocity:function(V,B){var z=V.velocity.x,K=V.acceleration.x,k=V.drag.x,J=V.maxVelocity.x,q=V.velocity.y,j=V.acceleration.y,Z=V.drag.y,_=V.maxVelocity.y,et=V.speed,it=V.maxSpeed,st=V.allowDrag,nt=V.useDamping;V.allowGravity&&(z+=(this.gravity.x+V.gravity.x)*B,q+=(this.gravity.y+V.gravity.y)*B),K?z+=K*B:st&&k&&(nt?(k=Math.pow(k,B),z*=k,et=Math.sqrt(z*z+q*q),d(et,0,.001)&&(z=0)):(k*=B,c(z-k,0,.01)?z-=k:v(z+k,0,.01)?z+=k:z=0)),j?q+=j*B:st&&Z&&(nt?(Z=Math.pow(Z,B),q*=Z,et=Math.sqrt(z*z+q*q),d(et,0,.001)&&(q=0)):(Z*=B,c(q-Z,0,.01)?q-=Z:v(q+Z,0,.01)?q+=Z:q=0)),z=o(z,-J,J),q=o(q,-_,_),V.velocity.set(z,q),it>-1&&V.velocity.length()>it&&(V.velocity.normalize().scale(it),et=it),V.speed=et},separate:function(V,B,z,K,k){var J,q,j=!1,Z=!0;if(!V.enable||!B.enable||V.checkCollision.none||B.checkCollision.none||!this.intersects(V,B)||z&&z.call(K,V.gameObject||V,B.gameObject||B)===!1)return j;if(V.isCircle||B.isCircle){var _=this.separateCircle(V,B,k);_.result?(j=!0,Z=!1):(J=_.x,q=_.y,Z=!0)}if(Z){var et=!1,it=!1,st=this.OVERLAP_BIAS;k?(et=L(V,B,k,st,J),it=D(V,B,k,st,q)):this.forceX||Math.abs(this.gravity.y+V.gravity.y)<Math.abs(this.gravity.x+V.gravity.x)?(et=L(V,B,k,st,J),this.intersects(V,B)&&(it=D(V,B,k,st,q))):(it=D(V,B,k,st,q),this.intersects(V,B)&&(et=L(V,B,k,st,J))),j=et||it}return j&&(k?(V.onOverlap||B.onOverlap)&&this.emit(u.OVERLAP,V.gameObject,B.gameObject,V,B):(V.onCollide||B.onCollide)&&this.emit(u.COLLIDE,V.gameObject,B.gameObject,V,B)),j},separateCircle:function(V,B,z){y(V,B,!1,0),x(V,B,!1,0);var K=V.isCircle,k=B.isCircle,J=V.center,q=B.center,j=V.immovable,Z=B.immovable,_=V.velocity,et=B.velocity,it=0,st=!0;if(K!==k){st=!1;var nt=J.x,ut=J.y,ft=V.halfWidth,ht=B.position.x,rt=B.position.y,lt=B.right,dt=B.bottom;k&&(nt=q.x,ut=q.y,ft=B.halfWidth,ht=V.position.x,rt=V.position.y,lt=V.right,dt=V.bottom),ut<rt?nt<ht?it=n(nt,ut,ht,rt)-ft:nt>lt&&(it=n(nt,ut,lt,rt)-ft):ut>dt&&(nt<ht?it=n(nt,ut,ht,dt)-ft:nt>lt&&(it=n(nt,ut,lt,dt)-ft)),it*=-1}else it=V.halfWidth+B.halfWidth-l(J,q);V.overlapR=it,B.overlapR=it;var yt=h(J,q),xt=(it+A.EPSILON)*Math.cos(yt),At=(it+A.EPSILON)*Math.sin(yt),Et={overlap:it,result:!1,x:xt,y:At};if(z&&(!st||st&&it!==0))return Et.result=!0,Et;if(!st&&it===0||j&&Z||V.customSeparateX||B.customSeparateX)return Et.x=void 0,Et.y=void 0,Et;var Lt=!V.pushable&&!B.pushable;if(st){var Xt=J.x-q.x,qt=J.y-q.y,Nt=Math.sqrt(Math.pow(Xt,2)+Math.pow(qt,2)),Jt=(q.x-J.x)/Nt||0,le=(q.y-J.y)/Nt||0,jt=2*(_.x*Jt+_.y*le-et.x*Jt-et.y*le)/(V.mass+B.mass);(j||Z||!V.pushable||!B.pushable)&&(jt*=2),!j&&V.pushable&&(_.x=_.x-jt/V.mass*Jt,_.y=_.y-jt/V.mass*le,_.multiply(V.bounce)),!Z&&B.pushable&&(et.x=et.x+jt/B.mass*Jt,et.y=et.y+jt/B.mass*le,et.multiply(B.bounce)),!j&&!Z&&(xt*=.5,At*=.5),(!j||V.pushable||Lt)&&(V.x-=xt,V.y-=At,V.updateCenter()),(!Z||B.pushable||Lt)&&(B.x+=xt,B.y+=At,B.updateCenter()),Et.result=!0}else(!j||V.pushable||Lt)&&(V.x-=xt,V.y-=At,V.updateCenter()),(!Z||B.pushable||Lt)&&(B.x+=xt,B.y+=At,B.updateCenter()),Et.x=void 0,Et.y=void 0;return Et},intersects:function(V,B){return V===B?!1:!V.isCircle&&!B.isCircle?!(V.right<=B.left||V.bottom<=B.top||V.left>=B.right||V.top>=B.bottom):V.isCircle?B.isCircle?l(V.center,B.center)<=V.halfWidth+B.halfWidth:this.circleBodyIntersects(V,B):this.circleBodyIntersects(B,V)},circleBodyIntersects:function(V,B){var z=o(V.center.x,B.left,B.right),K=o(V.center.y,B.top,B.bottom),k=(V.center.x-z)*(V.center.x-z),J=(V.center.y-K)*(V.center.y-K);return k+J<=V.halfWidth*V.halfWidth},overlap:function(V,B,z,K,k){return z===void 0&&(z=null),K===void 0&&(K=null),k===void 0&&(k=z),this.collideObjects(V,B,z,K,k,!0)},collide:function(V,B,z,K,k){return z===void 0&&(z=null),K===void 0&&(K=null),k===void 0&&(k=z),this.collideObjects(V,B,z,K,k,!1)},collideObjects:function(V,B,z,K,k,J){var q,j;V.isParent&&(V.physicsType===void 0||B===void 0||V===B)&&(V=V.children.entries),B&&B.isParent&&B.physicsType===void 0&&(B=B.children.entries);var Z=Array.isArray(V),_=Array.isArray(B);if(this._total=0,!Z&&!_)this.collideHandler(V,B,z,K,k,J);else if(!Z&&_)for(q=0;q<B.length;q++)this.collideHandler(V,B[q],z,K,k,J);else if(Z&&!_)if(B)for(q=0;q<V.length;q++)this.collideHandler(V[q],B,z,K,k,J);else for(q=0;q<V.length;q++){var et=V[q];for(j=q+1;j<V.length;j++)q!==j&&this.collideHandler(et,V[j],z,K,k,J)}else for(q=0;q<V.length;q++)for(j=0;j<B.length;j++)this.collideHandler(V[q],B[j],z,K,k,J);return this._total>0},collideHandler:function(V,B,z,K,k,J){if(B===void 0&&V.isParent)return this.collideGroupVsGroup(V,V,z,K,k,J);if(!V||!B)return!1;if(V.body||V.isBody){if(B.body||B.isBody)return this.collideSpriteVsSprite(V,B,z,K,k,J);if(B.isParent)return this.collideSpriteVsGroup(V,B,z,K,k,J);if(B.isTilemap)return this.collideSpriteVsTilemapLayer(V,B,z,K,k,J)}else if(V.isParent){if(B.body||B.isBody)return this.collideSpriteVsGroup(B,V,z,K,k,J);if(B.isParent)return this.collideGroupVsGroup(V,B,z,K,k,J);if(B.isTilemap)return this.collideGroupVsTilemapLayer(V,B,z,K,k,J)}else if(V.isTilemap){if(B.body||B.isBody)return this.collideSpriteVsTilemapLayer(B,V,z,K,k,J);if(B.isParent)return this.collideGroupVsTilemapLayer(B,V,z,K,k,J)}},canCollide:function(V,B){return V&&B&&(V.collisionMask&B.collisionCategory)!==0&&(B.collisionMask&V.collisionCategory)!==0},collideSpriteVsSprite:function(V,B,z,K,k,J){var q=V.isBody?V:V.body,j=B.isBody?B:B.body;return this.canCollide(q,j)?(this.separate(q,j,K,k,J)&&(z&&z.call(k,V,B),this._total++),!0):!1},collideSpriteVsGroup:function(V,B,z,K,k,J){var q=V.isBody?V:V.body;if(!(B.getLength()===0||!q||!q.enable||q.checkCollision.none||!this.canCollide(q,B))){var j,Z,_;if(this.useTree||B.physicsType===i.STATIC_BODY){var et=this.treeMinMax;et.minX=q.left,et.minY=q.top,et.maxX=q.right,et.maxY=q.bottom;var it=B.physicsType===i.DYNAMIC_BODY?this.tree.search(et):this.staticTree.search(et);for(Z=it.length,j=0;j<Z;j++)_=it[j],!(q===_||!_.enable||_.checkCollision.none||!B.contains(_.gameObject))&&this.separate(q,_,K,k,J)&&(z&&z.call(k,q.gameObject,_.gameObject),this._total++)}else{var st=B.getChildren(),nt=B.children.entries.indexOf(V);for(Z=st.length,j=0;j<Z;j++)_=st[j].body,!(!_||j===nt||!_.enable)&&this.separate(q,_,K,k,J)&&(z&&z.call(k,q.gameObject,_.gameObject),this._total++)}}},collideGroupVsTilemapLayer:function(V,B,z,K,k,J){if(!this.canCollide(V,B))return!1;var q=V.getChildren();if(q.length===0)return!1;for(var j=!1,Z=0;Z<q.length;Z++)(q[Z].body||q[Z].isBody)&&this.collideSpriteVsTilemapLayer(q[Z],B,z,K,k,J)&&(j=!0);return j},collideTiles:function(V,B,z,K,k){return B.length===0||V.body&&!V.body.enable||V.isBody&&!V.enable?!1:this.collideSpriteVsTilesHandler(V,B,z,K,k,!1,!1)},overlapTiles:function(V,B,z,K,k){return B.length===0||V.body&&!V.body.enable||V.isBody&&!V.enable?!1:this.collideSpriteVsTilesHandler(V,B,z,K,k,!0,!1)},collideSpriteVsTilemapLayer:function(V,B,z,K,k,J){var q=V.isBody?V:V.body;if(!q.enable||q.checkCollision.none||!this.canCollide(q,B))return!1;var j=B.layer,Z=q.x-j.tileWidth*B.scaleX,_=q.y-j.tileHeight*B.scaleY,et=q.width+j.tileWidth*B.scaleX,it=q.height+j.tileHeight*B.scaleY,st=J?null:this.tileFilterOptions,nt=S(Z,_,et,it,st,B.scene.cameras.main,B.layer);return nt.length===0?!1:this.collideSpriteVsTilesHandler(V,nt,z,K,k,J,!0)},collideSpriteVsTilesHandler:function(V,B,z,K,k,J,q){for(var j=V.isBody?V:V.body,Z,_={left:0,right:0,top:0,bottom:0},et,it=!1,st=0;st<B.length;st++){Z=B[st],et=Z.tilemapLayer;var nt=et.tileToWorldXY(Z.x,Z.y);_.left=nt.x,_.top=nt.y,_.right=_.left+Z.width*et.scaleX,_.bottom=_.top+Z.height*et.scaleY,W(_,j)&&(!K||K.call(k,V,Z))&&w(Z,V)&&(J||F(st,j,Z,_,et,this.TILE_BIAS,q))&&(this._total++,it=!0,z&&z.call(k,V,Z),J&&j.onOverlap?this.emit(u.TILE_OVERLAP,V,Z,j):j.onCollide&&this.emit(u.TILE_COLLIDE,V,Z,j))}return it},collideGroupVsGroup:function(V,B,z,K,k,J){if(!(V.getLength()===0||B.getLength()===0||!this.canCollide(V,B)))for(var q=V.getChildren(),j=0;j<q.length;j++)this.collideSpriteVsGroup(q[j],B,z,K,k,J)},wrap:function(V,B){V.body?this.wrapObject(V,B):V.getChildren?this.wrapArray(V.getChildren(),B):Array.isArray(V)?this.wrapArray(V,B):this.wrapObject(V,B)},wrapArray:function(V,B){for(var z=0;z<V.length;z++)this.wrapObject(V[z],B)},wrapObject:function(V,B){B===void 0&&(B=0),V.x=U(V.x,this.bounds.left-B,this.bounds.right+B),V.y=U(V.y,this.bounds.top-B,this.bounds.bottom+B)},shutdown:function(){this.tree.clear(),this.staticTree.clear(),this.bodies.clear(),this.staticBodies.clear(),this.colliders.destroy(),this.removeAllListeners()},destroy:function(){this.shutdown(),this.scene=null,this.debugGraphic&&(this.debugGraphic.destroy(),this.debugGraphic=null)}});f.exports=X},1093:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={setAcceleration:function(t,h){return this.body.acceleration.set(t,h),this},setAccelerationX:function(t){return this.body.acceleration.x=t,this},setAccelerationY:function(t){return this.body.acceleration.y=t,this}};f.exports=C},59023:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={setAngularVelocity:function(t){return this.body.angularVelocity=t,this},setAngularAcceleration:function(t){return this.body.angularAcceleration=t,this},setAngularDrag:function(t){return this.body.angularDrag=t,this}};f.exports=C},62069:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={setBounce:function(t,h){return this.body.bounce.set(t,h),this},setBounceX:function(t){return this.body.bounce.x=t,this},setBounceY:function(t){return this.body.bounce.y=t,this},setCollideWorldBounds:function(t,h,g,o){return this.body.setCollideWorldBounds(t,h,g,o),this}};f.exports=C},78389:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(79599),g={setCollisionCategory:function(o){var a=this.body?this.body:this;return a.collisionCategory=o,this},willCollideWith:function(o){var a=this.body?this.body:this;return(a.collisionMask&o)!==0},addCollidesWith:function(o){var a=this.body?this.body:this;return a.collisionMask=a.collisionMask|o,this},removeCollidesWith:function(o){var a=this.body?this.body:this;return a.collisionMask=a.collisionMask&~o,this},setCollidesWith:function(o){var a=this.body?this.body:this;return a.collisionMask=h(o),this},resetCollisionCategory:function(){var o=this.body?this.body:this;return o.collisionCategory=1,o.collisionMask=2147483647,this}};f.exports=g},87118:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={setDebug:function(t,h,g){return this.debugShowBody=t,this.debugShowVelocity=h,this.debugBodyColor=g,this},setDebugBodyColor:function(t){return this.body.debugBodyColor=t,this},debugShowBody:{get:function(){return this.body.debugShowBody},set:function(t){this.body.debugShowBody=t}},debugShowVelocity:{get:function(){return this.body.debugShowVelocity},set:function(t){this.body.debugShowVelocity=t}},debugBodyColor:{get:function(){return this.body.debugBodyColor},set:function(t){this.body.debugBodyColor=t}}};f.exports=C},52819:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={setDrag:function(t,h){return this.body.drag.set(t,h),this},setDragX:function(t){return this.body.drag.x=t,this},setDragY:function(t){return this.body.drag.y=t,this},setDamping:function(t){return this.body.useDamping=t,this}};f.exports=C},4074:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={setDirectControl:function(t){return this.body.setDirectControl(t),this},enableBody:function(t,h,g,o,a){return t&&this.body.reset(h,g),o&&(this.body.gameObject.active=!0),a&&(this.body.gameObject.visible=!0),this.body.enable=!0,this},disableBody:function(t,h){return t===void 0&&(t=!1),h===void 0&&(h=!1),this.body.stop(),this.body.enable=!1,t&&(this.body.gameObject.active=!1),h&&(this.body.gameObject.visible=!1),this},refreshBody:function(){return this.body.updateFromGameObject(),this}};f.exports=C},40831:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={setFriction:function(t,h){return this.body.friction.set(t,h),this},setFrictionX:function(t){return this.body.friction.x=t,this},setFrictionY:function(t){return this.body.friction.y=t,this}};f.exports=C},26775:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={setGravity:function(t,h){return this.body.gravity.set(t,h),this},setGravityX:function(t){return this.body.gravity.x=t,this},setGravityY:function(t){return this.body.gravity.y=t,this}};f.exports=C},9437:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={setImmovable:function(t){return t===void 0&&(t=!0),this.body.immovable=t,this}};f.exports=C},30621:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={setMass:function(t){return this.body.mass=t,this}};f.exports=C},72441:(f,C,t)=>{var h=t(47956),g=t(96503),o=t(2044),a=t(81491),r=function(i,n,l,s,u,d){var c=h(i,n-s,l-s,2*s,2*s,u,d);if(c.length===0)return c;for(var v=new g(n,l,s),y=new g,x=[],S=0;S<c.length;S++){var E=c[S];E.isCircle?(y.setTo(E.center.x,E.center.y,E.halfWidth),o(v,y)&&x.push(E)):a(v,E)&&x.push(E)}return x};f.exports=r},47956:f=>{var C=function(t,h,g,o,a,r,i){r===void 0&&(r=!0),i===void 0&&(i=!1);var n=[],l=[],s=t.treeMinMax;if(s.minX=h,s.minY=g,s.maxX=h+o,s.maxY=g+a,i&&(l=t.staticTree.search(s)),r&&t.useTree)n=t.tree.search(s);else if(r){var u=t.bodies,d={position:{x:h,y:g},left:h,top:g,right:h+o,bottom:g+a,isCircle:!1},c=t.intersects;u.iterate(function(v){c(v,d)&&n.push(v)})}return l.concat(n)};f.exports=C},62121:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={setPushable:function(t){return t===void 0&&(t=!0),this.body.pushable=t,this}};f.exports=C},29384:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={setOffset:function(t,h){return this.body.setOffset(t,h),this},setSize:function(t,h,g){return this.body.setSize(t,h,g),this},setBodySize:function(t,h,g){return this.body.setSize(t,h,g),this},setCircle:function(t,h,g){return this.body.setCircle(t,h,g),this}};f.exports=C},15098:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={setVelocity:function(t,h){return this.body.setVelocity(t,h),this},setVelocityX:function(t){return this.body.setVelocityX(t),this},setVelocityY:function(t){return this.body.setVelocityY(t),this},setMaxVelocity:function(t,h){return this.body.maxVelocity.set(t,h),this}};f.exports=C},92209:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={Acceleration:t(1093),Angular:t(59023),Bounce:t(62069),Collision:t(78389),Debug:t(87118),Drag:t(52819),Enable:t(4074),Friction:t(40831),Gravity:t(26775),Immovable:t(9437),Mass:t(30621),OverlapCirc:t(72441),OverlapRect:t(47956),Pushable:t(62121),Size:t(29384),Velocity:t(15098)}},37747:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={DYNAMIC_BODY:0,STATIC_BODY:1,GROUP:2,TILEMAPLAYER:3,FACING_NONE:10,FACING_UP:11,FACING_DOWN:12,FACING_LEFT:13,FACING_RIGHT:14};f.exports=C},20009:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="collide"},36768:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="overlap"},60473:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="pause"},89954:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="resume"},61804:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="tilecollide"},7161:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="tileoverlap"},34689:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="worldbounds"},16006:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="worldstep"},63012:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={COLLIDE:t(20009),OVERLAP:t(36768),PAUSE:t(60473),RESUME:t(89954),TILE_COLLIDE:t(61804),TILE_OVERLAP:t(7161),WORLD_BOUNDS:t(34689),WORLD_STEP:t(16006)}},27064:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(37747),g=t(79291),o={ArcadePhysics:t(86689),Body:t(37742),Collider:t(79342),Components:t(92209),Events:t(63012),Factory:t(66022),GetCollidesWith:t(79599),GetOverlapX:t(64897),GetOverlapY:t(45170),SeparateX:t(14087),SeparateY:t(89936),Group:t(60758),Image:t(71289),Sprite:t(13759),StaticBody:t(72624),StaticGroup:t(71464),Tilemap:t(55173),World:t(82248)};o=g(!1,o,h),f.exports=o},96602:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h){return t.collisionCallback?!t.collisionCallback.call(t.collisionCallbackContext,h,t):t.layer.callbacks[t.index]?!t.layer.callbacks[t.index].callback.call(t.layer.callbacks[t.index].callbackContext,h,t):!0};f.exports=C},36294:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h){h<0?(t.blocked.none=!1,t.blocked.left=!0):h>0&&(t.blocked.none=!1,t.blocked.right=!0),t.position.x-=h,t.updateCenter(),t.bounce.x===0?t.velocity.x=0:t.velocity.x=-t.velocity.x*t.bounce.x};f.exports=C},67013:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h){h<0?(t.blocked.none=!1,t.blocked.up=!0):h>0&&(t.blocked.none=!1,t.blocked.down=!0),t.position.y-=h,t.updateCenter(),t.bounce.y===0?t.velocity.y=0:t.velocity.y=-t.velocity.y*t.bounce.y};f.exports=C},40012:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(21329),g=t(53442),o=t(2483),a=function(r,i,n,l,s,u,d){var c=l.left,v=l.top,y=l.right,x=l.bottom,S=n.faceLeft||n.faceRight,E=n.faceTop||n.faceBottom;if(d||(S=!0,E=!0),!S&&!E)return!1;var A=0,R=0,w=0,I=1;if(i.deltaAbsX()>i.deltaAbsY()?w=-1:i.deltaAbsX()<i.deltaAbsY()&&(I=-1),i.deltaX()!==0&&i.deltaY()!==0&&S&&E&&(w=Math.min(Math.abs(i.position.x-y),Math.abs(i.right-c)),I=Math.min(Math.abs(i.position.y-x),Math.abs(i.bottom-v))),w<I){if(S&&(A=h(i,n,c,y,u,d),A!==0&&!o(l,i)))return!0;E&&(R=g(i,n,v,x,u,d))}else{if(E&&(R=g(i,n,v,x,u,d),R!==0&&!o(l,i)))return!0;S&&(A=h(i,n,c,y,u,d))}return A!==0||R!==0};f.exports=a},21329:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(36294),g=function(o,a,r,i,n,l){var s=0,u=a.faceLeft,d=a.faceRight,c=a.collideLeft,v=a.collideRight;return l||(u=!0,d=!0,c=!0,v=!0),o.deltaX()<0&&v&&o.checkCollision.left?d&&o.x<i&&(s=o.x-i,s<-n&&(s=0)):o.deltaX()>0&&c&&o.checkCollision.right&&u&&o.right>r&&(s=o.right-r,s>n&&(s=0)),s!==0&&(o.customSeparateX?o.overlapX=s:h(o,s)),s};f.exports=g},53442:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(67013),g=function(o,a,r,i,n,l){var s=0,u=a.faceTop,d=a.faceBottom,c=a.collideUp,v=a.collideDown;return l||(u=!0,d=!0,c=!0,v=!0),o.deltaY()<0&&v&&o.checkCollision.up?d&&o.y<i&&(s=o.y-i,s<-n&&(s=0)):o.deltaY()>0&&c&&o.checkCollision.down&&u&&o.bottom>r&&(s=o.bottom-r,s>n&&(s=0)),s!==0&&(o.customSeparateY?o.overlapY=s:h(o,s)),s};f.exports=g},2483:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h){return!(h.right<=t.left||h.bottom<=t.top||h.position.x>=t.right||h.position.y>=t.bottom)};f.exports=C},55173:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h={ProcessTileCallbacks:t(96602),ProcessTileSeparationX:t(36294),ProcessTileSeparationY:t(67013),SeparateTile:t(40012),TileCheckX:t(21329),TileCheckY:t(53442),TileIntersectsBody:t(2483)};f.exports=h},44563:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={Arcade:t(27064),Matter:t(3875)}},68174:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(26099),o=new h({initialize:function(){this.boundsCenter=new g,this.centerDiff=new g},parseBody:function(a){if(a=a.hasOwnProperty("body")?a.body:a,!a.hasOwnProperty("bounds")||!a.hasOwnProperty("centerOfMass"))return!1;var r=this.boundsCenter,i=this.centerDiff,n=a.bounds.max.x-a.bounds.min.x,l=a.bounds.max.y-a.bounds.min.y,s=n*a.centerOfMass.x,u=l*a.centerOfMass.y;return r.set(n/2,l/2),i.set(s-r.x,u-r.y),!0},getTopLeft:function(a,r,i){if(r===void 0&&(r=0),i===void 0&&(i=0),this.parseBody(a)){var n=this.boundsCenter,l=this.centerDiff;return new g(r+n.x+l.x,i+n.y+l.y)}return!1},getTopCenter:function(a,r,i){if(r===void 0&&(r=0),i===void 0&&(i=0),this.parseBody(a)){var n=this.boundsCenter,l=this.centerDiff;return new g(r+l.x,i+n.y+l.y)}return!1},getTopRight:function(a,r,i){if(r===void 0&&(r=0),i===void 0&&(i=0),this.parseBody(a)){var n=this.boundsCenter,l=this.centerDiff;return new g(r-(n.x-l.x),i+n.y+l.y)}return!1},getLeftCenter:function(a,r,i){if(r===void 0&&(r=0),i===void 0&&(i=0),this.parseBody(a)){var n=this.boundsCenter,l=this.centerDiff;return new g(r+n.x+l.x,i+l.y)}return!1},getCenter:function(a,r,i){if(r===void 0&&(r=0),i===void 0&&(i=0),this.parseBody(a)){var n=this.centerDiff;return new g(r+n.x,i+n.y)}return!1},getRightCenter:function(a,r,i){if(r===void 0&&(r=0),i===void 0&&(i=0),this.parseBody(a)){var n=this.boundsCenter,l=this.centerDiff;return new g(r-(n.x-l.x),i+l.y)}return!1},getBottomLeft:function(a,r,i){if(r===void 0&&(r=0),i===void 0&&(i=0),this.parseBody(a)){var n=this.boundsCenter,l=this.centerDiff;return new g(r+n.x+l.x,i-(n.y-l.y))}return!1},getBottomCenter:function(a,r,i){if(r===void 0&&(r=0),i===void 0&&(i=0),this.parseBody(a)){var n=this.boundsCenter,l=this.centerDiff;return new g(r+l.x,i-(n.y-l.y))}return!1},getBottomRight:function(a,r,i){if(r===void 0&&(r=0),i===void 0&&(i=0),this.parseBody(a)){var n=this.boundsCenter,l=this.centerDiff;return new g(r-(n.x-l.x),i-(n.y-l.y))}return!1}});f.exports=o},19933:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(6790);h.Body=t(22562),h.Composite=t(69351),h.World=t(4372),h.Collision=t(52284),h.Detector=t(81388),h.Pairs=t(99561),h.Pair=t(4506),h.Query=t(73296),h.Resolver=t(66272),h.Constraint=t(48140),h.Common=t(53402),h.Engine=t(48413),h.Events=t(35810),h.Sleeping=t(53614),h.Plugin=t(73832),h.Bodies=t(66280),h.Composites=t(74116),h.Axes=t(66615),h.Bounds=t(15647),h.Svg=t(74058),h.Vector=t(31725),h.Vertices=t(41598),h.World.add=h.Composite.add,h.World.remove=h.Composite.remove,h.World.addComposite=h.Composite.addComposite,h.World.addBody=h.Composite.addBody,h.World.addConstraint=h.Composite.addConstraint,h.World.clear=h.Composite.clear,f.exports=h},28137:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66280),g=t(83419),o=t(74116),a=t(48140),r=t(74058),i=t(75803),n=t(23181),l=t(34803),s=t(73834),u=t(19496),d=t(85791),c=t(98713),v=t(41598),y=new g({initialize:function(S){this.world=S,this.scene=S.scene,this.sys=S.scene.sys},rectangle:function(x,S,E,A,R){var w=h.rectangle(x,S,E,A,R);return this.world.add(w),w},trapezoid:function(x,S,E,A,R,w){var I=h.trapezoid(x,S,E,A,R,w);return this.world.add(I),I},circle:function(x,S,E,A,R){var w=h.circle(x,S,E,A,R);return this.world.add(w),w},polygon:function(x,S,E,A,R){var w=h.polygon(x,S,E,A,R);return this.world.add(w),w},fromVertices:function(x,S,E,A,R,w,I){typeof E=="string"&&(E=v.fromPath(E));var O=h.fromVertices(x,S,E,A,R,w,I);return this.world.add(O),O},fromPhysicsEditor:function(x,S,E,A,R){R===void 0&&(R=!0);var w=u.parseBody(x,S,E,A);return R&&!this.world.has(w)&&this.world.add(w),w},fromSVG:function(x,S,E,A,R,w){A===void 0&&(A=1),R===void 0&&(R={}),w===void 0&&(w=!0);for(var I=E.getElementsByTagName("path"),O=[],F=0;F<I.length;F++){var L=r.pathToVertices(I[F],30);A!==1&&v.scale(L,A,A),O.push(L)}var D=h.fromVertices(x,S,O,R);return w&&this.world.add(D),D},fromJSON:function(x,S,E,A,R){A===void 0&&(A={}),R===void 0&&(R=!0);var w=d.parseBody(x,S,E,A);return w&&R&&this.world.add(w),w},imageStack:function(x,S,E,A,R,w,I,O,F){I===void 0&&(I=0),O===void 0&&(O=0),F===void 0&&(F={});var L=this.world,D=this.sys.displayList;F.addToWorld=!1;var b=o.stack(E,A,R,w,I,O,function(G,W){var Y=new n(L,G,W,x,S,F);return D.add(Y),Y.body});return L.add(b),b},stack:function(x,S,E,A,R,w,I){var O=o.stack(x,S,E,A,R,w,I);return this.world.add(O),O},pyramid:function(x,S,E,A,R,w,I){var O=o.pyramid(x,S,E,A,R,w,I);return this.world.add(O),O},chain:function(x,S,E,A,R,w){return o.chain(x,S,E,A,R,w)},mesh:function(x,S,E,A,R){return o.mesh(x,S,E,A,R)},newtonsCradle:function(x,S,E,A,R){var w=o.newtonsCradle(x,S,E,A,R);return this.world.add(w),w},car:function(x,S,E,A,R){var w=o.car(x,S,E,A,R);return this.world.add(w),w},softBody:function(x,S,E,A,R,w,I,O,F,L){var D=o.softBody(x,S,E,A,R,w,I,O,F,L);return this.world.add(D),D},joint:function(x,S,E,A,R){return this.constraint(x,S,E,A,R)},spring:function(x,S,E,A,R){return this.constraint(x,S,E,A,R)},constraint:function(x,S,E,A,R){A===void 0&&(A=1),R===void 0&&(R={}),R.bodyA=x.type==="body"?x:x.body,R.bodyB=S.type==="body"?S:S.body,isNaN(E)||(R.length=E),R.stiffness=A;var w=a.create(R);return this.world.add(w),w},worldConstraint:function(x,S,E,A){E===void 0&&(E=1),A===void 0&&(A={}),A.bodyB=x.type==="body"?x:x.body,isNaN(S)||(A.length=S),A.stiffness=E;var R=a.create(A);return this.world.add(R),R},mouseSpring:function(x){return this.pointerConstraint(x)},pointerConstraint:function(x){x===void 0&&(x={}),x.hasOwnProperty("render")||(x.render={visible:!1});var S=new c(this.scene,this.world,x);return this.world.add(S.constraint),S},image:function(x,S,E,A,R){var w=new n(this.world,x,S,E,A,R);return this.sys.displayList.add(w),w},tileBody:function(x,S){return new s(this.world,x,S)},sprite:function(x,S,E,A,R){var w=new l(this.world,x,S,E,A,R);return this.sys.displayList.add(w),this.sys.updateList.add(w),w},gameObject:function(x,S,E){return i(this.world,x,S,E)},destroy:function(){this.world=null,this.scene=null,this.sys=null}});f.exports=y},75803:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(31884),g=t(95540),o=t(26099);function a(i){return!!i.get&&typeof i.get=="function"||!!i.set&&typeof i.set=="function"}var r=function(i,n,l,s){l===void 0&&(l={}),s===void 0&&(s=!0);var u=n.x,d=n.y;n.body={temp:!0,position:{x:u,y:d}};var c=[h.Bounce,h.Collision,h.Force,h.Friction,h.Gravity,h.Mass,h.Sensor,h.SetBody,h.Sleep,h.Static,h.Transform,h.Velocity];if(c.forEach(function(y){for(var x in y)a(y[x])?Object.defineProperty(n,x,{get:y[x].get,set:y[x].set}):Object.defineProperty(n,x,{value:y[x]})}),n.world=i,n._tempVec2=new o(u,d),l.hasOwnProperty("type")&&l.type==="body")n.setExistingBody(l,s);else{var v=g(l,"shape",null);v||(v="rectangle"),l.addToWorld=s,n.setBody(v,l)}return n};f.exports=r},23181:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(31884),o=t(95643),a=t(95540),r=t(88571),i=t(72699),n=t(26099),l=new h({Extends:r,Mixins:[g.Bounce,g.Collision,g.Force,g.Friction,g.Gravity,g.Mass,g.Sensor,g.SetBody,g.Sleep,g.Static,g.Transform,g.Velocity,i],initialize:function(u,d,c,v,y,x){o.call(this,u.scene,"Image"),this._crop=this.resetCropObject(),this.setTexture(v,y),this.setSizeToFrame(),this.setOrigin(),this.world=u,this._tempVec2=new n(d,c);var S=a(x,"shape",null);S?this.setBody(S,x):this.setRectangle(this.width,this.height,x),this.setPosition(d,c),this.initPipeline(),this.initPostPipeline(!0)}});f.exports=l},42045:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(60461),g=t(66615),o=t(66280),a=t(22562),r=t(68174),i=t(15647),n=t(83419),l=t(52284),s=t(53402),u=t(69351),d=t(74116),c=t(48140),v=t(81388),y=t(20339),x=t(28137),S=t(95540),E=t(35154),A=t(46975),R=t(4506),w=t(99561),I=t(37277),O=t(73296),F=t(66272),L=t(44594),D=t(74058),b=t(31725),G=t(41598),W=t(68243);s.setDecomp(t(55973));var Y=new n({initialize:function(U){this.scene=U,this.systems=U.sys,this.config=this.getConfig(),this.world,this.add,this.bodyBounds,this.body=a,this.composite=u,this.collision=l,this.detector=v,this.pair=R,this.pairs=w,this.query=O,this.resolver=F,this.constraint=c,this.bodies=o,this.composites=d,this.axes=g,this.bounds=i,this.svg=D,this.vector=b,this.vertices=G,this.verts=G,this._tempVec2=b.create(),F._restingThresh=E(this.config,"restingThresh",4),F._restingThreshTangent=E(this.config,"restingThreshTangent",6),F._positionDampen=E(this.config,"positionDampen",.9),F._positionWarming=E(this.config,"positionWarming",.8),F._frictionNormalMultiplier=E(this.config,"frictionNormalMultiplier",5),U.sys.events.once(L.BOOT,this.boot,this),U.sys.events.on(L.START,this.start,this)},boot:function(){this.world=new W(this.scene,this.config),this.add=new x(this.world),this.bodyBounds=new r,this.systems.events.once(L.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new W(this.scene,this.config),this.add=new x(this.world));var H=this.systems.events;H.on(L.UPDATE,this.world.update,this.world),H.on(L.POST_UPDATE,this.world.postUpdate,this.world),H.once(L.SHUTDOWN,this.shutdown,this)},getConfig:function(){var H=this.systems.game.config.physics,U=this.systems.settings.physics,X=A(S(U,"matter",{}),S(H,"matter",{}));return X},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},set60Hz:function(){return this.world.getDelta=this.world.update60Hz,this.world.autoUpdate=!0,this},set30Hz:function(){return this.world.getDelta=this.world.update30Hz,this.world.autoUpdate=!0,this},step:function(H,U){this.world.step(H,U)},containsPoint:function(H,U,X){H=this.getMatterBodies(H);var V=b.create(U,X),B=O.point(H,V);return B.length>0},intersectPoint:function(H,U,X){X=this.getMatterBodies(X);var V=b.create(H,U),B=[],z=O.point(X,V);return z.forEach(function(K){B.indexOf(K)===-1&&B.push(K)}),B},intersectRect:function(H,U,X,V,B,z){B===void 0&&(B=!1),z=this.getMatterBodies(z);var K={min:{x:H,y:U},max:{x:H+X,y:U+V}},k=[],J=O.region(z,K,B);return J.forEach(function(q){k.indexOf(q)===-1&&k.push(q)}),k},intersectRay:function(H,U,X,V,B,z){B===void 0&&(B=1),z=this.getMatterBodies(z);for(var K=[],k=O.ray(z,b.create(H,U),b.create(X,V),B),J=0;J<k.length;J++)K.push(k[J].body);return K},intersectBody:function(H,U){U=this.getMatterBodies(U);for(var X=[],V=O.collides(H,U),B=0;B<V.length;B++){var z=V[B];z.bodyA===H?X.push(z.bodyB):X.push(z.bodyA)}return X},overlap:function(H,U,X,V,B){X===void 0&&(X=null),V===void 0&&(V=null),B===void 0&&(B=X),Array.isArray(H)||(H=[H]),H=this.getMatterBodies(H),U=this.getMatterBodies(U);for(var z=!1,K=0;K<H.length;K++)for(var k=H[K],J=O.collides(k,U),q=0;q<J.length;q++){var j=J[q],Z=j.bodyA.id===k.id?j.bodyB:j.bodyA;if(!V||V.call(B,k,Z,j)){if(z=!0,X)X.call(B,k,Z,j);else if(!V)return!0}}return z},setCollisionCategory:function(H,U){return H=this.getMatterBodies(H),H.forEach(function(X){X.collisionFilter.category=U}),this},setCollisionGroup:function(H,U){return H=this.getMatterBodies(H),H.forEach(function(X){X.collisionFilter.group=U}),this},setCollidesWith:function(H,U){H=this.getMatterBodies(H);var X=0;if(!Array.isArray(U))X=U;else for(var V=0;V<U.length;V++)X|=U[V];return H.forEach(function(B){B.collisionFilter.mask=X}),this},getMatterBodies:function(H){if(!H)return this.world.getAllBodies();Array.isArray(H)||(H=[H]);for(var U=[],X=0;X<H.length;X++){var V=H[X].hasOwnProperty("body")?H[X].body:H[X];U.push(V)}return U},setVelocity:function(H,U,X){H=this.getMatterBodies(H);var V=this._tempVec2;return V.x=U,V.y=X,H.forEach(function(B){a.setVelocity(B,V)}),this},setVelocityX:function(H,U){H=this.getMatterBodies(H);var X=this._tempVec2;return X.x=U,H.forEach(function(V){X.y=V.velocity.y,a.setVelocity(V,X)}),this},setVelocityY:function(H,U){H=this.getMatterBodies(H);var X=this._tempVec2;return X.y=U,H.forEach(function(V){X.x=V.velocity.x,a.setVelocity(V,X)}),this},setAngularVelocity:function(H,U){return H=this.getMatterBodies(H),H.forEach(function(X){a.setAngularVelocity(X,U)}),this},applyForce:function(H,U){H=this.getMatterBodies(H);var X=this._tempVec2;return H.forEach(function(V){X.x=V.position.x,X.y=V.position.y,a.applyForce(V,X,U)}),this},applyForceFromPosition:function(H,U,X,V){H=this.getMatterBodies(H);var B=this._tempVec2;return H.forEach(function(z){V===void 0&&(V=z.angle),B.x=X*Math.cos(V),B.y=X*Math.sin(V),a.applyForce(z,U,B)}),this},applyForceFromAngle:function(H,U,X){H=this.getMatterBodies(H);var V=this._tempVec2;return H.forEach(function(B){X===void 0&&(X=B.angle),V.x=U*Math.cos(X),V.y=U*Math.sin(X),a.applyForce(B,{x:B.position.x,y:B.position.y},V)}),this},getConstraintLength:function(H){var U=H.pointA.x,X=H.pointA.y,V=H.pointB.x,B=H.pointB.y;return H.bodyA&&(U+=H.bodyA.position.x,X+=H.bodyA.position.y),H.bodyB&&(V+=H.bodyB.position.x,B+=H.bodyB.position.y),y(U,X,V,B)},alignBody:function(H,U,X,V){H=H.hasOwnProperty("body")?H.body:H;var B;switch(V){case h.TOP_LEFT:case h.LEFT_TOP:B=this.bodyBounds.getTopLeft(H,U,X);break;case h.TOP_CENTER:B=this.bodyBounds.getTopCenter(H,U,X);break;case h.TOP_RIGHT:case h.RIGHT_TOP:B=this.bodyBounds.getTopRight(H,U,X);break;case h.LEFT_CENTER:B=this.bodyBounds.getLeftCenter(H,U,X);break;case h.CENTER:B=this.bodyBounds.getCenter(H,U,X);break;case h.RIGHT_CENTER:B=this.bodyBounds.getRightCenter(H,U,X);break;case h.LEFT_BOTTOM:case h.BOTTOM_LEFT:B=this.bodyBounds.getBottomLeft(H,U,X);break;case h.BOTTOM_CENTER:B=this.bodyBounds.getBottomCenter(H,U,X);break;case h.BOTTOM_RIGHT:case h.RIGHT_BOTTOM:B=this.bodyBounds.getBottomRight(H,U,X);break}return B&&a.setPosition(H,B),this},shutdown:function(){var H=this.systems.events;this.world&&(H.off(L.UPDATE,this.world.update,this.world),H.off(L.POST_UPDATE,this.world.postUpdate,this.world)),H.off(L.SHUTDOWN,this.shutdown,this),this.add&&this.add.destroy(),this.world&&this.world.destroy(),this.add=null,this.world=null},destroy:function(){this.shutdown(),this.scene.sys.events.off(L.START,this.start,this),this.scene=null,this.systems=null}});I.register("MatterPhysics",Y,"matterPhysics"),f.exports=Y},34803:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(9674),g=t(83419),o=t(31884),a=t(95643),r=t(95540),i=t(72699),n=t(68287),l=t(26099),s=new g({Extends:n,Mixins:[o.Bounce,o.Collision,o.Force,o.Friction,o.Gravity,o.Mass,o.Sensor,o.SetBody,o.Sleep,o.Static,o.Transform,o.Velocity,i],initialize:function(d,c,v,y,x,S){a.call(this,d.scene,"Sprite"),this._crop=this.resetCropObject(),this.anims=new h(this),this.setTexture(y,x),this.setSizeToFrame(),this.setOrigin(),this.world=d,this._tempVec2=new l(c,v);var E=r(S,"shape",null);E?this.setBody(E,S):this.setRectangle(this.width,this.height,S),this.setPosition(c,v),this.initPipeline(),this.initPostPipeline(!0)}});f.exports=s},73834:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66280),g=t(22562),o=t(83419),a=t(31884),r=t(62644),i=t(50792),n=t(95540),l=t(97022),s=t(41598),u=new o({Extends:i,Mixins:[a.Bounce,a.Collision,a.Friction,a.Gravity,a.Mass,a.Sensor,a.Sleep,a.Static],initialize:function(c,v,y){i.call(this),this.tile=v,this.world=c,v.physics.matterBody&&v.physics.matterBody.destroy(),v.physics.matterBody=this;var x=n(y,"body",null),S=n(y,"addToWorld",!0);if(x)this.setBody(x,S);else{var E=v.getCollisionGroup(),A=n(E,"objects",[]);A.length>0?this.setFromTileCollision(y):this.setFromTileRectangle(y)}if(v.flipX||v.flipY){var R={x:v.getCenterX(),y:v.getCenterY()},w=v.flipX?-1:1,I=v.flipY?-1:1;g.scale(x,w,I,R)}},setFromTileRectangle:function(d){d===void 0&&(d={}),l(d,"isStatic")||(d.isStatic=!0),l(d,"addToWorld")||(d.addToWorld=!0);var c=this.tile.getBounds(),v=c.x+c.width/2,y=c.y+c.height/2,x=h.rectangle(v,y,c.width,c.height,d);return this.setBody(x,d.addToWorld),this},setFromTileCollision:function(d){d===void 0&&(d={}),l(d,"isStatic")||(d.isStatic=!0),l(d,"addToWorld")||(d.addToWorld=!0);for(var c=this.tile.tilemapLayer.scaleX,v=this.tile.tilemapLayer.scaleY,y=this.tile.getLeft(),x=this.tile.getTop(),S=this.tile.getCollisionGroup(),E=n(S,"objects",[]),A=[],R=0;R<E.length;R++){var w=E[R],I=y+w.x*c,O=x+w.y*v,F=w.width*c,L=w.height*v,D=null;if(w.rectangle)D=h.rectangle(I+F/2,O+L/2,F,L,d);else if(w.ellipse)D=h.circle(I+F/2,O+L/2,F/2,d);else if(w.polygon||w.polyline){var b=w.polygon?w.polygon:w.polyline,G=b.map(function(U){return{x:U.x*c,y:U.y*v}}),W=s.create(G),Y=s.centre(W);I+=Y.x,O+=Y.y,D=h.fromVertices(I,O,W,d)}D&&A.push(D)}if(A.length===1)this.setBody(A[0],d.addToWorld);else if(A.length>1){var H=r(d);H.parts=A,this.setBody(g.create(H),H.addToWorld)}return this},setBody:function(d,c){return c===void 0&&(c=!0),this.body&&this.removeBody(),this.body=d,this.body.gameObject=this,c&&this.world.add(this.body),this},removeBody:function(){return this.body&&(this.world.remove(this.body),this.body.gameObject=void 0,this.body=void 0),this},destroy:function(){this.removeBody(),this.tile.physics.matterBody=void 0,this.removeAllListeners()}});f.exports=u},19496:(f,C,t)=>{/**
 * @author       Joachim Grill <joachim@codeandweb.com>
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2018 CodeAndWeb GmbH
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66280),g=t(22562),o=t(53402),a=t(95540),r=t(41598),i={parseBody:function(n,l,s,u){u===void 0&&(u={});for(var d=a(s,"fixtures",[]),c=[],v=0;v<d.length;v++)for(var y=this.parseFixture(d[v]),x=0;x<y.length;x++)c.push(y[x]);var S=o.clone(s,!0);o.extend(S,u,!0),delete S.fixtures,delete S.type;var E=g.create(S);return g.setParts(E,c),g.setPosition(E,{x:n,y:l}),E},parseFixture:function(n){var l=o.extend({},!1,n);delete l.circle,delete l.vertices;var s;if(n.circle){var u=a(n.circle,"x"),d=a(n.circle,"y"),c=a(n.circle,"radius");s=[h.circle(u,d,c,l)]}else n.vertices&&(s=this.parseVertices(n.vertices,l));return s},parseVertices:function(n,l){l===void 0&&(l={});for(var s=[],u=0;u<n.length;u++)r.clockwiseSort(n[u]),s.push(g.create(o.extend({position:r.centre(n[u]),vertices:n[u]},l)));return h.flagCoincidentParts(s)}};f.exports=i},85791:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66280),g=t(22562),o={parseBody:function(a,r,i,n){n===void 0&&(n={});var l,s=i.vertices;if(s.length===1)n.vertices=s[0],l=g.create(n),h.flagCoincidentParts(l.parts);else{for(var u=[],d=0;d<s.length;d++){var c=g.create({vertices:s[d]});u.push(c)}h.flagCoincidentParts(u),n.parts=u,l=g.create(n)}return l.label=i.label,g.setPosition(l,{x:a,y:r}),l}};f.exports=o},98713:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(15647),g=t(83419),o=t(69351),a=t(48140),r=t(81388),i=t(1121),n=t(8214),l=t(46975),s=t(53614),u=t(26099),d=t(41598),c=new g({initialize:function(y,x,S){S===void 0&&(S={});var E={label:"Pointer Constraint",pointA:{x:0,y:0},pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,collisionFilter:{category:1,mask:4294967295,group:0}};this.scene=y,this.world=x,this.camera=null,this.pointer=null,this.active=!0,this.position=new u,this.body=null,this.part=null,this.constraint=a.create(l(S,E)),this.world.on(i.BEFORE_UPDATE,this.update,this),y.sys.input.on(n.POINTER_DOWN,this.onDown,this),y.sys.input.on(n.POINTER_UP,this.onUp,this)},onDown:function(v){this.pointer||(this.pointer=v,this.camera=v.camera)},onUp:function(v){v===this.pointer&&(this.pointer=null)},getBody:function(v){var y=this.position,x=this.constraint;this.camera.getWorldPoint(v.x,v.y,y);for(var S=o.allBodies(this.world.localWorld),E=0;E<S.length;E++){var A=S[E];if(!A.ignorePointer&&h.contains(A.bounds,y)&&r.canCollide(A.collisionFilter,x.collisionFilter)&&this.hitTestBody(A,y))return this.world.emit(i.DRAG_START,A,this.part,this),!0}return!1},hitTestBody:function(v,y){for(var x=this.constraint,S=v.parts.length,E=S>1?1:0,A=E;A<S;A++){var R=v.parts[A];if(d.contains(R.vertices,y))return x.pointA=y,x.pointB={x:y.x-v.position.x,y:y.y-v.position.y},x.bodyB=v,x.angleB=v.angle,s.set(v,!1),this.part=R,this.body=v,!0}return!1},update:function(){var v=this.pointer,y=this.body;if(!this.active||!v){y&&this.stopDrag();return}if(!v.isDown&&y){this.stopDrag();return}else if(v.isDown){if(!this.camera||!y&&!this.getBody(v))return;y=this.body;var x=this.position,S=this.constraint;this.camera.getWorldPoint(v.x,v.y,x),S.pointA.x=x.x,S.pointA.y=x.y,s.set(y,!1),this.world.emit(i.DRAG,y,this)}},stopDrag:function(){var v=this.body,y=this.constraint;y.bodyB=null,y.pointB=null,this.pointer=null,this.body=null,this.part=null,v&&this.world.emit(i.DRAG_END,v,this)},destroy:function(){this.world.removeConstraint(this.constraint),this.pointer=null,this.constraint=null,this.body=null,this.part=null,this.world.off(i.BEFORE_UPDATE,this.update),this.scene.sys.input.off(n.POINTER_DOWN,this.onDown,this),this.scene.sys.input.off(n.POINTER_UP,this.onUp,this)}});f.exports=c},68243:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66280),g=t(22562),o=t(83419),a=t(53402),r=t(69351),i=t(48413),n=t(50792),l=t(1121),s=t(95540),u=t(35154),d=t(22562),c=t(35810),v=t(73834),y=t(4372),x=t(13037),S=t(31725),E=new o({Extends:n,initialize:function(R,w){n.call(this),this.scene=R,this.engine=i.create(w),this.localWorld=this.engine.world;var I=u(w,"gravity",null);I?this.setGravity(I.x,I.y,I.scale):I===!1&&this.setGravity(0,0,0),this.walls={left:null,right:null,top:null,bottom:null},this.enabled=u(w,"enabled",!0),this.getDelta=u(w,"getDelta",this.update60Hz);var O=s(w,"runner",{}),F=s(O,"fps",!1);F&&(O.delta=1e3/s(O,"fps",60)),this.runner=x.create(O),this.autoUpdate=u(w,"autoUpdate",!0);var L=u(w,"debug",!1);if(this.drawDebug=typeof L=="object"?!0:L,this.debugGraphic,this.debugConfig={showAxes:s(L,"showAxes",!1),showAngleIndicator:s(L,"showAngleIndicator",!1),angleColor:s(L,"angleColor",15208787),showBroadphase:s(L,"showBroadphase",!1),broadphaseColor:s(L,"broadphaseColor",16757760),showBounds:s(L,"showBounds",!1),boundsColor:s(L,"boundsColor",16777215),showVelocity:s(L,"showVelocity",!1),velocityColor:s(L,"velocityColor",44783),showCollisions:s(L,"showCollisions",!1),collisionColor:s(L,"collisionColor",16094476),showSeparations:s(L,"showSeparations",!1),separationColor:s(L,"separationColor",16753920),showBody:s(L,"showBody",!0),showStaticBody:s(L,"showStaticBody",!0),showInternalEdges:s(L,"showInternalEdges",!1),renderFill:s(L,"renderFill",!1),renderLine:s(L,"renderLine",!0),fillColor:s(L,"fillColor",1075465),fillOpacity:s(L,"fillOpacity",1),lineColor:s(L,"lineColor",2678297),lineOpacity:s(L,"lineOpacity",1),lineThickness:s(L,"lineThickness",1),staticFillColor:s(L,"staticFillColor",857979),staticLineColor:s(L,"staticLineColor",1255396),showSleeping:s(L,"showSleeping",!1),staticBodySleepOpacity:s(L,"staticBodySleepOpacity",.7),sleepFillColor:s(L,"sleepFillColor",4605510),sleepLineColor:s(L,"sleepLineColor",10066585),showSensors:s(L,"showSensors",!0),sensorFillColor:s(L,"sensorFillColor",857979),sensorLineColor:s(L,"sensorLineColor",1255396),showPositions:s(L,"showPositions",!0),positionSize:s(L,"positionSize",4),positionColor:s(L,"positionColor",14697178),showJoint:s(L,"showJoint",!0),jointColor:s(L,"jointColor",14737474),jointLineOpacity:s(L,"jointLineOpacity",1),jointLineThickness:s(L,"jointLineThickness",2),pinSize:s(L,"pinSize",4),pinColor:s(L,"pinColor",4382944),springColor:s(L,"springColor",14697184),anchorColor:s(L,"anchorColor",15724527),anchorSize:s(L,"anchorSize",4),showConvexHulls:s(L,"showConvexHulls",!1),hullColor:s(L,"hullColor",14091216)},this.drawDebug&&this.createDebugGraphic(),this.setEventsProxy(),s(w,"setBounds",!1)){var D=w.setBounds;if(typeof D=="boolean")this.setBounds();else{var b=s(D,"x",0),G=s(D,"y",0),W=s(D,"width",R.sys.scale.width),Y=s(D,"height",R.sys.scale.height),H=s(D,"thickness",64),U=s(D,"left",!0),X=s(D,"right",!0),V=s(D,"top",!0),B=s(D,"bottom",!0);this.setBounds(b,G,W,Y,H,U,X,V,B)}}},setCompositeRenderStyle:function(A){var R=A.bodies,w=A.constraints,I=A.composites,O,F,L;for(O=0;O<R.length;O++)F=R[O],L=F.render,this.setBodyRenderStyle(F,L.lineColor,L.lineOpacity,L.lineThickness,L.fillColor,L.fillOpacity);for(O=0;O<w.length;O++)F=w[O],L=F.render,this.setConstraintRenderStyle(F,L.lineColor,L.lineOpacity,L.lineThickness,L.pinSize,L.anchorColor,L.anchorSize);for(O=0;O<I.length;O++)F=I[O],this.setCompositeRenderStyle(F);return this},setBodyRenderStyle:function(A,R,w,I,O,F){var L=A.render,D=this.debugConfig;return L?(R==null&&(R=A.isStatic?D.staticLineColor:D.lineColor),w==null&&(w=D.lineOpacity),I==null&&(I=D.lineThickness),O==null&&(O=A.isStatic?D.staticFillColor:D.fillColor),F==null&&(F=D.fillOpacity),R!==!1&&(L.lineColor=R),w!==!1&&(L.lineOpacity=w),I!==!1&&(L.lineThickness=I),O!==!1&&(L.fillColor=O),F!==!1&&(L.fillOpacity=F),this):this},setConstraintRenderStyle:function(A,R,w,I,O,F,L){var D=A.render,b=this.debugConfig;if(!D)return this;if(R==null){var G=D.type;G==="line"?R=b.jointColor:G==="pin"?R=b.pinColor:G==="spring"&&(R=b.springColor)}return w==null&&(w=b.jointLineOpacity),I==null&&(I=b.jointLineThickness),O==null&&(O=b.pinSize),F==null&&(F=b.anchorColor),L==null&&(L=b.anchorSize),R!==!1&&(D.lineColor=R),w!==!1&&(D.lineOpacity=w),I!==!1&&(D.lineThickness=I),O!==!1&&(D.pinSize=O),F!==!1&&(D.anchorColor=F),L!==!1&&(D.anchorSize=L),this},setEventsProxy:function(){var A=this,R=this.engine,w=this.localWorld;this.drawDebug&&(c.on(w,"compositeModified",function(I){A.setCompositeRenderStyle(I)}),c.on(w,"beforeAdd",function(I){for(var O=[].concat(I.object),F=0;F<O.length;F++){var L=O[F],D=L.render;L.type==="body"?A.setBodyRenderStyle(L,D.lineColor,D.lineOpacity,D.lineThickness,D.fillColor,D.fillOpacity):L.type==="composite"?A.setCompositeRenderStyle(L):L.type==="constraint"&&A.setConstraintRenderStyle(L,D.lineColor,D.lineOpacity,D.lineThickness,D.pinSize,D.anchorColor,D.anchorSize)}})),c.on(w,"beforeAdd",function(I){A.emit(l.BEFORE_ADD,I)}),c.on(w,"afterAdd",function(I){A.emit(l.AFTER_ADD,I)}),c.on(w,"beforeRemove",function(I){A.emit(l.BEFORE_REMOVE,I)}),c.on(w,"afterRemove",function(I){A.emit(l.AFTER_REMOVE,I)}),c.on(R,"beforeUpdate",function(I){A.emit(l.BEFORE_UPDATE,I)}),c.on(R,"afterUpdate",function(I){A.emit(l.AFTER_UPDATE,I)}),c.on(R,"collisionStart",function(I){var O=I.pairs,F,L;O.length>0&&O.map(function(D){F=D.bodyA,L=D.bodyB,F.gameObject&&F.gameObject.emit("collide",F,L,D),L.gameObject&&L.gameObject.emit("collide",L,F,D),c.trigger(F,"onCollide",{pair:D}),c.trigger(L,"onCollide",{pair:D}),F.onCollideCallback&&F.onCollideCallback(D),L.onCollideCallback&&L.onCollideCallback(D),F.onCollideWith[L.id]&&F.onCollideWith[L.id](L,D),L.onCollideWith[F.id]&&L.onCollideWith[F.id](F,D)}),A.emit(l.COLLISION_START,I,F,L)}),c.on(R,"collisionActive",function(I){var O=I.pairs,F,L;O.length>0&&O.map(function(D){F=D.bodyA,L=D.bodyB,F.gameObject&&F.gameObject.emit("collideActive",F,L,D),L.gameObject&&L.gameObject.emit("collideActive",L,F,D),c.trigger(F,"onCollideActive",{pair:D}),c.trigger(L,"onCollideActive",{pair:D}),F.onCollideActiveCallback&&F.onCollideActiveCallback(D),L.onCollideActiveCallback&&L.onCollideActiveCallback(D)}),A.emit(l.COLLISION_ACTIVE,I,F,L)}),c.on(R,"collisionEnd",function(I){var O=I.pairs,F,L;O.length>0&&O.map(function(D){F=D.bodyA,L=D.bodyB,F.gameObject&&F.gameObject.emit("collideEnd",F,L,D),L.gameObject&&L.gameObject.emit("collideEnd",L,F,D),c.trigger(F,"onCollideEnd",{pair:D}),c.trigger(L,"onCollideEnd",{pair:D}),F.onCollideEndCallback&&F.onCollideEndCallback(D),L.onCollideEndCallback&&L.onCollideEndCallback(D)}),A.emit(l.COLLISION_END,I,F,L)})},setBounds:function(A,R,w,I,O,F,L,D,b){return A===void 0&&(A=0),R===void 0&&(R=0),w===void 0&&(w=this.scene.sys.scale.width),I===void 0&&(I=this.scene.sys.scale.height),O===void 0&&(O=64),F===void 0&&(F=!0),L===void 0&&(L=!0),D===void 0&&(D=!0),b===void 0&&(b=!0),this.updateWall(F,"left",A-O,R-O,O,I+O*2),this.updateWall(L,"right",A+w,R-O,O,I+O*2),this.updateWall(D,"top",A,R-O,w,O),this.updateWall(b,"bottom",A,R+I,w,O),this},updateWall:function(A,R,w,I,O,F){var L=this.walls[R];A?(L&&y.remove(this.localWorld,L),w+=O/2,I+=F/2,this.walls[R]=this.create(w,I,O,F,{isStatic:!0,friction:0,frictionStatic:0})):(L&&y.remove(this.localWorld,L),this.walls[R]=null)},createDebugGraphic:function(){var A=this.scene.sys.add.graphics({x:0,y:0});return A.setDepth(Number.MAX_VALUE),this.debugGraphic=A,this.drawDebug=!0,A},disableGravity:function(){return this.localWorld.gravity.x=0,this.localWorld.gravity.y=0,this.localWorld.gravity.scale=0,this},setGravity:function(A,R,w){return A===void 0&&(A=0),R===void 0&&(R=1),w===void 0&&(w=.001),this.localWorld.gravity.x=A,this.localWorld.gravity.y=R,this.localWorld.gravity.scale=w,this},create:function(A,R,w,I,O){var F=h.rectangle(A,R,w,I,O);return y.add(this.localWorld,F),F},add:function(A){return y.add(this.localWorld,A),this},remove:function(A,R){Array.isArray(A)||(A=[A]);for(var w=0;w<A.length;w++){var I=A[w],O=I.body?I.body:I;r.remove(this.localWorld,O,R)}return this},removeConstraint:function(A,R){return r.remove(this.localWorld,A,R),this},convertTilemapLayer:function(A,R){var w=A.layer,I=A.getTilesWithin(0,0,w.width,w.height,{isColliding:!0});return this.convertTiles(I,R),this},convertTiles:function(A,R){if(A.length===0)return this;for(var w=0;w<A.length;w++)new v(this,A[w],R);return this},nextGroup:function(A){return d.nextGroup(A)},nextCategory:function(){return d.nextCategory()},pause:function(){return this.enabled=!1,this.emit(l.PAUSE),this},resume:function(){return this.enabled=!0,this.runner.timeLastTick=a.now(),this.emit(l.RESUME),this},update:function(A){if(!(!this.enabled||!this.autoUpdate)){var R=this.engine,w=this.runner,I=a.now(),O=w.delta,F=0,L=A-w.timeLastTick;if((!L||!w.timeLastTick||L>Math.max(x._maxFrameDelta,w.maxFrameTime))&&(L=w.frameDelta||x._frameDeltaFallback),w.frameDeltaSmoothing){w.frameDeltaHistory.push(L),w.frameDeltaHistory=w.frameDeltaHistory.slice(-w.frameDeltaHistorySize);var D=w.frameDeltaHistory.slice(0).sort(),b=w.frameDeltaHistory.slice(D.length*x._smoothingLowerBound,D.length*x._smoothingUpperBound),G=x._mean(b);L=G||L}w.frameDeltaSnapping&&(L=1e3/Math.round(1e3/L)),w.frameDelta=L,w.timeLastTick=A,w.timeBuffer+=w.frameDelta,w.timeBuffer=a.clamp(w.timeBuffer,0,w.frameDelta+O*x._timeBufferMargin),w.lastUpdatesDeferred=0;for(var W=w.maxUpdates||Math.ceil(w.maxFrameTime/O),Y=a.now();O>0&&w.timeBuffer>=O*x._timeBufferMargin;){i.update(R,O),w.timeBuffer-=O,F+=1;var H=a.now()-I,U=a.now()-Y,X=H+x._elapsedNextEstimate*U/F;if(F>=W||X>w.maxFrameTime){w.lastUpdatesDeferred=Math.round(Math.max(0,w.timeBuffer/O-x._timeBufferMargin));break}}}},step:function(A){i.update(this.engine,A)},update60Hz:function(){return 1e3/60},update30Hz:function(){return 1e3/30},has:function(A){var R=A.hasOwnProperty("body")?A.body:A;return r.get(this.localWorld,R.id,R.type)!==null},getAllBodies:function(){return r.allBodies(this.localWorld)},getAllConstraints:function(){return r.allConstraints(this.localWorld)},getAllComposites:function(){return r.allComposites(this.localWorld)},postUpdate:function(){if(this.drawDebug){var A=this.debugConfig,R=this.engine,w=this.debugGraphic,I=r.allBodies(this.localWorld);this.debugGraphic.clear(),A.showBroadphase&&R.broadphase.controller&&this.renderGrid(R.broadphase,w,A.broadphaseColor,.5),A.showBounds&&this.renderBodyBounds(I,w,A.boundsColor,.5),(A.showBody||A.showStaticBody)&&this.renderBodies(I),A.showJoint&&this.renderJoints(),(A.showAxes||A.showAngleIndicator)&&this.renderBodyAxes(I,w,A.showAxes,A.angleColor,.5),A.showVelocity&&this.renderBodyVelocity(I,w,A.velocityColor,1,2),A.showSeparations&&this.renderSeparations(R.pairs.list,w,A.separationColor),A.showCollisions&&this.renderCollisions(R.pairs.list,w,A.collisionColor)}},renderGrid:function(A,R,w,I){R.lineStyle(1,w,I);for(var O=a.keys(A.buckets),F=0;F<O.length;F++){var L=O[F];if(!(A.buckets[L].length<2)){var D=L.split(/C|R/);R.strokeRect(parseInt(D[1],10)*A.bucketWidth,parseInt(D[2],10)*A.bucketHeight,A.bucketWidth,A.bucketHeight)}}return this},renderSeparations:function(A,R,w){R.lineStyle(1,w,1);for(var I=0;I<A.length;I++){var O=A[I];if(O.isActive){var F=O.collision,L=F.bodyA,D=F.bodyB,b=L.position,G=D.position,W=F.penetration,Y=!L.isStatic&&!D.isStatic?4:1;D.isStatic&&(Y=0),R.lineBetween(G.x,G.y,G.x-W.x*Y,G.y-W.y*Y),Y=!L.isStatic&&!D.isStatic?4:1,L.isStatic&&(Y=0),R.lineBetween(b.x,b.y,b.x-W.x*Y,b.y-W.y*Y)}}return this},renderCollisions:function(A,R,w){R.lineStyle(1,w,.5),R.fillStyle(w,1);var I,O;for(I=0;I<A.length;I++)if(O=A[I],!!O.isActive)for(var F=0;F<O.contactCount;F++){var L=O.contacts[F],D=L.vertex;D&&R.fillRect(D.x-2,D.y-2,5,5)}for(I=0;I<A.length;I++)if(O=A[I],!!O.isActive){var b=O.collision,G=O.contacts;if(O.contactCount>0){var W=G[0].vertex.x,Y=G[0].vertex.y;O.contactCount===2&&(W=(G[0].vertex.x+G[1].vertex.x)/2,Y=(G[0].vertex.y+G[1].vertex.y)/2),b.bodyB===b.supports[0].body||b.bodyA.isStatic?R.lineBetween(W-b.normal.x*8,Y-b.normal.y*8,W,Y):R.lineBetween(W+b.normal.x*8,Y+b.normal.y*8,W,Y)}}return this},renderBodyBounds:function(A,R,w,I){R.lineStyle(1,w,I);for(var O=0;O<A.length;O++){var F=A[O];if(F.render.visible){var L=F.bounds;if(L)R.strokeRect(L.min.x,L.min.y,L.max.x-L.min.x,L.max.y-L.min.y);else for(var D=F.parts,b=D.length>1?1:0;b<D.length;b++){var G=D[b];R.strokeRect(G.bounds.min.x,G.bounds.min.y,G.bounds.max.x-G.bounds.min.x,G.bounds.max.y-G.bounds.min.y)}}}return this},renderBodyAxes:function(A,R,w,I,O){R.lineStyle(1,I,O);for(var F=0;F<A.length;F++){var L=A[F],D=L.parts;if(L.render.visible){var b,G,W;if(w)for(G=D.length>1?1:0;G<D.length;G++)for(b=D[G],W=0;W<b.axes.length;W++){var Y=b.axes[W];R.lineBetween(b.position.x,b.position.y,b.position.x+Y.x*20,b.position.y+Y.y*20)}else for(G=D.length>1?1:0;G<D.length;G++)for(b=D[G],W=0;W<b.axes.length;W++)R.lineBetween(b.position.x,b.position.y,(b.vertices[0].x+b.vertices[b.vertices.length-1].x)/2,(b.vertices[0].y+b.vertices[b.vertices.length-1].y)/2)}}return this},renderBodyVelocity:function(A,R,w,I,O){R.lineStyle(O,w,I);for(var F=0;F<A.length;F++){var L=A[F];L.render.visible&&R.lineBetween(L.position.x,L.position.y,L.position.x+(L.position.x-L.positionPrev.x)*2,L.position.y+(L.position.y-L.positionPrev.y)*2)}return this},renderBodies:function(A){for(var R=this.debugGraphic,w=this.debugConfig,I=w.showBody,O=w.showStaticBody,F=w.showSleeping,L=w.showInternalEdges,D=w.showConvexHulls,b=w.renderFill,G=w.renderLine,W=w.staticBodySleepOpacity,Y=w.sleepFillColor,H=w.sleepLineColor,U=w.hullColor,X=0;X<A.length;X++){var V=A[X];if(V.render.visible&&!(!O&&V.isStatic||!I&&!V.isStatic)){var B=V.render.lineColor,z=V.render.lineOpacity,K=V.render.lineThickness,k=V.render.fillColor,J=V.render.fillOpacity;F&&V.isSleeping&&(V.isStatic?(z*=W,J*=W):(B=H,k=Y)),b||(k=null),G||(B=null),this.renderBody(V,R,L,B,z,K,k,J);var q=V.parts.length;D&&q>1&&this.renderConvexHull(V,R,U,K)}}},renderBody:function(A,R,w,I,O,F,L,D){I===void 0&&(I=null),O===void 0&&(O=null),F===void 0&&(F=1),L===void 0&&(L=null),D===void 0&&(D=null);for(var b=this.debugConfig,G=b.sensorFillColor,W=b.sensorLineColor,Y=A.parts,H=Y.length,U=H>1?1:0;U<H;U++){var X=Y[U],V=X.render,B=V.opacity;if(!(!V.visible||B===0||X.isSensor&&!b.showSensors)){var z=X.circleRadius;if(R.beginPath(),X.isSensor?(L!==null&&R.fillStyle(G,D*B),I!==null&&R.lineStyle(F,W,O*B)):(L!==null&&R.fillStyle(L,D*B),I!==null&&R.lineStyle(F,I,O*B)),z)R.arc(X.position.x,X.position.y,z,0,2*Math.PI);else{var K=X.vertices,k=K.length;R.moveTo(K[0].x,K[0].y);for(var J=1;J<k;J++){var q=K[J];if(!K[J-1].isInternal||w?R.lineTo(q.x,q.y):R.moveTo(q.x,q.y),J<k&&q.isInternal&&!w){var j=(J+1)%k;R.moveTo(K[j].x,K[j].y)}}R.closePath()}L!==null&&R.fillPath(),I!==null&&R.strokePath()}}if(b.showPositions&&!A.isStatic){var Z=A.position.x,_=A.position.y,et=Math.ceil(b.positionSize/2);R.fillStyle(b.positionColor,1),R.fillRect(Z-et,_-et,b.positionSize,b.positionSize)}return this},renderConvexHull:function(A,R,w,I){I===void 0&&(I=1);var O=A.parts,F=O.length;if(F>1){var L=A.vertices;R.lineStyle(I,w),R.beginPath(),R.moveTo(L[0].x,L[0].y);for(var D=1;D<L.length;D++)R.lineTo(L[D].x,L[D].y);R.lineTo(L[0].x,L[0].y),R.strokePath()}return this},renderJoints:function(){for(var A=this.debugGraphic,R=r.allConstraints(this.localWorld),w=0;w<R.length;w++){var I=R[w].render,O=I.lineColor,F=I.lineOpacity,L=I.lineThickness,D=I.pinSize,b=I.anchorColor,G=I.anchorSize;this.renderConstraint(R[w],A,O,F,L,D,b,G)}},renderConstraint:function(A,R,w,I,O,F,L,D){var b=A.render;if(!b.visible||!A.pointA||!A.pointB)return this;R.lineStyle(O,w,I);var G=A.bodyA,W=A.bodyB,Y,H;if(G?Y=S.add(G.position,A.pointA):Y=A.pointA,b.type==="pin")R.strokeCircle(Y.x,Y.y,F);else{if(W?H=S.add(W.position,A.pointB):H=A.pointB,R.beginPath(),R.moveTo(Y.x,Y.y),b.type==="spring")for(var U=S.sub(H,Y),X=S.perp(S.normalise(U)),V=Math.ceil(a.clamp(A.length/5,12,20)),B,z=1;z<V;z+=1)B=z%2===0?1:-1,R.lineTo(Y.x+U.x*(z/V)+X.x*B*4,Y.y+U.y*(z/V)+X.y*B*4);R.lineTo(H.x,H.y)}return R.strokePath(),b.anchors&&D>0&&(R.fillStyle(L),R.fillCircle(Y.x,Y.y,D),R.fillCircle(H.x,H.y,D)),this},resetCollisionIDs:function(){return g._nextCollidingGroupId=1,g._nextNonCollidingGroupId=-1,g._nextCategory=1,this},shutdown:function(){c.off(this.engine),this.removeAllListeners(),y.clear(this.localWorld,!1),i.clear(this.engine),this.drawDebug&&this.debugGraphic.destroy()},destroy:function(){this.shutdown()}});f.exports=E},70410:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={setBounce:function(t){return this.body.restitution=t,this}};f.exports=C},66968:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={setCollisionCategory:function(t){return this.body.collisionFilter.category=t,this},setCollisionGroup:function(t){return this.body.collisionFilter.group=t,this},setCollidesWith:function(t){var h=0;if(!Array.isArray(t))h=t;else for(var g=0;g<t.length;g++)h|=t[g];return this.body.collisionFilter.mask=h,this},setOnCollide:function(t){return this.body.onCollideCallback=t,this},setOnCollideEnd:function(t){return this.body.onCollideEndCallback=t,this},setOnCollideActive:function(t){return this.body.onCollideActiveCallback=t,this},setOnCollideWith:function(t,h){Array.isArray(t)||(t=[t]);for(var g=0;g<t.length;g++){var o=t[g].hasOwnProperty("body")?t[g].body:t[g];this.body.setOnCollideWith(o,h)}return this}};f.exports=C},51607:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(22562),g={applyForce:function(o){return this._tempVec2.set(this.body.position.x,this.body.position.y),h.applyForce(this.body,this._tempVec2,o),this},applyForceFrom:function(o,a){return h.applyForce(this.body,o,a),this},thrust:function(o){var a=this.body.angle;return this._tempVec2.set(o*Math.cos(a),o*Math.sin(a)),h.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustLeft:function(o){var a=this.body.angle-Math.PI/2;return this._tempVec2.set(o*Math.cos(a),o*Math.sin(a)),h.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustRight:function(o){var a=this.body.angle+Math.PI/2;return this._tempVec2.set(o*Math.cos(a),o*Math.sin(a)),h.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustBack:function(o){var a=this.body.angle-Math.PI;return this._tempVec2.set(o*Math.cos(a),o*Math.sin(a)),h.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this}};f.exports=g},5436:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={setFriction:function(t,h,g){return this.body.friction=t,h!==void 0&&(this.body.frictionAir=h),g!==void 0&&(this.body.frictionStatic=g),this},setFrictionAir:function(t){return this.body.frictionAir=t,this},setFrictionStatic:function(t){return this.body.frictionStatic=t,this}};f.exports=C},39858:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={setIgnoreGravity:function(t){return this.body.ignoreGravity=t,this}};f.exports=C},37302:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(22562),g=t(26099),o={setMass:function(a){return h.setMass(this.body,a),this},setDensity:function(a){return h.setDensity(this.body,a),this},centerOfMass:{get:function(){return new g(this.body.centerOfMass.x,this.body.centerOfMass.y)}}};f.exports=o},39132:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={setSensor:function(t){return this.body.isSensor=t,this},isSensor:function(){return this.body.isSensor}};f.exports=C},57772:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66280),g=t(22562),o=t(43855),a=t(95540),r=t(19496),i=t(85791),n=t(41598),l={setRectangle:function(s,u,d){return this.setBody({type:"rectangle",width:s,height:u},d)},setCircle:function(s,u){return this.setBody({type:"circle",radius:s},u)},setPolygon:function(s,u,d){return this.setBody({type:"polygon",sides:u,radius:s},d)},setTrapezoid:function(s,u,d,c){return this.setBody({type:"trapezoid",width:s,height:u,slope:d},c)},setExistingBody:function(s,u){u===void 0&&(u=!0),this.body&&this.world.remove(this.body,!0),this.body=s;for(var d=0;d<s.parts.length;d++)s.parts[d].gameObject=this;var c=this;if(s.destroy=function(){c.world.remove(c.body,!0),c.body.gameObject=null},u&&(this.world.has(s)&&this.world.remove(s,!0),this.world.add(s)),this._originComponent){var v=s.render.sprite.xOffset,y=s.render.sprite.yOffset,x=s.centerOfMass.x,S=s.centerOfMass.y;if(o(x,.5)&&o(S,.5))this.setOrigin(v+.5,y+.5);else{var E=s.centerOffset.x,A=s.centerOffset.y;this.setOrigin(v+E/this.displayWidth,y+A/this.displayHeight)}}return this},setBody:function(s,u){if(!s)return this;var d;typeof s=="string"&&(s={type:s});var c=a(s,"type","rectangle"),v=a(s,"x",this._tempVec2.x),y=a(s,"y",this._tempVec2.y),x=a(s,"width",this.width),S=a(s,"height",this.height);switch(c){case"rectangle":d=h.rectangle(v,y,x,S,u);break;case"circle":var E=a(s,"radius",Math.max(x,S)/2),A=a(s,"maxSides",25);d=h.circle(v,y,E,u,A);break;case"trapezoid":var R=a(s,"slope",.5);d=h.trapezoid(v,y,x,S,R,u);break;case"polygon":var w=a(s,"sides",5),I=a(s,"radius",Math.max(x,S)/2);d=h.polygon(v,y,w,I,u);break;case"fromVertices":case"fromVerts":var O=a(s,"verts",null);if(O)if(typeof O=="string"&&(O=n.fromPath(O)),this.body&&!this.body.hasOwnProperty("temp"))g.setVertices(this.body,O),d=this.body;else{var F=a(s,"flagInternal",!1),L=a(s,"removeCollinear",.01),D=a(s,"minimumArea",10);d=h.fromVertices(v,y,O,u,F,L,D)}break;case"fromPhysicsEditor":d=r.parseBody(v,y,s,u);break;case"fromPhysicsTracer":d=i.parseBody(v,y,s,u);break}return d&&this.setExistingBody(d,s.addToWorld),this}};f.exports=l},38083:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(1121),g=t(53614),o=t(35810),a={setToSleep:function(){return g.set(this.body,!0),this},setAwake:function(){return g.set(this.body,!1),this},setSleepThreshold:function(r){return r===void 0&&(r=60),this.body.sleepThreshold=r,this},setSleepEvents:function(r,i){return this.setSleepStartEvent(r),this.setSleepEndEvent(i),this},setSleepStartEvent:function(r){if(r){var i=this.world;o.on(this.body,"sleepStart",function(n){i.emit(h.SLEEP_START,n,this)})}else o.off(this.body,"sleepStart");return this},setSleepEndEvent:function(r){if(r){var i=this.world;o.on(this.body,"sleepEnd",function(n){i.emit(h.SLEEP_END,n,this)})}else o.off(this.body,"sleepEnd");return this}};f.exports=a},90556:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(22562),g={setStatic:function(o){return h.setStatic(this.body,o),this},isStatic:function(){return this.body.isStatic}};f.exports=g},85436:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(22562),g=t(36383),o=t(86554),a=t(30954),r=4,i={x:{get:function(){return this.body.position.x},set:function(n){this._tempVec2.set(n,this.y),h.setPosition(this.body,this._tempVec2)}},y:{get:function(){return this.body.position.y},set:function(n){this._tempVec2.set(this.x,n),h.setPosition(this.body,this._tempVec2)}},scale:{get:function(){return(this._scaleX+this._scaleY)/2},set:function(n){this.setScale(n,n)}},scaleX:{get:function(){return this._scaleX},set:function(n){var l=1/this._scaleX,s=1/this._scaleY;this._scaleX=n,this._scaleX===0?this.renderFlags&=-5:this.renderFlags|=r,h.scale(this.body,l,s),h.scale(this.body,n,this._scaleY)}},scaleY:{get:function(){return this._scaleY},set:function(n){var l=1/this._scaleX,s=1/this._scaleY;this._scaleY=n,this._scaleY===0?this.renderFlags&=-5:this.renderFlags|=r,h.scale(this.body,l,s),h.scale(this.body,this._scaleX,n)}},angle:{get:function(){return a(this.body.angle*g.RAD_TO_DEG)},set:function(n){this.rotation=a(n)*g.DEG_TO_RAD}},rotation:{get:function(){return this.body.angle},set:function(n){this._rotation=o(n),h.setAngle(this.body,this._rotation)}},setPosition:function(n,l){return n===void 0&&(n=0),l===void 0&&(l=n),this._tempVec2.set(n,l),h.setPosition(this.body,this._tempVec2),this},setRotation:function(n){return n===void 0&&(n=0),this._rotation=o(n),h.setAngle(this.body,n),this},setFixedRotation:function(){return h.setInertia(this.body,1/0),this},setAngle:function(n){return n===void 0&&(n=0),this.angle=n,h.setAngle(this.body,this.rotation),this},setScale:function(n,l,s){n===void 0&&(n=1),l===void 0&&(l=n);var u=1/this._scaleX,d=1/this._scaleY;return this._scaleX=n,this._scaleY=l,h.scale(this.body,u,d,s),h.scale(this.body,n,l,s),this}};f.exports=i},42081:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(22562),g={setVelocityX:function(o){return this._tempVec2.set(o,this.body.velocity.y),h.setVelocity(this.body,this._tempVec2),this},setVelocityY:function(o){return this._tempVec2.set(this.body.velocity.x,o),h.setVelocity(this.body,this._tempVec2),this},setVelocity:function(o,a){return this._tempVec2.set(o,a),h.setVelocity(this.body,this._tempVec2),this},getVelocity:function(){return h.getVelocity(this.body)},setAngularVelocity:function(o){return h.setAngularVelocity(this.body,o),this},getAngularVelocity:function(){return h.getAngularVelocity(this.body)},setAngularSpeed:function(o){return h.setAngularSpeed(this.body,o),this},getAngularSpeed:function(){return h.getAngularSpeed(this.body)}};f.exports=g},31884:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={Bounce:t(70410),Collision:t(66968),Force:t(51607),Friction:t(5436),Gravity:t(39858),Mass:t(37302),Sensor:t(39132),SetBody:t(57772),Sleep:t(38083),Static:t(90556),Transform:t(85436),Velocity:t(42081)}},85608:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="afteradd"},1213:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="afterremove"},25968:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="afterupdate"},67205:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="beforeadd"},39438:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="beforeremove"},44823:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="beforeupdate"},92593:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="collisionactive"},60128:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="collisionend"},76861:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="collisionstart"},92362:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="dragend"},76408:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="drag"},93971:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="dragstart"},5656:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="pause"},47861:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="resume"},79099:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="sleepend"},35906:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="sleepstart"},1121:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={AFTER_ADD:t(85608),AFTER_REMOVE:t(1213),AFTER_UPDATE:t(25968),BEFORE_ADD:t(67205),BEFORE_REMOVE:t(39438),BEFORE_UPDATE:t(44823),COLLISION_ACTIVE:t(92593),COLLISION_END:t(60128),COLLISION_START:t(76861),DRAG_END:t(92362),DRAG:t(76408),DRAG_START:t(93971),PAUSE:t(5656),RESUME:t(47861),SLEEP_END:t(79099),SLEEP_START:t(35906)}},3875:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={BodyBounds:t(68174),Components:t(31884),Events:t(1121),Factory:t(28137),MatterGameObject:t(75803),Image:t(23181),Matter:t(19933),MatterPhysics:t(42045),PolyDecomp:t(55973),Sprite:t(34803),TileBody:t(73834),PhysicsEditorParser:t(19496),PhysicsJSONParser:t(85791),PointerConstraint:t(98713),World:t(68243)}},22562:(f,C,t)=>{var h={};f.exports=h;var g=t(41598),o=t(31725),a=t(53614),r=t(53402),i=t(15647),n=t(66615);(function(){h._timeCorrection=!0,h._inertiaScale=4,h._nextCollidingGroupId=1,h._nextNonCollidingGroupId=-1,h._nextCategory=1,h._baseDelta=16.666666666666668,h.create=function(s){var u={id:r.nextId(),type:"body",label:"Body",parts:[],plugin:{},attractors:s.attractors||[],wrapBounds:null,angle:0,vertices:null,position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inverseMass:0,inertia:0,deltaTime:16.666666666666668,inverseInertia:0,_original:null,render:{visible:!0,opacity:1,sprite:{xOffset:0,yOffset:0},fillColor:null,fillOpacity:null,lineColor:null,lineOpacity:null,lineThickness:null},gameObject:null,scale:{x:1,y:1},centerOfMass:{x:0,y:0},centerOffset:{x:0,y:0},gravityScale:{x:1,y:1},ignoreGravity:!1,ignorePointer:!1,onCollideCallback:null,onCollideEndCallback:null,onCollideActiveCallback:null,onCollideWith:{}};!s.hasOwnProperty("position")&&s.hasOwnProperty("vertices")?s.position=g.centre(s.vertices):s.hasOwnProperty("vertices")||(u.vertices=g.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"));var d=r.extend(u,s);return l(d,s),d.setOnCollideWith=function(c,v){return v?this.onCollideWith[c.id]=v:delete this.onCollideWith[c.id],this},d},h.nextGroup=function(s){return s?h._nextNonCollidingGroupId--:h._nextCollidingGroupId++},h.nextCategory=function(){return h._nextCategory=h._nextCategory<<1,h._nextCategory};var l=function(s,u){if(u=u||{},h.set(s,{bounds:s.bounds||i.create(s.vertices),positionPrev:s.positionPrev||o.clone(s.position),anglePrev:s.anglePrev||s.angle,vertices:s.vertices,parts:s.parts||[s],isStatic:s.isStatic,isSleeping:s.isSleeping,parent:s.parent||s}),g.rotate(s.vertices,s.angle,s.position),n.rotate(s.axes,s.angle),i.update(s.bounds,s.vertices,s.velocity),h.set(s,{axes:u.axes||s.axes,area:u.area||s.area,mass:u.mass||s.mass,inertia:u.inertia||s.inertia}),s.parts.length===1){var d=s.bounds,c=s.centerOfMass,v=s.centerOffset,y=d.max.x-d.min.x,x=d.max.y-d.min.y;c.x=-(d.min.x-s.position.x)/y,c.y=-(d.min.y-s.position.y)/x,v.x=y*c.x,v.y=x*c.y}};h.set=function(s,u,d){var c;typeof u=="string"&&(c=u,u={},u[c]=d);for(c in u)if(Object.prototype.hasOwnProperty.call(u,c))switch(d=u[c],c){case"isStatic":h.setStatic(s,d);break;case"isSleeping":a.set(s,d);break;case"mass":h.setMass(s,d);break;case"density":h.setDensity(s,d);break;case"inertia":h.setInertia(s,d);break;case"vertices":h.setVertices(s,d);break;case"position":h.setPosition(s,d);break;case"angle":h.setAngle(s,d);break;case"velocity":h.setVelocity(s,d);break;case"angularVelocity":h.setAngularVelocity(s,d);break;case"speed":h.setSpeed(s,d);break;case"angularSpeed":h.setAngularSpeed(s,d);break;case"parts":h.setParts(s,d);break;case"centre":h.setCentre(s,d);break;default:s[c]=d}},h.setStatic=function(s,u){for(var d=0;d<s.parts.length;d++){var c=s.parts[d];u?(c.isStatic||(c._original={restitution:c.restitution,friction:c.friction,mass:c.mass,inertia:c.inertia,density:c.density,inverseMass:c.inverseMass,inverseInertia:c.inverseInertia}),c.restitution=0,c.friction=1,c.mass=c.inertia=c.density=1/0,c.inverseMass=c.inverseInertia=0,c.positionPrev.x=c.position.x,c.positionPrev.y=c.position.y,c.anglePrev=c.angle,c.angularVelocity=0,c.speed=0,c.angularSpeed=0,c.motion=0):c._original&&(c.restitution=c._original.restitution,c.friction=c._original.friction,c.mass=c._original.mass,c.inertia=c._original.inertia,c.density=c._original.density,c.inverseMass=c._original.inverseMass,c.inverseInertia=c._original.inverseInertia,c._original=null),c.isStatic=u}},h.setMass=function(s,u){var d=s.inertia/(s.mass/6);s.inertia=d*(u/6),s.inverseInertia=1/s.inertia,s.mass=u,s.inverseMass=1/s.mass,s.density=s.mass/s.area},h.setDensity=function(s,u){h.setMass(s,u*s.area),s.density=u},h.setInertia=function(s,u){s.inertia=u,s.inverseInertia=1/s.inertia},h.setVertices=function(s,u){u[0].body===s?s.vertices=u:s.vertices=g.create(u,s),s.axes=n.fromVertices(s.vertices),s.area=g.area(s.vertices),h.setMass(s,s.density*s.area);var d=g.centre(s.vertices);g.translate(s.vertices,d,-1),h.setInertia(s,h._inertiaScale*g.inertia(s.vertices,s.mass)),g.translate(s.vertices,s.position),i.update(s.bounds,s.vertices,s.velocity)},h.setParts=function(s,u,d){var c;for(u=u.slice(0),s.parts.length=0,s.parts.push(s),s.parent=s,c=0;c<u.length;c++){var v=u[c];v!==s&&(v.parent=s,s.parts.push(v))}if(s.parts.length!==1){if(d=typeof d<"u"?d:!0,d){var y=[];for(c=0;c<u.length;c++)y=y.concat(u[c].vertices);g.clockwiseSort(y);var x=g.hull(y),S=g.centre(x);h.setVertices(s,x),g.translate(s.vertices,S)}var E=h._totalProperties(s),A=E.centre.x,R=E.centre.y,w=s.bounds,I=s.centerOfMass,O=s.centerOffset;i.update(w,s.vertices,s.velocity),I.x=-(w.min.x-A)/(w.max.x-w.min.x),I.y=-(w.min.y-R)/(w.max.y-w.min.y),O.x=A,O.y=R,s.area=E.area,s.parent=s,s.position.x=A,s.position.y=R,s.positionPrev.x=A,s.positionPrev.y=R,h.setMass(s,E.mass),h.setInertia(s,E.inertia),h.setPosition(s,E.centre)}},h.setCentre=function(s,u,d){d?(s.positionPrev.x+=u.x,s.positionPrev.y+=u.y,s.position.x+=u.x,s.position.y+=u.y):(s.positionPrev.x=u.x-(s.position.x-s.positionPrev.x),s.positionPrev.y=u.y-(s.position.y-s.positionPrev.y),s.position.x=u.x,s.position.y=u.y)},h.setPosition=function(s,u,d){var c=o.sub(u,s.position);d?(s.positionPrev.x=s.position.x,s.positionPrev.y=s.position.y,s.velocity.x=c.x,s.velocity.y=c.y,s.speed=o.magnitude(c)):(s.positionPrev.x+=c.x,s.positionPrev.y+=c.y);for(var v=0;v<s.parts.length;v++){var y=s.parts[v];y.position.x+=c.x,y.position.y+=c.y,g.translate(y.vertices,c),i.update(y.bounds,y.vertices,s.velocity)}},h.setAngle=function(s,u,d){var c=u-s.angle;d?(s.anglePrev=s.angle,s.angularVelocity=c,s.angularSpeed=Math.abs(c)):s.anglePrev+=c;for(var v=0;v<s.parts.length;v++){var y=s.parts[v];y.angle+=c,g.rotate(y.vertices,c,s.position),n.rotate(y.axes,c),i.update(y.bounds,y.vertices,s.velocity),v>0&&o.rotateAbout(y.position,c,s.position,y.position)}},h.setVelocity=function(s,u){var d=s.deltaTime/h._baseDelta;s.positionPrev.x=s.position.x-u.x*d,s.positionPrev.y=s.position.y-u.y*d,s.velocity.x=(s.position.x-s.positionPrev.x)/d,s.velocity.y=(s.position.y-s.positionPrev.y)/d,s.speed=o.magnitude(s.velocity)},h.getVelocity=function(s){var u=h._baseDelta/s.deltaTime;return{x:(s.position.x-s.positionPrev.x)*u,y:(s.position.y-s.positionPrev.y)*u}},h.getSpeed=function(s){return o.magnitude(h.getVelocity(s))},h.setSpeed=function(s,u){h.setVelocity(s,o.mult(o.normalise(h.getVelocity(s)),u))},h.setAngularVelocity=function(s,u){var d=s.deltaTime/h._baseDelta;s.anglePrev=s.angle-u*d,s.angularVelocity=(s.angle-s.anglePrev)/d,s.angularSpeed=Math.abs(s.angularVelocity)},h.getAngularVelocity=function(s){return(s.angle-s.anglePrev)*h._baseDelta/s.deltaTime},h.getAngularSpeed=function(s){return Math.abs(h.getAngularVelocity(s))},h.setAngularSpeed=function(s,u){h.setAngularVelocity(s,r.sign(h.getAngularVelocity(s))*u)},h.translate=function(s,u,d){h.setPosition(s,o.add(s.position,u),d)},h.rotate=function(s,u,d,c){if(!d)h.setAngle(s,s.angle+u,c);else{var v=Math.cos(u),y=Math.sin(u),x=s.position.x-d.x,S=s.position.y-d.y;h.setPosition(s,{x:d.x+(x*v-S*y),y:d.y+(x*y+S*v)},c),h.setAngle(s,s.angle+u,c)}},h.scale=function(s,u,d,c){var v=0,y=0;c=c||s.position;for(var x=s.inertia===1/0,S=0;S<s.parts.length;S++){var E=s.parts[S];E.scale.x=u,E.scale.y=d,g.scale(E.vertices,u,d,c),E.axes=n.fromVertices(E.vertices),E.area=g.area(E.vertices),h.setMass(E,s.density*E.area),g.translate(E.vertices,{x:-E.position.x,y:-E.position.y}),h.setInertia(E,h._inertiaScale*g.inertia(E.vertices,E.mass)),g.translate(E.vertices,{x:E.position.x,y:E.position.y}),S>0&&(v+=E.area,y+=E.inertia),E.position.x=c.x+(E.position.x-c.x)*u,E.position.y=c.y+(E.position.y-c.y)*d,i.update(E.bounds,E.vertices,s.velocity)}s.parts.length>1&&(s.area=v,s.isStatic||(h.setMass(s,s.density*v),h.setInertia(s,y))),s.circleRadius&&(u===d?s.circleRadius*=u:s.circleRadius=null),x&&h.setInertia(s,1/0)},h.update=function(s,u){u=(typeof u<"u"?u:16.666666666666668)*s.timeScale;var d=u*u,c=h._timeCorrection?u/(s.deltaTime||u):1,v=1-s.frictionAir*(u/r._baseDelta),y=(s.position.x-s.positionPrev.x)*c,x=(s.position.y-s.positionPrev.y)*c;s.velocity.x=y*v+s.force.x/s.mass*d,s.velocity.y=x*v+s.force.y/s.mass*d,s.positionPrev.x=s.position.x,s.positionPrev.y=s.position.y,s.position.x+=s.velocity.x,s.position.y+=s.velocity.y,s.deltaTime=u,s.angularVelocity=(s.angle-s.anglePrev)*v*c+s.torque/s.inertia*d,s.anglePrev=s.angle,s.angle+=s.angularVelocity,s.speed=o.magnitude(s.velocity),s.angularSpeed=Math.abs(s.angularVelocity);for(var S=0;S<s.parts.length;S++){var E=s.parts[S];g.translate(E.vertices,s.velocity),S>0&&(E.position.x+=s.velocity.x,E.position.y+=s.velocity.y),s.angularVelocity!==0&&(g.rotate(E.vertices,s.angularVelocity,s.position),n.rotate(E.axes,s.angularVelocity),S>0&&o.rotateAbout(E.position,s.angularVelocity,s.position,E.position)),i.update(E.bounds,E.vertices,s.velocity)}},h.updateVelocities=function(s){var u=h._baseDelta/s.deltaTime,d=s.velocity;d.x=(s.position.x-s.positionPrev.x)*u,d.y=(s.position.y-s.positionPrev.y)*u,s.speed=Math.sqrt(d.x*d.x+d.y*d.y),s.angularVelocity=(s.angle-s.anglePrev)*u,s.angularSpeed=Math.abs(s.angularVelocity)},h.applyForce=function(s,u,d){var c={x:u.x-s.position.x,y:u.y-s.position.y};s.force.x+=d.x,s.force.y+=d.y,s.torque+=c.x*d.y-c.y*d.x},h._totalProperties=function(s){for(var u={mass:0,area:0,inertia:0,centre:{x:0,y:0}},d=s.parts.length===1?0:1;d<s.parts.length;d++){var c=s.parts[d],v=c.mass!==1/0?c.mass:1;u.mass+=v,u.area+=c.area,u.inertia+=c.inertia,u.centre=o.add(u.centre,o.mult(c.position,v))}return u.centre=o.div(u.centre,u.mass),u},h.wrap=function(s,u){var d=i.wrap(s.bounds,u);return d&&h.translate(s,d),d}})()},69351:(f,C,t)=>{var h={};f.exports=h;var g=t(35810),o=t(53402),a=t(15647),r=t(22562);(function(){h.create=function(i){return o.extend({id:o.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},wrapBounds:null,cache:{allBodies:null,allConstraints:null,allComposites:null}},i)},h.setModified=function(i,n,l,s){if(g.trigger(i,"compositeModified",i),i.isModified=n,n&&i.cache&&(i.cache.allBodies=null,i.cache.allConstraints=null,i.cache.allComposites=null),l&&i.parent&&h.setModified(i.parent,n,l,s),s)for(var u=0;u<i.composites.length;u++){var d=i.composites[u];h.setModified(d,n,l,s)}},h.add=function(i,n){var l=[].concat(n);g.trigger(i,"beforeAdd",{object:n});for(var s=0;s<l.length;s++){var u=l[s];switch(u.type){case"body":if(u.parent!==u){o.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}h.addBody(i,u);break;case"constraint":h.addConstraint(i,u);break;case"composite":h.addComposite(i,u);break;case"mouseConstraint":h.addConstraint(i,u.constraint);break}}return g.trigger(i,"afterAdd",{object:n}),i},h.remove=function(i,n,l){var s=[].concat(n);g.trigger(i,"beforeRemove",{object:n});for(var u=0;u<s.length;u++){var d=s[u];switch(d.type){case"body":h.removeBody(i,d,l);break;case"constraint":h.removeConstraint(i,d,l);break;case"composite":h.removeComposite(i,d,l);break;case"mouseConstraint":h.removeConstraint(i,d.constraint);break}}return g.trigger(i,"afterRemove",{object:n}),i},h.addComposite=function(i,n){return i.composites.push(n),n.parent=i,h.setModified(i,!0,!0,!1),i},h.removeComposite=function(i,n,l){var s=o.indexOf(i.composites,n);if(s!==-1){var u=h.allBodies(n);h.removeCompositeAt(i,s);for(var d=0;d<u.length;d++)u[d].sleepCounter=0}if(l)for(var d=0;d<i.composites.length;d++)h.removeComposite(i.composites[d],n,!0);return i},h.removeCompositeAt=function(i,n){return i.composites.splice(n,1),h.setModified(i,!0,!0,!1),i},h.addBody=function(i,n){return i.bodies.push(n),h.setModified(i,!0,!0,!1),i},h.removeBody=function(i,n,l){var s=o.indexOf(i.bodies,n);if(s!==-1&&(h.removeBodyAt(i,s),n.sleepCounter=0),l)for(var u=0;u<i.composites.length;u++)h.removeBody(i.composites[u],n,!0);return i},h.removeBodyAt=function(i,n){return i.bodies.splice(n,1),h.setModified(i,!0,!0,!1),i},h.addConstraint=function(i,n){return i.constraints.push(n),h.setModified(i,!0,!0,!1),i},h.removeConstraint=function(i,n,l){var s=o.indexOf(i.constraints,n);if(s!==-1&&h.removeConstraintAt(i,s),l)for(var u=0;u<i.composites.length;u++)h.removeConstraint(i.composites[u],n,!0);return i},h.removeConstraintAt=function(i,n){return i.constraints.splice(n,1),h.setModified(i,!0,!0,!1),i},h.clear=function(i,n,l){if(l)for(var s=0;s<i.composites.length;s++)h.clear(i.composites[s],n,!0);return n?i.bodies=i.bodies.filter(function(u){return u.isStatic}):i.bodies.length=0,i.constraints.length=0,i.composites.length=0,h.setModified(i,!0,!0,!1),i},h.allBodies=function(i){if(i.cache&&i.cache.allBodies)return i.cache.allBodies;for(var n=[].concat(i.bodies),l=0;l<i.composites.length;l++)n=n.concat(h.allBodies(i.composites[l]));return i.cache&&(i.cache.allBodies=n),n},h.allConstraints=function(i){if(i.cache&&i.cache.allConstraints)return i.cache.allConstraints;for(var n=[].concat(i.constraints),l=0;l<i.composites.length;l++)n=n.concat(h.allConstraints(i.composites[l]));return i.cache&&(i.cache.allConstraints=n),n},h.allComposites=function(i){if(i.cache&&i.cache.allComposites)return i.cache.allComposites;for(var n=[].concat(i.composites),l=0;l<i.composites.length;l++)n=n.concat(h.allComposites(i.composites[l]));return i.cache&&(i.cache.allComposites=n),n},h.get=function(i,n,l){var s,u;switch(l){case"body":s=h.allBodies(i);break;case"constraint":s=h.allConstraints(i);break;case"composite":s=h.allComposites(i).concat(i);break}return s?(u=s.filter(function(d){return d.id.toString()===n.toString()}),u.length===0?null:u[0]):null},h.move=function(i,n,l){return h.remove(i,n),h.add(l,n),i},h.rebase=function(i){for(var n=h.allBodies(i).concat(h.allConstraints(i)).concat(h.allComposites(i)),l=0;l<n.length;l++)n[l].id=o.nextId();return i},h.translate=function(i,n,l){for(var s=l?h.allBodies(i):i.bodies,u=0;u<s.length;u++)r.translate(s[u],n);return i},h.rotate=function(i,n,l,s){for(var u=Math.cos(n),d=Math.sin(n),c=s?h.allBodies(i):i.bodies,v=0;v<c.length;v++){var y=c[v],x=y.position.x-l.x,S=y.position.y-l.y;r.setPosition(y,{x:l.x+(x*u-S*d),y:l.y+(x*d+S*u)}),r.rotate(y,n)}return i},h.scale=function(i,n,l,s,u){for(var d=u?h.allBodies(i):i.bodies,c=0;c<d.length;c++){var v=d[c],y=v.position.x-s.x,x=v.position.y-s.y;r.setPosition(v,{x:s.x+y*n,y:s.y+x*l}),r.scale(v,n,l)}return i},h.bounds=function(i){for(var n=h.allBodies(i),l=[],s=0;s<n.length;s+=1){var u=n[s];l.push(u.bounds.min,u.bounds.max)}return a.create(l)},h.wrap=function(i,n){var l=a.wrap(h.bounds(i),n);return l&&h.translate(i,l),l}})()},4372:(f,C,t)=>{var h={};f.exports=h;var g=t(69351);(function(){h.create=g.create,h.add=g.add,h.remove=g.remove,h.clear=g.clear,h.addComposite=g.addComposite,h.addBody=g.addBody,h.addConstraint=g.addConstraint})()},52284:(f,C,t)=>{var h={};f.exports=h;var g=t(41598),o=t(4506);(function(){var a=[],r={overlap:0,axis:null},i={overlap:0,axis:null};h.create=function(n,l){return{pair:null,collided:!1,bodyA:n,bodyB:l,parentA:n.parent,parentB:l.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[null,null],supportCount:0}},h.collides=function(n,l,s){if(h._overlapAxes(r,n.vertices,l.vertices,n.axes),r.overlap<=0||(h._overlapAxes(i,l.vertices,n.vertices,l.axes),i.overlap<=0))return null;var u=s&&s.table[o.id(n,l)],d;u?d=u.collision:(d=h.create(n,l),d.collided=!0,d.bodyA=n.id<l.id?n:l,d.bodyB=n.id<l.id?l:n,d.parentA=d.bodyA.parent,d.parentB=d.bodyB.parent),n=d.bodyA,l=d.bodyB;var c;r.overlap<i.overlap?c=r:c=i;var v=d.normal,y=d.tangent,x=d.penetration,S=d.supports,E=c.overlap,A=c.axis,R=A.x,w=A.y,I=l.position.x-n.position.x,O=l.position.y-n.position.y;R*I+w*O>=0&&(R=-R,w=-w),v.x=R,v.y=w,y.x=-w,y.y=R,x.x=R*E,x.y=w*E,d.depth=E;var F=h._findSupports(n,l,v,1),L=0;if(g.contains(n.vertices,F[0])&&(S[L++]=F[0]),g.contains(n.vertices,F[1])&&(S[L++]=F[1]),L<2){var D=h._findSupports(l,n,v,-1);g.contains(l.vertices,D[0])&&(S[L++]=D[0]),L<2&&g.contains(l.vertices,D[1])&&(S[L++]=D[1])}return L===0&&(S[L++]=F[0]),d.supportCount=L,d},h._overlapAxes=function(n,l,s,u){var d=l.length,c=s.length,v=l[0].x,y=l[0].y,x=s[0].x,S=s[0].y,E=u.length,A=Number.MAX_VALUE,R=0,w,I,O,F,L,D;for(L=0;L<E;L++){var b=u[L],G=b.x,W=b.y,Y=v*G+y*W,H=x*G+S*W,U=Y,X=H;for(D=1;D<d;D+=1)F=l[D].x*G+l[D].y*W,F>U?U=F:F<Y&&(Y=F);for(D=1;D<c;D+=1)F=s[D].x*G+s[D].y*W,F>X?X=F:F<H&&(H=F);if(I=U-H,O=X-Y,w=I<O?I:O,w<A&&(A=w,R=L,w<=0))break}n.axis=u[R],n.overlap=A},h._findSupports=function(n,l,s,u){var d=l.vertices,c=d.length,v=n.position.x,y=n.position.y,x=s.x*u,S=s.y*u,E=d[0],A=E,R=x*(v-A.x)+S*(y-A.y),w,I,O;for(O=1;O<c;O+=1)A=d[O],I=x*(v-A.x)+S*(y-A.y),I<R&&(R=I,E=A);return w=d[(c+E.index-1)%c],R=x*(v-w.x)+S*(y-w.y),A=d[(E.index+1)%c],x*(v-A.x)+S*(y-A.y)<R?(a[0]=E,a[1]=A,a):(a[0]=E,a[1]=w,a)}})()},43424:f=>{var C={};f.exports=C,function(){C.create=function(t){return{vertex:t,normalImpulse:0,tangentImpulse:0}}}()},81388:(f,C,t)=>{var h={};f.exports=h;var g=t(53402),o=t(52284);(function(){h.create=function(a){var r={bodies:[],collisions:[],pairs:null};return g.extend(r,a)},h.setBodies=function(a,r){a.bodies=r.slice(0)},h.clear=function(a){a.bodies=[],a.collisions=[]},h.collisions=function(a){var r=a.pairs,i=a.bodies,n=i.length,l=h.canCollide,s=o.collides,u=a.collisions,d=0,c,v;for(i.sort(h._compareBoundsX),c=0;c<n;c++){var y=i[c],x=y.bounds,S=y.bounds.max.x,E=y.bounds.max.y,A=y.bounds.min.y,R=y.isStatic||y.isSleeping,w=y.parts.length,I=w===1;for(v=c+1;v<n;v++){var O=i[v],F=O.bounds;if(F.min.x>S)break;if(!(E<F.min.y||A>F.max.y)&&!(R&&(O.isStatic||O.isSleeping))&&l(y.collisionFilter,O.collisionFilter)){var L=O.parts.length;if(I&&L===1){var D=s(y,O,r);D&&(u[d++]=D)}else for(var b=w>1?1:0,G=L>1?1:0,W=b;W<w;W++)for(var Y=y.parts[W],x=Y.bounds,H=G;H<L;H++){var U=O.parts[H],F=U.bounds;if(!(x.min.x>F.max.x||x.max.x<F.min.x||x.max.y<F.min.y||x.min.y>F.max.y)){var D=s(Y,U,r);D&&(u[d++]=D)}}}}}return u.length!==d&&(u.length=d),u},h.canCollide=function(a,r){return a.group===r.group&&a.group!==0?a.group>0:(a.mask&r.category)!==0&&(r.mask&a.category)!==0},h._compareBoundsX=function(a,r){return a.bounds.min.x-r.bounds.min.x}})()},4506:(f,C,t)=>{var h={};f.exports=h;var g=t(43424);(function(){h.create=function(o,a){var r=o.bodyA,i=o.bodyB,n={id:h.id(r,i),bodyA:r,bodyB:i,collision:o,contacts:[g.create(),g.create()],contactCount:0,separation:0,isActive:!0,isSensor:r.isSensor||i.isSensor,timeCreated:a,timeUpdated:a,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return h.update(n,o,a),n},h.update=function(o,a,r){var i=a.supports,n=a.supportCount,l=o.contacts,s=a.parentA,u=a.parentB;o.isActive=!0,o.timeUpdated=r,o.collision=a,o.separation=a.depth,o.inverseMass=s.inverseMass+u.inverseMass,o.friction=s.friction<u.friction?s.friction:u.friction,o.frictionStatic=s.frictionStatic>u.frictionStatic?s.frictionStatic:u.frictionStatic,o.restitution=s.restitution>u.restitution?s.restitution:u.restitution,o.slop=s.slop>u.slop?s.slop:u.slop,o.contactCount=n,a.pair=o;var d=i[0],c=l[0],v=i[1],y=l[1];(y.vertex===d||c.vertex===v)&&(l[1]=c,l[0]=c=y,y=l[1]),c.vertex=d,y.vertex=v},h.setActive=function(o,a,r){a?(o.isActive=!0,o.timeUpdated=r):(o.isActive=!1,o.contactCount=0)},h.id=function(o,a){return o.id<a.id?o.id.toString(36)+":"+a.id.toString(36):a.id.toString(36)+":"+o.id.toString(36)}})()},99561:(f,C,t)=>{var h={};f.exports=h;var g=t(4506),o=t(53402);(function(){h.create=function(a){return o.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},a)},h.update=function(a,r,i){var n=g.update,l=g.create,s=g.setActive,u=a.table,d=a.list,c=d.length,v=c,y=a.collisionStart,x=a.collisionEnd,S=a.collisionActive,E=r.length,A=0,R=0,w=0,I,O,F;for(F=0;F<E;F++)I=r[F],O=I.pair,O?(O.isActive&&(S[w++]=O),n(O,I,i)):(O=l(I,i),u[O.id]=O,y[A++]=O,d[v++]=O);for(v=0,c=d.length,F=0;F<c;F++)O=d[F],O.timeUpdated>=i?d[v++]=O:(s(O,!1,i),O.collision.bodyA.sleepCounter>0&&O.collision.bodyB.sleepCounter>0?d[v++]=O:(x[R++]=O,delete u[O.id]));d.length!==v&&(d.length=v),y.length!==A&&(y.length=A),x.length!==R&&(x.length=R),S.length!==w&&(S.length=w)},h.clear=function(a){return a.table={},a.list.length=0,a.collisionStart.length=0,a.collisionActive.length=0,a.collisionEnd.length=0,a}})()},73296:(f,C,t)=>{var h={};f.exports=h;var g=t(31725),o=t(52284),a=t(15647),r=t(66280),i=t(41598);(function(){h.collides=function(n,l){for(var s=[],u=l.length,d=n.bounds,c=o.collides,v=a.overlaps,y=0;y<u;y++){var x=l[y],S=x.parts.length,E=S===1?0:1;if(n!==x&&v(x.bounds,d))for(var A=E;A<S;A++){var R=x.parts[A];if(v(R.bounds,d)){var w=c(R,n);if(w){s.push(w);break}}}}return s},h.ray=function(n,l,s,u){u=u||1e-100;for(var d=g.angle(l,s),c=g.magnitude(g.sub(l,s)),v=(s.x+l.x)*.5,y=(s.y+l.y)*.5,x=r.rectangle(v,y,c,u,{angle:d}),S=h.collides(x,n),E=0;E<S.length;E+=1){var A=S[E];A.body=A.bodyB=A.bodyA}return S},h.region=function(n,l,s){for(var u=[],d=0;d<n.length;d++){var c=n[d],v=a.overlaps(c.bounds,l);(v&&!s||!v&&s)&&u.push(c)}return u},h.point=function(n,l){for(var s=[],u=0;u<n.length;u++){var d=n[u];if(a.contains(d.bounds,l))for(var c=d.parts.length===1?0:1;c<d.parts.length;c++){var v=d.parts[c];if(a.contains(v.bounds,l)&&i.contains(v.vertices,l)){s.push(d);break}}}return s}})()},66272:(f,C,t)=>{var h={};f.exports=h;var g=t(41598),o=t(53402),a=t(15647);(function(){h._restingThresh=2,h._restingThreshTangent=Math.sqrt(6),h._positionDampen=.9,h._positionWarming=.8,h._frictionNormalMultiplier=5,h._frictionMaxStatic=Number.MAX_VALUE,h.preSolvePosition=function(r){var i,n,l,s=r.length;for(i=0;i<s;i++)n=r[i],n.isActive&&(l=n.contactCount,n.collision.parentA.totalContacts+=l,n.collision.parentB.totalContacts+=l)},h.solvePosition=function(r,i,n){var l,s,u,d,c,v,y,x,S=h._positionDampen*(n||1),E=o.clamp(i/o._baseDelta,0,1),A=r.length;for(l=0;l<A;l++)s=r[l],!(!s.isActive||s.isSensor)&&(u=s.collision,d=u.parentA,c=u.parentB,v=u.normal,s.separation=u.depth+v.x*(c.positionImpulse.x-d.positionImpulse.x)+v.y*(c.positionImpulse.y-d.positionImpulse.y));for(l=0;l<A;l++)s=r[l],!(!s.isActive||s.isSensor)&&(u=s.collision,d=u.parentA,c=u.parentB,v=u.normal,x=s.separation-s.slop*E,(d.isStatic||c.isStatic)&&(x*=2),d.isStatic||d.isSleeping||(y=S/d.totalContacts,d.positionImpulse.x+=v.x*x*y,d.positionImpulse.y+=v.y*x*y),c.isStatic||c.isSleeping||(y=S/c.totalContacts,c.positionImpulse.x-=v.x*x*y,c.positionImpulse.y-=v.y*x*y))},h.postSolvePosition=function(r){for(var i=h._positionWarming,n=r.length,l=g.translate,s=a.update,u=0;u<n;u++){var d=r[u],c=d.positionImpulse,v=c.x,y=c.y,x=d.velocity;if(d.totalContacts=0,v!==0||y!==0){for(var S=0;S<d.parts.length;S++){var E=d.parts[S];l(E.vertices,c),s(E.bounds,E.vertices,x),E.position.x+=v,E.position.y+=y}d.positionPrev.x+=v,d.positionPrev.y+=y,v*x.x+y*x.y<0?(c.x=0,c.y=0):(c.x*=i,c.y*=i)}}},h.preSolveVelocity=function(r){var i=r.length,n,l;for(n=0;n<i;n++){var s=r[n];if(!(!s.isActive||s.isSensor)){var u=s.contacts,d=s.contactCount,c=s.collision,v=c.parentA,y=c.parentB,x=c.normal,S=c.tangent;for(l=0;l<d;l++){var E=u[l],A=E.vertex,R=E.normalImpulse,w=E.tangentImpulse;if(R!==0||w!==0){var I=x.x*R+S.x*w,O=x.y*R+S.y*w;v.isStatic||v.isSleeping||(v.positionPrev.x+=I*v.inverseMass,v.positionPrev.y+=O*v.inverseMass,v.anglePrev+=v.inverseInertia*((A.x-v.position.x)*O-(A.y-v.position.y)*I)),y.isStatic||y.isSleeping||(y.positionPrev.x-=I*y.inverseMass,y.positionPrev.y-=O*y.inverseMass,y.anglePrev-=y.inverseInertia*((A.x-y.position.x)*O-(A.y-y.position.y)*I))}}}}},h.solveVelocity=function(r,i){var n=i/o._baseDelta,l=n*n,s=l*n,u=-h._restingThresh*n,d=h._restingThreshTangent,c=h._frictionNormalMultiplier*n,v=h._frictionMaxStatic,y=r.length,x,S,E,A;for(E=0;E<y;E++){var R=r[E];if(!(!R.isActive||R.isSensor)){var w=R.collision,I=w.parentA,O=w.parentB,F=w.normal.x,L=w.normal.y,D=w.tangent.x,b=w.tangent.y,G=R.inverseMass,W=R.friction*R.frictionStatic*c,Y=R.contacts,H=R.contactCount,U=1/H,X=I.position.x-I.positionPrev.x,V=I.position.y-I.positionPrev.y,B=I.angle-I.anglePrev,z=O.position.x-O.positionPrev.x,K=O.position.y-O.positionPrev.y,k=O.angle-O.anglePrev;for(A=0;A<H;A++){var J=Y[A],q=J.vertex,j=q.x-I.position.x,Z=q.y-I.position.y,_=q.x-O.position.x,et=q.y-O.position.y,it=X-Z*B,st=V+j*B,nt=z-et*k,ut=K+_*k,ft=it-nt,ht=st-ut,rt=F*ft+L*ht,lt=D*ft+b*ht,dt=R.separation+rt,yt=Math.min(dt,1);yt=dt<0?0:yt;var xt=yt*W;lt<-xt||lt>xt?(S=lt>0?lt:-lt,x=R.friction*(lt>0?1:-1)*s,x<-S?x=-S:x>S&&(x=S)):(x=lt,S=v);var At=j*L-Z*F,Et=_*L-et*F,Lt=U/(G+I.inverseInertia*At*At+O.inverseInertia*Et*Et),Xt=(1+R.restitution)*rt*Lt;if(x*=Lt,rt<u)J.normalImpulse=0;else{var qt=J.normalImpulse;J.normalImpulse+=Xt,J.normalImpulse>0&&(J.normalImpulse=0),Xt=J.normalImpulse-qt}if(lt<-d||lt>d)J.tangentImpulse=0;else{var Nt=J.tangentImpulse;J.tangentImpulse+=x,J.tangentImpulse<-S&&(J.tangentImpulse=-S),J.tangentImpulse>S&&(J.tangentImpulse=S),x=J.tangentImpulse-Nt}var Jt=F*Xt+D*x,le=L*Xt+b*x;I.isStatic||I.isSleeping||(I.positionPrev.x+=Jt*I.inverseMass,I.positionPrev.y+=le*I.inverseMass,I.anglePrev+=(j*le-Z*Jt)*I.inverseInertia),O.isStatic||O.isSleeping||(O.positionPrev.x-=Jt*O.inverseMass,O.positionPrev.y-=le*O.inverseMass,O.anglePrev-=(_*le-et*Jt)*O.inverseInertia)}}}}})()},48140:(f,C,t)=>{var h={};f.exports=h;var g=t(41598),o=t(31725),a=t(53614),r=t(15647),i=t(66615),n=t(53402);(function(){h._warming=.4,h._torqueDampen=1,h._minLength=1e-6,h.create=function(l){var s=l;s.bodyA&&!s.pointA&&(s.pointA={x:0,y:0}),s.bodyB&&!s.pointB&&(s.pointB={x:0,y:0});var u=s.bodyA?o.add(s.bodyA.position,s.pointA):s.pointA,d=s.bodyB?o.add(s.bodyB.position,s.pointB):s.pointB,c=o.magnitude(o.sub(u,d));s.length=typeof s.length<"u"?s.length:c,s.id=s.id||n.nextId(),s.label=s.label||"Constraint",s.type="constraint",s.stiffness=s.stiffness||(s.length>0?1:.7),s.damping=s.damping||0,s.angularStiffness=s.angularStiffness||0,s.angleA=s.bodyA?s.bodyA.angle:s.angleA,s.angleB=s.bodyB?s.bodyB.angle:s.angleB,s.plugin={};var v={visible:!0,type:"line",anchors:!0,lineColor:null,lineOpacity:null,lineThickness:null,pinSize:null,anchorColor:null,anchorSize:null};return s.length===0&&s.stiffness>.1?(v.type="pin",v.anchors=!1):s.stiffness<.9&&(v.type="spring"),s.render=n.extend(v,s.render),s},h.preSolveAll=function(l){for(var s=0;s<l.length;s+=1){var u=l[s],d=u.constraintImpulse;u.isStatic||d.x===0&&d.y===0&&d.angle===0||(u.position.x+=d.x,u.position.y+=d.y,u.angle+=d.angle)}},h.solveAll=function(l,s){for(var u=n.clamp(s/n._baseDelta,0,1),d=0;d<l.length;d+=1){var c=l[d],v=!c.bodyA||c.bodyA&&c.bodyA.isStatic,y=!c.bodyB||c.bodyB&&c.bodyB.isStatic;(v||y)&&h.solve(l[d],u)}for(d=0;d<l.length;d+=1)c=l[d],v=!c.bodyA||c.bodyA&&c.bodyA.isStatic,y=!c.bodyB||c.bodyB&&c.bodyB.isStatic,!v&&!y&&h.solve(l[d],u)},h.solve=function(l,s){var u=l.bodyA,d=l.bodyB,c=l.pointA,v=l.pointB;if(!(!u&&!d)){u&&!u.isStatic&&(o.rotate(c,u.angle-l.angleA,c),l.angleA=u.angle),d&&!d.isStatic&&(o.rotate(v,d.angle-l.angleB,v),l.angleB=d.angle);var y=c,x=v;if(u&&(y=o.add(u.position,c)),d&&(x=o.add(d.position,v)),!(!y||!x)){var S=o.sub(y,x),E=o.magnitude(S);E<h._minLength&&(E=h._minLength);var A=(E-l.length)/E,R=l.stiffness>=1||l.length===0,w=R?l.stiffness*s:l.stiffness*s*s,I=l.damping*s,O=o.mult(S,A*w),F=(u?u.inverseMass:0)+(d?d.inverseMass:0),L=(u?u.inverseInertia:0)+(d?d.inverseInertia:0),D=F+L,b,G,W,Y,H;if(I>0){var U=o.create();W=o.div(S,E),H=o.sub(d&&o.sub(d.position,d.positionPrev)||U,u&&o.sub(u.position,u.positionPrev)||U),Y=o.dot(W,H)}u&&!u.isStatic&&(G=u.inverseMass/F,u.constraintImpulse.x-=O.x*G,u.constraintImpulse.y-=O.y*G,u.position.x-=O.x*G,u.position.y-=O.y*G,I>0&&(u.positionPrev.x-=I*W.x*Y*G,u.positionPrev.y-=I*W.y*Y*G),b=o.cross(c,O)/D*h._torqueDampen*u.inverseInertia*(1-l.angularStiffness),u.constraintImpulse.angle-=b,u.angle-=b),d&&!d.isStatic&&(G=d.inverseMass/F,d.constraintImpulse.x+=O.x*G,d.constraintImpulse.y+=O.y*G,d.position.x+=O.x*G,d.position.y+=O.y*G,I>0&&(d.positionPrev.x+=I*W.x*Y*G,d.positionPrev.y+=I*W.y*Y*G),b=o.cross(v,O)/D*h._torqueDampen*d.inverseInertia*(1-l.angularStiffness),d.constraintImpulse.angle+=b,d.angle+=b)}}},h.postSolveAll=function(l){for(var s=0;s<l.length;s++){var u=l[s],d=u.constraintImpulse;if(!(u.isStatic||d.x===0&&d.y===0&&d.angle===0)){a.set(u,!1);for(var c=0;c<u.parts.length;c++){var v=u.parts[c];g.translate(v.vertices,d),c>0&&(v.position.x+=d.x,v.position.y+=d.y),d.angle!==0&&(g.rotate(v.vertices,d.angle,u.position),i.rotate(v.axes,d.angle),c>0&&o.rotateAbout(v.position,d.angle,u.position,v.position)),r.update(v.bounds,v.vertices,u.velocity)}d.angle*=h._warming,d.x*=h._warming,d.y*=h._warming}}},h.pointAWorld=function(l){return{x:(l.bodyA?l.bodyA.position.x:0)+(l.pointA?l.pointA.x:0),y:(l.bodyA?l.bodyA.position.y:0)+(l.pointA?l.pointA.y:0)}},h.pointBWorld=function(l){return{x:(l.bodyB?l.bodyB.position.x:0)+(l.pointB?l.pointB.x:0),y:(l.bodyB?l.bodyB.position.y:0)+(l.pointB?l.pointB.y:0)}},h.currentLength=function(l){var s=(l.bodyA?l.bodyA.position.x:0)+(l.pointA?l.pointA.x:0),u=(l.bodyA?l.bodyA.position.y:0)+(l.pointA?l.pointA.y:0),d=(l.bodyB?l.bodyB.position.x:0)+(l.pointB?l.pointB.x:0),c=(l.bodyB?l.bodyB.position.y:0)+(l.pointB?l.pointB.y:0),v=s-d,y=u-c;return Math.sqrt(v*v+y*y)}})()},53402:(f,C,t)=>{var h={};f.exports=h,function(){h._baseDelta=16.666666666666668,h._nextId=0,h._seed=0,h._nowStartTime=+new Date,h._warnedOnce={},h._decomp=null,h.extend=function(o,a){var r,i;typeof a=="boolean"?(r=2,i=a):(r=1,i=!0);for(var n=r;n<arguments.length;n++){var l=arguments[n];if(l)for(var s in l)i&&l[s]&&l[s].constructor===Object&&(!o[s]||o[s].constructor===Object)?(o[s]=o[s]||{},h.extend(o[s],i,l[s])):o[s]=l[s]}return o},h.clone=function(o,a){return h.extend({},a,o)},h.keys=function(o){if(Object.keys)return Object.keys(o);var a=[];for(var r in o)a.push(r);return a},h.values=function(o){var a=[];if(Object.keys){for(var r=Object.keys(o),i=0;i<r.length;i++)a.push(o[r[i]]);return a}for(var n in o)a.push(o[n]);return a},h.get=function(o,a,r,i){a=a.split(".").slice(r,i);for(var n=0;n<a.length;n+=1)o=o[a[n]];return o},h.set=function(o,a,r,i,n){var l=a.split(".").slice(i,n);return h.get(o,a,0,-1)[l[l.length-1]]=r,r},h.shuffle=function(o){for(var a=o.length-1;a>0;a--){var r=Math.floor(h.random()*(a+1)),i=o[a];o[a]=o[r],o[r]=i}return o},h.choose=function(o){return o[Math.floor(h.random()*o.length)]},h.isElement=function(o){return typeof HTMLElement<"u"?o instanceof HTMLElement:!!(o&&o.nodeType&&o.nodeName)},h.isArray=function(o){return Object.prototype.toString.call(o)==="[object Array]"},h.isFunction=function(o){return typeof o=="function"},h.isPlainObject=function(o){return typeof o=="object"&&o.constructor===Object},h.isString=function(o){return toString.call(o)==="[object String]"},h.clamp=function(o,a,r){return o<a?a:o>r?r:o},h.sign=function(o){return o<0?-1:1},h.now=function(){if(typeof window<"u"&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-h._nowStartTime},h.random=function(o,a){return o=typeof o<"u"?o:0,a=typeof a<"u"?a:1,o+g()*(a-o)};var g=function(){return h._seed=(h._seed*9301+49297)%233280,h._seed/233280};h.colorToNumber=function(o){return o=o.replace("#",""),o.length==3&&(o=o.charAt(0)+o.charAt(0)+o.charAt(1)+o.charAt(1)+o.charAt(2)+o.charAt(2)),parseInt(o,16)},h.logLevel=1,h.log=function(){console&&h.logLevel>0&&h.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},h.info=function(){console&&h.logLevel>0&&h.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},h.warn=function(){console&&h.logLevel>0&&h.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},h.warnOnce=function(){var o=Array.prototype.slice.call(arguments).join(" ");h._warnedOnce[o]||(h.warn(o),h._warnedOnce[o]=!0)},h.deprecated=function(o,a,r){o[a]=h.chain(function(){h.warnOnce(" deprecated ",r)},o[a])},h.nextId=function(){return h._nextId++},h.indexOf=function(o,a){if(o.indexOf)return o.indexOf(a);for(var r=0;r<o.length;r++)if(o[r]===a)return r;return-1},h.map=function(o,a){if(o.map)return o.map(a);for(var r=[],i=0;i<o.length;i+=1)r.push(a(o[i]));return r},h.topologicalSort=function(o){var a=[],r=[],i=[];for(var n in o)!r[n]&&!i[n]&&h._topologicalSort(n,r,i,o,a);return a},h._topologicalSort=function(o,a,r,i,n){var l=i[o]||[];r[o]=!0;for(var s=0;s<l.length;s+=1){var u=l[s];r[u]||a[u]||h._topologicalSort(u,a,r,i,n)}r[o]=!1,a[o]=!0,n.push(o)},h.chain=function(){for(var o=[],a=0;a<arguments.length;a+=1){var r=arguments[a];r._chained?o.push.apply(o,r._chained):o.push(r)}var i=function(){for(var n,l=new Array(arguments.length),s=0,u=arguments.length;s<u;s++)l[s]=arguments[s];for(s=0;s<o.length;s+=1){var d=o[s].apply(n,l);typeof d<"u"&&(n=d)}return n};return i._chained=o,i},h.chainPathBefore=function(o,a,r){return h.set(o,a,h.chain(r,h.get(o,a)))},h.chainPathAfter=function(o,a,r){return h.set(o,a,h.chain(h.get(o,a),r))},h.setDecomp=function(o){h._decomp=o},h.getDecomp=function(){var o=h._decomp;try{!o&&typeof window<"u"&&(o=window.decomp),!o&&typeof t.g<"u"&&(o=t.g.decomp)}catch{o=null}return o}}()},48413:(f,C,t)=>{var h={};f.exports=h;var g=t(53614),o=t(66272),a=t(81388),r=t(99561),i=t(35810),n=t(69351),l=t(48140),s=t(53402),u=t(22562);(function(){h._deltaMax=16.666666666666668,h.create=function(d){d=d||{};var c={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0,lastUpdatesPerFrame:0}},v=s.extend(c,d);return v.world=d.world||n.create({label:"World"}),v.pairs=d.pairs||r.create(),v.detector=d.detector||a.create(),v.detector.pairs=v.pairs,v.grid={buckets:[]},v.world.gravity=v.gravity,v.broadphase=v.grid,v.metrics={},v},h.update=function(d,c){var v=s.now(),y=d.world,x=d.detector,S=d.pairs,E=d.timing,A=E.timestamp,R;c>h._deltaMax&&s.warnOnce("Matter.Engine.update: delta argument is recommended to be less than or equal to",h._deltaMax.toFixed(3),"ms."),c=typeof c<"u"?c:s._baseDelta,c*=E.timeScale,E.timestamp+=c,E.lastDelta=c;var w={timestamp:E.timestamp,delta:c};i.trigger(d,"beforeUpdate",w);var I=n.allBodies(y),O=n.allConstraints(y),F=n.allComposites(y);for(y.isModified&&(a.setBodies(x,I),n.setModified(y,!1,!1,!0)),d.enableSleeping&&g.update(I,c),h._bodiesApplyGravity(I,d.gravity),h.wrap(I,F),h.attractors(I),c>0&&h._bodiesUpdate(I,c),i.trigger(d,"beforeSolve",w),l.preSolveAll(I),R=0;R<d.constraintIterations;R++)l.solveAll(O,c);l.postSolveAll(I);var L=a.collisions(x);r.update(S,L,A),d.enableSleeping&&g.afterCollisions(S.list),S.collisionStart.length>0&&i.trigger(d,"collisionStart",{pairs:S.collisionStart,timestamp:E.timestamp,delta:c});var D=s.clamp(20/d.positionIterations,0,1);for(o.preSolvePosition(S.list),R=0;R<d.positionIterations;R++)o.solvePosition(S.list,c,D);for(o.postSolvePosition(I),l.preSolveAll(I),R=0;R<d.constraintIterations;R++)l.solveAll(O,c);for(l.postSolveAll(I),o.preSolveVelocity(S.list),R=0;R<d.velocityIterations;R++)o.solveVelocity(S.list,c);return h._bodiesUpdateVelocities(I),S.collisionActive.length>0&&i.trigger(d,"collisionActive",{pairs:S.collisionActive,timestamp:E.timestamp,delta:c}),S.collisionEnd.length>0&&i.trigger(d,"collisionEnd",{pairs:S.collisionEnd,timestamp:E.timestamp,delta:c}),h._bodiesClearForces(I),i.trigger(d,"afterUpdate",w),d.timing.lastElapsed=s.now()-v,d},h.merge=function(d,c){if(s.extend(d,c),c.world){d.world=c.world,h.clear(d);for(var v=n.allBodies(d.world),y=0;y<v.length;y++){var x=v[y];g.set(x,!1),x.id=s.nextId()}}},h.clear=function(d){r.clear(d.pairs),a.clear(d.detector)},h._bodiesClearForces=function(d){for(var c=d.length,v=0;v<c;v++){var y=d[v];y.force.x=0,y.force.y=0,y.torque=0}},h._bodiesApplyGravity=function(d,c){var v=typeof c.scale<"u"?c.scale:.001,y=d.length;if(!(c.x===0&&c.y===0||v===0))for(var x=0;x<y;x++){var S=d[x];S.ignoreGravity||S.isStatic||S.isSleeping||(S.force.y+=S.mass*c.y*v,S.force.x+=S.mass*c.x*v)}},h._bodiesUpdate=function(d,c){for(var v=d.length,y=0;y<v;y++){var x=d[y];x.isStatic||x.isSleeping||u.update(x,c)}},h._bodiesUpdateVelocities=function(d){for(var c=d.length,v=0;v<c;v++)u.updateVelocities(d[v])},h.wrap=function(d,c){for(var v=0;v<d.length;v+=1){var y=d[v];y.wrapBounds!==null&&u.wrap(y,y.wrapBounds)}for(v=0;v<c.length;v+=1){var x=c[v];x.wrapBounds!==null&&n.wrap(x,x.wrapBounds)}},h.attractors=function(d){for(var c=0;c<d.length;c++){var v=d[c],y=v.attractors;if(y&&y.length>0)for(var x=0;x<d.length;x++){var S=d[x];if(c!==x)for(var E=0;E<y.length;E++){var A=y[E],R=A;s.isFunction(A)&&(R=A(v,S)),R&&u.applyForce(S,S.position,R)}}}}})()},35810:(f,C,t)=>{var h={};f.exports=h;var g=t(53402);(function(){h.on=function(o,a,r){for(var i=a.split(" "),n,l=0;l<i.length;l++)n=i[l],o.events=o.events||{},o.events[n]=o.events[n]||[],o.events[n].push(r);return r},h.off=function(o,a,r){if(!a){o.events={};return}typeof a=="function"&&(r=a,a=g.keys(o.events).join(" "));for(var i=a.split(" "),n=0;n<i.length;n++){var l=o.events[i[n]],s=[];if(r&&l)for(var u=0;u<l.length;u++)l[u]!==r&&s.push(l[u]);o.events[i[n]]=s}},h.trigger=function(o,a,r){var i,n,l,s,u=o.events;if(u&&g.keys(u).length>0){r||(r={}),i=a.split(" ");for(var d=0;d<i.length;d++)if(n=i[d],l=u[n],l){s=g.clone(r,!1),s.name=n,s.source=o;for(var c=0;c<l.length;c++)l[c].apply(o,[s])}}}})()},6790:(f,C,t)=>{var h={};f.exports=h;var g=t(73832),o=t(53402);(function(){h.name="matter-js",h.version="0.20.0",h.uses=[],h.used=[],h.use=function(){g.use(h,Array.prototype.slice.call(arguments))},h.before=function(a,r){return a=a.replace(/^Matter./,""),o.chainPathBefore(h,a,r)},h.after=function(a,r){return a=a.replace(/^Matter./,""),o.chainPathAfter(h,a,r)}})()},73832:(f,C,t)=>{var h={};f.exports=h;var g=t(53402);(function(){h._registry={},h.register=function(o){if(h.isPlugin(o)||g.warn("Plugin.register:",h.toString(o),"does not implement all required fields."),o.name in h._registry){var a=h._registry[o.name],r=h.versionParse(o.version).number,i=h.versionParse(a.version).number;r>i?(g.warn("Plugin.register:",h.toString(a),"was upgraded to",h.toString(o)),h._registry[o.name]=o):r<i?g.warn("Plugin.register:",h.toString(a),"can not be downgraded to",h.toString(o)):o!==a&&g.warn("Plugin.register:",h.toString(o),"is already registered to different plugin object")}else h._registry[o.name]=o;return o},h.resolve=function(o){return h._registry[h.dependencyParse(o).name]},h.toString=function(o){return typeof o=="string"?o:(o.name||"anonymous")+"@"+(o.version||o.range||"0.0.0")},h.isPlugin=function(o){return o&&o.name&&o.version&&o.install},h.isUsed=function(o,a){return o.used.indexOf(a)>-1},h.isFor=function(o,a){var r=o.for&&h.dependencyParse(o.for);return!o.for||a.name===r.name&&h.versionSatisfies(a.version,r.range)},h.use=function(o,a){if(o.uses=(o.uses||[]).concat(a||[]),o.uses.length===0){g.warn("Plugin.use:",h.toString(o),"does not specify any dependencies to install.");return}for(var r=h.dependencies(o),i=g.topologicalSort(r),n=[],l=0;l<i.length;l+=1)if(i[l]!==o.name){var s=h.resolve(i[l]);if(!s){n.push(" "+i[l]);continue}h.isUsed(o,s.name)||(h.isFor(s,o)||(g.warn("Plugin.use:",h.toString(s),"is for",s.for,"but installed on",h.toString(o)+"."),s._warned=!0),s.install?s.install(o):(g.warn("Plugin.use:",h.toString(s),"does not specify an install function."),s._warned=!0),s._warned?(n.push(" "+h.toString(s)),delete s._warned):n.push(" "+h.toString(s)),o.used.push(s.name))}n.length>0&&!s.silent&&g.info(n.join("  "))},h.dependencies=function(o,a){var r=h.dependencyParse(o),i=r.name;if(a=a||{},!(i in a)){o=h.resolve(o)||o,a[i]=g.map(o.uses||[],function(l){h.isPlugin(l)&&h.register(l);var s=h.dependencyParse(l),u=h.resolve(l);return u&&!h.versionSatisfies(u.version,s.range)?(g.warn("Plugin.dependencies:",h.toString(u),"does not satisfy",h.toString(s),"used by",h.toString(r)+"."),u._warned=!0,o._warned=!0):u||(g.warn("Plugin.dependencies:",h.toString(l),"used by",h.toString(r),"could not be resolved."),o._warned=!0),s.name});for(var n=0;n<a[i].length;n+=1)h.dependencies(a[i][n],a);return a}},h.dependencyParse=function(o){if(g.isString(o)){var a=/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/;return a.test(o)||g.warn("Plugin.dependencyParse:",o,"is not a valid dependency string."),{name:o.split("@")[0],range:o.split("@")[1]||"*"}}return{name:o.name,range:o.range||o.version}},h.versionParse=function(o){var a=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;a.test(o)||g.warn("Plugin.versionParse:",o,"is not a valid version or range.");var r=a.exec(o),i=Number(r[4]),n=Number(r[5]),l=Number(r[6]);return{isRange:!!(r[1]||r[2]),version:r[3],range:o,operator:r[1]||r[2]||"",major:i,minor:n,patch:l,parts:[i,n,l],prerelease:r[7],number:i*1e8+n*1e4+l}},h.versionSatisfies=function(o,a){a=a||"*";var r=h.versionParse(a),i=h.versionParse(o);if(r.isRange){if(r.operator==="*"||o==="*")return!0;if(r.operator===">")return i.number>r.number;if(r.operator===">=")return i.number>=r.number;if(r.operator==="~")return i.major===r.major&&i.minor===r.minor&&i.patch>=r.patch;if(r.operator==="^")return r.major>0?i.major===r.major&&i.number>=r.number:r.minor>0?i.minor===r.minor&&i.patch>=r.patch:i.patch===r.patch}return o===a||o==="*"}})()},13037:(f,C,t)=>{var h={};f.exports=h;var g=t(35810),o=t(48413),a=t(53402);(function(){h._maxFrameDelta=66.66666666666667,h._frameDeltaFallback=16.666666666666668,h._timeBufferMargin=1.5,h._elapsedNextEstimate=1,h._smoothingLowerBound=.1,h._smoothingUpperBound=.9,h.create=function(i){var n={delta:16.666666666666668,frameDelta:null,frameDeltaSmoothing:!0,frameDeltaSnapping:!0,frameDeltaHistory:[],frameDeltaHistorySize:100,frameRequestId:null,timeBuffer:0,timeLastTick:null,maxUpdates:null,maxFrameTime:33.333333333333336,lastUpdatesDeferred:0,enabled:!0},l=a.extend(n,i);return l.fps=0,l},h.run=function(i,n){return i.timeBuffer=h._frameDeltaFallback,function l(s){i.frameRequestId=h._onNextFrame(i,l),s&&i.enabled&&h.tick(i,n,s)}(),i},h.tick=function(i,n,l){var s=a.now(),u=i.delta,d=0,c=l-i.timeLastTick;if((!c||!i.timeLastTick||c>Math.max(h._maxFrameDelta,i.maxFrameTime))&&(c=i.frameDelta||h._frameDeltaFallback),i.frameDeltaSmoothing){i.frameDeltaHistory.push(c),i.frameDeltaHistory=i.frameDeltaHistory.slice(-i.frameDeltaHistorySize);var v=i.frameDeltaHistory.slice(0).sort(),y=i.frameDeltaHistory.slice(v.length*h._smoothingLowerBound,v.length*h._smoothingUpperBound),x=r(y);c=x||c}i.frameDeltaSnapping&&(c=1e3/Math.round(1e3/c)),i.frameDelta=c,i.timeLastTick=l,i.timeBuffer+=i.frameDelta,i.timeBuffer=a.clamp(i.timeBuffer,0,i.frameDelta+u*h._timeBufferMargin),i.lastUpdatesDeferred=0;var S=i.maxUpdates||Math.ceil(i.maxFrameTime/u),E={timestamp:n.timing.timestamp};g.trigger(i,"beforeTick",E),g.trigger(i,"tick",E);for(var A=a.now();u>0&&i.timeBuffer>=u*h._timeBufferMargin;){g.trigger(i,"beforeUpdate",E),o.update(n,u),g.trigger(i,"afterUpdate",E),i.timeBuffer-=u,d+=1;var R=a.now()-s,w=a.now()-A,I=R+h._elapsedNextEstimate*w/d;if(d>=S||I>i.maxFrameTime){i.lastUpdatesDeferred=Math.round(Math.max(0,i.timeBuffer/u-h._timeBufferMargin));break}}n.timing.lastUpdatesPerFrame=d,g.trigger(i,"afterTick",E),i.frameDeltaHistory.length>=100&&(i.lastUpdatesDeferred&&Math.round(i.frameDelta/u)>S?a.warnOnce("Matter.Runner: runner reached runner.maxUpdates, see docs."):i.lastUpdatesDeferred&&a.warnOnce("Matter.Runner: runner reached runner.maxFrameTime, see docs."),typeof i.isFixed<"u"&&a.warnOnce("Matter.Runner: runner.isFixed is now redundant, see docs."),(i.deltaMin||i.deltaMax)&&a.warnOnce("Matter.Runner: runner.deltaMin and runner.deltaMax were removed, see docs."),i.fps!==0&&a.warnOnce("Matter.Runner: runner.fps was replaced by runner.delta, see docs."))},h.stop=function(i){h._cancelNextFrame(i)},h._onNextFrame=function(i,n){if(typeof window<"u"&&window.requestAnimationFrame)i.frameRequestId=window.requestAnimationFrame(n);else throw new Error("Matter.Runner: missing required global window.requestAnimationFrame.");return i.frameRequestId},h._cancelNextFrame=function(i){if(typeof window<"u"&&window.cancelAnimationFrame)window.cancelAnimationFrame(i.frameRequestId);else throw new Error("Matter.Runner: missing required global window.cancelAnimationFrame.")};var r=function(i){for(var n=0,l=i.length,s=0;s<l;s+=1)n+=i[s];return n/l||0};h._mean=r})()},53614:(f,C,t)=>{var h={};f.exports=h;var g=t(22562),o=t(35810),a=t(53402);(function(){h._motionWakeThreshold=.18,h._motionSleepThreshold=.08,h._minBias=.9,h.update=function(r,i){for(var n=i/a._baseDelta,l=h._motionSleepThreshold,s=0;s<r.length;s++){var u=r[s],d=g.getSpeed(u),c=g.getAngularSpeed(u),v=d*d+c*c;if(u.force.x!==0||u.force.y!==0){h.set(u,!1);continue}var y=Math.min(u.motion,v),x=Math.max(u.motion,v);u.motion=h._minBias*y+(1-h._minBias)*x,u.sleepThreshold>0&&u.motion<l?(u.sleepCounter+=1,u.sleepCounter>=u.sleepThreshold/n&&h.set(u,!0)):u.sleepCounter>0&&(u.sleepCounter-=1)}},h.afterCollisions=function(r){for(var i=h._motionSleepThreshold,n=0;n<r.length;n++){var l=r[n];if(l.isActive){var s=l.collision,u=s.bodyA.parent,d=s.bodyB.parent;if(!(u.isSleeping&&d.isSleeping||u.isStatic||d.isStatic)&&(u.isSleeping||d.isSleeping)){var c=u.isSleeping&&!u.isStatic?u:d,v=c===u?d:u;!c.isStatic&&v.motion>i&&h.set(c,!1)}}}},h.set=function(r,i){var n=r.isSleeping;i?(r.isSleeping=!0,r.sleepCounter=r.sleepThreshold,r.positionImpulse.x=0,r.positionImpulse.y=0,r.positionPrev.x=r.position.x,r.positionPrev.y=r.position.y,r.anglePrev=r.angle,r.speed=0,r.angularSpeed=0,r.motion=0,n||o.trigger(r,"sleepStart")):(r.isSleeping=!1,r.sleepCounter=0,n&&o.trigger(r,"sleepEnd"))}})()},66280:(f,C,t)=>{var h={};f.exports=h;var g=t(41598),o=t(53402),a=t(22562),r=t(15647),i=t(31725);(function(){h.rectangle=function(n,l,s,u,d){d=d||{};var c={label:"Rectangle Body",position:{x:n,y:l},vertices:g.fromPath("L 0 0 L "+s+" 0 L "+s+" "+u+" L 0 "+u)};if(d.chamfer){var v=d.chamfer;c.vertices=g.chamfer(c.vertices,v.radius,v.quality,v.qualityMin,v.qualityMax),delete d.chamfer}return a.create(o.extend({},c,d))},h.trapezoid=function(n,l,s,u,d,c){c=c||{},d>=1&&o.warn("Bodies.trapezoid: slope parameter must be < 1."),d*=.5;var v=(1-d*2)*s,y=s*d,x=y+v,S=x+y,E;d<.5?E="L 0 0 L "+y+" "+-u+" L "+x+" "+-u+" L "+S+" 0":E="L 0 0 L "+x+" "+-u+" L "+S+" 0";var A={label:"Trapezoid Body",position:{x:n,y:l},vertices:g.fromPath(E)};if(c.chamfer){var R=c.chamfer;A.vertices=g.chamfer(A.vertices,R.radius,R.quality,R.qualityMin,R.qualityMax),delete c.chamfer}return a.create(o.extend({},A,c))},h.circle=function(n,l,s,u,d){u=u||{};var c={label:"Circle Body",circleRadius:s};d=d||25;var v=Math.ceil(Math.max(10,Math.min(d,s)));return v%2===1&&(v+=1),h.polygon(n,l,v,s,o.extend({},c,u))},h.polygon=function(n,l,s,u,d){if(d=d||{},s<3)return h.circle(n,l,u,d);for(var c=2*Math.PI/s,v="",y=c*.5,x=0;x<s;x+=1){var S=y+x*c,E=Math.cos(S)*u,A=Math.sin(S)*u;v+="L "+E.toFixed(3)+" "+A.toFixed(3)+" "}var R={label:"Polygon Body",position:{x:n,y:l},vertices:g.fromPath(v)};if(d.chamfer){var w=d.chamfer;R.vertices=g.chamfer(R.vertices,w.radius,w.quality,w.qualityMin,w.qualityMax),delete d.chamfer}return a.create(o.extend({},R,d))},h.fromVertices=function(n,l,s,u,d,c,v,y){var x=o.getDecomp(),S,E,A,R,w,I,O,F,L,D,b;for(S=!!(x&&x.quickDecomp),u=u||{},A=[],d=typeof d<"u"?d:!1,c=typeof c<"u"?c:.01,v=typeof v<"u"?v:10,y=typeof y<"u"?y:.01,o.isArray(s[0])||(s=[s]),D=0;D<s.length;D+=1)if(I=s[D],R=g.isConvex(I),w=!R,w&&!S&&o.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),R||!S)R?I=g.clockwiseSort(I):I=g.hull(I),A.push({position:{x:n,y:l},vertices:I});else{var G=I.map(function(J){return[J.x,J.y]});x.makeCCW(G),c!==!1&&x.removeCollinearPoints(G,c),y!==!1&&x.removeDuplicatePoints&&x.removeDuplicatePoints(G,y);var W=x.quickDecomp(G);for(O=0;O<W.length;O++){var Y=W[O],H=Y.map(function(J){return{x:J[0],y:J[1]}});v>0&&g.area(H)<v||A.push({position:g.centre(H),vertices:H})}}for(O=0;O<A.length;O++)A[O]=a.create(o.extend(A[O],u));if(d){var U=5;for(O=0;O<A.length;O++){var X=A[O];for(F=O+1;F<A.length;F++){var V=A[F];if(r.overlaps(X.bounds,V.bounds)){var B=X.vertices,z=V.vertices;for(L=0;L<X.vertices.length;L++)for(b=0;b<V.vertices.length;b++){var K=i.magnitudeSquared(i.sub(B[(L+1)%B.length],z[b])),k=i.magnitudeSquared(i.sub(B[L],z[(b+1)%z.length]));K<U&&k<U&&(B[L].isInternal=!0,z[b].isInternal=!0)}}}}}return A.length>1?(E=a.create(o.extend({parts:A.slice(0)},u)),a.setPosition(E,{x:n,y:l}),E):A[0]},h.flagCoincidentParts=function(n,l){l===void 0&&(l=5);for(var s=0;s<n.length;s++)for(var u=n[s],d=s+1;d<n.length;d++){var c=n[d];if(r.overlaps(u.bounds,c.bounds))for(var v=u.vertices,y=c.vertices,x=0;x<u.vertices.length;x++)for(var S=0;S<c.vertices.length;S++){var E=i.magnitudeSquared(i.sub(v[(x+1)%v.length],y[S])),A=i.magnitudeSquared(i.sub(v[x],y[(S+1)%y.length]));E<l&&A<l&&(v[x].isInternal=!0,y[S].isInternal=!0)}}return n}})()},74116:(f,C,t)=>{var h={};f.exports=h;var g=t(69351),o=t(48140),a=t(53402),r=t(22562),i=t(66280);(function(){h.stack=function(n,l,s,u,d,c,v){for(var y=g.create({label:"Stack"}),x=n,S=l,E,A=0,R=0;R<u;R++){for(var w=0,I=0;I<s;I++){var O=v(x,S,I,R,E,A);if(O){var F=O.bounds.max.y-O.bounds.min.y,L=O.bounds.max.x-O.bounds.min.x;F>w&&(w=F),r.translate(O,{x:L*.5,y:F*.5}),x=O.bounds.max.x+d,g.addBody(y,O),E=O,A+=1}else x+=d}S+=w+c,x=n}return y},h.chain=function(n,l,s,u,d,c){for(var v=n.bodies,y=1;y<v.length;y++){var x=v[y-1],S=v[y],E=x.bounds.max.y-x.bounds.min.y,A=x.bounds.max.x-x.bounds.min.x,R=S.bounds.max.y-S.bounds.min.y,w=S.bounds.max.x-S.bounds.min.x,I={bodyA:x,pointA:{x:A*l,y:E*s},bodyB:S,pointB:{x:w*u,y:R*d}},O=a.extend(I,c);g.addConstraint(n,o.create(O))}return n.label+=" Chain",n},h.mesh=function(n,l,s,u,d){var c=n.bodies,v,y,x,S,E;for(v=0;v<s;v++){for(y=1;y<l;y++)x=c[y-1+v*l],S=c[y+v*l],g.addConstraint(n,o.create(a.extend({bodyA:x,bodyB:S},d)));if(v>0)for(y=0;y<l;y++)x=c[y+(v-1)*l],S=c[y+v*l],g.addConstraint(n,o.create(a.extend({bodyA:x,bodyB:S},d))),u&&y>0&&(E=c[y-1+(v-1)*l],g.addConstraint(n,o.create(a.extend({bodyA:E,bodyB:S},d)))),u&&y<l-1&&(E=c[y+1+(v-1)*l],g.addConstraint(n,o.create(a.extend({bodyA:E,bodyB:S},d))))}return n.label+=" Mesh",n},h.pyramid=function(n,l,s,u,d,c,v){return h.stack(n,l,s,u,d,c,function(y,x,S,E,A,R){var w=Math.min(u,Math.ceil(s/2)),I=A?A.bounds.max.x-A.bounds.min.x:0;if(!(E>w)){E=w-E;var O=E,F=s-1-E;if(!(S<O||S>F)){R===1&&r.translate(A,{x:(S+(s%2===1?1:-1))*I,y:0});var L=A?S*I:0;return v(n+L+S*d,x,S,E,A,R)}}})},h.newtonsCradle=function(n,l,s,u,d){for(var c=g.create({label:"Newtons Cradle"}),v=0;v<s;v++){var y=1.9,x=i.circle(n+v*(u*y),l+d,u,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),S=o.create({pointA:{x:n+v*(u*y),y:l},bodyB:x});g.addBody(c,x),g.addConstraint(c,S)}return c},h.car=function(n,l,s,u,d){var c=r.nextGroup(!0),v=20,y=-s*.5+v,x=s*.5-v,S=0,E=g.create({label:"Car"}),A=i.rectangle(n,l,s,u,{collisionFilter:{group:c},chamfer:{radius:u*.5},density:2e-4}),R=i.circle(n+y,l+S,d,{collisionFilter:{group:c},friction:.8}),w=i.circle(n+x,l+S,d,{collisionFilter:{group:c},friction:.8}),I=o.create({bodyB:A,pointB:{x:y,y:S},bodyA:R,stiffness:1,length:0}),O=o.create({bodyB:A,pointB:{x,y:S},bodyA:w,stiffness:1,length:0});return g.addBody(E,A),g.addBody(E,R),g.addBody(E,w),g.addConstraint(E,I),g.addConstraint(E,O),E},h.softBody=function(n,l,s,u,d,c,v,y,x,S){x=a.extend({inertia:1/0},x),S=a.extend({stiffness:.2,render:{type:"line",anchors:!1}},S);var E=h.stack(n,l,s,u,d,c,function(A,R){return i.circle(A,R,y,x)});return h.mesh(E,s,u,v,S),E.label="Soft Body",E}})()},66615:(f,C,t)=>{var h={};f.exports=h;var g=t(31725),o=t(53402);(function(){h.fromVertices=function(a){for(var r={},i=0;i<a.length;i++){var n=(i+1)%a.length,l=g.normalise({x:a[n].y-a[i].y,y:a[i].x-a[n].x}),s=l.y===0?1/0:l.x/l.y;s=s.toFixed(3).toString(),r[s]=l}return o.values(r)},h.rotate=function(a,r){if(r!==0)for(var i=Math.cos(r),n=Math.sin(r),l=0;l<a.length;l++){var s=a[l],u;u=s.x*i-s.y*n,s.y=s.x*n+s.y*i,s.x=u}}})()},15647:f=>{var C={};f.exports=C,function(){C.create=function(t){var h={min:{x:0,y:0},max:{x:0,y:0}};return t&&C.update(h,t),h},C.update=function(t,h,g){t.min.x=1/0,t.max.x=-1/0,t.min.y=1/0,t.max.y=-1/0;for(var o=0;o<h.length;o++){var a=h[o];a.x>t.max.x&&(t.max.x=a.x),a.x<t.min.x&&(t.min.x=a.x),a.y>t.max.y&&(t.max.y=a.y),a.y<t.min.y&&(t.min.y=a.y)}g&&(g.x>0?t.max.x+=g.x:t.min.x+=g.x,g.y>0?t.max.y+=g.y:t.min.y+=g.y)},C.contains=function(t,h){return h.x>=t.min.x&&h.x<=t.max.x&&h.y>=t.min.y&&h.y<=t.max.y},C.overlaps=function(t,h){return t.min.x<=h.max.x&&t.max.x>=h.min.x&&t.max.y>=h.min.y&&t.min.y<=h.max.y},C.translate=function(t,h){t.min.x+=h.x,t.max.x+=h.x,t.min.y+=h.y,t.max.y+=h.y},C.shift=function(t,h){var g=t.max.x-t.min.x,o=t.max.y-t.min.y;t.min.x=h.x,t.max.x=h.x+g,t.min.y=h.y,t.max.y=h.y+o},C.wrap=function(t,h,g){var o=null,a=null;if(typeof h.min.x<"u"&&typeof h.max.x<"u"&&(t.min.x>h.max.x?o=h.min.x-t.max.x:t.max.x<h.min.x&&(o=h.max.x-t.min.x)),typeof h.min.y<"u"&&typeof h.max.y<"u"&&(t.min.y>h.max.y?a=h.min.y-t.max.y:t.max.y<h.min.y&&(a=h.max.y-t.min.y)),o!==null||a!==null)return{x:o||0,y:a||0}}}()},74058:(f,C,t)=>{var h={};f.exports=h,t(15647);var g=t(53402);(function(){h.pathToVertices=function(o,a){typeof window<"u"&&!("SVGPathSeg"in window)&&g.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var r,i,n,l,s,u,d,c,v,y,x=[],S,E,A=0,R=0,w=0;a=a||15;var I=function(F,L,D){var b=D%2===1&&D>1;if(!v||F!=v.x||L!=v.y){v&&b?(S=v.x,E=v.y):(S=0,E=0);var G={x:S+F,y:E+L};(b||!v)&&(v=G),x.push(G),R=S+F,w=E+L}},O=function(F){var L=F.pathSegTypeAsLetter.toUpperCase();if(L!=="Z"){switch(L){case"M":case"L":case"T":case"C":case"S":case"Q":R=F.x,w=F.y;break;case"H":R=F.x;break;case"V":w=F.y;break}I(R,w,F.pathSegType)}};for(h._svgPathToAbsolute(o),n=o.getTotalLength(),u=[],r=0;r<o.pathSegList.numberOfItems;r+=1)u.push(o.pathSegList.getItem(r));for(d=u.concat();A<n;){if(y=o.getPathSegAtLength(A),s=u[y],s!=c){for(;d.length&&d[0]!=s;)O(d.shift());c=s}switch(s.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":l=o.getPointAtLength(A),I(l.x,l.y,0);break}A+=a}for(r=0,i=d.length;r<i;++r)O(d[r]);return x},h._svgPathToAbsolute=function(o){for(var a,r,i,n,l,s,u=o.pathSegList,d=0,c=0,v=u.numberOfItems,y=0;y<v;++y){var x=u.getItem(y),S=x.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(S))"x"in x&&(d=x.x),"y"in x&&(c=x.y);else switch("x1"in x&&(i=d+x.x1),"x2"in x&&(l=d+x.x2),"y1"in x&&(n=c+x.y1),"y2"in x&&(s=c+x.y2),"x"in x&&(d+=x.x),"y"in x&&(c+=x.y),S){case"m":u.replaceItem(o.createSVGPathSegMovetoAbs(d,c),y);break;case"l":u.replaceItem(o.createSVGPathSegLinetoAbs(d,c),y);break;case"h":u.replaceItem(o.createSVGPathSegLinetoHorizontalAbs(d),y);break;case"v":u.replaceItem(o.createSVGPathSegLinetoVerticalAbs(c),y);break;case"c":u.replaceItem(o.createSVGPathSegCurvetoCubicAbs(d,c,i,n,l,s),y);break;case"s":u.replaceItem(o.createSVGPathSegCurvetoCubicSmoothAbs(d,c,l,s),y);break;case"q":u.replaceItem(o.createSVGPathSegCurvetoQuadraticAbs(d,c,i,n),y);break;case"t":u.replaceItem(o.createSVGPathSegCurvetoQuadraticSmoothAbs(d,c),y);break;case"a":u.replaceItem(o.createSVGPathSegArcAbs(d,c,x.r1,x.r2,x.angle,x.largeArcFlag,x.sweepFlag),y);break;case"z":case"Z":d=a,c=r;break}(S=="M"||S=="m")&&(a=d,r=c)}}})()},31725:f=>{var C={};f.exports=C,function(){C.create=function(t,h){return{x:t||0,y:h||0}},C.clone=function(t){return{x:t.x,y:t.y}},C.magnitude=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},C.magnitudeSquared=function(t){return t.x*t.x+t.y*t.y},C.rotate=function(t,h,g){var o=Math.cos(h),a=Math.sin(h);g||(g={});var r=t.x*o-t.y*a;return g.y=t.x*a+t.y*o,g.x=r,g},C.rotateAbout=function(t,h,g,o){var a=Math.cos(h),r=Math.sin(h);o||(o={});var i=g.x+((t.x-g.x)*a-(t.y-g.y)*r);return o.y=g.y+((t.x-g.x)*r+(t.y-g.y)*a),o.x=i,o},C.normalise=function(t){var h=C.magnitude(t);return h===0?{x:0,y:0}:{x:t.x/h,y:t.y/h}},C.dot=function(t,h){return t.x*h.x+t.y*h.y},C.cross=function(t,h){return t.x*h.y-t.y*h.x},C.cross3=function(t,h,g){return(h.x-t.x)*(g.y-t.y)-(h.y-t.y)*(g.x-t.x)},C.add=function(t,h,g){return g||(g={}),g.x=t.x+h.x,g.y=t.y+h.y,g},C.sub=function(t,h,g){return g||(g={}),g.x=t.x-h.x,g.y=t.y-h.y,g},C.mult=function(t,h){return{x:t.x*h,y:t.y*h}},C.div=function(t,h){return{x:t.x/h,y:t.y/h}},C.perp=function(t,h){return h=h===!0?-1:1,{x:h*-t.y,y:h*t.x}},C.neg=function(t){return{x:-t.x,y:-t.y}},C.angle=function(t,h){return Math.atan2(h.y-t.y,h.x-t.x)},C._temp=[C.create(),C.create(),C.create(),C.create(),C.create(),C.create()]}()},41598:(f,C,t)=>{var h={};f.exports=h;var g=t(31725),o=t(53402);(function(){h.create=function(a,r){for(var i=[],n=0;n<a.length;n++){var l=a[n],s={x:l.x,y:l.y,index:n,body:r,isInternal:!1};i.push(s)}return i},h.fromPath=function(a,r){var i=/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/ig,n=[];return a.replace(i,function(l,s,u){n.push({x:parseFloat(s),y:parseFloat(u)})}),h.create(n,r)},h.centre=function(a){for(var r=h.area(a,!0),i={x:0,y:0},n,l,s,u=0;u<a.length;u++)s=(u+1)%a.length,n=g.cross(a[u],a[s]),l=g.mult(g.add(a[u],a[s]),n),i=g.add(i,l);return g.div(i,6*r)},h.mean=function(a){for(var r={x:0,y:0},i=0;i<a.length;i++)r.x+=a[i].x,r.y+=a[i].y;return g.div(r,a.length)},h.area=function(a,r){for(var i=0,n=a.length-1,l=0;l<a.length;l++)i+=(a[n].x-a[l].x)*(a[n].y+a[l].y),n=l;return r?i/2:Math.abs(i)/2},h.inertia=function(a,r){for(var i=0,n=0,l=a,s,u,d=0;d<l.length;d++)u=(d+1)%l.length,s=Math.abs(g.cross(l[u],l[d])),i+=s*(g.dot(l[u],l[u])+g.dot(l[u],l[d])+g.dot(l[d],l[d])),n+=s;return r/6*(i/n)},h.translate=function(a,r,i){i=typeof i<"u"?i:1;var n=a.length,l=r.x*i,s=r.y*i,u;for(u=0;u<n;u++)a[u].x+=l,a[u].y+=s;return a},h.rotate=function(a,r,i){if(r!==0){var n=Math.cos(r),l=Math.sin(r),s=i.x,u=i.y,d=a.length,c,v,y,x;for(x=0;x<d;x++)c=a[x],v=c.x-s,y=c.y-u,c.x=s+(v*n-y*l),c.y=u+(v*l+y*n);return a}},h.contains=function(a,r){for(var i=r.x,n=r.y,l=a.length,s=a[l-1],u,d=0;d<l;d++){if(u=a[d],(i-s.x)*(u.y-s.y)+(n-s.y)*(s.x-u.x)>0)return!1;s=u}return!0},h.scale=function(a,r,i,n){if(r===1&&i===1)return a;n=n||h.centre(a);for(var l,s,u=0;u<a.length;u++)l=a[u],s=g.sub(l,n),a[u].x=n.x+s.x*r,a[u].y=n.y+s.y*i;return a},h.chamfer=function(a,r,i,n,l){typeof r=="number"?r=[r]:r=r||[8],i=typeof i<"u"?i:-1,n=n||2,l=l||14;for(var s=[],u=0;u<a.length;u++){var d=a[u-1>=0?u-1:a.length-1],c=a[u],v=a[(u+1)%a.length],y=r[u<r.length?u:r.length-1];if(y===0){s.push(c);continue}var x=g.normalise({x:c.y-d.y,y:d.x-c.x}),S=g.normalise({x:v.y-c.y,y:c.x-v.x}),E=Math.sqrt(2*Math.pow(y,2)),A=g.mult(o.clone(x),y),R=g.normalise(g.mult(g.add(x,S),.5)),w=g.sub(c,g.mult(R,E)),I=i;i===-1&&(I=Math.pow(y,.32)*1.75),I=o.clamp(I,n,l),I%2===1&&(I+=1);for(var O=Math.acos(g.dot(x,S)),F=O/I,L=0;L<I;L++)s.push(g.add(g.rotate(A,F*L),w))}return s},h.clockwiseSort=function(a){var r=h.mean(a);return a.sort(function(i,n){return g.angle(r,i)-g.angle(r,n)}),a},h.isConvex=function(a){var r=0,i=a.length,n,l,s,u;if(i<3)return null;for(n=0;n<i;n++)if(l=(n+1)%i,s=(n+2)%i,u=(a[l].x-a[n].x)*(a[s].y-a[l].y),u-=(a[l].y-a[n].y)*(a[s].x-a[l].x),u<0?r|=1:u>0&&(r|=2),r===3)return!1;return r!==0?!0:null},h.hull=function(a){var r=[],i=[],n,l;for(a=a.slice(0),a.sort(function(s,u){var d=s.x-u.x;return d!==0?d:s.y-u.y}),l=0;l<a.length;l+=1){for(n=a[l];i.length>=2&&g.cross3(i[i.length-2],i[i.length-1],n)<=0;)i.pop();i.push(n)}for(l=a.length-1;l>=0;l-=1){for(n=a[l];r.length>=2&&g.cross3(r[r.length-2],r[r.length-1],n)<=0;)r.pop();r.push(n)}return r.pop(),i.pop(),r.concat(i)}})()},55973:f=>{/**
 * @author       Stefan Hedman <schteppe@gmail.com> (http://steffe.se)
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={decomp:O,quickDecomp:b,isSimple:L,removeCollinearPoints:G,removeDuplicatePoints:W,makeCCW:v};function C(U,X,V){V=V||0;var B=[0,0],z,K,k,J,q,j,Z;return z=U[1][1]-U[0][1],K=U[0][0]-U[1][0],k=z*U[0][0]+K*U[0][1],J=X[1][1]-X[0][1],q=X[0][0]-X[1][0],j=J*X[0][0]+q*X[0][1],Z=z*q-J*K,Y(Z,0,V)||(B[0]=(q*k-K*j)/Z,B[1]=(z*j-J*k)/Z),B}function t(U,X,V,B){var z=X[0]-U[0],K=X[1]-U[1],k=B[0]-V[0],J=B[1]-V[1];if(k*K-J*z===0)return!1;var q=(z*(V[1]-U[1])+K*(U[0]-V[0]))/(k*K-J*z),j=(k*(U[1]-V[1])+J*(V[0]-U[0]))/(J*z-k*K);return q>=0&&q<=1&&j>=0&&j<=1}function h(U,X,V){return(X[0]-U[0])*(V[1]-U[1])-(V[0]-U[0])*(X[1]-U[1])}function g(U,X,V){return h(U,X,V)>0}function o(U,X,V){return h(U,X,V)>=0}function a(U,X,V){return h(U,X,V)<0}function r(U,X,V){return h(U,X,V)<=0}var i=[],n=[];function l(U,X,V,B){if(B){var z=i,K=n;z[0]=X[0]-U[0],z[1]=X[1]-U[1],K[0]=V[0]-X[0],K[1]=V[1]-X[1];var k=z[0]*K[0]+z[1]*K[1],J=Math.sqrt(z[0]*z[0]+z[1]*z[1]),q=Math.sqrt(K[0]*K[0]+K[1]*K[1]),j=Math.acos(k/(J*q));return j<B}else return h(U,X,V)===0}function s(U,X){var V=X[0]-U[0],B=X[1]-U[1];return V*V+B*B}function u(U,X){var V=U.length;return U[X<0?X%V+V:X%V]}function d(U){U.length=0}function c(U,X,V,B){for(var z=V;z<B;z++)U.push(X[z])}function v(U){for(var X=0,V=U,B=1;B<U.length;++B)(V[B][1]<V[X][1]||V[B][1]===V[X][1]&&V[B][0]>V[X][0])&&(X=B);return g(u(U,X-1),u(U,X),u(U,X+1))?!1:(y(U),!0)}function y(U){for(var X=[],V=U.length,B=0;B!==V;B++)X.push(U.pop());for(var B=0;B!==V;B++)U[B]=X[B]}function x(U,X){return a(u(U,X-1),u(U,X),u(U,X+1))}var S=[],E=[];function A(U,X,V){var B,z,K=S,k=E;if(o(u(U,X+1),u(U,X),u(U,V))&&r(u(U,X-1),u(U,X),u(U,V)))return!1;z=s(u(U,X),u(U,V));for(var J=0;J!==U.length;++J)if(!((J+1)%U.length===X||J===X)&&o(u(U,X),u(U,V),u(U,J+1))&&r(u(U,X),u(U,V),u(U,J))&&(K[0]=u(U,X),K[1]=u(U,V),k[0]=u(U,J),k[1]=u(U,J+1),B=C(K,k),s(u(U,X),B)<z))return!1;return!0}function R(U,X,V){for(var B=0;B!==U.length;++B)if(!(B===X||B===V||(B+1)%U.length===X||(B+1)%U.length===V)&&t(u(U,X),u(U,V),u(U,B),u(U,B+1)))return!1;return!0}function w(U,X,V,B){var z=B||[];if(d(z),X<V)for(var K=X;K<=V;K++)z.push(U[K]);else{for(var K=0;K<=V;K++)z.push(U[K]);for(var K=X;K<U.length;K++)z.push(U[K])}return z}function I(U){for(var X=[],V=[],B=[],z=[],K=Number.MAX_VALUE,k=0;k<U.length;++k)if(x(U,k)){for(var J=0;J<U.length;++J)if(A(U,k,J)){V=I(w(U,k,J,z)),B=I(w(U,J,k,z));for(var q=0;q<B.length;q++)V.push(B[q]);V.length<K&&(X=V,K=V.length,X.push([u(U,k),u(U,J)]))}}return X}function O(U){var X=I(U);return X.length>0?F(U,X):[U]}function F(U,X){if(X.length===0)return[U];if(X instanceof Array&&X.length&&X[0]instanceof Array&&X[0].length===2&&X[0][0]instanceof Array){for(var V=[U],B=0;B<X.length;B++)for(var z=X[B],K=0;K<V.length;K++){var k=V[K],J=F(k,z);if(J){V.splice(K,1),V.push(J[0],J[1]);break}}return V}else{var z=X,B=U.indexOf(z[0]),K=U.indexOf(z[1]);return B!==-1&&K!==-1?[w(U,B,K),w(U,K,B)]:!1}}function L(U){var X=U,V;for(V=0;V<X.length-1;V++)for(var B=0;B<V-1;B++)if(t(X[V],X[V+1],X[B],X[B+1]))return!1;for(V=1;V<X.length-2;V++)if(t(X[0],X[X.length-1],X[V],X[V+1]))return!1;return!0}function D(U,X,V,B,z){z=z||0;var K=X[1]-U[1],k=U[0]-X[0],J=K*U[0]+k*U[1],q=B[1]-V[1],j=V[0]-B[0],Z=q*V[0]+j*V[1],_=K*j-q*k;return Y(_,0,z)?[0,0]:[(j*J-k*Z)/_,(K*Z-q*J)/_]}function b(U,X,V,B,z,K,k){K=K||100,k=k||0,z=z||25,X=typeof X<"u"?X:[],V=V||[],B=B||[];var J=[0,0],q=[0,0],j=[0,0],Z=0,_=0,et=0,it=0,st=0,nt=0,ut=0,ft=[],ht=[],rt=U,lt=U;if(lt.length<3)return X;if(k++,k>K)return console.warn("quickDecomp: max level ("+K+") reached."),X;for(var dt=0;dt<U.length;++dt)if(x(rt,dt)){V.push(rt[dt]),Z=_=Number.MAX_VALUE;for(var yt=0;yt<U.length;++yt)g(u(rt,dt-1),u(rt,dt),u(rt,yt))&&r(u(rt,dt-1),u(rt,dt),u(rt,yt-1))&&(j=D(u(rt,dt-1),u(rt,dt),u(rt,yt),u(rt,yt-1)),a(u(rt,dt+1),u(rt,dt),j)&&(et=s(rt[dt],j),et<_&&(_=et,q=j,nt=yt))),g(u(rt,dt+1),u(rt,dt),u(rt,yt+1))&&r(u(rt,dt+1),u(rt,dt),u(rt,yt))&&(j=D(u(rt,dt+1),u(rt,dt),u(rt,yt),u(rt,yt+1)),g(u(rt,dt-1),u(rt,dt),j)&&(et=s(rt[dt],j),et<Z&&(Z=et,J=j,st=yt)));if(nt===(st+1)%U.length)j[0]=(q[0]+J[0])/2,j[1]=(q[1]+J[1])/2,B.push(j),dt<st?(c(ft,rt,dt,st+1),ft.push(j),ht.push(j),nt!==0&&c(ht,rt,nt,rt.length),c(ht,rt,0,dt+1)):(dt!==0&&c(ft,rt,dt,rt.length),c(ft,rt,0,st+1),ft.push(j),ht.push(j),c(ht,rt,nt,dt+1));else{if(nt>st&&(st+=U.length),it=Number.MAX_VALUE,st<nt)return X;for(var yt=nt;yt<=st;++yt)o(u(rt,dt-1),u(rt,dt),u(rt,yt))&&r(u(rt,dt+1),u(rt,dt),u(rt,yt))&&(et=s(u(rt,dt),u(rt,yt)),et<it&&R(rt,dt,yt)&&(it=et,ut=yt%U.length));dt<ut?(c(ft,rt,dt,ut+1),ut!==0&&c(ht,rt,ut,lt.length),c(ht,rt,0,dt+1)):(dt!==0&&c(ft,rt,dt,lt.length),c(ft,rt,0,ut+1),c(ht,rt,ut,dt+1))}return ft.length<ht.length?(b(ft,X,V,B,z,K,k),b(ht,X,V,B,z,K,k)):(b(ht,X,V,B,z,K,k),b(ft,X,V,B,z,K,k)),X}return X.push(U),X}function G(U,X){for(var V=0,B=U.length-1;U.length>3&&B>=0;--B)l(u(U,B-1),u(U,B),u(U,B+1),X)&&(U.splice(B%U.length,1),V++);return V}function W(U,X){for(var V=U.length-1;V>=1;--V)for(var B=U[V],z=V-1;z>=0;--z)if(H(B,U[z],X)){U.splice(V,1);continue}}function Y(U,X,V){return V=V||0,Math.abs(U-X)<=V}function H(U,X,V){return Y(U[0],X[0],V)&&Y(U[1],X[1],V)}},52018:(f,C,t)=>{/**
* @author       Richard Davey <rich@phaser.io>
* @copyright    2013-2025 Phaser Studio Inc.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var h=t(83419),g=new h({initialize:function(a){this.pluginManager=a,this.game=a.game},init:function(){},start:function(){},stop:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});f.exports=g},42363:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={Global:["game","anims","cache","plugins","registry","scale","sound","textures","renderer"],CoreScene:["EventEmitter","CameraManager","GameObjectCreator","GameObjectFactory","ScenePlugin","DisplayList","UpdateList"],DefaultScene:["Clock","DataManagerPlugin","InputPlugin","Loader","TweenManager","LightsPlugin"]};f.exports=C},37277:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={},t={},h={};h.register=function(g,o,a,r){r===void 0&&(r=!1),C[g]={plugin:o,mapping:a,custom:r}},h.registerCustom=function(g,o,a,r){t[g]={plugin:o,mapping:a,data:r}},h.hasCore=function(g){return C.hasOwnProperty(g)},h.hasCustom=function(g){return t.hasOwnProperty(g)},h.getCore=function(g){return C[g]},h.getCustom=function(g){return t[g]},h.getCustomClass=function(g){return t.hasOwnProperty(g)?t[g].plugin:null},h.remove=function(g){C.hasOwnProperty(g)&&delete C[g]},h.removeCustom=function(g){t.hasOwnProperty(g)&&delete t[g]},h.destroyCorePlugins=function(){for(var g in C)C.hasOwnProperty(g)&&delete C[g]},h.destroyCustomPlugins=function(){for(var g in t)t.hasOwnProperty(g)&&delete t[g]},f.exports=h},77332:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(8443),o=t(50792),a=t(74099),r=t(44603),i=t(39429),n=t(95540),l=t(37277),s=t(72905),u=t(8054),d=new h({Extends:o,initialize:function(v){o.call(this),this.game=v,this.plugins=[],this.scenePlugins=[],this._pendingGlobal=[],this._pendingScene=[],v.isBooted||v.config.renderType===u.HEADLESS?this.boot():v.events.once(g.BOOT,this.boot,this)},boot:function(){var c,v,y,x,S,E,A,R=this.game.config,w=R.installGlobalPlugins;for(w=w.concat(this._pendingGlobal),c=0;c<w.length;c++)v=w[c],y=n(v,"key",null),x=n(v,"plugin",null),S=n(v,"start",!1),E=n(v,"mapping",null),A=n(v,"data",null),y&&(x?this.install(y,x,S,E,A):console.warn("Missing `plugin` for key: "+y));for(w=R.installScenePlugins,w=w.concat(this._pendingScene),c=0;c<w.length;c++)v=w[c],y=n(v,"key",null),x=n(v,"plugin",null),E=n(v,"mapping",null),y&&(x?this.installScenePlugin(y,x,E):console.warn("Missing `plugin` for key: "+y));this._pendingGlobal=[],this._pendingScene=[],this.game.events.once(g.DESTROY,this.destroy,this)},addToScene:function(c,v,y){var x,S,E,A=this.game,R=c.scene,w=c.settings.map,I=c.settings.isBooted;for(x=0;x<v.length;x++)S=v[x],A[S]?(c[S]=A[S],w.hasOwnProperty(S)&&(R[w[S]]=c[S])):S==="game"&&w.hasOwnProperty(S)&&(R[w[S]]=A);for(var O=0;O<y.length;O++)for(E=y[O],x=0;x<E.length;x++)if(S=E[x],!!l.hasCore(S)){var F=l.getCore(S),L=F.mapping,D=new F.plugin(R,this,L);c[L]=D,F.custom?R[L]=D:w.hasOwnProperty(L)&&(R[w[L]]=D),I&&D.boot()}for(E=this.plugins,x=0;x<E.length;x++){var b=E[x];b.mapping&&(R[b.mapping]=b.plugin)}},getDefaultScenePlugins:function(){var c=this.game.config.defaultPlugins;return c=c.concat(this.scenePlugins),c},installScenePlugin:function(c,v,y,x,S){if(S===void 0&&(S=!1),typeof v!="function"){console.warn("Invalid Scene Plugin: "+c);return}if(l.hasCore(c)||l.register(c,v,y,!0),this.scenePlugins.indexOf(c)===-1)this.scenePlugins.push(c);else if(!S&&l.hasCore(c)){console.warn("Scene Plugin key in use: "+c);return}if(x){var E=new v(x,this,c);x.sys[c]=E,y&&y!==""&&(x[y]=E),E.boot()}},install:function(c,v,y,x,S){if(y===void 0&&(y=!1),x===void 0&&(x=null),S===void 0&&(S=null),typeof v!="function")return console.warn("Invalid Plugin: "+c),null;if(l.hasCustom(c))return console.warn("Plugin key in use: "+c),null;if(x!==null&&(y=!0),!this.game.isBooted)this._pendingGlobal.push({key:c,plugin:v,start:y,mapping:x,data:S});else if(l.registerCustom(c,v,x,S),y)return this.start(c);return null},getIndex:function(c){for(var v=this.plugins,y=0;y<v.length;y++){var x=v[y];if(x.key===c)return y}return-1},getEntry:function(c){var v=this.getIndex(c);if(v!==-1)return this.plugins[v]},isActive:function(c){var v=this.getEntry(c);return v&&v.active},start:function(c,v){v===void 0&&(v=c);var y=this.getEntry(v);return y&&!y.active?(y.active=!0,y.plugin.start()):y||(y=this.createEntry(c,v)),y?y.plugin:null},createEntry:function(c,v){var y=l.getCustom(c);if(y){var x=new y.plugin(this);y={key:v,plugin:x,active:!0,mapping:y.mapping,data:y.data},this.plugins.push(y),x.init(y.data),x.start()}return y},stop:function(c){var v=this.getEntry(c);return v&&v.active&&(v.active=!1,v.plugin.stop()),this},get:function(c,v){v===void 0&&(v=!0);var y=this.getEntry(c);if(y)return y.plugin;var x=this.getClass(c);return x&&v?(y=this.createEntry(c,c),y?y.plugin:null):x||null},getClass:function(c){return l.getCustomClass(c)},removeGlobalPlugin:function(c){var v=this.getEntry(c);v&&s(this.plugins,v),l.removeCustom(c)},removeScenePlugin:function(c){s(this.scenePlugins,c),l.remove(c)},registerGameObject:function(c,v,y){return v&&i.register(c,v),y&&r.register(c,y),this},removeGameObject:function(c,v,y){return v===void 0&&(v=!0),y===void 0&&(y=!0),v&&i.remove(c),y&&r.remove(c),this},registerFileType:function(c,v,y){a.register(c,v),y&&y.sys.load&&(y.sys.load[c]=v)},destroy:function(){for(var c=0;c<this.plugins.length;c++)this.plugins[c].plugin.destroy();l.destroyCustomPlugins(),this.game.noReturn&&l.destroyCorePlugins(),this.game=null,this.plugins=[],this.scenePlugins=[]}});f.exports=d},45145:(f,C,t)=>{/**
* @author       Richard Davey <rich@phaser.io>
* @copyright    2013-2025 Phaser Studio Inc.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var h=t(52018),g=t(83419),o=t(44594),a=new g({Extends:h,initialize:function(i,n,l){h.call(this,n),this.scene=i,this.systems=i.sys,this.pluginKey=l,i.sys.events.once(o.BOOT,this.boot,this)},boot:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});f.exports=a},18922:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={BasePlugin:t(52018),DefaultPlugins:t(42363),PluginCache:t(37277),PluginManager:t(77332),ScenePlugin:t(45145)}},63595:()=>{typeof HTMLVideoElement<"u"&&!("requestVideoFrameCallback"in HTMLVideoElement.prototype)&&"getVideoPlaybackQuality"in HTMLVideoElement.prototype&&(HTMLVideoElement.prototype._rvfcpolyfillmap={},HTMLVideoElement.prototype.requestVideoFrameCallback=function(f){const C=performance.now(),t=this.getVideoPlaybackQuality(),h=this.mozPresentedFrames||this.mozPaintedFrames||t.totalVideoFrames-t.droppedVideoFrames,g=(o,a)=>{const r=this.getVideoPlaybackQuality(),i=this.mozPresentedFrames||this.mozPaintedFrames||r.totalVideoFrames-r.droppedVideoFrames;if(i>h){const n=this.mozFrameDelay||r.totalFrameDelay-t.totalFrameDelay||0,l=a-o;f(a,{presentationTime:a+n*1e3,expectedDisplayTime:a+l,width:this.videoWidth,height:this.videoHeight,mediaTime:Math.max(0,this.currentTime||0)+l/1e3,presentedFrames:i,processingDuration:n}),delete this._rvfcpolyfillmap[C]}else this._rvfcpolyfillmap[C]=requestAnimationFrame(n=>g(a,n))};return this._rvfcpolyfillmap[C]=requestAnimationFrame(o=>g(C,o)),C},HTMLVideoElement.prototype.cancelVideoFrameCallback=function(f){cancelAnimationFrame(this._rvfcpolyfillmap[f]),delete this._rvfcpolyfillmap[f]})},10312:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={SKIP_CHECK:-1,NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,ERASE:17,SOURCE_IN:18,SOURCE_OUT:19,SOURCE_ATOP:20,DESTINATION_OVER:21,DESTINATION_IN:22,DESTINATION_OUT:23,DESTINATION_ATOP:24,LIGHTER:25,COPY:26,XOR:27}},29795:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={DEFAULT:0,LINEAR:0,NEAREST:1};f.exports=C},68627:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(19715),g=t(32880),o=t(83419),a=t(8054),r=t(50792),i=t(92503),n=t(56373),l=t(97480),s=t(69442),u=t(8443),d=t(61340),c=new o({Extends:r,initialize:function(y){r.call(this);var x=y.config;this.config={clearBeforeRender:x.clearBeforeRender,backgroundColor:x.backgroundColor,antialias:x.antialias,roundPixels:x.roundPixels,transparent:x.transparent},this.game=y,this.type=a.CANVAS,this.drawCount=0,this.width=0,this.height=0,this.gameCanvas=y.canvas;var S={alpha:x.transparent,desynchronized:x.desynchronized,willReadFrequently:!1};this.gameContext=x.context?x.context:this.gameCanvas.getContext("2d",S),this.currentContext=this.gameContext,this.antialias=x.antialias,this.blendModes=n(),this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92},this._tempMatrix1=new d,this._tempMatrix2=new d,this._tempMatrix3=new d,this.isBooted=!1,this.init()},init:function(){var v=this.game;v.events.once(u.BOOT,function(){var y=this.config;if(!y.transparent){var x=this.gameContext,S=this.gameCanvas;x.fillStyle=y.backgroundColor.rgba,x.fillRect(0,0,S.width,S.height)}},this),v.textures.once(s.READY,this.boot,this)},boot:function(){var v=this.game,y=v.scale.baseSize;this.width=y.width,this.height=y.height,this.isBooted=!0,v.scale.on(l.RESIZE,this.onResize,this),this.resize(y.width,y.height)},onResize:function(v,y){(y.width!==this.width||y.height!==this.height)&&this.resize(y.width,y.height)},resize:function(v,y){this.width=v,this.height=y,this.emit(i.RESIZE,v,y)},resetTransform:function(){this.currentContext.setTransform(1,0,0,1,0,0)},setBlendMode:function(v){return this.currentContext.globalCompositeOperation=v,this},setContext:function(v){return this.currentContext=v||this.gameContext,this},setAlpha:function(v){return this.currentContext.globalAlpha=v,this},preRender:function(){var v=this.gameContext,y=this.config,x=this.width,S=this.height;v.globalAlpha=1,v.globalCompositeOperation="source-over",v.setTransform(1,0,0,1,0,0),this.emit(i.PRE_RENDER_CLEAR),y.clearBeforeRender&&(v.clearRect(0,0,x,S),y.transparent||(v.fillStyle=y.backgroundColor.rgba,v.fillRect(0,0,x,S))),v.save(),this.drawCount=0,this.emit(i.PRE_RENDER)},render:function(v,y,x){var S=y.length;this.emit(i.RENDER,v,x);var E=x.x,A=x.y,R=x.width,w=x.height,I=x.renderToTexture?x.context:v.sys.context;I.save(),this.game.scene.customViewports&&(I.beginPath(),I.rect(E,A,R,w),I.clip()),x.emit(h.PRE_RENDER,x),this.currentContext=I;var O=x.mask;O&&O.preRenderCanvas(this,null,x._maskCamera),x.transparent||(I.fillStyle=x.backgroundColor.rgba,I.fillRect(E,A,R,w)),I.globalAlpha=x.alpha,I.globalCompositeOperation="source-over",this.drawCount+=S,x.renderToTexture&&x.emit(h.PRE_RENDER,x),x.matrix.copyToContext(I);for(var F=0;F<S;F++){var L=y[F];L.mask&&L.mask.preRenderCanvas(this,L,x),L.renderCanvas(this,L,x),L.mask&&L.mask.postRenderCanvas(this,L,x)}I.setTransform(1,0,0,1,0,0),I.globalCompositeOperation="source-over",I.globalAlpha=1,x.flashEffect.postRenderCanvas(I),x.fadeEffect.postRenderCanvas(I),x.dirty=!1,O&&O.postRenderCanvas(this),I.restore(),x.renderToTexture&&(x.emit(h.POST_RENDER,x),x.renderToGame&&v.sys.context.drawImage(x.canvas,E,A)),x.emit(h.POST_RENDER,x)},postRender:function(){var v=this.gameContext;v.restore(),this.emit(i.POST_RENDER);var y=this.snapshotState;y.callback&&(g(this.gameCanvas,y),y.callback=null)},snapshotCanvas:function(v,y,x,S,E,A,R,w,I){x===void 0&&(x=!1),this.snapshotArea(S,E,A,R,y,w,I);var O=this.snapshotState;return O.getPixel=x,g(v,O),O.callback=null,this},snapshot:function(v,y,x){return this.snapshotArea(0,0,this.gameCanvas.width,this.gameCanvas.height,v,y,x)},snapshotArea:function(v,y,x,S,E,A,R){var w=this.snapshotState;return w.callback=E,w.type=A,w.encoder=R,w.getPixel=!1,w.x=v,w.y=y,w.width=Math.min(x,this.gameCanvas.width),w.height=Math.min(S,this.gameCanvas.height),this},snapshotPixel:function(v,y,x){return this.snapshotArea(v,y,1,1,x),this.snapshotState.getPixel=!0,this},batchSprite:function(v,y,x,S){var E=x.alpha*v.alpha;if(E!==0){var A=this.currentContext,R=this._tempMatrix1,w=this._tempMatrix2,I=y.canvasData,O=I.x,F=I.y,L=y.cutWidth,D=y.cutHeight,b=y.customPivot,G=y.source.resolution,W=v.displayOriginX,Y=v.displayOriginY,H=-W+y.x,U=-Y+y.y;if(v.isCropped){var X=v._crop;(X.flipX!==v.flipX||X.flipY!==v.flipY)&&y.updateCropUVs(X,v.flipX,v.flipY),L=X.cw,D=X.ch,O=X.cx,F=X.cy,H=-W+X.x,U=-Y+X.y,v.flipX&&(H>=0?H=-(H+L):H<0&&(H=Math.abs(H)-L)),v.flipY&&(U>=0?U=-(U+D):U<0&&(U=Math.abs(U)-D))}var V=1,B=1;v.flipX&&(b||(H+=-y.realWidth+W*2),V=-1),v.flipY&&(b||(U+=-y.realHeight+Y*2),B=-1);var z=v.x,K=v.y;if(x.roundPixels&&(z=Math.floor(z),K=Math.floor(K)),w.applyITRS(z,K,v.rotation,v.scaleX*V,v.scaleY*B),R.copyFrom(x.matrix),S?(R.multiplyWithOffset(S,-x.scrollX*v.scrollFactorX,-x.scrollY*v.scrollFactorY),w.e=z,w.f=K):(w.e-=x.scrollX*v.scrollFactorX,w.f-=x.scrollY*v.scrollFactorY),R.multiply(w),x.renderRoundPixels&&(R.e=Math.floor(R.e+.5),R.f=Math.floor(R.f+.5)),A.save(),R.setToContext(A),A.globalCompositeOperation=this.blendModes[v.blendMode],A.globalAlpha=E,A.imageSmoothingEnabled=!y.source.scaleMode,v.mask&&v.mask.preRenderCanvas(this,v,x),L>0&&D>0){var k=L/G,J=D/G;x.roundPixels&&(H=Math.floor(H+.5),U=Math.floor(U+.5),k+=.5,J+=.5),A.drawImage(y.source.image,O,F,L,D,H,U,k,J)}v.mask&&v.mask.postRenderCanvas(this,v,x),A.restore()}},destroy:function(){this.removeAllListeners(),this.game=null,this.gameCanvas=null,this.gameContext=null}});f.exports=c},55830:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={CanvasRenderer:t(68627),GetBlendModes:t(56373),SetTransform:t(20926)}},56373:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(10312),g=t(89289),o=function(){var a=[],r=g.supportNewBlendModes,i="source-over";return a[h.NORMAL]=i,a[h.ADD]="lighter",a[h.MULTIPLY]=r?"multiply":i,a[h.SCREEN]=r?"screen":i,a[h.OVERLAY]=r?"overlay":i,a[h.DARKEN]=r?"darken":i,a[h.LIGHTEN]=r?"lighten":i,a[h.COLOR_DODGE]=r?"color-dodge":i,a[h.COLOR_BURN]=r?"color-burn":i,a[h.HARD_LIGHT]=r?"hard-light":i,a[h.SOFT_LIGHT]=r?"soft-light":i,a[h.DIFFERENCE]=r?"difference":i,a[h.EXCLUSION]=r?"exclusion":i,a[h.HUE]=r?"hue":i,a[h.SATURATION]=r?"saturation":i,a[h.COLOR]=r?"color":i,a[h.LUMINOSITY]=r?"luminosity":i,a[h.ERASE]="destination-out",a[h.SOURCE_IN]="source-in",a[h.SOURCE_OUT]="source-out",a[h.SOURCE_ATOP]="source-atop",a[h.DESTINATION_OVER]="destination-over",a[h.DESTINATION_IN]="destination-in",a[h.DESTINATION_OUT]="destination-out",a[h.DESTINATION_ATOP]="destination-atop",a[h.LIGHTER]="lighter",a[h.COPY]="copy",a[h.XOR]="xor",a};f.exports=o},20926:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91296),g=function(o,a,r,i,n){var l=i.alpha*r.alpha;if(l<=0)return!1;var s=h(r,i,n).calc;return a.globalCompositeOperation=o.blendModes[r.blendMode],a.globalAlpha=l,a.save(),s.setToContext(a),a.imageSmoothingEnabled=r.frame?!r.frame.source.scaleMode:o.antialias,!0};f.exports=g},63899:f=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="losewebgl"},6119:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="postrender"},48070:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="prerender"},15640:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="render"},8912:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="resize"},87124:f=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="restorewebgl"},92503:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={LOSE_WEBGL:t(63899),POST_RENDER:t(6119),PRE_RENDER:t(48070),RENDER:t(15640),RESIZE:t(8912),RESTORE_WEBGL:t(87124)}},36909:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={Events:t(92503),Snapshot:t(89966)},f.exports.Canvas=t(55830),f.exports.WebGL=t(4159)},32880:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(27919),g=t(40987),o=t(95540),a=function(r,i){var n=o(i,"callback"),l=o(i,"type","image/png"),s=o(i,"encoder",.92),u=Math.abs(Math.round(o(i,"x",0))),d=Math.abs(Math.round(o(i,"y",0))),c=Math.floor(o(i,"width",r.width)),v=Math.floor(o(i,"height",r.height)),y=o(i,"getPixel",!1);if(y){var x=r.getContext("2d",{willReadFrequently:!1}),S=x.getImageData(u,d,1,1),E=S.data;n.call(null,new g(E[0],E[1],E[2],E[3]))}else if(u!==0||d!==0||c!==r.width||v!==r.height){var A=h.createWebGL(this,c,v),R=A.getContext("2d",{willReadFrequently:!0});c>0&&v>0&&R.drawImage(r,u,d,c,v,0,0,c,v);var w=new Image;w.onerror=function(){n.call(null),h.remove(A)},w.onload=function(){n.call(null,w),h.remove(A)},w.src=A.toDataURL(l,s)}else{var I=new Image;I.onerror=function(){n.call(null)},I.onload=function(){n.call(null,I)},I.src=r.toDataURL(l,s)}};f.exports=a},88815:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(27919),g=t(40987),o=t(95540),a=function(r,i){var n=r,l=o(i,"callback"),s=o(i,"type","image/png"),u=o(i,"encoder",.92),d=Math.abs(Math.round(o(i,"x",0))),c=Math.abs(Math.round(o(i,"y",0))),v=o(i,"getPixel",!1),y=o(i,"isFramebuffer",!1),x=y?o(i,"bufferWidth",1):n.drawingBufferWidth,S=y?o(i,"bufferHeight",1):n.drawingBufferHeight;if(v){var E=new Uint8Array(4),A=y?c:S-c;n.readPixels(d,A,1,1,n.RGBA,n.UNSIGNED_BYTE,E),l.call(null,new g(E[0],E[1],E[2],E[3]))}else{var R=Math.floor(o(i,"width",x)),w=Math.floor(o(i,"height",S)),I=R*w*4,O=new Uint8Array(I);n.readPixels(d,S-c-w,R,w,n.RGBA,n.UNSIGNED_BYTE,O);for(var F=h.createWebGL(this,R,w),L=F.getContext("2d",{willReadFrequently:!0}),D=L.getImageData(0,0,R,w),b=D.data,G=0;G<w;G++)for(var W=0;W<R;W++){var Y=((w-G-1)*R+W)*4,H=y?I-(G*R+(R-W))*4:(G*R+W)*4;b[H+0]=O[Y+0],b[H+1]=O[Y+1],b[H+2]=O[Y+2],b[H+3]=O[Y+3]}L.putImageData(D,0,0);var U=new Image;U.onerror=function(){l.call(null),h.remove(F)},U.onload=function(){l.call(null,U),h.remove(F)},U.src=F.toDataURL(s,u)}};f.exports=a},89966:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={Canvas:t(32880),WebGL:t(88815)}},7530:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(36060),o=t(90330),a=t(82264),r=t(95540),i=t(32302),n=t(63448),l=t(31302),s=t(58918),u=t(14811),d=t(92651),c=t(96569),v=t(56527),y=t(57516),x=t(43439),S=t(81041),E=t(12385),A=t(7589),R=t(95428),w=t(72905),I=new h({initialize:function(F){this.game=F.game,this.renderer=F,this.classes=new o([[g.UTILITY_PIPELINE,A],[g.MULTI_PIPELINE,y],[g.BITMAPMASK_PIPELINE,l],[g.SINGLE_PIPELINE,E],[g.ROPE_PIPELINE,S],[g.LIGHT_PIPELINE,c],[g.POINTLIGHT_PIPELINE,x],[g.MOBILE_PIPELINE,v]]),this.postPipelineClasses=new o,this.pipelines=new o,this.postPipelineInstances=[],this.default=null,this.current=null,this.previous=null,this.MULTI_PIPELINE=null,this.BITMAPMASK_PIPELINE=null,this.UTILITY_PIPELINE=null,this.MOBILE_PIPELINE=null,this.FX_PIPELINE=null,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderTargets=[],this.maxDimension=0,this.frameInc=32,this.targetIndex=0},boot:function(O,F,L){var D=this.renderer,b=this.renderTargets;this.frameInc=Math.floor(r(O,"frameInc",32));var G=D.width,W=D.height,Y=this.game.config.disablePreFX,H=this.game.config.disablePostFX;if(H||this.postPipelineClasses.setAll([[String(u.BARREL),s.Barrel],[String(u.BLOOM),s.Bloom],[String(u.BLUR),s.Blur],[String(u.BOKEH),s.Bokeh],[String(u.CIRCLE),s.Circle],[String(u.COLOR_MATRIX),s.ColorMatrix],[String(u.DISPLACEMENT),s.Displacement],[String(u.GLOW),s.Glow],[String(u.GRADIENT),s.Gradient],[String(u.PIXELATE),s.Pixelate],[String(u.SHADOW),s.Shadow],[String(u.SHINE),s.Shine],[String(u.VIGNETTE),s.Vignette],[String(u.WIPE),s.Wipe]]),!Y){this.classes.set(g.FX_PIPELINE,d);for(var U=Math.min(G,W),X=Math.ceil(U/this.frameInc),V=1;V<X;V++){var B=V*this.frameInc;b.push(new i(D,B,B)),b.push(new i(D,B,B)),b.push(new i(D,B,B)),this.maxDimension=B}b.push(new i(D,G,W,1,0,!0,!0)),b.push(new i(D,G,W,1,0,!0,!0)),b.push(new i(D,G,W,1,0,!0,!0))}var z,K,k=this,J=this.game;if(this.classes.each(function(j,Z){z=k.add(j,new Z({game:J})),j===g.UTILITY_PIPELINE&&(k.UTILITY_PIPELINE=z,k.fullFrame1=z.fullFrame1,k.fullFrame2=z.fullFrame2,k.halfFrame1=z.halfFrame1,k.halfFrame2=z.halfFrame2)}),this.MULTI_PIPELINE=this.get(g.MULTI_PIPELINE),this.BITMAPMASK_PIPELINE=this.get(g.BITMAPMASK_PIPELINE),this.MOBILE_PIPELINE=this.get(g.MOBILE_PIPELINE),Y||(this.FX_PIPELINE=this.get(g.FX_PIPELINE)),O)for(K in O){var q=O[K];z=new q(J),z.name=K,z.isPostFX?this.postPipelineClasses.set(K,q):this.has(K)||(this.classes.set(K,q),this.add(K,z))}this.default=this.get(F),L&&!a.os.desktop&&(this.default=this.MOBILE_PIPELINE)},setDefaultPipeline:function(O){var F=this.get(O);return F&&(this.default=F),F},add:function(O,F){if(F.isPostFX){console.warn(O+" is a Post Pipeline. Use `addPostPipeline` instead");return}var L=this.pipelines,D=this.renderer;return L.has(O)?console.warn("Pipeline exists: "+O):(F.name=O,F.manager=this,L.set(O,F)),F.hasBooted||F.boot(),D.width!==0&&D.height!==0&&!F.isPreFX&&F.resize(D.width,D.height),F},addPostPipeline:function(O,F){this.postPipelineClasses.has(O)||this.postPipelineClasses.set(O,F)},flush:function(){this.current&&this.current.flush()},has:function(O){var F=this.pipelines;return typeof O=="string"?F.has(O):!!F.contains(O)},get:function(O){var F=this.pipelines;if(typeof O=="string")return F.get(O);if(F.contains(O))return O},getPostPipeline:function(O,F,L){var D=this.postPipelineClasses,b,G="",W=typeof O;if(W==="string"||W==="number"?(b=D.get(O),G=O):W==="function"?(D.contains(O)&&(b=O),G=O.name):W==="object"&&(b=D.get(O.name),G=O.name),b){var Y=new b(this.game,L);return Y.name=G,F&&(Y.gameObject=F),this.postPipelineInstances.push(Y),Y}},removePostPipeline:function(O){w(this.postPipelineInstances,O)},remove:function(O,F,L){F===void 0&&(F=!0),L===void 0&&(L=!0),this.pipelines.delete(O),F&&this.classes.delete(O),L&&this.postPipelineClasses.delete(O)},set:function(O,F,L){if(!O.isPostFX)return this.isCurrent(O,L)||(this.flush(),this.current&&this.current.unbind(),this.current=O,O.bind(L)),O.updateProjectionMatrix(),O.onBind(F),O},preBatch:function(O){if(O.hasPostPipeline){this.flush();for(var F=O.postPipelines,L=F.length-1;L>=0;L--){var D=F[L];D.active&&D.preBatch(O)}}},postBatch:function(O){if(O.hasPostPipeline){this.flush();for(var F=O.postPipelines,L=0;L<F.length;L++){var D=F[L];D.active&&D.postBatch(O)}}},preBatchCamera:function(O){if(O.hasPostPipeline){this.flush();for(var F=O.postPipelines,L=F.length-1;L>=0;L--){var D=F[L];D.active&&D.preBatch(O)}}},postBatchCamera:function(O){if(O.hasPostPipeline){this.flush();for(var F=O.postPipelines,L=0;L<F.length;L++){var D=F[L];D.active&&D.postBatch(O)}}},isCurrent:function(O,F){var L=this.renderer,D=this.current;return D&&!F&&(F=D.currentShader),!(D!==O||F.program!==L.currentProgram)},copyFrame:function(O,F,L,D,b){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyFrame(O,F,L,D,b),this},copyToGame:function(O){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyToGame(O),this},drawFrame:function(O,F,L,D){return this.setUtility(this.UTILITY_PIPELINE.colorMatrixShader).drawFrame(O,F,L,D),this},blendFrames:function(O,F,L,D,b){return this.setUtility(this.UTILITY_PIPELINE.linearShader).blendFrames(O,F,L,D,b),this},blendFramesAdditive:function(O,F,L,D,b){return this.setUtility(this.UTILITY_PIPELINE.addShader).blendFramesAdditive(O,F,L,D,b),this},clearFrame:function(O,F){return this.UTILITY_PIPELINE.clearFrame(O,F),this},blitFrame:function(O,F,L,D,b,G){return this.setUtility(this.UTILITY_PIPELINE.copyShader).blitFrame(O,F,L,D,b,G),this},copyFrameRect:function(O,F,L,D,b,G,W,Y){return this.UTILITY_PIPELINE.copyFrameRect(O,F,L,D,b,G,W,Y),this},forceZero:function(){return this.current&&this.current.forceZero},setMulti:function(){return this.set(this.MULTI_PIPELINE)},setUtility:function(O){return this.UTILITY_PIPELINE.bind(O)},setFX:function(){return this.set(this.FX_PIPELINE)},restoreContext:function(){this.rebind(),this.pipelines.each(function(O,F){F.restoreContext()}),R(this.postPipelineInstances,function(O){O.restoreContext()})},rebind:function(O){O===void 0&&this.previous&&(O=this.previous);var F=this.renderer,L=F.gl;L.disable(L.DEPTH_TEST),L.disable(L.CULL_FACE),F.hasActiveStencilMask()?L.clear(L.DEPTH_BUFFER_BIT):(L.disable(L.STENCIL_TEST),L.clear(L.DEPTH_BUFFER_BIT|L.STENCIL_BUFFER_BIT)),L.viewport(0,0,F.width,F.height),F.currentProgram=null,F.setBlendMode(0,!0);var D=F.vaoExtension;D&&D.bindVertexArrayOES(null);var b=this.pipelines.entries;for(var G in b)b[G].glReset=!0;O&&(this.current=O,O.rebind())},clear:function(){var O=this.renderer;this.flush(),this.current?(this.current.unbind(),this.previous=this.current,this.current=null):this.previous=null,O.currentProgram=null,O.setBlendMode(0,!0);var F=O.vaoExtension;F&&F.bindVertexArrayOES(null)},getRenderTarget:function(O){var F=this.renderTargets,L=3;if(O>this.maxDimension)return this.targetIndex=F.length-L,F[this.targetIndex];var D=(n(O,this.frameInc,0,!0)-1)*L;return this.targetIndex=D,F[D]},getSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+1]},getAltSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+2]},destroy:function(){this.flush(),this.classes.clear(),this.postPipelineClasses.clear(),this.pipelines.clear(),this.renderer=null,this.game=null,this.classes=null,this.postPipelineClasses=null,this.pipelines=null,this.default=null,this.current=null,this.previous=null}});f.exports=I},32302:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(92503),o=new h({initialize:function(r,i,n,l,s,u,d,c,v){l===void 0&&(l=1),s===void 0&&(s=0),u===void 0&&(u=!0),d===void 0&&(d=!1),c===void 0&&(c=!0),v===void 0&&(v=!0),this.renderer=r,this.framebuffer=null,this.texture=null,this.width=0,this.height=0,this.scale=l,this.minFilter=s,this.autoClear=u,this.autoResize=!0,this.hasDepthBuffer=c,this.forceClamp=v,this.init(i,n),d?this.renderer.on(g.RESIZE,this.resize,this):this.autoResize=!1},init:function(a,r){var i=this.renderer;this.texture=i.createTextureFromSource(null,a,r,this.minFilter,this.forceClamp),this.framebuffer=i.createFramebuffer(a,r,this.texture,this.hasDepthBuffer),this.width=a,this.height=r},setAutoResize:function(a){return a&&!this.autoResize?(this.renderer.on(g.RESIZE,this.resize,this),this.autoResize=!0):!a&&this.autoResize&&(this.renderer.off(g.RESIZE,this.resize,this),this.autoResize=!1),this},resize:function(a,r){if(this.autoResize&&this.willResize(a,r)){var i=this.renderer;i.deleteFramebuffer(this.framebuffer),i.deleteTexture(this.texture),this.texture=i.createTextureFromSource(null,a,r,this.minFilter,this.forceClamp),this.framebuffer=i.createFramebuffer(a,r,this.texture,this.hasDepthBuffer),this.width=a,this.height=r}return this},willResize:function(a,r){return typeof a!="number"||typeof r!="number"?!1:(a=Math.round(a*this.scale),r=Math.round(r*this.scale),a=Math.max(a,1),r=Math.max(r,1),a!==this.width||r!==this.height)},bind:function(a,r,i){a===void 0&&(a=!1);var n=this.renderer;if(a&&n.flush(),r&&i&&this.resize(r,i),n.pushFramebuffer(this.framebuffer,!1,!1),a&&this.adjustViewport(),this.autoClear){var l=this.renderer.gl;l.clearColor(0,0,0,0),l.clear(l.COLOR_BUFFER_BIT)}n.clearStencilMask()},adjustViewport:function(){var a=this.renderer.gl;a.viewport(0,0,this.width,this.height),a.disable(a.SCISSOR_TEST)},clear:function(a,r,i,n){var l=this.renderer,s=l.gl;l.pushFramebuffer(this.framebuffer),a!==void 0&&r!==void 0&&i!==void 0&&n!==void 0?(s.enable(s.SCISSOR_TEST),s.scissor(a,r,i,n)):s.disable(s.SCISSOR_TEST),s.clearColor(0,0,0,0),s.clear(s.COLOR_BUFFER_BIT),l.popFramebuffer(),l.resetScissor()},unbind:function(a){a===void 0&&(a=!1);var r=this.renderer;return a&&r.flush(),r.popFramebuffer()},destroy:function(){var a=this.renderer;a.off(g.RESIZE,this.resize,this),a.deleteFramebuffer(this.framebuffer),a.deleteTexture(this.texture),this.renderer=null,this.framebuffer=null,this.texture=null}});f.exports=o},70554:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @author       Matthew Groves <@doormat>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={getTintFromFloats:function(C,t,h,g){var o=(C*255|0)&255,a=(t*255|0)&255,r=(h*255|0)&255,i=(g*255|0)&255;return(i<<24|o<<16|a<<8|r)>>>0},getTintAppendFloatAlpha:function(C,t){var h=(t*255|0)&255;return(h<<24|C)>>>0},getTintAppendFloatAlphaAndSwap:function(C,t){var h=(C>>16|0)&255,g=(C>>8|0)&255,o=(C|0)&255,a=(t*255|0)&255;return(a<<24|o<<16|g<<8|h)>>>0},getFloatsFromUintRGB:function(C){var t=(C>>16|0)&255,h=(C>>8|0)&255,g=(C|0)&255;return[t/255,h/255,g/255]},checkShaderMax:function(C,t){var h=Math.min(16,C.getParameter(C.MAX_TEXTURE_IMAGE_UNITS));return!t||t===-1?h:Math.min(h,t)},parseFragmentShaderMaxTextures:function(C,t){if(!C)return"";for(var h="",g=0;g<t;g++)g>0&&(h+=`
	else `),g<t-1&&(h+="if (outTexId < "+g+".5)"),h+=`
	{`,h+=`
		texture = texture2D(uMainSampler[`+g+"], outTexCoord);",h+=`
	}`;return C=C.replace(/%count%/gi,t.toString()),C.replace(/%forloop%/gi,h)},setGlowQuality:function(C,t,h,g){return h===void 0&&(h=t.config.glowFXQuality),g===void 0&&(g=t.config.glowFXDistance),C=C.replace(/__SIZE__/gi,(1/h/g).toFixed(7)),C=C.replace(/__DIST__/gi,g.toFixed(0)+".0"),C}}},29100:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(62644),o=t(50792),a=t(77085),r=t(95540),i=t(37867),n=t(92503),l=t(32302),s=t(70554),u=t(38683),d=new h({Extends:o,initialize:function(v){o.call(this);var y=v.game,x=y.renderer,S=x.gl;this.name=r(v,"name","WebGLPipeline"),this.game=y,this.renderer=x,this.manager,this.gl=S,this.view=y.canvas,this.width=0,this.height=0,this.vertexCount=0,this.vertexCapacity=0,this.vertexData,this.vertexBuffer,this.activeBuffer,this.topology=r(v,"topology",S.TRIANGLES),this.bytes,this.vertexViewF32,this.vertexViewU32,this.active=!0,this.forceZero=r(v,"forceZero",!1),this.hasBooted=!1,this.isPostFX=!1,this.isPreFX=!1,this.renderTargets=[],this.currentRenderTarget,this.shaders=[],this.currentShader,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.config=v,this.glReset=!1,this.batch=[],this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.activeTextures=[],this.resizeUniform=r(v,"resizeUniform","")},boot:function(){var c,v=this.gl,y=this.config,x=this.renderer;this.isPostFX||(this.projectionMatrix=new i().identity());var S=this.renderTargets,E=r(y,"renderTarget",!1);typeof E=="boolean"&&E&&(E=1);var A=x.width,R=x.height;if(typeof E=="number")for(c=0;c<E;c++)S.push(new l(x,A,R,1,0,!0));else if(Array.isArray(E))for(c=0;c<E.length;c++){var w=r(E[c],"scale",1),I=r(E[c],"minFilter",0),O=r(E[c],"autoClear",1),F=r(E[c],"autoResize",!1),L=r(E[c],"width",null),D=r(E[c],"height",L);L?S.push(new l(x,L,D,1,I,O,F)):S.push(new l(x,A,R,w,I,O,F))}S.length&&(this.currentRenderTarget=S[0]),this.setShadersFromConfig(y);var b=this.shaders,G=0;for(c=0;c<b.length;c++)b[c].vertexSize>G&&(G=b[c].vertexSize);var W=r(y,"batchSize",x.config.batchSize);this.vertexCapacity=W*6;var Y=new ArrayBuffer(this.vertexCapacity*G);this.vertexData=Y,this.bytes=new Uint8Array(Y),this.vertexViewF32=new Float32Array(Y),this.vertexViewU32=new Uint32Array(Y);var H=r(y,"vertices",null);for(H?(this.vertexViewF32.set(H),this.vertexBuffer=x.createVertexBuffer(Y,v.STATIC_DRAW)):this.vertexBuffer=x.createVertexBuffer(Y.byteLength,v.DYNAMIC_DRAW),this.setVertexBuffer(),c=b.length-1;c>=0;c--)b[c].rebind();this.hasBooted=!0,x.on(n.RESIZE,this.resize,this),x.on(n.PRE_RENDER,this.onPreRender,this),x.on(n.RENDER,this.onRender,this),x.on(n.POST_RENDER,this.onPostRender,this),this.emit(a.BOOT,this),this.onBoot()},onBoot:function(){},onResize:function(){},setShader:function(c,v,y){var x=this.renderer;if(c!==this.currentShader||x.currentProgram!==this.currentShader.program){this.flush();var S=this.setVertexBuffer(y);S&&!v&&(v=!0),c.bind(v,!1),this.currentShader=c}return this},getShaderByName:function(c){for(var v=this.shaders,y=0;y<v.length;y++)if(v[y].name===c)return v[y]},setShadersFromConfig:function(c){var v,y=this.shaders,x=this.renderer;for(v=0;v<y.length;v++)y[v].destroy();var S="vertShader",E="fragShader",A="attributes",R=r(c,S,null),w=s.parseFragmentShaderMaxTextures(r(c,E,null),x.maxTextures),I=r(c,A,null),O=r(c,"shaders",[]),F=O.length;if(F===0)R&&w&&(this.shaders=[new u(this,"default",R,w,g(I))]);else{var L=[];for(v=0;v<F;v++){var D=O[v],b,G,W,Y;if(typeof D=="string"?(b="default",G=R,W=s.parseFragmentShaderMaxTextures(D,x.maxTextures),Y=I):(b=r(D,"name","default"),G=r(D,S,R),W=s.parseFragmentShaderMaxTextures(r(D,E,w),x.maxTextures),Y=r(D,A,I)),b==="default"){var H=W.split(`
`),U=H[0].trim();U.indexOf("#define SHADER_NAME")>-1&&(b=U.substring(20))}G&&W&&L.push(new u(this,b,G,W,g(Y)))}this.shaders=L}return this.shaders.length===0?console.warn("Pipeline: "+this.name+" - Invalid shader config"):this.currentShader=this.shaders[0],this},createBatch:function(c){return this.currentBatch={start:this.vertexCount,count:0,texture:[c],unit:0,maxUnit:0},this.currentUnit=0,this.currentTexture=c,this.batch.push(this.currentBatch),0},addTextureToBatch:function(c){var v=this.currentBatch;v&&(v.texture.push(c),v.unit++,v.maxUnit++)},pushBatch:function(c){if(!this.currentBatch||this.forceZero&&c!==this.currentTexture)return this.createBatch(c);if(c===this.currentTexture)return this.currentUnit;var v=this.currentBatch,y=v.texture.indexOf(c);return y===-1?v.texture.length===this.renderer.maxTextures?this.createBatch(c):(v.unit++,v.maxUnit++,v.texture.push(c),this.currentUnit=v.unit,this.currentTexture=c,v.unit):(this.currentUnit=y,this.currentTexture=c,y)},setGameObject:function(c,v){return v===void 0&&(v=c.frame),this.pushBatch(v.source.glTexture)},shouldFlush:function(c){return c===void 0&&(c=0),this.vertexCount+c>this.vertexCapacity},vertexAvailable:function(){return this.vertexCapacity-this.vertexCount},resize:function(c,v){(c!==this.width||v!==this.height)&&this.flush(),this.width=c,this.height=v;for(var y=this.renderTargets,x=0;x<y.length;x++)y[x].resize(c,v);return this.setProjectionMatrix(c,v),this.resizeUniform&&this.set2f(this.resizeUniform,c,v),this.emit(a.RESIZE,c,v,this),this.onResize(c,v),this},setProjectionMatrix:function(c,v){var y=this.projectionMatrix;if(!y)return this;this.projectionWidth=c,this.projectionHeight=v,y.ortho(0,c,v,0,-1e3,1e3);for(var x=this.shaders,S="uProjectionMatrix",E=0;E<x.length;E++){var A=x[E];A.hasUniform(S)&&(A.resetUniform(S),A.setMatrix4fv(S,!1,y.val,A))}return this},flipProjectionMatrix:function(c){c===void 0&&(c=!0);var v=this.projectionMatrix;if(!v)return this;var y=this.projectionWidth,x=this.projectionHeight;c?v.ortho(0,y,0,x,-1e3,1e3):v.ortho(0,y,x,0,-1e3,1e3),this.setMatrix4fv("uProjectionMatrix",!1,v.val)},updateProjectionMatrix:function(){if(this.projectionMatrix){var c=this.renderer.projectionWidth,v=this.renderer.projectionHeight;(this.projectionWidth!==c||this.projectionHeight!==v)&&this.setProjectionMatrix(c,v)}},bind:function(c){if(c===void 0&&(c=this.currentShader),this.glReset)return this.rebind(c);var v=!1,y=this.gl;return y.getParameter(y.ARRAY_BUFFER_BINDING)!==this.vertexBuffer&&(y.bindBuffer(y.ARRAY_BUFFER,this.vertexBuffer.webGLBuffer),this.activeBuffer=this.vertexBuffer,v=!0),c.bind(v),this.currentShader=c,this.activeTextures.length=0,this.emit(a.BIND,this,c),this.onActive(c),this},rebind:function(c){this.activeBuffer=null,this.setVertexBuffer();for(var v=this.shaders,y=v.length-1;y>=0;y--){var x=v[y].rebind();(!c||x===c)&&(this.currentShader=x)}return this.activeTextures.length=0,this.emit(a.REBIND,this.currentShader),this.onActive(this.currentShader),this.onRebind(),this.glReset=!1,this},restoreContext:function(){var c=this.shaders,v=!!this.vertexBuffer;this.activeBuffer=null,this.activeTextures.length=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,v&&this.setVertexBuffer();for(var y=0;y<c.length;y++){var x=c[y];x.syncUniforms(),v&&x.rebind()}},setVertexBuffer:function(c){if(c===void 0&&(c=this.vertexBuffer),c!==this.activeBuffer){var v=this.gl;return this.gl.bindBuffer(v.ARRAY_BUFFER,c.webGLBuffer),this.activeBuffer=c,!0}return!1},preBatch:function(c){return this.currentRenderTarget&&this.currentRenderTarget.bind(),this.onPreBatch(c),this},postBatch:function(c){return this.onDraw(this.currentRenderTarget),this.onPostBatch(c),this},onDraw:function(){},unbind:function(){this.currentRenderTarget&&this.currentRenderTarget.unbind()},flush:function(c){if(c===void 0&&(c=!1),this.vertexCount>0){this.emit(a.BEFORE_FLUSH,this,c),this.onBeforeFlush(c);var v=this.gl,y=this.vertexCount,x=this.currentShader.vertexSize,S=this.topology;if(this.active){this.setVertexBuffer(),y===this.vertexCapacity?v.bufferData(v.ARRAY_BUFFER,this.vertexData,v.DYNAMIC_DRAW):v.bufferSubData(v.ARRAY_BUFFER,0,this.bytes.subarray(0,y*x));var E,A,R,w=this.batch,I=this.activeTextures;if(this.forceZero)for(I[0]||v.activeTexture(v.TEXTURE0),E=0;E<w.length;E++)A=w[E],R=A.texture[0],I[0]!==R&&(v.bindTexture(v.TEXTURE_2D,R.webGLTexture),I[0]=R),v.drawArrays(S,A.start,A.count);else for(E=0;E<w.length;E++){A=w[E];for(var O=0;O<=A.maxUnit;O++)R=A.texture[O],I[O]!==R&&(v.activeTexture(v.TEXTURE0+O),v.bindTexture(v.TEXTURE_2D,R.webGLTexture),I[O]=R);v.drawArrays(S,A.start,A.count)}}this.vertexCount=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.emit(a.AFTER_FLUSH,this,c),this.onAfterFlush(c)}return this},onActive:function(){},onBind:function(){},onRebind:function(){},onBatch:function(){},onPreBatch:function(){},onPostBatch:function(){},onPreRender:function(){},onRender:function(){},onPostRender:function(){},onBeforeFlush:function(){},onAfterFlush:function(){},batchVert:function(c,v,y,x,S,E,A){var R=this.vertexViewF32,w=this.vertexViewU32,I=this.vertexCount*this.currentShader.vertexComponentCount-1;R[++I]=c,R[++I]=v,R[++I]=y,R[++I]=x,R[++I]=S,R[++I]=E,w[++I]=A,this.vertexCount++,this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchQuad:function(c,v,y,x,S,E,A,R,w,I,O,F,L,D,b,G,W,Y,H,U){U===void 0&&(U=this.currentUnit);var X=!1;this.shouldFlush(6)&&(this.flush(),X=!0),this.currentBatch||(U=this.setTexture2D(H));var V=this.vertexViewF32,B=this.vertexViewU32,z=this.vertexCount*this.currentShader.vertexComponentCount-1;return V[++z]=v,V[++z]=y,V[++z]=I,V[++z]=O,V[++z]=U,V[++z]=Y,B[++z]=D,V[++z]=x,V[++z]=S,V[++z]=I,V[++z]=L,V[++z]=U,V[++z]=Y,B[++z]=G,V[++z]=E,V[++z]=A,V[++z]=F,V[++z]=L,V[++z]=U,V[++z]=Y,B[++z]=W,V[++z]=v,V[++z]=y,V[++z]=I,V[++z]=O,V[++z]=U,V[++z]=Y,B[++z]=D,V[++z]=E,V[++z]=A,V[++z]=F,V[++z]=L,V[++z]=U,V[++z]=Y,B[++z]=W,V[++z]=R,V[++z]=w,V[++z]=F,V[++z]=O,V[++z]=U,V[++z]=Y,B[++z]=b,this.vertexCount+=6,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(c),X},batchTri:function(c,v,y,x,S,E,A,R,w,I,O,F,L,D,b,G,W){W===void 0&&(W=this.currentUnit);var Y=!1;this.shouldFlush(3)&&(this.flush(),Y=!0),this.currentBatch||(W=this.setTexture2D(G));var H=this.vertexViewF32,U=this.vertexViewU32,X=this.vertexCount*this.currentShader.vertexComponentCount-1;return H[++X]=v,H[++X]=y,H[++X]=R,H[++X]=w,H[++X]=W,H[++X]=b,U[++X]=F,H[++X]=x,H[++X]=S,H[++X]=R,H[++X]=O,H[++X]=W,H[++X]=b,U[++X]=L,H[++X]=E,H[++X]=A,H[++X]=I,H[++X]=O,H[++X]=W,H[++X]=b,U[++X]=D,this.vertexCount+=3,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(c),Y},drawFillRect:function(c,v,y,x,S,E,A,R){A===void 0&&(A=this.renderer.whiteTexture),R===void 0&&(R=!0),c=Math.floor(c),v=Math.floor(v);var w=Math.floor(c+y),I=Math.floor(v+x),O=this.setTexture2D(A),F=s.getTintAppendFloatAlphaAndSwap(S,E),L=0,D=0,b=1,G=1;R&&(D=1,G=0),this.batchQuad(null,c,v,c,I,w,I,w,v,L,D,b,G,F,F,F,F,0,A,O)},setTexture2D:function(c){return c===void 0&&(c=this.renderer.whiteTexture),this.pushBatch(c)},bindTexture:function(c,v){v===void 0&&(v=0);var y=this.gl;return y.activeTexture(y.TEXTURE0+v),y.bindTexture(y.TEXTURE_2D,c.webGLTexture),this},bindRenderTarget:function(c,v){return this.bindTexture(c.texture,v)},setTime:function(c,v){return this.set1f(c,this.game.loop.getDuration(),v),this},setBoolean:function(c,v,y){return y===void 0&&(y=this.currentShader),y.setBoolean(c,v),this},set1f:function(c,v,y){return y===void 0&&(y=this.currentShader),y.set1f(c,v),this},set2f:function(c,v,y,x){return x===void 0&&(x=this.currentShader),x.set2f(c,v,y),this},set3f:function(c,v,y,x,S){return S===void 0&&(S=this.currentShader),S.set3f(c,v,y,x),this},set4f:function(c,v,y,x,S,E){return E===void 0&&(E=this.currentShader),E.set4f(c,v,y,x,S),this},set1fv:function(c,v,y){return y===void 0&&(y=this.currentShader),y.set1fv(c,v),this},set2fv:function(c,v,y){return y===void 0&&(y=this.currentShader),y.set2fv(c,v),this},set3fv:function(c,v,y){return y===void 0&&(y=this.currentShader),y.set3fv(c,v),this},set4fv:function(c,v,y){return y===void 0&&(y=this.currentShader),y.set4fv(c,v),this},set1iv:function(c,v,y){return y===void 0&&(y=this.currentShader),y.set1iv(c,v),this},set2iv:function(c,v,y){return y===void 0&&(y=this.currentShader),y.set2iv(c,v),this},set3iv:function(c,v,y){return y===void 0&&(y=this.currentShader),y.set3iv(c,v),this},set4iv:function(c,v,y){return y===void 0&&(y=this.currentShader),y.set4iv(c,v),this},set1i:function(c,v,y){return y===void 0&&(y=this.currentShader),y.set1i(c,v),this},set2i:function(c,v,y,x){return x===void 0&&(x=this.currentShader),x.set2i(c,v,y),this},set3i:function(c,v,y,x,S){return S===void 0&&(S=this.currentShader),S.set3i(c,v,y,x),this},set4i:function(c,v,y,x,S,E){return E===void 0&&(E=this.currentShader),E.set4i(c,v,y,x,S),this},setMatrix2fv:function(c,v,y,x){return x===void 0&&(x=this.currentShader),x.setMatrix2fv(c,v,y),this},setMatrix3fv:function(c,v,y,x){return x===void 0&&(x=this.currentShader),x.setMatrix3fv(c,v,y),this},setMatrix4fv:function(c,v,y,x){return x===void 0&&(x=this.currentShader),x.setMatrix4fv(c,v,y),this},destroy:function(){this.emit(a.DESTROY,this);var c,v=this.shaders;for(c=0;c<v.length;c++)v[c].destroy();var y=this.renderTargets;for(c=0;c<y.length;c++)y[c].destroy();var x=this.renderer;return x.deleteBuffer(this.vertexBuffer),x.off(n.RESIZE,this.resize,this),x.off(n.PRE_RENDER,this.onPreRender,this),x.off(n.RENDER,this.onRender,this),x.off(n.POST_RENDER,this.onPostRender,this),this.removeAllListeners(),this.game=null,this.renderer=null,this.manager=null,this.gl=null,this.view=null,this.shaders=null,this.renderTargets=null,this.bytes=null,this.vertexViewF32=null,this.vertexViewU32=null,this.vertexData=null,this.vertexBuffer=null,this.currentShader=null,this.currentRenderTarget=null,this.activeTextures=null,this}});f.exports=d},74797:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(95428),g=t(72905),o=t(19715),a=t(83419),r=t(8054),i=t(50792),n=t(92503),l=t(50030),s=t(37867),u=t(29747),d=t(7530),c=t(32302),v=t(97480),y=t(69442),x=t(70554),S=t(88815),E=t(26128),A=t(1482),R=t(82751),w=t(84387),I=t(93567),O=t(57183),F=new a({Extends:i,initialize:function(D){i.call(this);var b=D.config,G={alpha:b.transparent,desynchronized:b.desynchronized,depth:!0,antialias:b.antialiasGL,premultipliedAlpha:b.premultipliedAlpha,stencil:!0,failIfMajorPerformanceCaveat:b.failIfMajorPerformanceCaveat,powerPreference:b.powerPreference,preserveDrawingBuffer:b.preserveDrawingBuffer,willReadFrequently:!1};this.config={clearBeforeRender:b.clearBeforeRender,antialias:b.antialias,backgroundColor:b.backgroundColor,contextCreation:G,roundPixels:b.roundPixels,maxTextures:b.maxTextures,maxTextureSize:b.maxTextureSize,batchSize:b.batchSize,maxLights:b.maxLights,mipmapFilter:b.mipmapFilter},this.game=D,this.type=r.WEBGL,this.pipelines=null,this.width=0,this.height=0,this.canvas=D.canvas,this.blendModes=[],this.contextLost=!1,this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92,isFramebuffer:!1,bufferWidth:0,bufferHeight:0},this.maxTextures=0,this.textureIndexes,this.glBufferWrappers=[],this.glProgramWrappers=[],this.glTextureWrappers=[],this.glFramebufferWrappers=[],this.glAttribLocationWrappers=[],this.glUniformLocationWrappers=[],this.currentFramebuffer=null,this.fboStack=[],this.currentProgram=null,this.currentBlendMode=1/0,this.currentScissorEnabled=!1,this.currentScissor=null,this.scissorStack=[],this.contextLostHandler=u,this.contextRestoredHandler=u,this.previousContextLostHandler=u,this.previousContextRestoredHandler=u,this.gl=null,this.supportedExtensions=null,this.instancedArraysExtension=null,this.vaoExtension=null,this.extensions={},this.glFormats,this.compression,this.drawingBufferHeight=0,this.blankTexture=null,this.normalTexture=null,this.whiteTexture=null,this.maskCount=0,this.maskStack=[],this.currentMask={mask:null,camera:null},this.currentCameraMask={mask:null,camera:null},this.glFuncMap=null,this.currentType="",this.newType=!1,this.nextTypeMatch=!1,this.finalType=!1,this.mipmapFilter=null,this.defaultScissor=[0,0,0,0],this.isBooted=!1,this.renderTarget=null,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.maskSource=null,this.maskTarget=null,this.spector=null,this._debugCapture=!1,this.init(this.config)},init:function(L){var D,b=this.game,G=this.canvas,W=L.backgroundColor;if(b.config.context?D=b.config.context:D=G.getContext("webgl",L.contextCreation)||G.getContext("experimental-webgl",L.contextCreation),!D||D.isContextLost())throw this.contextLost=!0,new Error("WebGL unsupported");this.gl=D,this.setExtensions(),this.setContextHandlers(),b.context=D;for(var Y=0;Y<=27;Y++)this.blendModes.push({func:[D.ONE,D.ONE_MINUS_SRC_ALPHA],equation:D.FUNC_ADD});this.blendModes[1].func=[D.ONE,D.DST_ALPHA],this.blendModes[2].func=[D.DST_COLOR,D.ONE_MINUS_SRC_ALPHA],this.blendModes[3].func=[D.ONE,D.ONE_MINUS_SRC_COLOR],this.blendModes[17]={func:[D.ZERO,D.ONE_MINUS_SRC_ALPHA],equation:D.FUNC_REVERSE_SUBTRACT},this.glFormats=[D.BYTE,D.SHORT,D.UNSIGNED_BYTE,D.UNSIGNED_SHORT,D.FLOAT],this.glFuncMap={mat2:{func:D.uniformMatrix2fv,length:1,matrix:!0},mat3:{func:D.uniformMatrix3fv,length:1,matrix:!0},mat4:{func:D.uniformMatrix4fv,length:1,matrix:!0},"1f":{func:D.uniform1f,length:1},"1fv":{func:D.uniform1fv,length:1},"1i":{func:D.uniform1i,length:1},"1iv":{func:D.uniform1iv,length:1},"2f":{func:D.uniform2f,length:2},"2fv":{func:D.uniform2fv,length:1},"2i":{func:D.uniform2i,length:2},"2iv":{func:D.uniform2iv,length:1},"3f":{func:D.uniform3f,length:3},"3fv":{func:D.uniform3fv,length:1},"3i":{func:D.uniform3i,length:3},"3iv":{func:D.uniform3iv,length:1},"4f":{func:D.uniform4f,length:4},"4fv":{func:D.uniform4fv,length:1},"4i":{func:D.uniform4i,length:4},"4iv":{func:D.uniform4iv,length:1}},(!L.maxTextures||L.maxTextures===-1)&&(L.maxTextures=D.getParameter(D.MAX_TEXTURE_IMAGE_UNITS)),L.maxTextureSize||(L.maxTextureSize=D.getParameter(D.MAX_TEXTURE_SIZE)),this.compression=this.getCompressedTextures(),D.disable(D.DEPTH_TEST),D.disable(D.CULL_FACE),D.enable(D.BLEND),D.clearColor(W.redGL,W.greenGL,W.blueGL,W.alphaGL),D.clear(D.COLOR_BUFFER_BIT);var H=["NEAREST","LINEAR","NEAREST_MIPMAP_NEAREST","LINEAR_MIPMAP_NEAREST","NEAREST_MIPMAP_LINEAR","LINEAR_MIPMAP_LINEAR"];return H.indexOf(L.mipmapFilter)!==-1&&(this.mipmapFilter=D[L.mipmapFilter]),this.maxTextures=x.checkShaderMax(D,L.maxTextures),this.textureIndexes=[],this.createTemporaryTextures(),this.pipelines=new d(this),this.setBlendMode(r.BlendModes.NORMAL),this.projectionMatrix=new s().identity(),b.textures.once(y.READY,this.boot,this),this},boot:function(){var L=this.game,D=this.pipelines,b=L.scale.baseSize,G=b.width,W=b.height;this.width=G,this.height=W,this.isBooted=!0,this.renderTarget=new c(this,G,W,1,0,!0,!0),this.maskTarget=new c(this,G,W,1,0,!0,!0),this.maskSource=new c(this,G,W,1,0,!0,!0);var Y=L.config;D.boot(Y.pipeline,Y.defaultPipeline,Y.autoMobilePipeline),this.blankTexture=L.textures.getFrame("__DEFAULT").glTexture,this.normalTexture=L.textures.getFrame("__NORMAL").glTexture,this.whiteTexture=L.textures.getFrame("__WHITE").glTexture;var H=this.gl;H.bindFramebuffer(H.FRAMEBUFFER,null),H.enable(H.SCISSOR_TEST),L.scale.on(v.RESIZE,this.onResize,this),this.resize(G,W)},setExtensions:function(){var L=this.gl,D=L.getSupportedExtensions();this.supportedExtensions=D;var b="ANGLE_instanced_arrays";this.instancedArraysExtension=D.indexOf(b)>-1?L.getExtension(b):null;var G="OES_vertex_array_object";this.vaoExtension=D.indexOf(G)>-1?L.getExtension(G):null},setContextHandlers:function(L,D){this.previousContextLostHandler&&this.canvas.removeEventListener("webglcontextlost",this.previousContextLostHandler,!1),this.previousContextRestoredHandler&&this.canvas.removeEventListener("webglcontextlost",this.previousContextRestoredHandler,!1),typeof L=="function"?this.contextLostHandler=L.bind(this):this.contextLostHandler=this.dispatchContextLost.bind(this),typeof D=="function"?this.contextRestoredHandler=D.bind(this):this.contextRestoredHandler=this.dispatchContextRestored.bind(this),this.canvas.addEventListener("webglcontextlost",this.contextLostHandler,!1),this.canvas.addEventListener("webglcontextrestored",this.contextRestoredHandler,!1),this.previousContextLostHandler=this.contextLostHandler,this.previousContextRestoredHandler=this.contextRestoredHandler},dispatchContextLost:function(L){this.contextLost=!0,console&&console.warn("WebGL Context lost. Renderer disabled"),this.emit(n.LOSE_WEBGL,this),L.preventDefault()},dispatchContextRestored:function(L){var D=this.gl;if(D.isContextLost()){console&&console.log("WebGL Context restored, but context is still lost");return}this.currentProgram=null,this.currentFramebuffer=null,this.setBlendMode(r.BlendModes.NORMAL),D.disable(D.BLEND),D.disable(D.DEPTH_TEST),D.enable(D.CULL_FACE),this.compression=this.getCompressedTextures();var b=function(G){G.createResource()};h(this.glTextureWrappers,b),h(this.glBufferWrappers,b),h(this.glFramebufferWrappers,b),h(this.glProgramWrappers,b),h(this.glAttribLocationWrappers,b),h(this.glUniformLocationWrappers,b),this.createTemporaryTextures(),this.pipelines.restoreContext(),this.resize(this.game.scale.baseSize.width,this.game.scale.baseSize.height),this.setExtensions(),this.contextLost=!1,console&&console.warn("WebGL Context restored. Renderer running again."),this.emit(n.RESTORE_WEBGL,this),L.preventDefault()},createTemporaryTextures:function(){for(var L=this.gl,D=0;D<this.maxTextures;D++){var b=L.createTexture();L.activeTexture(L.TEXTURE0+D),L.bindTexture(L.TEXTURE_2D,b),L.texImage2D(L.TEXTURE_2D,0,L.RGBA,1,1,0,L.RGBA,L.UNSIGNED_BYTE,new Uint8Array([0,0,255,255])),this.textureIndexes.push(D)}},captureFrame:function(L,D){},captureNextFrame:function(){},getFps:function(){},log:function(){},startCapture:function(L,D,b){},stopCapture:function(){},onCapture:function(L){},onResize:function(L,D){(D.width!==this.width||D.height!==this.height)&&this.resize(D.width,D.height)},beginCapture:function(L,D){L===void 0&&(L=this.width),D===void 0&&(D=this.height),this.renderTarget.bind(!0,L,D),this.setProjectionMatrix(L,D)},endCapture:function(){return this.renderTarget.unbind(!0),this.resetProjectionMatrix(),this.renderTarget},resize:function(L,D){var b=this.gl;return this.width=L,this.height=D,this.setProjectionMatrix(L,D),b.viewport(0,0,L,D),this.drawingBufferHeight=b.drawingBufferHeight,b.scissor(0,b.drawingBufferHeight-D,L,D),this.defaultScissor[2]=L,this.defaultScissor[3]=D,this.emit(n.RESIZE,L,D),this},getCompressedTextures:function(){var L="WEBGL_compressed_texture_",D="WEBKIT_"+L,b="EXT_texture_compression_",G=function(Y,H){var U=Y.getExtension(L+H)||Y.getExtension(D+H)||Y.getExtension(b+H);if(U){var X={};for(var V in U)X[U[V]]=V;return X}},W=this.gl;return{ETC:G(W,"etc"),ETC1:G(W,"etc1"),ATC:G(W,"atc"),ASTC:G(W,"astc"),BPTC:G(W,"bptc"),RGTC:G(W,"rgtc"),PVRTC:G(W,"pvrtc"),S3TC:G(W,"s3tc"),S3TCSRGB:G(W,"s3tc_srgb"),IMG:!0}},getCompressedTextureName:function(L,D){var b=this.compression[L.toUpperCase()];if(D in b)return b[D]},supportsCompressedTexture:function(L,D){var b=this.compression[L.toUpperCase()];return b?D?D in b:!0:!1},getAspectRatio:function(){return this.width/this.height},setProjectionMatrix:function(L,D){return(L!==this.projectionWidth||D!==this.projectionHeight)&&(this.projectionWidth=L,this.projectionHeight=D,this.projectionMatrix.ortho(0,L,D,0,-1e3,1e3)),this},resetProjectionMatrix:function(){return this.setProjectionMatrix(this.width,this.height)},hasExtension:function(L){return this.supportedExtensions?this.supportedExtensions.indexOf(L):!1},getExtension:function(L){return this.hasExtension(L)?(L in this.extensions||(this.extensions[L]=this.gl.getExtension(L)),this.extensions[L]):null},flush:function(){this.pipelines.flush()},pushScissor:function(L,D,b,G,W){W===void 0&&(W=this.drawingBufferHeight);var Y=this.scissorStack,H=[L,D,b,G];return Y.push(H),this.setScissor(L,D,b,G,W),this.currentScissor=H,H},setScissor:function(L,D,b,G,W){W===void 0&&(W=this.drawingBufferHeight);var Y=this.gl,H=this.currentScissor,U=b>0&&G>0;if(H&&U){var X=H[0],V=H[1],B=H[2],z=H[3];U=X!==L||V!==D||B!==b||z!==G}U&&(this.flush(),Y.scissor(L,W-D-G,b,G))},resetScissor:function(){var L=this.gl;L.enable(L.SCISSOR_TEST);var D=this.currentScissor;if(D){var b=D[0],G=D[1],W=D[2],Y=D[3];W>0&&Y>0&&L.scissor(b,this.drawingBufferHeight-G-Y,W,Y)}},popScissor:function(){var L=this.scissorStack;L.pop();var D=L[L.length-1];D&&this.setScissor(D[0],D[1],D[2],D[3]),this.currentScissor=D},hasActiveStencilMask:function(){var L=this.currentMask.mask,D=this.currentCameraMask.mask;return L&&L.isStencil||D&&D.isStencil},resetViewport:function(){var L=this.gl;L.viewport(0,0,this.width,this.height),this.drawingBufferHeight=L.drawingBufferHeight},setBlendMode:function(L,D){D===void 0&&(D=!1);var b=this.gl,G=this.blendModes[L];return D||L!==r.BlendModes.SKIP_CHECK&&this.currentBlendMode!==L?(this.flush(),b.enable(b.BLEND),b.blendEquation(G.equation),G.func.length>2?b.blendFuncSeparate(G.func[0],G.func[1],G.func[2],G.func[3]):b.blendFunc(G.func[0],G.func[1]),this.currentBlendMode=L,!0):!1},addBlendMode:function(L,D){var b=this.blendModes.push({func:L,equation:D});return b-1},updateBlendMode:function(L,D,b){return this.blendModes[L]&&(this.blendModes[L].func=D,b&&(this.blendModes[L].equation=b)),this},removeBlendMode:function(L){return L>17&&this.blendModes[L]&&this.blendModes.splice(L,1),this},pushFramebuffer:function(L,D,b,G,W){return L===this.currentFramebuffer?this:(this.fboStack.push(L),this.setFramebuffer(L,D,b,G,W))},setFramebuffer:function(L,D,b,G,W){if(D===void 0&&(D=!1),b===void 0&&(b=!0),G===void 0&&(G=null),W===void 0&&(W=!1),L===this.currentFramebuffer)return this;var Y=this.gl,H=this.width,U=this.height;return L&&L.renderTexture&&b?(H=L.renderTexture.width,U=L.renderTexture.height):this.flush(),L?Y.bindFramebuffer(Y.FRAMEBUFFER,L.webGLFramebuffer):Y.bindFramebuffer(Y.FRAMEBUFFER,null),b&&Y.viewport(0,0,H,U),G&&Y.framebufferTexture2D(Y.FRAMEBUFFER,Y.COLOR_ATTACHMENT0,Y.TEXTURE_2D,G.webGLTexture,0),W&&(Y.clearColor(0,0,0,0),Y.clear(Y.COLOR_BUFFER_BIT)),D&&(L?(this.drawingBufferHeight=U,this.pushScissor(0,0,H,U)):(this.drawingBufferHeight=this.height,this.popScissor())),this.currentFramebuffer=L,this},popFramebuffer:function(L,D){L===void 0&&(L=!1),D===void 0&&(D=!0);var b=this.fboStack;b.pop();var G=b[b.length-1];return G||(G=null),this.setFramebuffer(G,L,D),G},restoreFramebuffer:function(L,D){L===void 0&&(L=!1),D===void 0&&(D=!0);var b=this.fboStack,G=b[b.length-1];G||(G=null),this.currentFramebuffer=null,this.setFramebuffer(G,L,D)},setProgram:function(L){return L!==this.currentProgram?(this.flush(),this.gl.useProgram(L.webGLProgram),this.currentProgram=L,!0):!1},resetProgram:function(){return this.gl.useProgram(this.currentProgram.webGLProgramWrapper),this},createTextureFromSource:function(L,D,b,G,W){W===void 0&&(W=!1);var Y=this.gl,H=Y.NEAREST,U=Y.NEAREST,X=Y.CLAMP_TO_EDGE,V=null;D=L?L.width:D,b=L?L.height:b;var B=l(D,b);if(B&&!W&&(X=Y.REPEAT),G===r.ScaleModes.LINEAR&&this.config.antialias){var z=L&&L.compressed,K=!z&&B||z&&L.mipmaps.length>1;H=this.mipmapFilter&&K?this.mipmapFilter:Y.LINEAR,U=Y.LINEAR}return!L&&typeof D=="number"&&typeof b=="number"?V=this.createTexture2D(0,H,U,X,X,Y.RGBA,null,D,b):V=this.createTexture2D(0,H,U,X,X,Y.RGBA,L),V},createTexture2D:function(L,D,b,G,W,Y,H,U,X,V,B,z){typeof U!="number"&&(U=H?H.width:1),typeof X!="number"&&(X=H?H.height:1);var K=new R(this.gl,L,D,b,G,W,Y,H,U,X,V,B,z);return this.glTextureWrappers.push(K),K},createFramebuffer:function(L,D,b,G){this.currentFramebuffer=null;var W=new w(this.gl,L,D,b,G);return this.glFramebufferWrappers.push(W),W},beginBitmapMask:function(L,D){var b=this.gl;b&&(this.flush(),this.maskTarget.bind(!0),this.currentCameraMask.mask!==L&&(this.currentMask.mask=L,this.currentMask.camera=D))},drawBitmapMask:function(L,D,b){this.flush(),this.maskSource.bind(),this.setBlendMode(0,!0),L.renderWebGL(this,L,D),this.maskSource.unbind(!0),this.maskTarget.unbind();var G=this.gl,W=this.getCurrentStencilMask();W?(G.enable(G.STENCIL_TEST),W.mask.applyStencil(this,W.camera,!0)):this.currentMask.mask=null,this.pipelines.set(b),G.activeTexture(G.TEXTURE0),G.bindTexture(G.TEXTURE_2D,this.maskTarget.texture.webGLTexture),G.activeTexture(G.TEXTURE1),G.bindTexture(G.TEXTURE_2D,this.maskSource.texture.webGLTexture)},createProgram:function(L,D){var b=new A(this.gl,L,D);return this.glProgramWrappers.push(b),b},createVertexBuffer:function(L,D){var b=this.gl,G=new E(b,L,b.ARRAY_BUFFER,D);return this.glBufferWrappers.push(G),G},createAttribLocation:function(L,D){var b=new I(this.gl,L,D);return this.glAttribLocationWrappers.push(b),b},createUniformLocation:function(L,D){var b=new O(this.gl,L,D);return this.glUniformLocationWrappers.push(b),b},createIndexBuffer:function(L,D){var b=this.gl,G=new E(b,L,b.ELEMENT_ARRAY_BUFFER,D);return this.glBufferWrappers.push(G),G},deleteTexture:function(L){if(L)return g(this.glTextureWrappers,L),L.destroy(),this},deleteFramebuffer:function(L){return L?(g(this.fboStack,L),g(this.glFramebufferWrappers,L),L.destroy(),this):this},deleteProgram:function(L){return L&&(g(this.glProgramWrappers,L),L.destroy()),this},deleteAttribLocation:function(L){return L&&(g(this.glAttribLocationWrappers,L),L.destroy()),this},deleteUniformLocation:function(L){return L&&(g(this.glUniformLocationWrappers,L),L.destroy()),this},deleteBuffer:function(L){return L?(g(this.glBufferWrappers,L),L.destroy(),this):this},preRenderCamera:function(L){var D=L.x,b=L.y,G=L.width,W=L.height,Y=L.backgroundColor;if(L.emit(o.PRE_RENDER,L),this.pipelines.preBatchCamera(L),this.pushScissor(D,b,G,W),L.mask&&(this.currentCameraMask.mask=L.mask,this.currentCameraMask.camera=L._maskCamera,L.mask.preRenderWebGL(this,L,L._maskCamera)),Y.alphaGL>0){var H=this.pipelines.setMulti();H.drawFillRect(D,b,G,W,x.getTintFromFloats(Y.blueGL,Y.greenGL,Y.redGL,1),Y.alphaGL)}},getCurrentStencilMask:function(){var L=null,D=this.maskStack,b=this.currentCameraMask;return D.length>0?L=D[D.length-1]:b.mask&&b.mask.isStencil&&(L=b),L},postRenderCamera:function(L){var D=L.flashEffect,b=L.fadeEffect;if(D.isRunning||b.isRunning||b.isComplete){var G=this.pipelines.setMulti();D.postRenderWebGL(G,x.getTintFromFloats),b.postRenderWebGL(G,x.getTintFromFloats)}L.dirty=!1,this.popScissor(),L.mask&&(this.currentCameraMask.mask=null,L.mask.postRenderWebGL(this,L._maskCamera)),this.pipelines.postBatchCamera(L),L.emit(o.POST_RENDER,L)},preRender:function(){if(!this.contextLost){var L=this.gl;if(L.bindFramebuffer(L.FRAMEBUFFER,null),this.emit(n.PRE_RENDER_CLEAR),this.config.clearBeforeRender){var D=this.config.backgroundColor;L.clearColor(D.redGL,D.greenGL,D.blueGL,D.alphaGL),L.clear(L.COLOR_BUFFER_BIT|L.DEPTH_BUFFER_BIT|L.STENCIL_BUFFER_BIT)}L.enable(L.SCISSOR_TEST),this.currentScissor=this.defaultScissor,this.scissorStack.length=0,this.scissorStack.push(this.currentScissor),this.game.scene.customViewports&&L.scissor(0,this.drawingBufferHeight-this.height,this.width,this.height),this.currentMask.mask=null,this.currentCameraMask.mask=null,this.maskStack.length=0,this.emit(n.PRE_RENDER)}},render:function(L,D,b){if(!this.contextLost){var G=D.length;if(this.emit(n.RENDER,L,b),this.preRenderCamera(b),G===0){this.setBlendMode(r.BlendModes.NORMAL),this.postRenderCamera(b);return}this.currentType="";for(var W=this.currentMask,Y=0;Y<G;Y++){this.finalType=Y===G-1;var H=D[Y],U=H.mask;W=this.currentMask,W.mask&&W.mask!==U&&W.mask.postRenderWebGL(this,W.camera),U&&W.mask!==U&&U.preRenderWebGL(this,H,b),H.blendMode!==this.currentBlendMode&&this.setBlendMode(H.blendMode);var X=H.type;X!==this.currentType&&(this.newType=!0,this.currentType=X),this.finalType?this.nextTypeMatch=!1:this.nextTypeMatch=D[Y+1].type===this.currentType,H.renderWebGL(this,H,b),this.newType=!1}W=this.currentMask,W.mask&&W.mask.postRenderWebGL(this,W.camera),this.setBlendMode(r.BlendModes.NORMAL),this.postRenderCamera(b)}},postRender:function(){if(!this.contextLost){this.flush(),this.emit(n.POST_RENDER);var L=this.snapshotState;L.callback&&(S(this.gl,L),L.callback=null)}},clearStencilMask:function(){this.gl.disable(this.gl.STENCIL_TEST)},restoreStencilMask:function(){var L=this.gl,D=this.getCurrentStencilMask();if(D){var b=D.mask;L.enable(L.STENCIL_TEST),b.invertAlpha?L.stencilFunc(L.NOTEQUAL,b.level,255):L.stencilFunc(L.EQUAL,b.level,255)}},snapshot:function(L,D,b){return this.snapshotArea(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight,L,D,b)},snapshotArea:function(L,D,b,G,W,Y,H){var U=this.snapshotState;return U.callback=W,U.type=Y,U.encoder=H,U.getPixel=!1,U.x=L,U.y=D,U.width=b,U.height=G,this},snapshotPixel:function(L,D,b){return this.snapshotArea(L,D,1,1,b),this.snapshotState.getPixel=!0,this},snapshotFramebuffer:function(L,D,b,G,W,Y,H,U,X,V,B){W===void 0&&(W=!1),Y===void 0&&(Y=0),H===void 0&&(H=0),U===void 0&&(U=D),X===void 0&&(X=b),V==="pixel"&&(W=!0,V="image/png");var z=this.currentFramebuffer;this.snapshotArea(Y,H,U,X,G,V,B);var K=this.snapshotState;return K.getPixel=W,K.isFramebuffer=!0,K.bufferWidth=D,K.bufferHeight=b,K.width=Math.min(K.width,D),K.height=Math.min(K.height,b),this.setFramebuffer(L),S(this.gl,K),this.setFramebuffer(z),K.callback=null,K.isFramebuffer=!1,this},canvasToTexture:function(L,D,b,G){b===void 0&&(b=!1),G===void 0&&(G=!1);var W=this.gl,Y=W.NEAREST,H=W.NEAREST,U=L.width,X=L.height,V=W.CLAMP_TO_EDGE,B=l(U,X);return!b&&B&&(V=W.REPEAT),this.config.antialias&&(Y=B&&this.mipmapFilter?this.mipmapFilter:W.LINEAR,H=W.LINEAR),D?(D.update(L,U,X,G,V,V,Y,H,D.format),D):this.createTexture2D(0,Y,H,V,V,W.RGBA,L,U,X,!0,!1,G)},createCanvasTexture:function(L,D,b){return D===void 0&&(D=!1),b===void 0&&(b=!1),this.canvasToTexture(L,null,D,b)},updateCanvasTexture:function(L,D,b,G){return b===void 0&&(b=!1),G===void 0&&(G=!1),this.canvasToTexture(L,D,G,b)},videoToTexture:function(L,D,b,G){b===void 0&&(b=!1),G===void 0&&(G=!1);var W=this.gl,Y=W.NEAREST,H=W.NEAREST,U=L.videoWidth,X=L.videoHeight,V=W.CLAMP_TO_EDGE,B=l(U,X);return!b&&B&&(V=W.REPEAT),this.config.antialias&&(Y=B&&this.mipmapFilter?this.mipmapFilter:W.LINEAR,H=W.LINEAR),D?(D.update(L,U,X,G,V,V,Y,H,D.format),D):this.createTexture2D(0,Y,H,V,V,W.RGBA,L,U,X,!0,!0,G)},createVideoTexture:function(L,D,b){return D===void 0&&(D=!1),b===void 0&&(b=!1),this.videoToTexture(L,null,D,b)},updateVideoTexture:function(L,D,b,G){return b===void 0&&(b=!1),G===void 0&&(G=!1),this.videoToTexture(L,D,G,b)},createUint8ArrayTexture:function(L,D,b){var G=this.gl,W=G.NEAREST,Y=G.NEAREST,H=G.CLAMP_TO_EDGE,U=l(D,b);return U&&(H=G.REPEAT),this.createTexture2D(0,W,Y,H,H,G.RGBA,L,D,b)},setTextureFilter:function(L,D){var b=this.gl,G=D===0?b.LINEAR:b.NEAREST;b.activeTexture(b.TEXTURE0);var W=b.getParameter(b.TEXTURE_BINDING_2D);return b.bindTexture(b.TEXTURE_2D,L.webGLTexture),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,G),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,G),L.minFilter=G,L.magFilter=G,W&&b.bindTexture(b.TEXTURE_2D,W),this},getMaxTextureSize:function(){return this.config.maxTextureSize},destroy:function(){this.canvas.removeEventListener("webglcontextlost",this.contextLostHandler,!1),this.canvas.removeEventListener("webglcontextrestored",this.contextRestoredHandler,!1);var L=function(D){D.destroy()};h(this.glAttribLocationWrappers,L),h(this.glBufferWrappers,L),h(this.glFramebufferWrappers,L),h(this.glProgramWrappers,L),h(this.glTextureWrappers,L),h(this.glUniformLocationWrappers,L),this.maskTarget.destroy(),this.maskSource.destroy(),this.pipelines.destroy(),this.removeAllListeners(),this.fboStack=[],this.maskStack=[],this.extensions={},this.textureIndexes=[],this.gl=null,this.game=null,this.canvas=null,this.contextLost=!0,this.currentMask=null,this.currentCameraMask=null}});f.exports=F},38683:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(95428),o=t(95540),a=t(14500),r=new h({initialize:function(n,l,s,u,d){this.pipeline=n,this.name=l,this.renderer=n.renderer,this.gl=this.renderer.gl,this.fragSrc=u,this.vertSrc=s,this.program=this.renderer.createProgram(s,u),this.attributes,this.vertexComponentCount=0,this.vertexSize=0,this.uniforms={},this.createAttributes(d),this.createUniforms()},createAttributes:function(i){var n=0,l=0,s=[];this.vertexComponentCount=0;for(var u=0;u<i.length;u++){var d=i[u],c=d.name,v=o(d,"size",1),y=o(d,"type",a.FLOAT),x=y.enum,S=y.size,E=!!d.normalized;s.push({name:c,size:v,type:x,normalized:E,offset:l,enabled:!1,location:-1}),S===4?n+=v:n++,l+=v*S}this.vertexSize=l,this.vertexComponentCount=n,this.attributes=s},bind:function(i,n){return i===void 0&&(i=!1),n===void 0&&(n=!1),n&&this.pipeline.flush(),this.renderer.setProgram(this.program),i&&this.setAttribPointers(),this},rebind:function(){return this.renderer.setProgram(this.program),this.setAttribPointers(!0),this},setAttribPointers:function(i){i===void 0&&(i=!1);for(var n=this.gl,l=this.renderer,s=this.vertexSize,u=this.attributes,d=this.program,c=0;c<u.length;c++){var v=u[c],y=v.size,x=v.type,S=v.offset,E=v.enabled,A=v.location,R=!!v.normalized;if(i){A!==-1&&l.deleteAttribLocation(A);var w=this.renderer.createAttribLocation(d,v.name);w.webGLAttribLocation>=0?(n.enableVertexAttribArray(w.webGLAttribLocation),n.vertexAttribPointer(w.webGLAttribLocation,y,x,R,s,S),v.enabled=!0,v.location=w):w.webGLAttribLocation!==-1&&n.disableVertexAttribArray(w.webGLAttribLocation)}else E?n.vertexAttribPointer(A.webGLAttribLocation,y,x,R,s,S):!E&&A!==-1&&A.webGLAttribLocation>-1&&(n.disableVertexAttribArray(A.webGLAttribLocation),v.location=-1)}return this},createUniforms:function(){var i=this.gl,n=this.program,l=this.uniforms,s,u,d,c=i.getProgramParameter(n.webGLProgram,i.ACTIVE_UNIFORMS);for(s=0;s<c;s++){var v=i.getActiveUniform(n.webGLProgram,s);if(v){u=v.name,d=this.renderer.createUniformLocation(n,u),d!==null&&(l[u]={name:u,location:d,setter:null,value1:null,value2:null,value3:null,value4:null});var y=u.indexOf("[");y>0&&(u=u.substr(0,y),l.hasOwnProperty(u)||(d=this.renderer.createUniformLocation(n,u),d!==null&&(l[u]={name:u,location:d,setter:null,value1:null,value2:null,value3:null,value4:null})))}}return this},syncUniforms:function(){var i=this.gl;this.renderer.setProgram(this.program);for(var n in this.uniforms){var l=this.uniforms[n];l.setter&&l.setter.call(i,l.location.webGLUniformLocation,l.value1,l.value2,l.value3,l.value4)}},hasUniform:function(i){return this.uniforms.hasOwnProperty(i)},resetUniform:function(i){var n=this.uniforms[i];return n&&(n.value1=null,n.value2=null,n.value3=null,n.value4=null),this},setUniform1:function(i,n,l,s){var u=this.uniforms[n];return u?((s||u.value1!==l)&&(u.setter||(u.setter=i),u.value1=l,this.renderer.setProgram(this.program),i.call(this.gl,u.location.webGLUniformLocation,l),this.pipeline.currentShader=this),this):this},setUniform2:function(i,n,l,s,u){var d=this.uniforms[n];return d?((u||d.value1!==l||d.value2!==s)&&(d.setter||(d.setter=i),d.value1=l,d.value2=s,this.renderer.setProgram(this.program),i.call(this.gl,d.location.webGLUniformLocation,l,s),this.pipeline.currentShader=this),this):this},setUniform3:function(i,n,l,s,u,d){var c=this.uniforms[n];return c?((d||c.value1!==l||c.value2!==s||c.value3!==u)&&(c.setter||(c.setter=i),c.value1=l,c.value2=s,c.value3=u,this.renderer.setProgram(this.program),i.call(this.gl,c.location.webGLUniformLocation,l,s,u),this.pipeline.currentShader=this),this):this},setUniform4:function(i,n,l,s,u,d,c){var v=this.uniforms[n];return v?((c||v.value1!==l||v.value2!==s||v.value3!==u||v.value4!==d)&&(v.setter||(v.setter=i),v.value1=l,v.value2=s,v.value3=u,v.value4=d,this.renderer.setProgram(this.program),i.call(this.gl,v.location.webGLUniformLocation,l,s,u,d),this.pipeline.currentShader=this),this):this},setBoolean:function(i,n){return this.setUniform1(this.gl.uniform1i,i,Number(n))},set1f:function(i,n){return this.setUniform1(this.gl.uniform1f,i,n)},set2f:function(i,n,l){return this.setUniform2(this.gl.uniform2f,i,n,l)},set3f:function(i,n,l,s){return this.setUniform3(this.gl.uniform3f,i,n,l,s)},set4f:function(i,n,l,s,u){return this.setUniform4(this.gl.uniform4f,i,n,l,s,u)},set1fv:function(i,n){return this.setUniform1(this.gl.uniform1fv,i,n,!0)},set2fv:function(i,n){return this.setUniform1(this.gl.uniform2fv,i,n,!0)},set3fv:function(i,n){return this.setUniform1(this.gl.uniform3fv,i,n,!0)},set4fv:function(i,n){return this.setUniform1(this.gl.uniform4fv,i,n,!0)},set1iv:function(i,n){return this.setUniform1(this.gl.uniform1iv,i,n,!0)},set2iv:function(i,n){return this.setUniform1(this.gl.uniform2iv,i,n,!0)},set3iv:function(i,n){return this.setUniform1(this.gl.uniform3iv,i,n,!0)},set4iv:function(i,n){return this.setUniform1(this.gl.uniform4iv,i,n,!0)},set1i:function(i,n){return this.setUniform1(this.gl.uniform1i,i,n)},set2i:function(i,n,l){return this.setUniform2(this.gl.uniform2i,i,n,l)},set3i:function(i,n,l,s){return this.setUniform3(this.gl.uniform3i,i,n,l,s)},set4i:function(i,n,l,s,u){return this.setUniform4(this.gl.uniform4i,i,n,l,s,u)},setMatrix2fv:function(i,n,l){return this.setUniform2(this.gl.uniformMatrix2fv,i,n,l,!0)},setMatrix3fv:function(i,n,l){return this.setUniform2(this.gl.uniformMatrix3fv,i,n,l,!0)},setMatrix4fv:function(i,n,l){return this.setUniform2(this.gl.uniformMatrix4fv,i,n,l,!0)},createProgram:function(i,n){return i===void 0&&(i=this.vertSrc),n===void 0&&(n=this.fragSrc),this.program&&this.renderer.deleteProgram(this.program),this.vertSrc=i,this.fragSrc=n,this.program=this.renderer.createProgram(i,n),this.createUniforms(),this.rebind()},destroy:function(){var i=this.renderer;g(this.uniforms,function(n){i.deleteUniformLocation(n.location)}),this.uniforms=null,g(this.attributes,function(n){i.deleteAttribLocation(n.location)}),this.attributes=null,i.deleteProgram(this.program),this.pipeline=null,this.renderer=null,this.gl=null,this.program=null}});f.exports=r},14500:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={BYTE:{enum:5120,size:1},UNSIGNED_BYTE:{enum:5121,size:1},SHORT:{enum:5122,size:2},UNSIGNED_SHORT:{enum:5123,size:2},INT:{enum:5124,size:4},UNSIGNED_INT:{enum:5125,size:4},FLOAT:{enum:5126,size:4}};f.exports=C},4159:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(14500),g=t(79291),o={PipelineManager:t(7530),Pipelines:t(96615),RenderTarget:t(32302),Utils:t(70554),WebGLPipeline:t(29100),WebGLRenderer:t(74797),WebGLShader:t(38683),Wrappers:t(9503)};o=g(!1,o,h),f.exports=o},31302:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(95540),o=t(78908),a=t(85191),r=t(14500),i=t(29100),n=new h({Extends:i,initialize:function(s){s.fragShader=g(s,"fragShader",o),s.vertShader=g(s,"vertShader",a),s.batchSize=g(s,"batchSize",1),s.vertices=g(s,"vertices",[-1,1,-1,-7,7,1]),s.attributes=g(s,"attributes",[{name:"inPosition",size:2,type:r.FLOAT}]),i.call(this,s)},boot:function(){i.prototype.boot.call(this),this.set1i("uMainSampler",0),this.set1i("uMaskSampler",1)},resize:function(l,s){i.prototype.resize.call(this,l,s),this.set2f("uResolution",l,s)},beginMask:function(l,s,u){this.renderer.beginBitmapMask(l,u)},endMask:function(l,s,u){var d=this.gl,c=this.renderer,v=l.bitmapMask;v&&d&&(c.drawBitmapMask(v,s,this),u&&this.set2f("uResolution",u.width,u.height),this.set1i("uInvertMaskAlpha",l.invertAlpha),d.drawArrays(this.topology,0,3),u&&this.set2f("uResolution",this.width,this.height),d.bindTexture(d.TEXTURE_2D,null))}});f.exports=n},92651:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(58918),o=t(14811),a=t(95540),r=t(43558),i=t(89350),n=t(70554),l=new h({Extends:r,initialize:function(u){u.shaders=[n.setGlowQuality(i.FXGlowFrag,u.game),i.FXShadowFrag,i.FXPixelateFrag,i.FXVignetteFrag,i.FXShineFrag,i.FXBlurLowFrag,i.FXBlurMedFrag,i.FXBlurHighFrag,i.FXGradientFrag,i.FXBloomFrag,i.ColorMatrixFrag,i.FXCircleFrag,i.FXBarrelFrag,i.FXDisplacementFrag,i.FXWipeFrag,i.FXBokehFrag],r.call(this,u);var d=this.game;this.glow=new g.Glow(d),this.shadow=new g.Shadow(d),this.pixelate=new g.Pixelate(d),this.vignette=new g.Vignette(d),this.shine=new g.Shine(d),this.gradient=new g.Gradient(d),this.circle=new g.Circle(d),this.barrel=new g.Barrel(d),this.wipe=new g.Wipe(d),this.bokeh=new g.Bokeh(d);var c=[];c[o.GLOW]=this.onGlow,c[o.SHADOW]=this.onShadow,c[o.PIXELATE]=this.onPixelate,c[o.VIGNETTE]=this.onVignette,c[o.SHINE]=this.onShine,c[o.BLUR]=this.onBlur,c[o.GRADIENT]=this.onGradient,c[o.BLOOM]=this.onBloom,c[o.COLOR_MATRIX]=this.onColorMatrix,c[o.CIRCLE]=this.onCircle,c[o.BARREL]=this.onBarrel,c[o.DISPLACEMENT]=this.onDisplacement,c[o.WIPE]=this.onWipe,c[o.BOKEH]=this.onBokeh,this.fxHandlers=c,this.source,this.target,this.swap},onDraw:function(s,u,d){this.source=s,this.target=u,this.swap=d;var c=s.width,v=s.height,y=this.tempSprite,x=this.fxHandlers;if(y&&y.preFX)for(var S=y.preFX.list,E=0;E<S.length;E++){var A=S[E];A.active&&x[A.type].call(this,A,c,v)}this.drawToGame(this.source)},runDraw:function(){var s=this.source,u=this.target;this.copy(s,u),this.source=u,this.target=s},onGlow:function(s,u,d){var c=this.shaders[o.GLOW];this.setShader(c),this.glow.onPreRender(s,c,u,d),this.runDraw()},onShadow:function(s){var u=this.shaders[o.SHADOW];this.setShader(u),this.shadow.onPreRender(s,u),this.runDraw()},onPixelate:function(s,u,d){var c=this.shaders[o.PIXELATE];this.setShader(c),this.pixelate.onPreRender(s,c,u,d),this.runDraw()},onVignette:function(s){var u=this.shaders[o.VIGNETTE];this.setShader(u),this.vignette.onPreRender(s,u),this.runDraw()},onShine:function(s,u,d){var c=this.shaders[o.SHINE];this.setShader(c),this.shine.onPreRender(s,c,u,d),this.runDraw()},onBlur:function(s,u,d){var c=a(s,"quality"),v=this.shaders[o.BLUR+c];this.setShader(v),this.set1i("uMainSampler",0),this.set2f("resolution",u,d),this.set1f("strength",a(s,"strength")),this.set3fv("color",a(s,"glcolor"));for(var y=a(s,"x"),x=a(s,"y"),S=a(s,"steps"),E=0;E<S;E++)this.set2f("offset",y,0),this.runDraw(),this.set2f("offset",0,x),this.runDraw()},onGradient:function(s){var u=this.shaders[o.GRADIENT];this.setShader(u),this.gradient.onPreRender(s,u),this.runDraw()},onBloom:function(s,u,d){var c=this.shaders[o.BLOOM];this.copySprite(this.source,this.swap),this.setShader(c),this.set1i("uMainSampler",0),this.set1f("strength",a(s,"blurStrength")),this.set3fv("color",a(s,"glcolor"));for(var v=2/u*a(s,"offsetX"),y=2/d*a(s,"offsetY"),x=a(s,"steps"),S=0;S<x;S++)this.set2f("offset",v,0),this.runDraw(),this.set2f("offset",0,y),this.runDraw();this.blendFrames(this.swap,this.source,this.target,a(s,"strength")),this.copySprite(this.target,this.source)},onColorMatrix:function(s){this.setShader(this.colorMatrixShader),this.set1fv("uColorMatrix",s.getData()),this.set1f("uAlpha",s.alpha),this.runDraw()},onCircle:function(s,u,d){var c=this.shaders[o.CIRCLE];this.setShader(c),this.circle.onPreRender(s,c,u,d),this.runDraw()},onBarrel:function(s){var u=this.shaders[o.BARREL];this.setShader(u),this.barrel.onPreRender(s,u),this.runDraw()},onDisplacement:function(s){this.setShader(this.shaders[o.DISPLACEMENT]),this.set1i("uDisplacementSampler",1),this.set2f("amount",s.x,s.y),this.bindTexture(s.glTexture,1),this.runDraw()},onWipe:function(s){var u=this.shaders[o.WIPE];this.setShader(u),this.wipe.onPreRender(s,u),this.runDraw()},onBokeh:function(s,u,d){var c=this.shaders[o.BOKEH];this.setShader(c),this.bokeh.onPreRender(s,c,u,d),this.runDraw()},destroy:function(){return this.glow.destroy(),this.shadow.destroy(),this.pixelate.destroy(),this.vignette.destroy(),this.shine.destroy(),this.gradient.destroy(),this.circle.destroy(),this.barrel.destroy(),this.wipe.destroy(),this.bokeh.destroy(),this.fxHandlers=null,this.source=null,this.target=null,this.swap=null,r.prototype.destroy.call(this),this}});f.exports=l},96569:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(95540),o=t(31063),a=t(57516),r=t(61340),i=t(26099),n=t(29100),l=new h({Extends:a,initialize:function(u){var d=g(u,"fragShader",o);u.fragShader=d.replace("%LIGHT_COUNT%",u.game.renderer.config.maxLights),a.call(this,u),this.inverseRotationMatrix=new Float32Array([1,0,0,0,1,0,0,0,1]),this.currentNormalMap,this.lightsActive=!0,this.tempVec2=new i,this._tempMatrix=new r,this._tempMatrix2=new r},boot:function(){n.prototype.boot.call(this)},onRender:function(s,u){var d=s.sys.lights;if(this.lightsActive=!1,!(!d||!d.active)){var c=d.getLights(u),v=c.length;this.lightsActive=!0;var y,x=this.renderer,S=x.height,E=u.matrix,A=this.tempVec2;for(this.set1i("uMainSampler",0),this.set1i("uNormSampler",1),this.set2f("uResolution",this.width/2,this.height/2),this.set4f("uCamera",u.x,u.y,u.rotation,u.zoom),this.set3f("uAmbientLightColor",d.ambientColor.r,d.ambientColor.g,d.ambientColor.b),this.set1i("uLightCount",v),y=0;y<v;y++){var R=c[y].light,w=R.color,I="uLights["+y+"].";E.transformPoint(R.x,R.y,A),this.set2f(I+"position",A.x-u.scrollX*R.scrollFactorX*u.zoom,S-(A.y-u.scrollY*R.scrollFactorY*u.zoom)),this.set3f(I+"color",w.r,w.g,w.b),this.set1f(I+"intensity",R.intensity),this.set1f(I+"radius",R.radius)}this.currentNormalMapRotation=null}},setNormalMapRotation:function(s){if(s!==this.currentNormalMapRotation||this.vertexCount===0){this.vertexCount>0&&this.flush();var u=this.inverseRotationMatrix;if(s){var d=-s,c=Math.cos(d),v=Math.sin(d);u[1]=v,u[3]=-v,u[0]=u[4]=c}else u[0]=u[4]=1,u[1]=u[3]=0;this.setMatrix3fv("uInverseRotationMatrix",!1,u),this.currentNormalMapRotation=s}},setTexture2D:function(s,u){var d=this.renderer;s===void 0&&(s=d.whiteTexture);var c=this.getNormalMap(u);this.isNewNormalMap(s,c)&&(this.flush(),this.createBatch(s),this.addTextureToBatch(c),this.currentNormalMap=c);var v=0;if(u&&u.parentContainer){var y=u.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);v=y.rotationNormalized}else u&&(v=u.rotation);return this.currentBatch===null&&(this.createBatch(s),this.addTextureToBatch(c)),this.setNormalMapRotation(v),0},setGameObject:function(s,u){u===void 0&&(u=s.frame);var d=u.glTexture,c=this.getNormalMap(s);if(this.isNewNormalMap(d,c)&&(this.flush(),this.createBatch(d),this.addTextureToBatch(c),this.currentNormalMap=c),s.parentContainer){var v=s.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);this.setNormalMapRotation(v.rotationNormalized)}else this.setNormalMapRotation(s.rotation);return this.currentBatch===null&&(this.createBatch(d),this.addTextureToBatch(c)),0},isNewNormalMap:function(s,u){return this.currentTexture!==s||this.currentNormalMap!==u},getNormalMap:function(s){var u;if(s)s.displayTexture?u=s.displayTexture.dataSource[s.displayFrame.sourceIndex]:s.texture?u=s.texture.dataSource[s.frame.sourceIndex]:s.tileset&&(Array.isArray(s.tileset)?u=s.tileset[0].image.dataSource[0]:u=s.tileset.image.dataSource[0]);else return this.renderer.normalTexture;return u?u.glTexture:this.renderer.normalTexture},batchSprite:function(s,u,d){this.lightsActive&&a.prototype.batchSprite.call(this,s,u,d)},batchTexture:function(s,u,d,c,v,y,x,S,E,A,R,w,I,O,F,L,D,b,G,W,Y,H,U,X,V,B,z,K,k,J,q,j){this.lightsActive&&a.prototype.batchTexture.call(this,s,u,d,c,v,y,x,S,E,A,R,w,I,O,F,L,D,b,G,W,Y,H,U,X,V,B,z,K,k,J,q,j)},batchTextureFrame:function(s,u,d,c,v,y,x){this.lightsActive&&a.prototype.batchTextureFrame.call(this,s,u,d,c,v,y,x)}});f.exports=l},56527:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(95540),o=t(57516),a=t(45561),r=t(60722),i=t(14500),n=t(29100),l=new h({Extends:o,initialize:function(u){u.fragShader=g(u,"fragShader",a),u.vertShader=g(u,"vertShader",r),u.attributes=g(u,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:i.UNSIGNED_BYTE,normalized:!0}]),u.forceZero=!0,u.resizeUniform="uResolution",o.call(this,u)},boot:function(){n.prototype.boot.call(this);var s=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",s.width,s.height)}});f.exports=l},57516:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(94811),o=t(95540),a=t(98840),r=t(44667),i=t(61340),n=t(70554),l=t(14500),s=t(29100),u=new h({Extends:s,initialize:function(c){var v=c.game.renderer,y=o(c,"fragShader",a);c.fragShader=n.parseFragmentShaderMaxTextures(y,v.maxTextures),c.vertShader=o(c,"vertShader",r),c.attributes=o(c,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:l.UNSIGNED_BYTE,normalized:!0}]),c.resizeUniform="uResolution",s.call(this,c),this._tempMatrix1=new i,this._tempMatrix2=new i,this._tempMatrix3=new i,this.calcMatrix=new i,this.tempTriangle=[{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0}],this.strokeTint={TL:0,TR:0,BL:0,BR:0},this.fillTint={TL:0,TR:0,BL:0,BR:0},this.currentFrame={u0:0,v0:0,u1:1,v1:1},this.firstQuad=[0,0,0,0,0],this.prevQuad=[0,0,0,0,0],this.polygonCache=[]},boot:function(){s.prototype.boot.call(this);var d=this.renderer;this.set1iv("uMainSampler",d.textureIndexes),this.set2f("uResolution",d.width,d.height)},batchSprite:function(d,c,v){this.manager.set(this,d);var y=this._tempMatrix1,x=this._tempMatrix2,S=this._tempMatrix3,E=d.frame,A=E.glTexture,R=E.u0,w=E.v0,I=E.u1,O=E.v1,F=E.x,L=E.y,D=E.cutWidth,b=E.cutHeight,G=E.customPivot,W=d.displayOriginX,Y=d.displayOriginY,H=-W+F,U=-Y+L;if(d.isCropped){var X=d._crop;(X.flipX!==d.flipX||X.flipY!==d.flipY)&&E.updateCropUVs(X,d.flipX,d.flipY),R=X.u0,w=X.v0,I=X.u1,O=X.v1,D=X.width,b=X.height,F=X.x,L=X.y,H=-W+F,U=-Y+L}var V=1,B=1;d.flipX&&(G||(H+=-E.realWidth+W*2),V=-1),d.flipY&&(G||(U+=-E.realHeight+Y*2),B=-1);var z=d.x,K=d.y;c.roundPixels&&(z=Math.floor(z),K=Math.floor(K)),x.applyITRS(z,K,d.rotation,d.scaleX*V,d.scaleY*B),y.copyFrom(c.matrix),v?(y.multiplyWithOffset(v,-c.scrollX*d.scrollFactorX,-c.scrollY*d.scrollFactorY),x.e=z,x.f=K):(x.e-=c.scrollX*d.scrollFactorX,x.f-=c.scrollY*d.scrollFactorY),y.multiply(x,S);var k=S.setQuad(H,U,H+D,U+b,c.renderRoundPixels),J=n.getTintAppendFloatAlpha,q=c.alpha,j=J(d.tintTopLeft,q*d._alphaTL),Z=J(d.tintTopRight,q*d._alphaTR),_=J(d.tintBottomLeft,q*d._alphaBL),et=J(d.tintBottomRight,q*d._alphaBR);this.shouldFlush(6)&&this.flush();var it=this.setGameObject(d,E);this.manager.preBatch(d),this.batchQuad(d,k[0],k[1],k[2],k[3],k[4],k[5],k[6],k[7],R,w,I,O,j,Z,_,et,d.tintFill,A,it),this.manager.postBatch(d)},batchTexture:function(d,c,v,y,x,S,E,A,R,w,I,O,F,L,D,b,G,W,Y,H,U,X,V,B,z,K,k,J,q,j,Z,_,et){et===void 0&&(et=!1),this.manager.set(this,d);var it=this._tempMatrix1,st=this._tempMatrix2,nt=this._tempMatrix3,ut=W/v+k,ft=Y/y+J,ht=(W+H)/v+k,rt=(Y+U)/y+J,lt=E,dt=A,yt=-b,xt=-G;if(d.isCropped){var At=d._crop,Et=At.width,Lt=At.height;lt=Et,dt=Lt,E=Et,A=Lt,W=At.x,Y=At.y;var Xt=W,qt=Y;O&&(Xt=H-At.x-Et),F&&(qt=U-At.y-Lt),ut=Xt/v+k,ft=qt/y+J,ht=(Xt+Et)/v+k,rt=(qt+Lt)/y+J,yt=-b+W,xt=-G+Y}F=F^(!Z&&c.isRenderTexture?1:0),O&&(lt*=-1,yt+=E),F&&(dt*=-1,xt+=A),q.roundPixels&&(x=Math.floor(x),S=Math.floor(S)),st.applyITRS(x,S,I,R,w),it.copyFrom(q.matrix),j?(it.multiplyWithOffset(j,-q.scrollX*L,-q.scrollY*D),st.e=x,st.f=S):(st.e-=q.scrollX*L,st.f-=q.scrollY*D),it.multiply(st,nt);var Nt=nt.setQuad(yt,xt,yt+lt,xt+dt,q.renderRoundPixels);_==null&&(_=this.setTexture2D(c)),d&&!et&&this.manager.preBatch(d),this.batchQuad(d,Nt[0],Nt[1],Nt[2],Nt[3],Nt[4],Nt[5],Nt[6],Nt[7],ut,ft,ht,rt,X,V,B,z,K,c,_),d&&!et&&this.manager.postBatch(d)},batchTextureFrame:function(d,c,v,y,x,S,E){this.manager.set(this);var A=this._tempMatrix1.copyFrom(S),R=this._tempMatrix2;E?A.multiply(E,R):R=A;var w=R.setQuad(c,v,c+d.width,v+d.height),I=this.setTexture2D(d.source.glTexture);y=n.getTintAppendFloatAlpha(y,x),this.batchQuad(null,w[0],w[1],w[2],w[3],w[4],w[5],w[6],w[7],d.u0,d.v0,d.u1,d.v1,y,y,y,y,0,d.glTexture,I)},batchFillRect:function(d,c,v,y,x,S){this.renderer.pipelines.set(this);var E=this.calcMatrix;S&&S.multiply(x,E);var A=E.setQuad(d,c,d+v,c+y),R=this.fillTint;this.batchQuad(null,A[0],A[1],A[2],A[3],A[4],A[5],A[6],A[7],0,0,1,1,R.TL,R.TR,R.BL,R.BR,2)},batchFillTriangle:function(d,c,v,y,x,S,E,A){this.renderer.pipelines.set(this);var R=this.calcMatrix;A&&A.multiply(E,R);var w=R.getX(d,c),I=R.getY(d,c),O=R.getX(v,y),F=R.getY(v,y),L=R.getX(x,S),D=R.getY(x,S),b=this.fillTint;this.batchTri(null,w,I,O,F,L,D,0,0,1,1,b.TL,b.TR,b.BL,2)},batchStrokeTriangle:function(d,c,v,y,x,S,E,A,R){var w=this.tempTriangle;w[0].x=d,w[0].y=c,w[0].width=E,w[1].x=v,w[1].y=y,w[1].width=E,w[2].x=x,w[2].y=S,w[2].width=E,w[3].x=d,w[3].y=c,w[3].width=E,this.batchStrokePath(w,E,!1,A,R)},batchFillPath:function(d,c,v){this.renderer.pipelines.set(this);var y=this.calcMatrix;v&&v.multiply(c,y);for(var x=d.length,S=this.polygonCache,E,A,R=this.fillTint.TL,w=this.fillTint.TR,I=this.fillTint.BL,O=0;O<x;++O)A=d[O],S.push(A.x,A.y);E=g(S),x=E.length;for(var F=0;F<x;F+=3){var L=E[F+0]*2,D=E[F+1]*2,b=E[F+2]*2,G=S[L+0],W=S[L+1],Y=S[D+0],H=S[D+1],U=S[b+0],X=S[b+1],V=y.getX(G,W),B=y.getY(G,W),z=y.getX(Y,H),K=y.getY(Y,H),k=y.getX(U,X),J=y.getY(U,X);this.batchTri(null,V,B,z,K,k,J,0,0,1,1,R,w,I,2)}S.length=0},batchStrokePath:function(d,c,v,y,x){this.renderer.pipelines.set(this),this.prevQuad[4]=0,this.firstQuad[4]=0;for(var S=d.length-1,E=0;E<S;E++){var A=d[E],R=d[E+1];this.batchLine(A.x,A.y,R.x,R.y,A.width/2,R.width/2,c,E,!v&&E===S-1,y,x)}},batchLine:function(d,c,v,y,x,S,E,A,R,w,I){this.renderer.pipelines.set(this);var O=this.calcMatrix;I&&I.multiply(w,O);var F=v-d,L=y-c,D=Math.sqrt(F*F+L*L);if(D!==0){var b=x*(y-c)/D,G=x*(d-v)/D,W=S*(y-c)/D,Y=S*(d-v)/D,H=v-W,U=y-Y,X=d-b,V=c-G,B=v+W,z=y+Y,K=d+b,k=c+G,J=O.getX(H,U),q=O.getY(H,U),j=O.getX(X,V),Z=O.getY(X,V),_=O.getX(B,z),et=O.getY(B,z),it=O.getX(K,k),st=O.getY(K,k),nt=this.strokeTint,ut=nt.TL,ft=nt.TR,ht=nt.BL,rt=nt.BR;if(this.batchQuad(null,it,st,j,Z,J,q,_,et,0,0,1,1,ut,ft,ht,rt,2),!(E<=2)){var lt=this.prevQuad,dt=this.firstQuad;A>0&&lt[4]?this.batchQuad(null,it,st,j,Z,lt[0],lt[1],lt[2],lt[3],0,0,1,1,ut,ft,ht,rt,2):(dt[0]=it,dt[1]=st,dt[2]=j,dt[3]=Z,dt[4]=1),R&&dt[4]?this.batchQuad(null,J,q,_,et,dt[0],dt[1],dt[2],dt[3],0,0,1,1,ut,ft,ht,rt,2):(lt[0]=J,lt[1]=q,lt[2]=_,lt[3]=et,lt[4]=1)}}},destroy:function(){return this._tempMatrix1.destroy(),this._tempMatrix2.destroy(),this._tempMatrix3.destroy(),this._tempMatrix1=null,this._tempMatrix1=null,this._tempMatrix1=null,s.prototype.destroy.call(this),this}});f.exports=u},43439:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(95540),o=t(4127),a=t(89924),r=t(29100),i=new h({Extends:r,initialize:function(l){l.vertShader=g(l,"vertShader",a),l.fragShader=g(l,"fragShader",o),l.attributes=g(l,"attributes",[{name:"inPosition",size:2},{name:"inLightPosition",size:2},{name:"inLightRadius"},{name:"inLightAttenuation"},{name:"inLightColor",size:4}]),r.call(this,l)},onRender:function(n,l){this.set2f("uResolution",this.width,this.height),this.set1f("uCameraZoom",l.zoom)},batchPointLight:function(n,l,s,u,d,c,v,y,x,S,E,A){var R=n.color,w=n.intensity,I=n.radius,O=n.attenuation,F=R.r*w,L=R.g*w,D=R.b*w,b=l.alpha*n.alpha;this.shouldFlush(6)&&this.flush(),this.currentBatch||this.setTexture2D(),this.batchLightVert(s,u,E,A,I,O,F,L,D,b),this.batchLightVert(d,c,E,A,I,O,F,L,D,b),this.batchLightVert(v,y,E,A,I,O,F,L,D,b),this.batchLightVert(s,u,E,A,I,O,F,L,D,b),this.batchLightVert(v,y,E,A,I,O,F,L,D,b),this.batchLightVert(x,S,E,A,I,O,F,L,D,b),this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchLightVert:function(n,l,s,u,d,c,v,y,x,S){var E=this.vertexViewF32,A=this.vertexCount*this.currentShader.vertexComponentCount-1;E[++A]=n,E[++A]=l,E[++A]=s,E[++A]=u,E[++A]=d,E[++A]=c,E[++A]=v,E[++A]=y,E[++A]=x,E[++A]=S,this.vertexCount++}});f.exports=i},84057:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(89422),o=t(95540),a=t(27681),r=t(49627),i=t(29100),n=new h({Extends:i,initialize:function(s){s.renderTarget=o(s,"renderTarget",1),s.fragShader=o(s,"fragShader",a),s.vertShader=o(s,"vertShader",r),s.attributes=o(s,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),s.batchSize=1,s.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],i.call(this,s),this.isPostFX=!0,this.gameObject,this.controller,this.colorMatrix=new g,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderer.isBooted&&(this.manager=this.renderer.pipelines)},bootFX:function(){i.prototype.boot.call(this);var l=this.manager.UTILITY_PIPELINE;this.fullFrame1=l.fullFrame1,this.fullFrame2=l.fullFrame2,this.halfFrame1=l.halfFrame1,this.halfFrame2=l.halfFrame2;var s=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",s.width,s.height);for(var u=this.renderTargets,d=0;d<u.length;d++)u[d].autoResize=!0},postBatch:function(l){return this.hasBooted||(this.bootFX(),this.currentRenderTarget&&this.currentRenderTarget.bind()),this.onDraw(this.currentRenderTarget),this.onPostBatch(l),this},onDraw:function(l){this.bindAndDraw(l)},getController:function(l){return l!==void 0?l:this.controller?this.controller:this},copySprite:function(l,s,u){u===void 0&&(u=!1);var d=this.gl;d.activeTexture(d.TEXTURE0),d.bindTexture(d.TEXTURE_2D,l.texture.webGLTexture);var c=d.getParameter(d.FRAMEBUFFER_BINDING);d.bindFramebuffer(d.FRAMEBUFFER,s.framebuffer.webGLFramebuffer),d.framebufferTexture2D(d.FRAMEBUFFER,d.COLOR_ATTACHMENT0,d.TEXTURE_2D,s.texture.webGLTexture,0),d.clearColor(0,0,0,0),d.clear(d.COLOR_BUFFER_BIT),d.bufferData(d.ARRAY_BUFFER,this.vertexData,d.STATIC_DRAW),d.drawArrays(d.TRIANGLES,0,6),u&&(d.bindTexture(d.TEXTURE_2D,null),d.bindFramebuffer(d.FRAMEBUFFER,c))},copyFrame:function(l,s,u,d,c){this.manager.copyFrame(l,s,u,d,c)},copyToGame:function(l){this.manager.copyToGame(l)},drawFrame:function(l,s,u){this.manager.drawFrame(l,s,u,this.colorMatrix)},blendFrames:function(l,s,u,d,c){this.manager.blendFrames(l,s,u,d,c)},blendFramesAdditive:function(l,s,u,d,c){this.manager.blendFramesAdditive(l,s,u,d,c)},clearFrame:function(l,s){this.manager.clearFrame(l,s)},blitFrame:function(l,s,u,d,c,v){this.manager.blitFrame(l,s,u,d,c,v)},copyFrameRect:function(l,s,u,d,c,v,y,x){this.manager.copyFrameRect(l,s,u,d,c,v,y,x)},bindAndDraw:function(l,s,u,d,c){u===void 0&&(u=!0),d===void 0&&(d=!0);var v=this.gl,y=this.renderer;this.bind(c),this.set1i("uMainSampler",0),s?(v.viewport(0,0,s.width,s.height),v.bindFramebuffer(v.FRAMEBUFFER,s.framebuffer.webGLFramebuffer),v.framebufferTexture2D(v.FRAMEBUFFER,v.COLOR_ATTACHMENT0,v.TEXTURE_2D,s.texture.webGLTexture,0),u&&(d?v.clearColor(0,0,0,0):v.clearColor(0,0,0,1),v.clear(v.COLOR_BUFFER_BIT))):(y.popFramebuffer(!1,!1),y.currentFramebuffer||v.viewport(0,0,y.width,y.height)),y.restoreStencilMask(),v.activeTexture(v.TEXTURE0),v.bindTexture(v.TEXTURE_2D,l.texture.webGLTexture),v.bufferData(v.ARRAY_BUFFER,this.vertexData,v.STATIC_DRAW),v.drawArrays(v.TRIANGLES,0,6),s&&(v.bindTexture(v.TEXTURE_2D,null),v.bindFramebuffer(v.FRAMEBUFFER,y.currentFramebuffer.webGLFramebuffer))},destroy:function(){return this.controller&&this.controller.destroy(),this.gameObject=null,this.controller=null,this.colorMatrix=null,this.fullFrame1=null,this.fullFrame2=null,this.halfFrame1=null,this.halfFrame2=null,this.manager.removePostPipeline(this),i.prototype.destroy.call(this),this}});f.exports=n},43558:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(10312),g=t(67502),o=t(83419),a=t(96293),r=t(95540),i=t(57516),n=t(27681),l=t(87841),s=t(32302),u=t(45561),d=t(60722),c=t(29100),v=new o({Extends:i,initialize:function(x){var S=r(x,"fragShader",n),E=r(x,"vertShader",d),A=r(x,"drawShader",n),R=[{name:"DrawSprite",fragShader:u,vertShader:d},{name:"CopySprite",fragShader:S,vertShader:E},{name:"DrawGame",fragShader:A,vertShader:d},{name:"ColorMatrix",fragShader:a}],w=r(x,"shaders",[]);x.shaders=R.concat(w),x.vertShader||(x.vertShader=E),x.batchSize=1,i.call(this,x),this.isPreFX=!0,this.customMainSampler=null,this.drawSpriteShader,this.copyShader,this.gameShader,this.colorMatrixShader,this.quadVertexData,this.quadVertexBuffer,this.quadVertexViewF32,this.spriteBounds=new l,this.targetBounds=new l,this.fsTarget,this.tempSprite,this.renderer.isBooted&&(this.manager=this.renderer.pipelines,this.boot())},boot:function(){c.prototype.boot.call(this);var y=this.shaders,x=this.renderer;this.drawSpriteShader=y[0],this.copyShader=y[1],this.gameShader=y[2],this.colorMatrixShader=y[3],this.fsTarget=new s(x,x.width,x.height,1,0,!0,!0),this.renderTargets=this.manager.renderTargets.concat(this.fsTarget);var S=new ArrayBuffer(168);this.quadVertexData=S,this.quadVertexViewF32=new Float32Array(S),this.quadVertexBuffer=x.createVertexBuffer(S,this.gl.STATIC_DRAW),this.onResize(x.width,x.height),this.currentShader=this.copyShader,this.set2f("uResolution",x.width,x.height)},onResize:function(y,x){var S=this.quadVertexViewF32;S[1]=x,S[22]=x,S[14]=y,S[28]=y,S[35]=y,S[36]=x},batchQuad:function(y,x,S,E,A,R,w,I,O,F,L,D,b,G,W,Y,H,U,X){var V=Math.min(x,E,R,I),B=Math.min(S,A,w,O),z=Math.max(x,E,R,I),K=Math.max(S,A,w,O),k=z-V,J=K-B,q=this.spriteBounds.setTo(V,B,k,J),j=y?y.preFX.padding:0,Z=k+j*2,_=J+j*2,et=Math.abs(Math.max(Z,_)),it=this.manager.getRenderTarget(et),st=this.targetBounds.setTo(0,0,it.width,it.height);g(st,Math.round(q.centerX),Math.round(q.centerY)),this.tempSprite=y;var nt=this.gl,ut=this.renderer;ut.clearStencilMask(),this.setShader(this.drawSpriteShader),this.set1i("uMainSampler",0),this.set2f("uResolution",ut.width,ut.height),this.flipProjectionMatrix(!0),y&&(this.onDrawSprite(y,it),y.preFX.onFX(this));var ft=this.fsTarget;return this.flush(),nt.viewport(0,0,ut.width,ut.height),nt.bindFramebuffer(nt.FRAMEBUFFER,ft.framebuffer.webGLFramebuffer),nt.framebufferTexture2D(nt.FRAMEBUFFER,nt.COLOR_ATTACHMENT0,nt.TEXTURE_2D,ft.texture.webGLTexture,0),nt.clearColor(0,0,0,0),nt.clear(nt.COLOR_BUFFER_BIT),this.setTexture2D(X),this.batchVert(x,S,F,L,0,U,G),this.batchVert(E,A,F,b,0,U,Y),this.batchVert(R,w,D,b,0,U,H),this.batchVert(x,S,F,L,0,U,G),this.batchVert(R,w,D,b,0,U,H),this.batchVert(I,O,D,L,0,U,W),this.flush(),this.flipProjectionMatrix(!1),nt.activeTexture(nt.TEXTURE0),nt.bindTexture(nt.TEXTURE_2D,it.texture.webGLTexture),nt.copyTexSubImage2D(nt.TEXTURE_2D,0,0,0,st.x,st.y,st.width,st.height),nt.bindFramebuffer(nt.FRAMEBUFFER,null),nt.bindTexture(nt.TEXTURE_2D,null),this.onBatch(y),this.currentShader=this.copyShader,this.onDraw(it,this.manager.getSwapRenderTarget(),this.manager.getAltSwapRenderTarget()),!0},onDrawSprite:function(){},onCopySprite:function(){},copySprite:function(y,x,S,E,A,R,w){S===void 0&&(S=!0),E===void 0&&(E=!0),A===void 0&&(A=!1),w===void 0&&(w=this.copyShader);var I=this.gl,O=this.tempSprite;R&&(w=this.colorMatrixShader),this.currentShader=w;var F=this.setVertexBuffer(this.quadVertexBuffer);w.bind(F,!1);var L=this.renderer;if(this.set1i("uMainSampler",0),this.set2f("uResolution",L.width,L.height),O.preFX.onFXCopy(this),this.onCopySprite(y,x,O),R&&(this.set1fv("uColorMatrix",R.getData()),this.set1f("uAlpha",R.alpha)),I.activeTexture(I.TEXTURE0),I.bindTexture(I.TEXTURE_2D,y.texture.webGLTexture),y.height>x.height)I.viewport(0,0,y.width,y.height),this.setTargetUVs(y,x);else{var D=x.height-y.height;I.viewport(0,D,y.width,y.height),this.resetUVs()}if(I.bindFramebuffer(I.FRAMEBUFFER,x.framebuffer.webGLFramebuffer),I.framebufferTexture2D(I.FRAMEBUFFER,I.COLOR_ATTACHMENT0,I.TEXTURE_2D,x.texture.webGLTexture,0),S&&(I.clearColor(0,0,0,+!E),I.clear(I.COLOR_BUFFER_BIT)),A){var b=this.renderer.currentBlendMode;this.renderer.setBlendMode(h.ERASE)}I.bufferData(I.ARRAY_BUFFER,this.quadVertexData,I.STATIC_DRAW),I.drawArrays(I.TRIANGLES,0,6),A&&this.renderer.setBlendMode(b),I.bindFramebuffer(I.FRAMEBUFFER,null)},copy:function(y,x){var S=this.gl;this.set1i("uMainSampler",0),S.activeTexture(S.TEXTURE0),S.bindTexture(S.TEXTURE_2D,y.texture.webGLTexture),S.viewport(0,0,y.width,y.height),this.setUVs(0,0,0,1,1,1,1,0),S.bindFramebuffer(S.FRAMEBUFFER,x.framebuffer.webGLFramebuffer),S.framebufferTexture2D(S.FRAMEBUFFER,S.COLOR_ATTACHMENT0,S.TEXTURE_2D,x.texture.webGLTexture,0),S.clearColor(0,0,0,0),S.clear(S.COLOR_BUFFER_BIT),S.bufferData(S.ARRAY_BUFFER,this.quadVertexData,S.STATIC_DRAW),S.drawArrays(S.TRIANGLES,0,6),S.bindFramebuffer(S.FRAMEBUFFER,null)},blendFrames:function(y,x,S,E,A){this.manager.blendFrames(y,x,S,E,A)},blendFramesAdditive:function(y,x,S,E,A){this.manager.blendFramesAdditive(y,x,S,E,A)},drawToGame:function(y){this.currentShader=null,this.setShader(this.copyShader),this.bindAndDraw(y)},copyToGame:function(y){this.currentShader=null,this.setShader(this.gameShader),this.bindAndDraw(y)},bindAndDraw:function(y){var x=this.gl,S=this.renderer;this.set1i("uMainSampler",0),this.customMainSampler?this.setTexture2D(this.customMainSampler):this.setTexture2D(y.texture);var E=this._tempMatrix1.loadIdentity(),A=this.targetBounds.x,R=this.targetBounds.y,w=A+y.width,I=R+y.height,O=E.getX(A,R),F=E.getX(A,I),L=E.getX(w,I),D=E.getX(w,R),b=E.getY(A,R),G=E.getY(A,I),W=E.getY(w,I),Y=E.getY(w,R),H=16777215;this.batchVert(O,b,0,0,0,0,H),this.batchVert(F,G,0,1,0,0,H),this.batchVert(L,W,1,1,0,0,H),this.batchVert(O,b,0,0,0,0,H),this.batchVert(L,W,1,1,0,0,H),this.batchVert(D,Y,1,0,0,0,H),S.restoreFramebuffer(!1,!0),S.currentFramebuffer||x.viewport(0,0,S.width,S.height),S.restoreStencilMask(),this.flush(),this.tempSprite=null},onDraw:function(y){this.drawToGame(y)},setUVs:function(y,x,S,E,A,R,w,I){var O=this.quadVertexViewF32;O[2]=y,O[3]=x,O[9]=S,O[10]=E,O[16]=A,O[17]=R,O[23]=y,O[24]=x,O[30]=A,O[31]=R,O[37]=w,O[38]=I},setTargetUVs:function(y,x){var S=x.height/y.height;S>.5?S=.5-(S-.5):S=.5+(.5-S),this.setUVs(0,S,0,1+S,1,1+S,1,S)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)},destroy:function(){return this.renderer.deleteBuffer(this.quadVertexBuffer),this.drawSpriteShader=null,this.copyShader=null,this.gameShader=null,this.colorMatrixShader=null,this.quadVertexData=null,this.quadVertexBuffer=null,this.quadVertexViewF32=null,this.fsTarget=null,this.tempSprite=null,i.prototype.destroy.call(this),this}});f.exports=v},81041:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(95540),o=t(57516),a=new h({Extends:o,initialize:function(i){i.topology=5,i.batchSize=g(i,"batchSize",256),o.call(this,i)}});f.exports=a},12385:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(95540),o=t(57516),a=t(45561),r=t(60722),i=t(29100),n=new h({Extends:o,initialize:function(s){s.fragShader=g(s,"fragShader",a),s.vertShader=g(s,"vertShader",r),s.forceZero=!0,o.call(this,s)},boot:function(){i.prototype.boot.call(this);var l=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",l.width,l.height)}});f.exports=n},7589:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(35407),g=t(10312),o=t(83419),a=t(89422),r=t(96293),i=t(36682),n=t(95540),l=t(48247),s=t(49627),u=t(29100),d=new o({Extends:u,initialize:function(v){v.renderTarget=n(v,"renderTarget",[{scale:1,autoResize:!0},{scale:1,autoResize:!0},{scale:.5,autoResize:!0},{scale:.5,autoResize:!0}]),v.vertShader=n(v,"vertShader",s),v.shaders=n(v,"shaders",[{name:"Copy",fragShader:i},{name:"AddBlend",fragShader:h},{name:"LinearBlend",fragShader:l},{name:"ColorMatrix",fragShader:r}]),v.attributes=n(v,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),v.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],v.batchSize=1,u.call(this,v),this.colorMatrix=new a,this.copyShader,this.addShader,this.linearShader,this.colorMatrixShader,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2},boot:function(){u.prototype.boot.call(this);var c=this.shaders,v=this.renderTargets;this.copyShader=c[0],this.addShader=c[1],this.linearShader=c[2],this.colorMatrixShader=c[3],this.fullFrame1=v[0],this.fullFrame2=v[1],this.halfFrame1=v[2],this.halfFrame2=v[3]},copyFrame:function(c,v,y,x,S){y===void 0&&(y=1),x===void 0&&(x=!0),S===void 0&&(S=!0);var E=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",y),E.activeTexture(E.TEXTURE0),E.bindTexture(E.TEXTURE_2D,c.texture.webGLTexture),v?(E.viewport(0,0,v.width,v.height),E.bindFramebuffer(E.FRAMEBUFFER,v.framebuffer.webGLFramebuffer),E.framebufferTexture2D(E.FRAMEBUFFER,E.COLOR_ATTACHMENT0,E.TEXTURE_2D,v.texture.webGLTexture,0)):E.viewport(0,0,c.width,c.height),x&&(S?E.clearColor(0,0,0,0):E.clearColor(0,0,0,1),E.clear(E.COLOR_BUFFER_BIT)),E.bufferData(E.ARRAY_BUFFER,this.vertexData,E.STATIC_DRAW),E.drawArrays(E.TRIANGLES,0,6),E.bindFramebuffer(E.FRAMEBUFFER,null),E.bindTexture(E.TEXTURE_2D,null)},blitFrame:function(c,v,y,x,S,E,A){y===void 0&&(y=1),x===void 0&&(x=!0),S===void 0&&(S=!0),E===void 0&&(E=!1),A===void 0&&(A=!1);var R=this.gl;if(this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",y),R.activeTexture(R.TEXTURE0),R.bindTexture(R.TEXTURE_2D,c.texture.webGLTexture),c.height>v.height)R.viewport(0,0,c.width,c.height),this.setTargetUVs(c,v);else{var w=v.height-c.height;R.viewport(0,w,c.width,c.height)}if(R.bindFramebuffer(R.FRAMEBUFFER,v.framebuffer.webGLFramebuffer),R.framebufferTexture2D(R.FRAMEBUFFER,R.COLOR_ATTACHMENT0,R.TEXTURE_2D,v.texture.webGLTexture,0),x&&(S?R.clearColor(0,0,0,0):R.clearColor(0,0,0,1),R.clear(R.COLOR_BUFFER_BIT)),E){var I=this.renderer.currentBlendMode;this.renderer.setBlendMode(g.ERASE)}A&&this.flipY(),R.bufferData(R.ARRAY_BUFFER,this.vertexData,R.STATIC_DRAW),R.drawArrays(R.TRIANGLES,0,6),E&&this.renderer.setBlendMode(I),R.bindFramebuffer(R.FRAMEBUFFER,null),R.bindTexture(R.TEXTURE_2D,null),this.resetUVs()},copyFrameRect:function(c,v,y,x,S,E,A,R){A===void 0&&(A=!0),R===void 0&&(R=!0);var w=this.gl;w.bindFramebuffer(w.FRAMEBUFFER,c.framebuffer.webGLFramebuffer),w.framebufferTexture2D(w.FRAMEBUFFER,w.COLOR_ATTACHMENT0,w.TEXTURE_2D,c.texture.webGLTexture,0),A&&(R?w.clearColor(0,0,0,0):w.clearColor(0,0,0,1),w.clear(w.COLOR_BUFFER_BIT)),w.activeTexture(w.TEXTURE0),w.bindTexture(w.TEXTURE_2D,v.texture.webGLTexture),w.copyTexSubImage2D(w.TEXTURE_2D,0,0,0,y,x,S,E),w.bindFramebuffer(w.FRAMEBUFFER,null),w.bindTexture(w.TEXTURE_2D,null)},copyToGame:function(c){var v=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",1),this.renderer.popFramebuffer(),v.activeTexture(v.TEXTURE0),v.bindTexture(v.TEXTURE_2D,c.texture.webGLTexture),v.bufferData(v.ARRAY_BUFFER,this.vertexData,v.STATIC_DRAW),v.drawArrays(v.TRIANGLES,0,6)},drawFrame:function(c,v,y,x){y===void 0&&(y=!0),x===void 0&&(x=this.colorMatrix);var S=this.gl;this.setShader(this.colorMatrixShader),this.set1i("uMainSampler",0),this.set1fv("uColorMatrix",x.getData()),this.set1f("uAlpha",x.alpha),S.activeTexture(S.TEXTURE0),S.bindTexture(S.TEXTURE_2D,c.texture.webGLTexture),v?(S.viewport(0,0,v.width,v.height),S.bindFramebuffer(S.FRAMEBUFFER,v.framebuffer.webGLFramebuffer),S.framebufferTexture2D(S.FRAMEBUFFER,S.COLOR_ATTACHMENT0,S.TEXTURE_2D,v.texture.webGLTexture,0)):S.viewport(0,0,c.width,c.height),y?S.clearColor(0,0,0,0):S.clearColor(0,0,0,1),S.clear(S.COLOR_BUFFER_BIT),S.bufferData(S.ARRAY_BUFFER,this.vertexData,S.STATIC_DRAW),S.drawArrays(S.TRIANGLES,0,6),S.bindFramebuffer(S.FRAMEBUFFER,null),S.bindTexture(S.TEXTURE_2D,null)},blendFrames:function(c,v,y,x,S,E){x===void 0&&(x=1),S===void 0&&(S=!0),E===void 0&&(E=this.linearShader);var A=this.gl;this.setShader(E),this.set1i("uMainSampler1",0),this.set1i("uMainSampler2",1),this.set1f("uStrength",x),A.activeTexture(A.TEXTURE0),A.bindTexture(A.TEXTURE_2D,c.texture.webGLTexture),A.activeTexture(A.TEXTURE1),A.bindTexture(A.TEXTURE_2D,v.texture.webGLTexture),y?(A.bindFramebuffer(A.FRAMEBUFFER,y.framebuffer.webGLFramebuffer),A.framebufferTexture2D(A.FRAMEBUFFER,A.COLOR_ATTACHMENT0,A.TEXTURE_2D,y.texture.webGLTexture,0),A.viewport(0,0,y.width,y.height)):A.viewport(0,0,c.width,c.height),S?A.clearColor(0,0,0,0):A.clearColor(0,0,0,1),A.clear(A.COLOR_BUFFER_BIT),A.bufferData(A.ARRAY_BUFFER,this.vertexData,A.STATIC_DRAW),A.drawArrays(A.TRIANGLES,0,6),A.bindFramebuffer(A.FRAMEBUFFER,null),A.bindTexture(A.TEXTURE_2D,null)},blendFramesAdditive:function(c,v,y,x,S){this.blendFrames(c,v,y,x,S,this.addShader)},clearFrame:function(c,v){v===void 0&&(v=!0);var y=this.gl;y.viewport(0,0,c.width,c.height),y.bindFramebuffer(y.FRAMEBUFFER,c.framebuffer.webGLFramebuffer),v?y.clearColor(0,0,0,0):y.clearColor(0,0,0,1),y.clear(y.COLOR_BUFFER_BIT);var x=this.renderer.currentFramebuffer;y.bindFramebuffer(y.FRAMEBUFFER,x.webGLFramebuffer)},setUVs:function(c,v,y,x,S,E,A,R){var w=this.vertexViewF32;w[2]=c,w[3]=v,w[6]=y,w[7]=x,w[10]=S,w[11]=E,w[14]=c,w[15]=v,w[18]=S,w[19]=E,w[22]=A,w[23]=R},setTargetUVs:function(c,v){var y=v.height/c.height;y>.5?y=.5-(y-.5):y=.5+(.5-y),this.setUVs(0,y,0,1+y,1,1+y,1,y)},flipX:function(){this.setUVs(1,0,1,1,0,1,0,0)},flipY:function(){this.setUVs(0,1,0,0,1,0,1,1)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)}});f.exports=d},36060:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={BITMAPMASK_PIPELINE:"BitmapMaskPipeline",LIGHT_PIPELINE:"Light2D",POINTLIGHT_PIPELINE:"PointLightPipeline",SINGLE_PIPELINE:"SinglePipeline",MULTI_PIPELINE:"MultiPipeline",ROPE_PIPELINE:"RopePipeline",GRAPHICS_PIPELINE:"GraphicsPipeline",POSTFX_PIPELINE:"PostFXPipeline",UTILITY_PIPELINE:"UtilityPipeline",MOBILE_PIPELINE:"MobilePipeline",FX_PIPELINE:"FxPipeline"};f.exports=C},84817:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="pipelineafterflush"},36712:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="pipelinebeforeflush"},40285:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="pipelinebind"},65918:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="pipelineboot"},92852:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="pipelinedestroy"},56072:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="pipelinerebind"},57566:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="pipelineresize"},77085:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={AFTER_FLUSH:t(84817),BEFORE_FLUSH:t(36712),BIND:t(40285),BOOT:t(65918),DESTROY:t(92852),REBIND:t(56072),RESIZE:t(57566)}},54812:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(99155),o=t(84057),a=new h({Extends:o,initialize:function(i){o.call(this,{game:i,fragShader:g}),this.amount=1},onPreRender:function(r,i){r=this.getController(r),this.set1f("amount",r.amount,i)}});f.exports=a},67329:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(24400),o=t(84057),a=new h({Extends:o,initialize:function(i){o.call(this,{game:i,fragShader:g}),this.steps=4,this.offsetX=1,this.offsetY=1,this.blurStrength=1,this.strength=1,this.glcolor=[1,1,1]},onPreRender:function(r){r=this.getController(r),this.set1f("strength",r.blurStrength),this.set3fv("color",r.glcolor)},onDraw:function(r){var i=this.getController(),n=this.fullFrame1,l=this.fullFrame2;this.copyFrame(r,l);for(var s=2/r.width*i.offsetX,u=2/r.height*i.offsetY,d=0;d<i.steps;d++)this.set2f("offset",s,0),this.copySprite(r,n),this.set2f("offset",0,u),this.copySprite(n,r);this.blendFrames(l,r,n,i.strength),this.copyToGame(n)}});f.exports=a},8861:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(41514),o=t(51078),a=t(94328),r=t(84057),i=new h({Extends:r,initialize:function(l){r.call(this,{game:l,shaders:[{name:"Gaussian5",fragShader:g},{name:"Gaussian9",fragShader:o},{name:"Gaussian13",fragShader:a}]}),this.activeShader=this.shaders[0],this.x=2,this.y=2,this.steps=4,this.strength=1,this.glcolor=[1,1,1]},setQualityLow:function(){return this.activeShader=this.shaders[0],this},setQualityMedium:function(){return this.activeShader=this.shaders[1],this},setQualityHigh:function(){return this.activeShader=this.shaders[2],this},onDraw:function(n){var l=this.getController(),s=this.gl,u=this.fullFrame1,d=s.getParameter(s.FRAMEBUFFER_BINDING);this.bind(this.shaders[l.quality]),s.activeTexture(s.TEXTURE0),s.viewport(0,0,n.width,n.height),this.set1i("uMainSampler",0),this.set2f("resolution",n.width,n.height),this.set1f("strength",l.strength),this.set3fv("color",l.glcolor);for(var c=0;c<l.steps;c++)this.set2f("offset",l.x,0),this.copySprite(n,u),this.set2f("offset",0,l.y),this.copySprite(u,n);s.bindFramebuffer(s.FRAMEBUFFER,d),s.bindTexture(s.TEXTURE_2D,null),this.copyToGame(n)}});f.exports=i},51051:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(90610),o=t(84057),a=new h({Extends:o,initialize:function(i){o.call(this,{game:i,fragShader:g}),this.isTiltShift=!1,this.strength=1,this.blurX=1,this.blurY=1,this.radius=.5,this.amount=1,this.contrast=.2},onPreRender:function(r,i,n,l){r=this.getController(r),this.set1f("radius",r.radius,i),this.set1f("amount",r.amount,i),this.set1f("contrast",r.contrast,i),this.set1f("strength",r.strength,i),this.set2f("blur",r.blurX,r.blurY,i),this.setBoolean("isTiltShift",r.isTiltShift,i),n&&l&&this.set2f("resolution",n,l,i)},onDraw:function(r){this.set2f("resolution",r.width,r.height),this.bindAndDraw(r)}});f.exports=a},89428:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(91899),o=t(84057),a=new h({Extends:o,initialize:function(i){o.call(this,{game:i,fragShader:g}),this.scale=1,this.feather=.005,this.thickness=8,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4]},onPreRender:function(r,i,n,l){r=this.getController(r),this.set1f("scale",r.scale,i),this.set1f("feather",r.feather,i),this.set1f("thickness",r.thickness,i),this.set3fv("color",r.glcolor,i),this.set4fv("backgroundColor",r.glcolor2,i),n&&l&&this.set2f("resolution",n,l,i)},onDraw:function(r){this.set2f("resolution",r.width,r.height),this.bindAndDraw(r)}});f.exports=a},88904:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(84057),o=new h({Extends:g,initialize:function(r){g.call(this,{game:r})},onDraw:function(a){var r=this.fullFrame1;this.controller?this.manager.drawFrame(a,r,!0,this.controller):this.drawFrame(a,r),this.copyToGame(r)}});f.exports=o},63563:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(47838),o=t(84057),a=new h({Extends:o,initialize:function(i){o.call(this,{game:i,fragShader:g}),this.x=.005,this.y=.005,this.glTexture},onBoot:function(){this.setTexture("__WHITE")},setTexture:function(r){var i=this.game.textures.getFrame(r);i&&(this.glTexture=i.glTexture)},onDraw:function(r){var i=this.getController(),n=this.fullFrame1;this.bind(),this.set1i("uMainSampler",0),this.set1i("uDisplacementSampler",1),this.set2f("amount",i.x,i.y),this.bindTexture(i.glTexture,1),this.copySprite(r,n),this.copyToGame(n)}});f.exports=a},94045:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(95540),o=t(98656),a=t(84057),r=t(70554),i=new h({Extends:a,initialize:function(l,s){var u=g(s,"quality",.1),d=g(s,"distance",10);a.call(this,{game:l,fragShader:r.setGlowQuality(o,l,u,d)}),this.outerStrength=4,this.innerStrength=0,this.knockout=!1,this.glcolor=[1,1,1,1]},onPreRender:function(n,l,s,u){n=this.getController(n),this.set1f("outerStrength",n.outerStrength,l),this.set1f("innerStrength",n.innerStrength,l),this.set4fv("glowColor",n.glcolor,l),this.setBoolean("knockout",n.knockout,l),s&&u&&this.set2f("resolution",s,u,l)},onDraw:function(n){this.set2f("resolution",n.width,n.height),this.bindAndDraw(n)}});f.exports=i},74088:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(70463),o=t(84057),a=new h({Extends:o,initialize:function(i){o.call(this,{game:i,fragShader:g}),this.alpha=.2,this.size=0,this.fromX=0,this.fromY=0,this.toX=0,this.toY=1,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0]},onPreRender:function(r,i){r=this.getController(r),this.set1f("alpha",r.alpha,i),this.set1i("size",r.size,i),this.set3fv("color1",r.glcolor1,i),this.set3fv("color2",r.glcolor2,i),this.set2f("positionFrom",r.fromX,r.fromY,i),this.set2f("positionTo",r.toX,r.toY,i)}});f.exports=a},99636:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(50831),o=t(84057),a=new h({Extends:o,initialize:function(i){o.call(this,{game:i,fragShader:g}),this.amount=1},onPreRender:function(r,i,n,l){r=this.getController(r),this.set1f("amount",r.amount,i),n&&l&&this.set2f("resolution",n,l,i)},onDraw:function(r){this.set2f("resolution",r.width,r.height),this.bindAndDraw(r)}});f.exports=a},34700:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(92595),o=t(84057),a=new h({Extends:o,initialize:function(i){o.call(this,{game:i,fragShader:g}),this.x=0,this.y=0,this.decay=.1,this.power=1,this.glcolor=[0,0,0,1],this.samples=6,this.intensity=1},onPreRender:function(r,i){r=this.getController(r);var n=r.samples;this.set1i("samples",n,i),this.set1f("intensity",r.intensity,i),this.set1f("decay",r.decay,i),this.set1f("power",r.power/n,i),this.set2f("lightPosition",r.x,r.y,i),this.set4fv("color",r.glcolor,i)}});f.exports=a},91157:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(72464),o=t(84057),a=new h({Extends:o,initialize:function(i){o.call(this,{game:i,fragShader:g}),this.speed=.5,this.lineWidth=.5,this.gradient=3,this.reveal=!1},onPreRender:function(r,i,n,l){r=this.getController(r),this.setTime("time",i),this.set1f("speed",r.speed,i),this.set1f("lineWidth",r.lineWidth,i),this.set1f("gradient",r.gradient,i),this.setBoolean("reveal",r.reveal,i),n&&l&&this.set2f("resolution",n,l,i)},onDraw:function(r){this.set2f("resolution",r.width,r.height),this.bindAndDraw(r)}});f.exports=a},27797:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(39249),o=t(84057),a=new h({Extends:o,initialize:function(i){o.call(this,{game:i,fragShader:g}),this.x=.5,this.y=.5,this.radius=.5,this.strength=.5},onPreRender:function(r,i){r=this.getController(r),this.set1f("radius",r.radius,i),this.set1f("strength",r.strength,i),this.set2f("position",r.x,r.y,i)}});f.exports=a},67603:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(2878),o=t(84057),a=new h({Extends:o,initialize:function(i){o.call(this,{game:i,fragShader:g}),this.progress=0,this.wipeWidth=.1,this.direction=0,this.axis=0,this.reveal=!1},onPreRender:function(r,i){r=this.getController(r);var n=r.progress,l=r.wipeWidth,s=r.direction,u=r.axis;this.set4f("config",n,l,s,u,i),this.setBoolean("reveal",r.reveal,i)}});f.exports=a},58918:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h={Barrel:t(54812),Bloom:t(67329),Blur:t(8861),Bokeh:t(51051),Circle:t(89428),ColorMatrix:t(88904),Displacement:t(63563),Glow:t(94045),Gradient:t(74088),Pixelate:t(99636),Shadow:t(34700),Shine:t(91157),Vignette:t(27797),Wipe:t(67603)};f.exports=h},96615:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(36060),g=t(79291),o={FX:t(58918),BitmapMaskPipeline:t(31302),Events:t(77085),FXPipeline:t(92651),LightPipeline:t(96569),MobilePipeline:t(56527),MultiPipeline:t(57516),PointLightPipeline:t(43439),PostFXPipeline:t(84057),PreFXPipeline:t(43558),RopePipeline:t(81041),SinglePipeline:t(12385),UtilityPipeline:t(7589)};o=g(!1,o,h),f.exports=o},35407:f=>{f.exports=["#define SHADER_NAME PHASER_ADD_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = frame1 + frame2 * uStrength;","}"].join(`
`)},78908:f=>{f.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_FS","precision mediump float;","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uMaskSampler;","uniform bool uInvertMaskAlpha;","void main ()","{","    vec2 uv = gl_FragCoord.xy / uResolution;","    vec4 mainColor = texture2D(uMainSampler, uv);","    vec4 maskColor = texture2D(uMaskSampler, uv);","    if (!uInvertMaskAlpha)","    {","        mainColor *= maskColor.a;","    }","    else","    {","        mainColor *= (1.0 - maskColor.a);","    }","    gl_FragColor = mainColor;","}"].join(`
`)},85191:f=>{f.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_VS","precision mediump float;","attribute vec2 inPosition;","void main ()","{","    gl_Position = vec4(inPosition, 0.0, 1.0);","}"].join(`
`)},96293:f=>{f.exports=["#define SHADER_NAME PHASER_COLORMATRIX_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uColorMatrix[20];","uniform float uAlpha;","varying vec2 outTexCoord;","void main ()","{","    vec4 c = texture2D(uMainSampler, outTexCoord);","    if (uAlpha == 0.0)","    {","        gl_FragColor = c;","        return;","    }","    if (c.a > 0.0)","    {","        c.rgb /= c.a;","    }","    vec4 result;","    result.r = (uColorMatrix[0] * c.r) + (uColorMatrix[1] * c.g) + (uColorMatrix[2] * c.b) + (uColorMatrix[3] * c.a) + uColorMatrix[4];","    result.g = (uColorMatrix[5] * c.r) + (uColorMatrix[6] * c.g) + (uColorMatrix[7] * c.b) + (uColorMatrix[8] * c.a) + uColorMatrix[9];","    result.b = (uColorMatrix[10] * c.r) + (uColorMatrix[11] * c.g) + (uColorMatrix[12] * c.b) + (uColorMatrix[13] * c.a) + uColorMatrix[14];","    result.a = (uColorMatrix[15] * c.r) + (uColorMatrix[16] * c.g) + (uColorMatrix[17] * c.b) + (uColorMatrix[18] * c.a) + uColorMatrix[19];","    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);","    rgb *= result.a;","    gl_FragColor = vec4(rgb, result.a);","}"].join(`
`)},36682:f=>{f.exports=["#define SHADER_NAME PHASER_COPY_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uBrightness;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord) * uBrightness;","}"].join(`
`)},99155:f=>{f.exports=["#define SHADER_NAME BARREL_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float amount;","varying vec2 outTexCoord;","vec2 Distort(vec2 p)","{","    float theta  = atan(p.y, p.x);","    float radius = length(p);","    radius = pow(radius, amount);","    p.x = radius * cos(theta);","    p.y = radius * sin(theta);","    return 0.5 * (p + 1.0);","}","void main()","{","    vec2 xy = 2.0 * outTexCoord - 1.0;","    vec2 texCoord = outTexCoord;","    if (length(xy) < 1.0)","    {","        texCoord = Distort(xy);","    }","    gl_FragColor = texture2D(uMainSampler, texCoord);","}"].join(`
`)},24400:f=>{f.exports=["#define SHADER_NAME BLOOM_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec4 sum = texture2D(uMainSampler, outTexCoord) * 0.204164 * strength;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord - offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 3.294215) * 0.093913;","    gl_FragColor = (sum + texture2D(uMainSampler, outTexCoord - offset * 3.294215) * 0.093913) * vec4(color, 1);","}"].join(`
`)},94328:f=>{f.exports=["#define SHADER_NAME BLUR_HIGH_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.411764705882353) * offset * strength;","    vec2 off2 = vec2(3.2941176470588234) * offset * strength;","    vec2 off3 = vec2(5.176470588235294) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.1964825501511404;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv + (off3 / resolution)) * 0.010381362401148057;","    col += texture2D(uMainSampler, uv - (off3 / resolution)) * 0.010381362401148057;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},41514:f=>{f.exports=["#define SHADER_NAME BLUR_LOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 offset = vec2(1.333) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.29411764705882354;","    col += texture2D(uMainSampler, uv + (offset / resolution)) * 0.35294117647058826;","    col += texture2D(uMainSampler, uv - (offset / resolution)) * 0.35294117647058826;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},51078:f=>{f.exports=["#define SHADER_NAME BLUR_MED_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.3846153846) * offset * strength;","    vec2 off2 = vec2(3.2307692308) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.2270270270;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.0702702703;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.0702702703;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},90610:f=>{f.exports=["#define SHADER_NAME BOKEH_FS","precision mediump float;","#define ITERATIONS 100.0","#define ONEOVER_ITR 1.0 / ITERATIONS","#define PI 3.141596","#define GOLDEN_ANGLE 2.39996323","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float radius;","uniform float amount;","uniform float contrast;","uniform bool isTiltShift;","uniform float strength;","uniform vec2 blur;","varying vec2 outTexCoord;","vec2 Sample (in float theta, inout float r)","{","    r += 1.0 / r;","    return (r - 1.0) * vec2(cos(theta), sin(theta)) * 0.06;","}","vec3 Bokeh (sampler2D tex, vec2 uv, float radius)","{","    vec3 acc = vec3(0.0);","    vec3 div = vec3(0.0);","    vec2 pixel = vec2(resolution.y / resolution.x, 1.0) * radius * .025;","    float r = 1.0;","    for (float j = 0.0; j < GOLDEN_ANGLE * ITERATIONS; j += GOLDEN_ANGLE)","    {","        vec3 col = texture2D(tex, uv + pixel * Sample(j, r)).xyz;","        col = contrast > 0.0 ? col * col * (1.0 + contrast) : col;","        vec3 bokeh = vec3(0.5) + pow(col, vec3(10.0)) * amount;","        acc += col * bokeh;","        div += bokeh;","    }","    return acc / div;","}","void main ()","{","    float shift = 1.0;","    if (isTiltShift)","    {","        vec2 uv = vec2(gl_FragCoord.xy / resolution + vec2(-0.5, -0.5)) * 2.0;","        float centerStrength = 1.0;","        shift = length(uv * blur * strength) * centerStrength;","    }","    gl_FragColor = vec4(Bokeh(uMainSampler, outTexCoord * vec2(1.0, 1.0), radius * shift), 0.0);","}"].join(`
`)},91899:f=>{f.exports=["#define SHADER_NAME CIRCLE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec3 color;","uniform vec4 backgroundColor;","uniform float thickness;","uniform float scale;","uniform float feather;","varying vec2 outTexCoord;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 position = (gl_FragCoord.xy / resolution.xy) * 2.0 - 1.0;","    float aspectRatio = resolution.x / resolution.y;","    position.x *= aspectRatio;","    float grad = length(position);","    float outer = aspectRatio;","    float inner = outer - (thickness * 2.0 / resolution.y);","    if (aspectRatio >= 1.0)","    {","        float f = 2.0 + (resolution.y / resolution.x);","        outer = 1.0;","        inner = 1.0 - (thickness * f / resolution.x);","    }","    outer *= scale;","    inner *= scale;","    float circle = smoothstep(outer, outer - 0.01, grad);","    float ring = circle - smoothstep(inner, inner - feather, grad);","    texture = mix(backgroundColor * backgroundColor.a, texture, texture.a);","    texture = (texture * (circle - ring));","    gl_FragColor = vec4(texture.rgb + (ring * color), texture.a);","}"].join(`
`)},47838:f=>{f.exports=["#define SHADER_NAME DISPLACEMENT_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform sampler2D uDisplacementSampler;","uniform vec2 amount;","varying vec2 outTexCoord;","void main ()","{","    vec2 disp = (-vec2(0.5, 0.5) + texture2D(uDisplacementSampler, outTexCoord).rr) * amount;","    gl_FragColor = texture2D(uMainSampler, outTexCoord + disp).rgba;","}"].join(`
`)},98656:f=>{f.exports=["#define SHADER_NAME GLOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform float outerStrength;","uniform float innerStrength;","uniform vec2 resolution;","uniform vec4 glowColor;","uniform bool knockout;","const float PI = 3.14159265358979323846264;","const float DIST = __DIST__;","const float SIZE = min(__SIZE__, PI * 2.0);","const float STEP = ceil(PI * 2.0 / SIZE);","const float MAX_ALPHA = STEP * DIST * (DIST + 1.0) / 2.0;","void main ()","{","    vec2 px = vec2(1.0 / resolution.x, 1.0 / resolution.y);","    float totalAlpha = 0.0;","    vec2 direction;","    vec2 displaced;","    vec4 color;","    for (float angle = 0.0; angle < PI * 2.0; angle += SIZE)","    {","        direction = vec2(cos(angle), sin(angle)) * px;","        for (float curDistance = 0.0; curDistance < DIST; curDistance++)","        {","            displaced = outTexCoord + direction * (curDistance + 1.0);","            color = texture2D(uMainSampler, displaced);","            totalAlpha += (DIST - curDistance) * color.a;","        }","    }","    color = texture2D(uMainSampler, outTexCoord);","    float alphaRatio = (totalAlpha / MAX_ALPHA);","    float innerGlowAlpha = (1.0 - alphaRatio) * innerStrength * color.a;","    float innerGlowStrength = min(1.0, innerGlowAlpha);","    vec4 innerColor = mix(color, glowColor, innerGlowStrength);","    float outerGlowAlpha = alphaRatio * outerStrength * (1.0 - color.a);","    float outerGlowStrength = min(1.0 - innerColor.a, outerGlowAlpha);","    vec4 outerGlowColor = outerGlowStrength * glowColor.rgba;","    if (knockout)","    {","        float resultAlpha = outerGlowAlpha + innerGlowAlpha;","        gl_FragColor = vec4(glowColor.rgb * resultAlpha, resultAlpha);","    }","    else","    {","        gl_FragColor = innerColor + outerGlowColor;","    }","}"].join(`
`)},70463:f=>{f.exports=["#define SHADER_NAME GRADIENT_FS","#define SRGB_TO_LINEAR(c) pow((c), vec3(2.2))","#define LINEAR_TO_SRGB(c) pow((c), vec3(1.0 / 2.2))","#define SRGB(r, g, b) SRGB_TO_LINEAR(vec3(float(r), float(g), float(b)) / 255.0)","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 positionFrom;","uniform vec2 positionTo;","uniform vec3 color1;","uniform vec3 color2;","uniform float alpha;","uniform int size;","varying vec2 outTexCoord;","float gradientNoise(in vec2 uv)","{","    const vec3 magic = vec3(0.06711056, 0.00583715, 52.9829189);","    return fract(magic.z * fract(dot(uv, magic.xy)));","}","float stepped (in float s, in float scale, in int steps)","{","    return steps > 0 ? floor( s / ((1.0 * scale) / float(steps))) * 1.0 / float(steps - 1) : s;","}","void main ()","{","    vec2 a = positionFrom;","    vec2 b = positionTo;","    vec2 ba = b - a;","    float d = dot(outTexCoord - a, ba) / dot(ba, ba);","    float t = size > 0 ? stepped(d, 1.0, size) : d;","    t = smoothstep(0.0, 1.0, clamp(t, 0.0, 1.0));","    vec3 color = mix(SRGB(color1.r, color1.g, color1.b), SRGB(color2.r, color2.g, color2.b), t);","    color = LINEAR_TO_SRGB(color);","    color += (1.0 / 255.0) * gradientNoise(outTexCoord) - (0.5 / 255.0);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = vec4(mix(color.rgb, texture.rgb, alpha), 1.0) * texture.a;","}"].join(`
`)},50831:f=>{f.exports=["#define SHADER_NAME PIXELATE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float amount;","varying vec2 outTexCoord;","void main ()","{","    float pixelSize = floor(2.0 + amount);","    vec2 center = pixelSize * floor(outTexCoord * resolution / pixelSize) + pixelSize * vec2(0.5, 0.5);","    vec2 corner1 = center + pixelSize * vec2(-0.5, -0.5);","    vec2 corner2 = center + pixelSize * vec2(+0.5, -0.5);","    vec2 corner3 = center + pixelSize * vec2(+0.5, +0.5);","    vec2 corner4 = center + pixelSize * vec2(-0.5, +0.5);","    vec4 pixel = 0.4 * texture2D(uMainSampler, center / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner1 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner2 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner3 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner4 / resolution);","    gl_FragColor = pixel;","}"].join(`
`)},92595:f=>{f.exports=["#define SHADER_NAME SHADOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform vec2 lightPosition;","uniform vec4 color;","uniform float decay;","uniform float power;","uniform float intensity;","uniform int samples;","const int MAX = 12;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 pc = (lightPosition - outTexCoord) * intensity;","    float shadow = 0.0;","    float limit = max(float(MAX), float(samples));","    for (int i = 0; i < MAX; ++i)","    {","        if (i >= samples)","        {","            break;","        }","        shadow += texture2D(uMainSampler, outTexCoord + float(i) * decay / limit * pc).a * power;","    }","    float mask = 1.0 - texture.a;","    gl_FragColor = mix(texture, color, shadow * mask);","}"].join(`
`)},72464:f=>{f.exports=["#define SHADER_NAME SHINE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform bool reveal;","uniform float speed;","uniform float time;","uniform float lineWidth;","uniform float gradient;","varying vec2 outTexCoord;","void main ()","{","	vec2 uv = gl_FragCoord.xy / resolution.xy;","    vec4 tex = texture2D(uMainSampler, outTexCoord);","    vec4 col1 = vec4(0.3, 0.0, 0.0, 1.0);","    vec4 col2 = vec4(0.85, 0.85, 0.85, 1.0);","    uv.x = uv.x - mod(time * speed, 2.0) + 0.5;","    float y = uv.x * gradient;","    float s = smoothstep(y - lineWidth, y, uv.y) - smoothstep(y, y + lineWidth, uv.y);","    gl_FragColor = (((s * col1) + (s * col2)) * tex);","    if (!reveal)","    {","        gl_FragColor += tex;","    }","}"].join(`
`)},39249:f=>{f.exports=["#define SHADER_NAME VIGNETTE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float radius;","uniform float strength;","uniform vec2 position;","varying vec2 outTexCoord;","void main ()","{","    vec4 col = vec4(1.0);","    float d = length(outTexCoord - position);","    if (d <= radius)","    {","        float g = d / radius;","        g = sin(g * 3.14 * strength);","    	col = vec4(g * g * g);","    }","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = texture * (1.0 - col);","}"].join(`
`)},2878:f=>{f.exports=["#define SHADER_NAME WIPE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec4 config;","uniform bool reveal;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 color0;","    vec4 color1;","    if (reveal)","    {","        color0 = vec4(0);","        color1 = texture2D(uMainSampler, uv);","    }","    else","    {","        color0 = texture2D(uMainSampler, uv);","        color1 = vec4(0);","    }","    float distance = config.x;","    float width = config.y;","    float direction = config.z;","    float axis = uv.x;","    if (config.w == 1.0)","    {","        axis = uv.y;","    }","    float adjust = mix(width, -width, distance);","    float value = smoothstep(distance - width, distance + width, abs(direction - axis) + adjust);","    gl_FragColor = mix(color1, color0, value);","}"].join(`
`)},31063:f=>{f.exports=["#define SHADER_NAME PHASER_LIGHT_FS","precision mediump float;","struct Light","{","    vec2 position;","    vec3 color;","    float intensity;","    float radius;","};","const int kMaxLights = %LIGHT_COUNT%;","uniform vec4 uCamera; /* x, y, rotation, zoom */","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uNormSampler;","uniform vec3 uAmbientLightColor;","uniform Light uLights[kMaxLights];","uniform mat3 uInverseRotationMatrix;","uniform int uLightCount;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec3 finalColor = vec3(0.0, 0.0, 0.0);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    vec3 normalMap = texture2D(uNormSampler, outTexCoord).rgb;","    vec3 normal = normalize(uInverseRotationMatrix * vec3(normalMap * 2.0 - 1.0));","    vec2 res = vec2(min(uResolution.x, uResolution.y)) * uCamera.w;","    for (int index = 0; index < kMaxLights; ++index)","    {","        if (index < uLightCount)","        {","            Light light = uLights[index];","            vec3 lightDir = vec3((light.position.xy / res) - (gl_FragCoord.xy / res), 0.1);","            vec3 lightNormal = normalize(lightDir);","            float distToSurf = length(lightDir) * uCamera.w;","            float diffuseFactor = max(dot(normal, lightNormal), 0.0);","            float radius = (light.radius / res.x * uCamera.w) * uCamera.w;","            float attenuation = clamp(1.0 - distToSurf * distToSurf / (radius * radius), 0.0, 1.0);","            vec3 diffuse = light.color * diffuseFactor;","            finalColor += (attenuation * diffuse) * light.intensity;","        }","    }","    vec4 colorOutput = vec4(uAmbientLightColor + finalColor, 1.0);","    gl_FragColor = color * vec4(colorOutput.rgb * colorOutput.a, colorOutput.a);","}"].join(`
`)},48247:f=>{f.exports=["#define SHADER_NAME PHASER_LINEAR_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = mix(frame1, frame2 * uStrength, 0.5);","}"].join(`
`)},41214:f=>{f.exports=["#define SHADER_NAME PHASER_MESH_FS","precision mediump float;","uniform vec3 uLightPosition;","uniform vec3 uLightAmbient;","uniform vec3 uLightDiffuse;","uniform vec3 uLightSpecular;","uniform vec3 uFogColor;","uniform float uFogNear;","uniform float uFogFar;","uniform vec3 uMaterialAmbient;","uniform vec3 uMaterialDiffuse;","uniform vec3 uMaterialSpecular;","uniform float uMaterialShine;","uniform vec3 uCameraPosition;","uniform sampler2D uTexture;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main (void)","{","    vec4 color = texture2D(uTexture, vTextureCoord);","    vec3 ambient = uLightAmbient * uMaterialAmbient;","    vec3 norm = normalize(vNormal);","    vec3 lightDir = normalize(uLightPosition - vPosition);","    float diff = max(dot(norm, lightDir), 0.0);","    vec3 diffuse = uLightDiffuse * (diff * uMaterialDiffuse);","    vec3 viewDir = normalize(uCameraPosition - vPosition);","    vec3 reflectDir = reflect(-lightDir, norm);","    float spec = pow(max(dot(viewDir, reflectDir), 0.0), uMaterialShine);","    vec3 specular = uLightSpecular * (spec * uMaterialSpecular);","    vec3 result = (ambient + diffuse + specular) * color.rgb;","    float depth = gl_FragCoord.z / gl_FragCoord.w;","    float fogFactor = smoothstep(uFogNear, uFogFar, depth);","    gl_FragColor.rgb = mix(result.rgb, uFogColor, fogFactor);","    gl_FragColor.a = color.a;","}"].join(`
`)},39653:f=>{f.exports=["#define SHADER_NAME PHASER_MESH_VS","precision mediump float;","attribute vec3 aVertexPosition;","attribute vec3 aVertexNormal;","attribute vec2 aTextureCoord;","uniform mat4 uViewProjectionMatrix;","uniform mat4 uModelMatrix;","uniform mat4 uNormalMatrix;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main ()","{","    vTextureCoord = aTextureCoord;","    vPosition = vec3(uModelMatrix * vec4(aVertexPosition, 1.0));","    vNormal = vec3(uNormalMatrix * vec4(aVertexNormal, 1.0));","    gl_Position = uViewProjectionMatrix * uModelMatrix * vec4(aVertexPosition, 1.0);","}"].join(`
`)},62143:f=>{f.exports=["#define SHADER_NAME PHASER_MOBILE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},47940:f=>{f.exports=["#define SHADER_NAME PHASER_MOBILE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},98840:f=>{f.exports=["#define SHADER_NAME PHASER_MULTI_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler[%count%];","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture;","    %forloop%","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},44667:f=>{f.exports=["#define SHADER_NAME PHASER_MULTI_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTexId = inTexId;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},4127:f=>{f.exports=["#define SHADER_NAME PHASER_POINTLIGHT_FS","precision mediump float;","uniform vec2 uResolution;","uniform float uCameraZoom;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    vec2 center = (lightPosition.xy + 1.0) * (uResolution.xy * 0.5);","    float distToSurf = length(center - gl_FragCoord.xy);","    float radius = 1.0 - distToSurf / (lightRadius * uCameraZoom);","    float intensity = smoothstep(0.0, 1.0, radius * lightAttenuation);","    vec4 color = vec4(intensity, intensity, intensity, 0.0) * lightColor;","    gl_FragColor = vec4(color.rgb * lightColor.a, color.a);","}"].join(`
`)},89924:f=>{f.exports=["#define SHADER_NAME PHASER_POINTLIGHT_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","attribute vec2 inPosition;","attribute vec2 inLightPosition;","attribute vec4 inLightColor;","attribute float inLightRadius;","attribute float inLightAttenuation;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    lightColor = inLightColor;","    lightRadius = inLightRadius;","    lightAttenuation = inLightAttenuation;","    lightPosition = uProjectionMatrix * vec4(inLightPosition, 1.0, 1.0);","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","}"].join(`
`)},27681:f=>{f.exports=["#define SHADER_NAME PHASER_POSTFX_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord);","}"].join(`
`)},49627:f=>{f.exports=["#define SHADER_NAME PHASER_QUAD_VS","precision mediump float;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","varying vec2 outFragCoord;","varying vec2 outTexCoord;","void main ()","{","    outFragCoord = inPosition.xy * 0.5 + 0.5;","    outTexCoord = inTexCoord;","    gl_Position = vec4(inPosition, 0, 1);","}"].join(`
`)},45561:f=>{f.exports=["#define SHADER_NAME PHASER_SINGLE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},60722:f=>{f.exports=["#define SHADER_NAME PHASER_SINGLE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},89350:(f,C,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={AddBlendFrag:t(35407),BitmapMaskFrag:t(78908),BitmapMaskVert:t(85191),ColorMatrixFrag:t(96293),CopyFrag:t(36682),FXBarrelFrag:t(99155),FXBloomFrag:t(24400),FXBlurHighFrag:t(94328),FXBlurLowFrag:t(41514),FXBlurMedFrag:t(51078),FXBokehFrag:t(90610),FXCircleFrag:t(91899),FXDisplacementFrag:t(47838),FXGlowFrag:t(98656),FXGradientFrag:t(70463),FXPixelateFrag:t(50831),FXShadowFrag:t(92595),FXShineFrag:t(72464),FXVignetteFrag:t(39249),FXWipeFrag:t(2878),LightFrag:t(31063),LinearBlendFrag:t(48247),MeshFrag:t(41214),MeshVert:t(39653),MobileFrag:t(62143),MobileVert:t(47940),MultiFrag:t(98840),MultiVert:t(44667),PointLightFrag:t(4127),PointLightVert:t(89924),PostFXFrag:t(27681),QuadVert:t(49627),SingleFrag:t(45561),SingleVert:t(60722)}},93567:(f,C,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=new h({initialize:function(a,r,i){this.webGLAttribLocation=-1,this.gl=a,this.program=r,this.name=i,this.createResource()},createResource:function(){if(this.program.webGLProgram===null){this.webGLAttribLocation=-1;return}var o=this.gl;o.isContextLost()||(this.webGLAttribLocation=o.getAttribLocation(this.program.webGLProgram,this.name))},destroy:function(){this.gl=null,this.program=null,this.name=null,this.webGLAttribLocation=-1}});f.exports=g},26128:(f,C,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=new h({initialize:function(a,r,i,n){this.webGLBuffer=null,this.gl=a,this.initialDataOrSize=r,this.bufferType=i,this.bufferUsage=n,this.createResource()},createResource:function(){if(this.initialDataOrSize!==null){var o=this.gl;if(!o.isContextLost()){var a=this.bufferType,r=o.createBuffer();this.webGLBuffer=r,o.bindBuffer(a,this.webGLBuffer),o.bufferData(a,this.initialDataOrSize,this.bufferUsage),o.bindBuffer(a,null)}}},destroy:function(){var o=this.gl;o.isContextLost()||o.deleteBuffer(this.webGLBuffer),this.webGLBuffer=null,this.initialDataOrSize=null,this.gl=null}});f.exports=g},84387:(f,C,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g={36054:"Incomplete Attachment",36055:"Missing Attachment",36057:"Incomplete Dimensions",36061:"Framebuffer Unsupported"},o=new h({initialize:function(r,i,n,l,s){this.webGLFramebuffer=null,this.gl=r,this.width=i,this.height=n,this.renderTexture=l,this.addDepthStencilBuffer=!!s,this.createResource()},createResource:function(){var a=this.gl;if(!a.isContextLost()){var r=this.renderTexture,i=0,n=a.createFramebuffer();if(this.webGLFramebuffer=n,a.bindFramebuffer(a.FRAMEBUFFER,n),r.isRenderTexture=!0,r.isAlphaPremultiplied=!1,a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,r.webGLTexture,0),i=a.checkFramebufferStatus(a.FRAMEBUFFER),i!==a.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer status: "+(g[i]||i));if(this.addDepthStencilBuffer){var l=a.createRenderbuffer();a.bindRenderbuffer(a.RENDERBUFFER,l),a.renderbufferStorage(a.RENDERBUFFER,a.DEPTH_STENCIL,this.width,this.height),a.framebufferRenderbuffer(a.FRAMEBUFFER,a.DEPTH_STENCIL_ATTACHMENT,a.RENDERBUFFER,l)}a.bindFramebuffer(a.FRAMEBUFFER,null)}},destroy:function(){if(this.webGLFramebuffer!==null){var a=this.gl;if(!a.isContextLost()){a.bindFramebuffer(a.FRAMEBUFFER,this.webGLFramebuffer);var r=a.getFramebufferAttachmentParameter(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);r!==null&&(a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,null,0),a.deleteTexture(r));var i=a.getFramebufferAttachmentParameter(a.FRAMEBUFFER,a.DEPTH_STENCIL_ATTACHMENT,a.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);i!==null&&a.deleteRenderbuffer(i),a.bindFramebuffer(a.FRAMEBUFFER,null),a.deleteFramebuffer(this.webGLFramebuffer)}this.renderTexture=null,this.webGLFramebuffer=null,this.gl=null}}});f.exports=o},1482:(f,C,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=new h({initialize:function(a,r,i){this.webGLProgram=null,this.gl=a,this.vertexSource=r,this.fragmentSource=i,this.createResource()},createResource:function(){var o=this.gl;if(!o.isContextLost()){var a=o.createProgram(),r=o.createShader(o.VERTEX_SHADER),i=o.createShader(o.FRAGMENT_SHADER);o.shaderSource(r,this.vertexSource),o.shaderSource(i,this.fragmentSource),o.compileShader(r),o.compileShader(i);var n=`Shader failed:
`;if(!o.getShaderParameter(r,o.COMPILE_STATUS))throw new Error("Vertex "+n+o.getShaderInfoLog(r));if(!o.getShaderParameter(i,o.COMPILE_STATUS))throw new Error("Fragment "+n+o.getShaderInfoLog(i));if(o.attachShader(a,r),o.attachShader(a,i),o.linkProgram(a),!o.getProgramParameter(a,o.LINK_STATUS))throw new Error("Link "+n+o.getProgramInfoLog(a));o.useProgram(a),this.webGLProgram=a}},destroy:function(){this.webGLProgram&&(this.gl.isContextLost()||this.gl.deleteProgram(this.webGLProgram),this.webGLProgram=null,this.gl=null)}});f.exports=g},82751:(f,C,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(50030),o=new h({initialize:function(r,i,n,l,s,u,d,c,v,y,x,S,E){this.webGLTexture=null,this.isRenderTexture=!1,this.gl=r,this.mipLevel=i,this.minFilter=n,this.magFilter=l,this.wrapT=s,this.wrapS=u,this.format=d,this.pixels=c,this.width=v,this.height=y,this.pma=x??!0,this.forceSize=!!S,this.flipY=!!E,this.__SPECTOR_Metadata={},this.createResource()},createResource:function(){var a=this.gl;if(!a.isContextLost()){if(this.pixels instanceof o){this.webGLTexture=this.pixels.webGLTexture;return}var r=a.createTexture();r.__SPECTOR_Metadata=this.__SPECTOR_Metadata,this.webGLTexture=r,this._processTexture()}},update:function(a,r,i,n,l,s,u,d,c){if(!(r===0||i===0)){this.pixels=a,this.width=r,this.height=i,this.flipY=n,this.wrapS=l,this.wrapT=s,this.minFilter=u,this.magFilter=d,this.format=c;var v=this.gl;v.isContextLost()||this._processTexture()}},_processTexture:function(){var a=this.gl;a.activeTexture(a.TEXTURE0);var r=a.getParameter(a.TEXTURE_BINDING_2D);a.bindTexture(a.TEXTURE_2D,this.webGLTexture),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,this.minFilter),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,this.magFilter),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,this.wrapS),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,this.wrapT),a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.pma),a.pixelStorei(a.UNPACK_FLIP_Y_WEBGL,this.flipY);var i=this.pixels,n=this.mipLevel,l=this.width,s=this.height,u=this.format,d=!1;if(i==null)a.texImage2D(a.TEXTURE_2D,n,u,l,s,0,u,a.UNSIGNED_BYTE,null),d=g(l,s);else if(i.compressed){l=i.width,s=i.height,d=i.generateMipmap;for(var c=0;c<i.mipmaps.length;c++)a.compressedTexImage2D(a.TEXTURE_2D,c,i.internalFormat,i.mipmaps[c].width,i.mipmaps[c].height,0,i.mipmaps[c].data)}else i instanceof Uint8Array?(a.texImage2D(a.TEXTURE_2D,n,u,l,s,0,u,a.UNSIGNED_BYTE,i),d=g(l,s)):(this.forceSize||(l=i.width,s=i.height),a.texImage2D(a.TEXTURE_2D,n,u,u,a.UNSIGNED_BYTE,i),d=g(l,s));d&&a.generateMipmap(a.TEXTURE_2D),r?a.bindTexture(a.TEXTURE_2D,r):a.bindTexture(a.TEXTURE_2D,null)},spectorMetadata:{get:function(){return this.__SPECTOR_Metadata},set:function(a){this.__SPECTOR_Metadata=a,this.gl.isContextLost()||(this.webGLTexture.__SPECTOR_Metadata=a)}},destroy:function(){this.webGLTexture!==null&&(this.gl.isContextLost()||this.pixels instanceof o||this.gl.deleteTexture(this.webGLTexture),this.pixels=null,this.webGLTexture=null,this.gl=null)}});f.exports=o},57183:(f,C,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=new h({initialize:function(a,r,i){this.webGLUniformLocation=null,this.gl=a,this.program=r,this.name=i,this.createResource()},createResource:function(){if(this.program.webGLProgram===null){this.webGLUniformLocation=null;return}var o=this.gl;o.isContextLost()||(this.webGLUniformLocation=o.getUniformLocation(this.program.webGLProgram,this.name))},destroy:function(){this.gl=null,this.program=null,this.name=null,this.webGLUniformLocation=null}});f.exports=g},9503:(f,C,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h={WebGLAttribLocationWrapper:t(93567),WebGLBufferWrapper:t(26128),WebGLProgramWrapper:t(1482),WebGLTextureWrapper:t(82751),WebGLFramebufferWrapper:t(84387),WebGLUniformLocationWrapper:t(57183)};f.exports=h},76531:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(13560),g=t(83419),o=t(50792),a=t(97480),r=t(8443),i=t(57811),n=t(74403),l=t(45818),s=t(29747),u=t(87841),d=t(86555),c=t(56583),v=t(26099),y=t(38058),x=new g({Extends:o,initialize:function(E){o.call(this),this.game=E,this.canvas,this.canvasBounds=new u,this.parent=null,this.parentIsWindow=!1,this.parentSize=new d,this.gameSize=new d,this.baseSize=new d,this.displaySize=new d,this.scaleMode=h.SCALE_MODE.NONE,this.zoom=1,this._resetZoom=!1,this.displayScale=new v(1,1),this.autoRound=!1,this.autoCenter=h.CENTER.NO_CENTER,this.orientation=h.ORIENTATION.LANDSCAPE,this.fullscreen,this.fullscreenTarget=null,this._createdFullscreenTarget=!1,this.dirty=!1,this.resizeInterval=500,this._lastCheck=0,this._checkOrientation=!1,this.domlisteners={orientationChange:s,windowResize:s,fullScreenChange:s,fullScreenError:s}},preBoot:function(){this.parseConfig(this.game.config),this.game.events.once(r.BOOT,this.boot,this)},boot:function(){var S=this.game;this.canvas=S.canvas,this.fullscreen=S.device.fullscreen;var E=this.scaleMode;E!==h.SCALE_MODE.RESIZE&&E!==h.SCALE_MODE.EXPAND&&this.displaySize.setAspectMode(E),E===h.SCALE_MODE.NONE?this.resize(this.width,this.height):(this.getParentBounds(),this.parentSize.width>0&&this.parentSize.height>0&&this.displaySize.setParent(this.parentSize),this.refresh()),S.events.on(r.PRE_STEP,this.step,this),S.events.once(r.READY,this.refresh,this),S.events.once(r.DESTROY,this.destroy,this),this.startListeners()},parseConfig:function(S){this.getParent(S),this.getParentBounds();var E=S.width,A=S.height,R=S.scaleMode,w=S.zoom,I=S.autoRound;if(typeof E=="string")if(E.substr(-1)!=="%")E=parseInt(E,10);else{var O=this.parentSize.width;O===0&&(O=window.innerWidth);var F=parseInt(E,10)/100;E=Math.floor(O*F)}if(typeof A=="string")if(A.substr(-1)!=="%")A=parseInt(A,10);else{var L=this.parentSize.height;L===0&&(L=window.innerHeight);var D=parseInt(A,10)/100;A=Math.floor(L*D)}this.scaleMode=R,this.autoRound=I,this.autoCenter=S.autoCenter,this.resizeInterval=S.resizeInterval,I&&(E=Math.floor(E),A=Math.floor(A)),this.gameSize.setSize(E,A),w===h.ZOOM.MAX_ZOOM&&(w=this.getMaxZoom()),this.zoom=w,w!==1&&(this._resetZoom=!0),this.baseSize.setSize(E,A),I&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),S.minWidth>0&&this.displaySize.setMin(S.minWidth*w,S.minHeight*w),S.maxWidth>0&&this.displaySize.setMax(S.maxWidth*w,S.maxHeight*w),this.displaySize.setSize(E,A),(S.snapWidth>0||S.snapHeight>0)&&this.displaySize.setSnap(S.snapWidth,S.snapHeight),this.orientation=l(E,A)},getParent:function(S){var E=S.parent;if(E!==null){if(this.parent=n(E),this.parentIsWindow=this.parent===document.body,S.expandParent&&S.scaleMode!==h.SCALE_MODE.NONE){var A=this.parent.getBoundingClientRect();(this.parentIsWindow||A.height===0)&&(document.documentElement.style.height="100%",document.body.style.height="100%",A=this.parent.getBoundingClientRect(),!this.parentIsWindow&&A.height===0&&(this.parent.style.overflow="hidden",this.parent.style.width="100%",this.parent.style.height="100%"))}S.fullscreenTarget&&!this.fullscreenTarget&&(this.fullscreenTarget=n(S.fullscreenTarget))}},getParentBounds:function(){if(!this.parent)return!1;var S=this.parentSize,E=this.parent.getBoundingClientRect();this.parentIsWindow&&this.game.device.os.iOS&&(E.height=i(!0));var A=E.width,R=E.height;if(S.width!==A||S.height!==R)return S.setSize(A,R),!0;if(this.canvas){var w=this.canvasBounds,I=this.canvas.getBoundingClientRect();if(I.x!==w.x||I.y!==w.y)return!0}return!1},lockOrientation:function(S){var E=screen.lockOrientation||screen.mozLockOrientation||screen.msLockOrientation;return E?E.call(screen,S):!1},setParentSize:function(S,E){return this.parentSize.setSize(S,E),this.refresh()},setGameSize:function(S,E){var A=this.autoRound;A&&(S=Math.floor(S),E=Math.floor(E));var R=this.width,w=this.height;return this.gameSize.resize(S,E),this.baseSize.resize(S,E),A&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setAspectRatio(S/E),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height,this.refresh(R,w)},resize:function(S,E){var A=this.zoom,R=this.autoRound;R&&(S=Math.floor(S),E=Math.floor(E));var w=this.width,I=this.height;this.gameSize.resize(S,E),this.baseSize.resize(S,E),R&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setSize(S*A,E*A),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height;var O=this.canvas.style,F=S*A,L=E*A;return R&&(F=Math.floor(F),L=Math.floor(L)),(F!==S||L!==E)&&(O.width=F+"px",O.height=L+"px"),this.refresh(w,I)},setZoom:function(S){return this.zoom=S,this._resetZoom=!0,this.refresh()},setMaxZoom:function(){return this.zoom=this.getMaxZoom(),this._resetZoom=!0,this.refresh()},setSnap:function(S,E){return S===void 0&&(S=0),E===void 0&&(E=S),this.displaySize.setSnap(S,E),this.refresh()},refresh:function(S,E){S===void 0&&(S=this.width),E===void 0&&(E=this.height),this.updateScale(),this.updateBounds(),this.updateOrientation(),this.displayScale.set(this.baseSize.width/this.canvasBounds.width,this.baseSize.height/this.canvasBounds.height);var A=this.game.domContainer;if(A){this.baseSize.setCSS(A);var R=this.canvas.style,w=A.style;w.transform="scale("+this.displaySize.width/this.baseSize.width+","+this.displaySize.height/this.baseSize.height+")",w.marginLeft=R.marginLeft,w.marginTop=R.marginTop}return this.emit(a.RESIZE,this.gameSize,this.baseSize,this.displaySize,S,E),this},updateOrientation:function(){if(this._checkOrientation){this._checkOrientation=!1;var S=l(this.width,this.height);S!==this.orientation&&(this.orientation=S,this.emit(a.ORIENTATION_CHANGE,S))}},updateScale:function(){var S=this.canvas.style,E=this.gameSize.width,A=this.gameSize.height,R,w,I=this.zoom,O=this.autoRound;if(this.scaleMode===h.SCALE_MODE.NONE)this.displaySize.setSize(E*I,A*I),R=this.displaySize.width,w=this.displaySize.height,O&&(R=Math.floor(R),w=Math.floor(w)),this._resetZoom&&(S.width=R+"px",S.height=w+"px",this._resetZoom=!1);else if(this.scaleMode===h.SCALE_MODE.RESIZE)this.displaySize.setSize(this.parentSize.width,this.parentSize.height),this.gameSize.setSize(this.displaySize.width,this.displaySize.height),this.baseSize.setSize(this.displaySize.width,this.displaySize.height),R=this.displaySize.width,w=this.displaySize.height,O&&(R=Math.floor(R),w=Math.floor(w)),this.canvas.width=R,this.canvas.height=w;else if(this.scaleMode===h.SCALE_MODE.EXPAND){var F=this.game.config.width,L=this.game.config.height;this.displaySize.setSize(this.parentSize.width,this.parentSize.height),R=this.displaySize.width,w=this.displaySize.height,O&&(R=Math.floor(R),w=Math.floor(w)),S.width=R+"px",S.height=w+"px";var D=this.parentSize.width/F,b=this.parentSize.height/L;D<b&&D!==0?this.baseSize.setSize(F,this.parentSize.height/D):b!==0&&this.baseSize.setSize(this.displaySize.width/b,L),this.gameSize.setSize(this.baseSize.width,this.baseSize.height),R=this.baseSize.width,w=this.baseSize.height,O&&(R=Math.floor(R),w=Math.floor(w)),this.canvas.width=R,this.canvas.height=w}else this.displaySize.setSize(this.parentSize.width,this.parentSize.height),R=this.displaySize.width,w=this.displaySize.height,O&&(R=Math.floor(R),w=Math.floor(w)),S.width=R+"px",S.height=w+"px";this.getParentBounds(),this.updateCenter()},getMaxZoom:function(){var S=c(this.parentSize.width,this.gameSize.width,0,!0),E=c(this.parentSize.height,this.gameSize.height,0,!0);return Math.max(Math.min(S,E),1)},updateCenter:function(){var S=this.autoCenter;if(S!==h.CENTER.NO_CENTER){var E=this.canvas,A=E.style,R=E.getBoundingClientRect(),w=R.width,I=R.height,O=Math.floor((this.parentSize.width-w)/2),F=Math.floor((this.parentSize.height-I)/2);S===h.CENTER.CENTER_HORIZONTALLY?F=0:S===h.CENTER.CENTER_VERTICALLY&&(O=0),A.marginLeft=O+"px",A.marginTop=F+"px"}},updateBounds:function(){var S=this.canvasBounds,E=this.canvas.getBoundingClientRect();S.x=E.left+(window.pageXOffset||0)-(document.documentElement.clientLeft||0),S.y=E.top+(window.pageYOffset||0)-(document.documentElement.clientTop||0),S.width=E.width,S.height=E.height},transformX:function(S){return(S-this.canvasBounds.left)*this.displayScale.x},transformY:function(S){return(S-this.canvasBounds.top)*this.displayScale.y},startFullscreen:function(S){S===void 0&&(S={navigationUI:"hide"});var E=this.fullscreen;if(!E.available){this.emit(a.FULLSCREEN_UNSUPPORTED);return}if(!E.active){var A=this.getFullscreenTarget();E.keyboard?A[E.request](Element.ALLOW_KEYBOARD_INPUT):A[E.request](S)}},fullscreenSuccessHandler:function(){this.getParentBounds(),this.refresh(),this.emit(a.ENTER_FULLSCREEN)},fullscreenErrorHandler:function(S){this.removeFullscreenTarget(),this.emit(a.FULLSCREEN_FAILED,S)},getFullscreenTarget:function(){if(!this.fullscreenTarget){var S=document.createElement("div");S.style.margin="0",S.style.padding="0",S.style.width="100%",S.style.height="100%",this.fullscreenTarget=S,this._createdFullscreenTarget=!0}if(this._createdFullscreenTarget){var E=this.canvas.parentNode;E.insertBefore(this.fullscreenTarget,this.canvas),this.fullscreenTarget.appendChild(this.canvas)}return this.fullscreenTarget},removeFullscreenTarget:function(){if(this._createdFullscreenTarget){var S=this.fullscreenTarget;if(S&&S.parentNode){var E=S.parentNode;E.insertBefore(this.canvas,S),E.removeChild(S)}}},stopFullscreen:function(){var S=this.fullscreen;if(!S.available)return this.emit(a.FULLSCREEN_UNSUPPORTED),!1;S.active&&document[S.cancel](),this.removeFullscreenTarget()},leaveFullScreenSuccessHandler:function(){this.getParentBounds(),this.emit(a.LEAVE_FULLSCREEN),this.refresh()},toggleFullscreen:function(S){this.fullscreen.active?this.stopFullscreen():this.startFullscreen(S)},startListeners:function(){var S=this,E=this.domlisteners;if(E.orientationChange=function(){S.updateBounds(),S._checkOrientation=!0,S.dirty=!0,S.refresh()},E.windowResize=function(){S.updateBounds(),S.dirty=!0},screen.orientation&&screen.orientation.addEventListener?screen.orientation.addEventListener("change",E.orientationChange,!1):window.addEventListener("orientationchange",E.orientationChange,!1),window.addEventListener("resize",E.windowResize,!1),this.fullscreen.available){E.fullScreenChange=function(R){return S.onFullScreenChange(R)},E.fullScreenError=function(R){return S.onFullScreenError(R)};var A=["webkit","moz",""];A.forEach(function(R){document.addEventListener(R+"fullscreenchange",E.fullScreenChange,!1),document.addEventListener(R+"fullscreenerror",E.fullScreenError,!1)}),document.addEventListener("MSFullscreenChange",E.fullScreenChange,!1),document.addEventListener("MSFullscreenError",E.fullScreenError,!1)}},onFullScreenChange:function(){document.fullscreenElement||document.webkitFullscreenElement||document.msFullscreenElement||document.mozFullScreenElement?this.fullscreenSuccessHandler():(this.stopFullscreen(),this.leaveFullScreenSuccessHandler())},onFullScreenError:function(){this.removeFullscreenTarget()},getViewPort:function(S,E){S instanceof y||(E=S,S=void 0),E===void 0&&(E=new u);var A=this.baseSize,R=this.parentSize,w=this.canvasBounds,I=this.displayScale,O=w.x>=0?0:-(w.x*I.x),F=w.y>=0?0:-(w.y*I.y),L;R.width>=w.width?L=A.width:L=A.width-(w.width-R.width)*I.x;var D;return R.height>=w.height?D=A.height:D=A.height-(w.height-R.height)*I.y,E.setTo(O,F,L,D),S&&(E.width/=S.zoomX,E.height/=S.zoomY,E.centerX=S.centerX+S.scrollX,E.centerY=S.centerY+S.scrollY),E},step:function(S,E){this.parent&&(this._lastCheck+=E,(this.dirty||this._lastCheck>this.resizeInterval)&&(this.getParentBounds()&&this.refresh(),this.dirty=!1,this._lastCheck=0))},stopListeners:function(){var S=this.domlisteners;screen.orientation&&screen.orientation.addEventListener?screen.orientation.removeEventListener("change",S.orientationChange,!1):window.removeEventListener("orientationchange",S.orientationChange,!1),window.removeEventListener("resize",S.windowResize,!1);var E=["webkit","moz",""];E.forEach(function(A){document.removeEventListener(A+"fullscreenchange",S.fullScreenChange,!1),document.removeEventListener(A+"fullscreenerror",S.fullScreenError,!1)}),document.removeEventListener("MSFullscreenChange",S.fullScreenChange,!1),document.removeEventListener("MSFullscreenError",S.fullScreenError,!1)},destroy:function(){this.removeAllListeners(),this.stopListeners(),this.game=null,this.canvas=null,this.canvasBounds=null,this.parent=null,this.fullscreenTarget=null,this.parentSize.destroy(),this.gameSize.destroy(),this.baseSize.destroy(),this.displaySize.destroy()},isFullscreen:{get:function(){return this.fullscreen.active}},width:{get:function(){return this.gameSize.width}},height:{get:function(){return this.gameSize.height}},isPortrait:{get:function(){return this.orientation===h.ORIENTATION.PORTRAIT}},isLandscape:{get:function(){return this.orientation===h.ORIENTATION.LANDSCAPE}},isGamePortrait:{get:function(){return this.height>this.width}},isGameLandscape:{get:function(){return this.width>this.height}}});f.exports=x},64743:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={NO_CENTER:0,CENTER_BOTH:1,CENTER_HORIZONTALLY:2,CENTER_VERTICALLY:3}},39218:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={LANDSCAPE:"landscape-primary",LANDSCAPE_SECONDARY:"landscape-secondary",PORTRAIT:"portrait-primary",PORTRAIT_SECONDARY:"portrait-secondary"}},81050:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={NONE:0,WIDTH_CONTROLS_HEIGHT:1,HEIGHT_CONTROLS_WIDTH:2,FIT:3,ENVELOP:4,RESIZE:5,EXPAND:6}},80805:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={NO_ZOOM:1,ZOOM_2X:2,ZOOM_4X:4,MAX_ZOOM:-1}},13560:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h={CENTER:t(64743),ORIENTATION:t(39218),SCALE_MODE:t(81050),ZOOM:t(80805)};f.exports=h},56139:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="enterfullscreen"},2336:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="fullscreenfailed"},47412:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="fullscreenunsupported"},51452:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="leavefullscreen"},20666:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="orientationchange"},47945:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="resize"},97480:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={ENTER_FULLSCREEN:t(56139),FULLSCREEN_FAILED:t(2336),FULLSCREEN_UNSUPPORTED:t(47412),LEAVE_FULLSCREEN:t(51452),ORIENTATION_CHANGE:t(20666),RESIZE:t(47945)}},93364:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(79291),g=t(13560),o={Center:t(64743),Events:t(97480),Orientation:t(39218),ScaleManager:t(76531),ScaleModes:t(81050),Zoom:t(80805)};o=h(!1,o,g.CENTER),o=h(!1,o,g.ORIENTATION),o=h(!1,o,g.SCALE_MODE),o=h(!1,o,g.ZOOM),f.exports=o},27397:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(95540),g=t(35355),o=function(a){var r=a.game.config.defaultPhysicsSystem,i=h(a.settings,"physics",!1);if(!(!r&&!i)){var n=[];if(r&&n.push(g(r+"Physics")),i)for(var l in i)l=g(l.concat("Physics")),n.indexOf(l)===-1&&n.push(l);return n}};f.exports=o},52106:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(95540),g=function(o){var a=o.plugins.getDefaultScenePlugins(),r=h(o.settings,"plugins",!1);return Array.isArray(r)?r:a||[]};f.exports=g},87033:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={game:"game",renderer:"renderer",anims:"anims",cache:"cache",plugins:"plugins",registry:"registry",scale:"scale",sound:"sound",textures:"textures",events:"events",cameras:"cameras",add:"add",make:"make",scenePlugin:"scene",displayList:"children",lights:"lights",data:"data",input:"input",load:"load",time:"time",tweens:"tweens",arcadePhysics:"physics",impactPhysics:"impact",matterPhysics:"matter"};f.exports=C},97482:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(2368),o=new h({initialize:function(r){this.sys=new g(this,r),this.game,this.anims,this.cache,this.registry,this.sound,this.textures,this.events,this.cameras,this.add,this.make,this.scene,this.children,this.lights,this.data,this.input,this.load,this.time,this.tweens,this.physics,this.matter,this.scale,this.plugins,this.renderer},update:function(){}});f.exports=o},60903:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(89993),o=t(44594),a=t(8443),r=t(35154),i=t(54899),n=t(29747),l=t(97482),s=t(2368),u=new h({initialize:function(c,v){if(this.game=c,this.keys={},this.scenes=[],this._pending=[],this._start=[],this._queue=[],this._data={},this.isProcessing=!1,this.isBooted=!1,this.customViewports=0,this.systemScene,v){Array.isArray(v)||(v=[v]);for(var y=0;y<v.length;y++)this._pending.push({key:"default",scene:v[y],autoStart:y===0,data:{}})}c.events.once(a.READY,this.bootQueue,this)},bootQueue:function(){if(!this.isBooted){this.systemScene=this.createSceneFromInstance("__SYSTEM",new l),this.game.events.emit(a.SYSTEM_READY,this.systemScene,this);var d,c,v,y;for(d=0;d<this._pending.length;d++){c=this._pending[d],v=c.key,y=c.scene;var x;y instanceof l?x=this.createSceneFromInstance(v,y):typeof y=="object"?x=this.createSceneFromObject(v,y):typeof y=="function"&&(x=this.createSceneFromFunction(v,y)),v=x.sys.settings.key,this.keys[v]=x,this.scenes.push(x),this._data[v]&&(x.sys.settings.data=this._data[v].data,this._data[v].autoStart&&(c.autoStart=!0)),(c.autoStart||x.sys.settings.active)&&this._start.push(v)}for(this._pending.length=0,this._data={},this.isBooted=!0,d=0;d<this._start.length;d++)c=this._start[d],this.start(c);this._start.length=0}},processQueue:function(){var d=this._pending.length,c=this._queue.length;if(!(d===0&&c===0)){var v,y;if(d){for(v=0;v<d;v++)y=this._pending[v],this.add(y.key,y.scene,y.autoStart,y.data);for(v=0;v<this._start.length;v++)y=this._start[v],this.start(y);this._start.length=0,this._pending.length=0}for(v=0;v<this._queue.length;v++)y=this._queue[v],this[y.op](y.keyA,y.keyB,y.data);this._queue.length=0}},add:function(d,c,v,y){if(v===void 0&&(v=!1),y===void 0&&(y={}),this.isProcessing||!this.isBooted)return this._pending.push({key:d,scene:c,autoStart:v,data:y}),this.isBooted||(this._data[d]={data:y}),null;d=this.getKey(d,c);var x;return c instanceof l?x=this.createSceneFromInstance(d,c):typeof c=="object"?(c.key=d,x=this.createSceneFromObject(d,c)):typeof c=="function"&&(x=this.createSceneFromFunction(d,c)),x.sys.settings.data=y,d=x.sys.settings.key,this.keys[d]=x,this.scenes.push(x),(v||x.sys.settings.active)&&(this._pending.length?this._start.push(d):this.start(d)),x},remove:function(d){if(this.isProcessing)return this.queueOp("remove",d);var c=this.getScene(d);if(!c||c.sys.isTransitioning())return this;var v=this.scenes.indexOf(c),y=c.sys.settings.key;return v>-1&&(delete this.keys[y],this.scenes.splice(v,1),this._start.indexOf(y)>-1&&(v=this._start.indexOf(y),this._start.splice(v,1)),c.sys.destroy()),this},bootScene:function(d){var c=d.sys,v=c.settings;c.sceneUpdate=n,d.init&&(d.init.call(d,v.data),v.status=g.INIT,v.isTransition&&c.events.emit(o.TRANSITION_INIT,v.transitionFrom,v.transitionDuration));var y;c.load&&(y=c.load,y.reset()),y&&d.preload?(d.preload.call(d),v.status=g.LOADING,y.once(i.COMPLETE,this.loadComplete,this),y.start()):this.create(d)},loadComplete:function(d){this.create(d.scene)},payloadComplete:function(d){this.bootScene(d.scene)},update:function(d,c){this.processQueue(),this.isProcessing=!0;for(var v=this.scenes.length-1;v>=0;v--){var y=this.scenes[v].sys;y.settings.status>g.START&&y.settings.status<=g.RUNNING&&y.step(d,c),y.scenePlugin&&y.scenePlugin._target&&y.scenePlugin.step(d,c)}},render:function(d){for(var c=0;c<this.scenes.length;c++){var v=this.scenes[c].sys;v.settings.visible&&v.settings.status>=g.LOADING&&v.settings.status<g.SLEEPING&&v.render(d)}this.isProcessing=!1},create:function(d){var c=d.sys,v=c.settings;d.create&&(v.status=g.CREATING,d.create.call(d,v.data),v.status===g.DESTROYED)||(v.isTransition&&c.events.emit(o.TRANSITION_START,v.transitionFrom,v.transitionDuration),d.update&&(c.sceneUpdate=d.update),v.status=g.RUNNING,c.events.emit(o.CREATE,d))},createSceneFromFunction:function(d,c){var v=new c;if(v instanceof l){var y=v.sys.settings.key;if(y!==""&&(d=y),this.keys.hasOwnProperty(d))throw new Error("Cannot add Scene with duplicate key: "+d);return this.createSceneFromInstance(d,v)}else return v.sys=new s(v),v.sys.settings.key=d,v.sys.init(this.game),v},createSceneFromInstance:function(d,c){var v=c.sys.settings.key;return v===""&&(c.sys.settings.key=d),c.sys.init(this.game),c},createSceneFromObject:function(d,c){var v=new l(c),y=v.sys.settings.key;y!==""?d=y:v.sys.settings.key=d,v.sys.init(this.game);for(var x=["init","preload","create","update","render"],S=0;S<x.length;S++){var E=r(c,x[S],null);E&&(v[x[S]]=E)}if(c.hasOwnProperty("extend")){for(var A in c.extend)if(c.extend.hasOwnProperty(A)){var R=c.extend[A];A==="data"&&v.hasOwnProperty("data")&&typeof R=="object"?v.data.merge(R):A!=="sys"&&(v[A]=R)}}return v},getKey:function(d,c){if(d||(d="default"),typeof c=="function")return d;if(c instanceof l?d=c.sys.settings.key:typeof c=="object"&&c.hasOwnProperty("key")&&(d=c.key),this.keys.hasOwnProperty(d))throw new Error("Cannot add Scene with duplicate key: "+d);return d},getScenes:function(d,c){d===void 0&&(d=!0),c===void 0&&(c=!1);for(var v=[],y=this.scenes,x=0;x<y.length;x++){var S=y[x];S&&(!d||d&&S.sys.isActive())&&v.push(S)}return c?v.reverse():v},getScene:function(d){if(typeof d=="string"){if(this.keys[d])return this.keys[d]}else for(var c=0;c<this.scenes.length;c++)if(d===this.scenes[c])return d;return null},isActive:function(d){var c=this.getScene(d);return c?c.sys.isActive():null},isPaused:function(d){var c=this.getScene(d);return c?c.sys.isPaused():null},isVisible:function(d){var c=this.getScene(d);return c?c.sys.isVisible():null},isSleeping:function(d){var c=this.getScene(d);return c?c.sys.isSleeping():null},pause:function(d,c){var v=this.getScene(d);return v&&v.sys.pause(c),this},resume:function(d,c){var v=this.getScene(d);return v&&v.sys.resume(c),this},sleep:function(d,c){var v=this.getScene(d);return v&&!v.sys.isTransitioning()&&v.sys.sleep(c),this},wake:function(d,c){var v=this.getScene(d);return v&&v.sys.wake(c),this},run:function(d,c){var v=this.getScene(d);if(!v){for(var y=0;y<this._pending.length;y++)if(this._pending[y].key===d){this.queueOp("start",d,c);break}return this}v.sys.isSleeping()?v.sys.wake(c):v.sys.isPaused()?v.sys.resume(c):this.start(d,c)},start:function(d,c){if(!this.isBooted)return this._data[d]={autoStart:!0,data:c},this;var v=this.getScene(d);if(!v)return console.warn("Scene key not found: "+d),this;var y=v.sys,x=y.settings.status;if(x>=g.START&&x<=g.CREATING)return this;if(x>=g.RUNNING&&x<=g.SLEEPING)y.shutdown(),y.sceneUpdate=n,y.start(c);else{y.sceneUpdate=n,y.start(c);var S;if(y.load&&(S=y.load),S&&y.settings.hasOwnProperty("pack")&&(S.reset(),S.addPack({payload:y.settings.pack})))return y.settings.status=g.LOADING,S.once(i.COMPLETE,this.payloadComplete,this),S.start(),this}return this.bootScene(v),this},stop:function(d,c){var v=this.getScene(d);if(v&&!v.sys.isTransitioning()&&v.sys.settings.status!==g.SHUTDOWN){var y=v.sys.load;y&&(y.off(i.COMPLETE,this.loadComplete,this),y.off(i.COMPLETE,this.payloadComplete,this)),v.sys.shutdown(c)}return this},switch:function(d,c,v){var y=this.getScene(d),x=this.getScene(c);return y&&x&&y!==x&&(this.sleep(d),this.isSleeping(c)?this.wake(c,v):this.start(c,v)),this},getAt:function(d){return this.scenes[d]},getIndex:function(d){var c=this.getScene(d);return this.scenes.indexOf(c)},bringToTop:function(d){if(this.isProcessing)return this.queueOp("bringToTop",d);var c=this.getIndex(d),v=this.scenes;if(c!==-1&&c<v.length){var y=this.getScene(d);v.splice(c,1),v.push(y)}return this},sendToBack:function(d){if(this.isProcessing)return this.queueOp("sendToBack",d);var c=this.getIndex(d);if(c!==-1&&c>0){var v=this.getScene(d);this.scenes.splice(c,1),this.scenes.unshift(v)}return this},moveDown:function(d){if(this.isProcessing)return this.queueOp("moveDown",d);var c=this.getIndex(d);if(c>0){var v=c-1,y=this.getScene(d),x=this.getAt(v);this.scenes[c]=x,this.scenes[v]=y}return this},moveUp:function(d){if(this.isProcessing)return this.queueOp("moveUp",d);var c=this.getIndex(d);if(c<this.scenes.length-1){var v=c+1,y=this.getScene(d),x=this.getAt(v);this.scenes[c]=x,this.scenes[v]=y}return this},moveAbove:function(d,c){if(d===c)return this;if(this.isProcessing)return this.queueOp("moveAbove",d,c);var v=this.getIndex(d),y=this.getIndex(c);if(v!==-1&&y!==-1&&y<v){var x=this.getAt(y);this.scenes.splice(y,1),this.scenes.splice(v+(y>v),0,x)}return this},moveBelow:function(d,c){if(d===c)return this;if(this.isProcessing)return this.queueOp("moveBelow",d,c);var v=this.getIndex(d),y=this.getIndex(c);if(v!==-1&&y!==-1&&y>v){var x=this.getAt(y);this.scenes.splice(y,1),v===0?this.scenes.unshift(x):this.scenes.splice(v-(y<v),0,x)}return this},queueOp:function(d,c,v,y){return this._queue.push({op:d,keyA:c,keyB:v,data:y}),this},swapPosition:function(d,c){if(d===c)return this;if(this.isProcessing)return this.queueOp("swapPosition",d,c);var v=this.getIndex(d),y=this.getIndex(c);if(v!==y&&v!==-1&&y!==-1){var x=this.getAt(v);this.scenes[v]=this.scenes[y],this.scenes[y]=x}return this},dump:function(){for(var d=[],c=["pending","init","start","loading","creating","running","paused","sleeping","shutdown","destroyed"],v=0;v<this.scenes.length;v++){var y=this.scenes[v].sys,x=y.settings.visible&&(y.settings.status===g.RUNNING||y.settings.status===g.PAUSED)?"[*] ":"[-] ";x+=y.settings.key+" ("+c[y.settings.status]+")",d.push(x)}console.log(d.join(`
`))},destroy:function(){for(var d=0;d<this.scenes.length;d++){var c=this.scenes[d].sys;c.destroy()}this.systemScene.sys.destroy(),this.update=n,this.scenes=[],this._pending=[],this._start=[],this._queue=[],this.game=null,this.systemScene=null}});f.exports=u},52209:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(45319),g=t(83419),o=t(44594),a=t(95540),r=t(37277),i=new g({initialize:function(l){this.scene=l,this.systems=l.sys,this.settings=l.sys.settings,this.key=l.sys.settings.key,this.manager=l.sys.game.scene,this.transitionProgress=0,this._elapsed=0,this._target=null,this._duration=0,this._onUpdate,this._onUpdateScope,this._willSleep=!1,this._willRemove=!1,l.sys.events.once(o.BOOT,this.boot,this),l.sys.events.on(o.START,this.pluginStart,this)},boot:function(){this.systems.events.once(o.DESTROY,this.destroy,this)},pluginStart:function(){this._target=null,this.systems.events.once(o.SHUTDOWN,this.shutdown,this)},start:function(n,l){return n===void 0&&(n=this.key),this.manager.queueOp("stop",this.key),this.manager.queueOp("start",n,l),this},restart:function(n){var l=this.key;return this.manager.queueOp("stop",l),this.manager.queueOp("start",l,n),this},transition:function(n){n===void 0&&(n={});var l=a(n,"target",!1),s=this.manager.getScene(l);if(!l||!this.checkValidTransition(s))return!1;var u=a(n,"duration",1e3);this._elapsed=0,this._target=s,this._duration=u,this._willSleep=a(n,"sleep",!1),this._willRemove=a(n,"remove",!1);var d=a(n,"onUpdate",null);d&&(this._onUpdate=d,this._onUpdateScope=a(n,"onUpdateScope",this.scene));var c=a(n,"allowInput",!1);this.settings.transitionAllowInput=c;var v=s.sys.settings;v.isTransition=!0,v.transitionFrom=this.scene,v.transitionDuration=u,v.transitionAllowInput=c,a(n,"moveAbove",!1)?this.manager.moveAbove(this.key,l):a(n,"moveBelow",!1)&&this.manager.moveBelow(this.key,l),s.sys.isSleeping()?s.sys.wake(a(n,"data")):this.manager.start(l,a(n,"data"));var y=a(n,"onStart",null),x=a(n,"onStartScope",this.scene);return y&&y.call(x,this.scene,s,u),this.systems.events.emit(o.TRANSITION_OUT,s,u),!0},checkValidTransition:function(n){return!(!n||n.sys.isActive()||n.sys.isTransitioning()||n===this.scene||this.systems.isTransitioning())},step:function(n,l){this._elapsed+=l,this.transitionProgress=h(this._elapsed/this._duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.transitionProgress),this._elapsed>=this._duration&&this.transitionComplete()},transitionComplete:function(){var n=this._target.sys,l=this._target.sys.settings;n.events.emit(o.TRANSITION_COMPLETE,this.scene),l.isTransition=!1,l.transitionFrom=null,this._duration=0,this._target=null,this._onUpdate=null,this._onUpdateScope=null,this._willRemove?this.manager.remove(this.key):this._willSleep?this.systems.sleep():this.manager.stop(this.key)},add:function(n,l,s,u){return this.manager.add(n,l,s,u)},launch:function(n,l){return n&&n!==this.key&&this.manager.queueOp("start",n,l),this},run:function(n,l){return n&&n!==this.key&&this.manager.queueOp("run",n,l),this},pause:function(n,l){return n===void 0&&(n=this.key),this.manager.queueOp("pause",n,l),this},resume:function(n,l){return n===void 0&&(n=this.key),this.manager.queueOp("resume",n,l),this},sleep:function(n,l){return n===void 0&&(n=this.key),this.manager.queueOp("sleep",n,l),this},wake:function(n,l){return n===void 0&&(n=this.key),this.manager.queueOp("wake",n,l),this},switch:function(n,l){return n!==this.key&&this.manager.queueOp("switch",this.key,n,l),this},stop:function(n,l){return n===void 0&&(n=this.key),this.manager.queueOp("stop",n,l),this},setActive:function(n,l,s){l===void 0&&(l=this.key);var u=this.manager.getScene(l);return u&&u.sys.setActive(n,s),this},setVisible:function(n,l){l===void 0&&(l=this.key);var s=this.manager.getScene(l);return s&&s.sys.setVisible(n),this},isSleeping:function(n){return n===void 0&&(n=this.key),this.manager.isSleeping(n)},isActive:function(n){return n===void 0&&(n=this.key),this.manager.isActive(n)},isPaused:function(n){return n===void 0&&(n=this.key),this.manager.isPaused(n)},isVisible:function(n){return n===void 0&&(n=this.key),this.manager.isVisible(n)},swapPosition:function(n,l){return l===void 0&&(l=this.key),n!==l&&this.manager.swapPosition(n,l),this},moveAbove:function(n,l){return l===void 0&&(l=this.key),n!==l&&this.manager.moveAbove(n,l),this},moveBelow:function(n,l){return l===void 0&&(l=this.key),n!==l&&this.manager.moveBelow(n,l),this},remove:function(n){return n===void 0&&(n=this.key),this.manager.remove(n),this},moveUp:function(n){return n===void 0&&(n=this.key),this.manager.moveUp(n),this},moveDown:function(n){return n===void 0&&(n=this.key),this.manager.moveDown(n),this},bringToTop:function(n){return n===void 0&&(n=this.key),this.manager.bringToTop(n),this},sendToBack:function(n){return n===void 0&&(n=this.key),this.manager.sendToBack(n),this},get:function(n){return this.manager.getScene(n)},getStatus:function(n){var l=this.manager.getScene(n);if(l)return l.sys.getStatus()},getIndex:function(n){return n===void 0&&(n=this.key),this.manager.getIndex(n)},shutdown:function(){var n=this.systems.events;n.off(o.SHUTDOWN,this.shutdown,this),n.off(o.TRANSITION_OUT)},destroy:function(){this.shutdown(),this.scene.sys.events.off(o.START,this.start,this),this.scene=null,this.systems=null,this.settings=null,this.manager=null}});r.register("ScenePlugin",i,"scenePlugin"),f.exports=i},55681:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(89993),g=t(35154),o=t(46975),a=t(87033),r={create:function(i){return typeof i=="string"?i={key:i}:i===void 0&&(i={}),{status:h.PENDING,key:g(i,"key",""),active:g(i,"active",!1),visible:g(i,"visible",!0),isBooted:!1,isTransition:!1,transitionFrom:null,transitionDuration:0,transitionAllowInput:!0,data:{},pack:g(i,"pack",!1),cameras:g(i,"cameras",null),map:g(i,"map",o(a,g(i,"mapAdd",{}))),physics:g(i,"physics",{}),loader:g(i,"loader",{}),plugins:g(i,"plugins",!1),input:g(i,"input",{})}}};f.exports=r},2368:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(89993),o=t(42363),a=t(44594),r=t(27397),i=t(52106),n=t(29747),l=t(55681),s=new h({initialize:function(d,c){this.scene=d,this.game,this.renderer,this.config=c,this.settings=l.create(c),this.canvas,this.context,this.anims,this.cache,this.plugins,this.registry,this.scale,this.sound,this.textures,this.add,this.cameras,this.displayList,this.events,this.make,this.scenePlugin,this.updateList,this.sceneUpdate=n},init:function(u){this.settings.status=g.INIT,this.sceneUpdate=n,this.game=u,this.renderer=u.renderer,this.canvas=u.canvas,this.context=u.context;var d=u.plugins;this.plugins=d,d.addToScene(this,o.Global,[o.CoreScene,i(this),r(this)]),this.events.emit(a.BOOT,this),this.settings.isBooted=!0},step:function(u,d){var c=this.events;c.emit(a.PRE_UPDATE,u,d),c.emit(a.UPDATE,u,d),this.sceneUpdate.call(this.scene,u,d),c.emit(a.POST_UPDATE,u,d)},render:function(u){var d=this.displayList;d.depthSort(),this.events.emit(a.PRE_RENDER,u),this.cameras.render(u,d),this.events.emit(a.RENDER,u)},queueDepthSort:function(){this.displayList.queueDepthSort()},depthSort:function(){this.displayList.depthSort()},pause:function(u){var d=this.settings,c=this.getStatus();return c!==g.CREATING&&c!==g.RUNNING?console.warn("Cannot pause non-running Scene",d.key):this.settings.active&&(d.status=g.PAUSED,d.active=!1,this.events.emit(a.PAUSE,this,u)),this},resume:function(u){var d=this.events,c=this.settings;return this.settings.active||(c.status=g.RUNNING,c.active=!0,d.emit(a.RESUME,this,u)),this},sleep:function(u){var d=this.settings,c=this.getStatus();return c!==g.CREATING&&c!==g.RUNNING?console.warn("Cannot sleep non-running Scene",d.key):(d.status=g.SLEEPING,d.active=!1,d.visible=!1,this.events.emit(a.SLEEP,this,u)),this},wake:function(u){var d=this.events,c=this.settings;return c.status=g.RUNNING,c.active=!0,c.visible=!0,d.emit(a.WAKE,this,u),c.isTransition&&d.emit(a.TRANSITION_WAKE,c.transitionFrom,c.transitionDuration),this},getData:function(){return this.settings.data},getStatus:function(){return this.settings.status},canInput:function(){var u=this.settings.status;return u>g.PENDING&&u<=g.RUNNING},isSleeping:function(){return this.settings.status===g.SLEEPING},isActive:function(){return this.settings.status===g.RUNNING},isPaused:function(){return this.settings.status===g.PAUSED},isTransitioning:function(){return this.settings.isTransition||this.scenePlugin._target!==null},isTransitionOut:function(){return this.scenePlugin._target!==null&&this.scenePlugin._duration>0},isTransitionIn:function(){return this.settings.isTransition},isVisible:function(){return this.settings.visible},setVisible:function(u){return this.settings.visible=u,this},setActive:function(u,d){return u?this.resume(d):this.pause(d)},start:function(u){var d=this.events,c=this.settings;u&&(c.data=u),c.status=g.START,c.active=!0,c.visible=!0,d.emit(a.START,this),d.emit(a.READY,this,u)},shutdown:function(u){var d=this.events,c=this.settings;d.off(a.TRANSITION_INIT),d.off(a.TRANSITION_START),d.off(a.TRANSITION_COMPLETE),d.off(a.TRANSITION_OUT),c.status=g.SHUTDOWN,c.active=!1,c.visible=!1,d.emit(a.SHUTDOWN,this,u)},destroy:function(){var u=this.events,d=this.settings;d.status=g.DESTROYED,d.active=!1,d.visible=!1,u.emit(a.DESTROY,this),u.removeAllListeners();for(var c=["scene","game","anims","cache","plugins","registry","sound","textures","add","camera","displayList","events","make","scenePlugin","updateList"],v=0;v<c.length;v++)this[c[v]]=null}});f.exports=s},89993:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={PENDING:0,INIT:1,START:2,LOADING:3,CREATING:4,RUNNING:5,PAUSED:6,SLEEPING:7,SHUTDOWN:8,DESTROYED:9};f.exports=C},69830:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="addedtoscene"},7919:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="boot"},46763:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="create"},11763:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="destroy"},71555:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="pause"},36735:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="postupdate"},3809:f=>{/**
 * @author       samme
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="prerender"},90716:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="preupdate"},58262:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="ready"},91633:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="removedfromscene"},10319:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="render"},87132:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="resume"},81961:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="shutdown"},90194:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="sleep"},6265:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="start"},33178:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="transitioncomplete"},43063:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="transitioninit"},11259:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="transitionout"},61611:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="transitionstart"},45209:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="transitionwake"},22966:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="update"},21747:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="wake"},44594:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={ADDED_TO_SCENE:t(69830),BOOT:t(7919),CREATE:t(46763),DESTROY:t(11763),PAUSE:t(71555),POST_UPDATE:t(36735),PRE_RENDER:t(3809),PRE_UPDATE:t(90716),READY:t(58262),REMOVED_FROM_SCENE:t(91633),RENDER:t(10319),RESUME:t(87132),SHUTDOWN:t(81961),SLEEP:t(90194),START:t(6265),TRANSITION_COMPLETE:t(33178),TRANSITION_INIT:t(43063),TRANSITION_OUT:t(11259),TRANSITION_START:t(61611),TRANSITION_WAKE:t(45209),UPDATE:t(22966),WAKE:t(21747)}},62194:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(89993),g=t(79291),o={Events:t(44594),GetPhysicsPlugins:t(27397),GetScenePlugins:t(52106),SceneManager:t(60903),ScenePlugin:t(52209),Settings:t(55681),Systems:t(2368)};o=g(!1,o,h),f.exports=o},30341:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(50792),o=t(14463),a=t(79291),r=t(29747),i=new h({Extends:g,initialize:function(l,s,u){g.call(this),this.manager=l,this.key=s,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=this.duration||0,this.totalDuration=this.totalDuration||0,this.config={mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},this.currentConfig=this.config,this.config=a(this.config,u),this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:function(n){return!n||!n.name||typeof n.name!="string"?!1:this.markers[n.name]?(console.error("addMarker "+n.name+" already exists in Sound"),!1):(n=a(!0,{name:"",start:0,duration:this.totalDuration-(n.start||0),config:{mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0}},n),this.markers[n.name]=n,!0)},updateMarker:function(n){return!n||!n.name||typeof n.name!="string"?!1:this.markers[n.name]?(this.markers[n.name]=a(!0,this.markers[n.name],n),!0):(console.warn("Audio Marker: "+n.name+" missing in Sound: "+this.key),!1)},removeMarker:function(n){var l=this.markers[n];return l?(this.markers[n]=null,l):null},play:function(n,l){if(n===void 0&&(n=""),typeof n=="object"&&(l=n,n=""),typeof n!="string")return!1;if(!n)this.currentMarker=null,this.currentConfig=this.config,this.duration=this.totalDuration;else{if(!this.markers[n])return console.warn("Marker: "+n+" missing in Sound: "+this.key),!1;this.currentMarker=this.markers[n],this.currentConfig=this.currentMarker.config,this.duration=this.currentMarker.duration}return this.resetConfig(),this.currentConfig=a(this.currentConfig,l),this.isPlaying=!0,this.isPaused=!1,!0},pause:function(){return this.isPaused||!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!0,!0)},resume:function(){return!this.isPaused||this.isPlaying?!1:(this.isPlaying=!0,this.isPaused=!1,!0)},stop:function(){return!this.isPaused&&!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!1,this.resetConfig(),!0)},applyConfig:function(){this.mute=this.currentConfig.mute,this.volume=this.currentConfig.volume,this.rate=this.currentConfig.rate,this.detune=this.currentConfig.detune,this.loop=this.currentConfig.loop,this.pan=this.currentConfig.pan},resetConfig:function(){this.currentConfig.seek=0,this.currentConfig.delay=0},update:r,calculateRate:function(){var n=1.0005777895065548,l=this.currentConfig.detune+this.manager.detune,s=Math.pow(n,l);this.totalRate=this.currentConfig.rate*this.manager.rate*s},destroy:function(){this.pendingRemove||(this.stop(),this.emit(o.DESTROY,this),this.removeAllListeners(),this.pendingRemove=!0,this.manager=null,this.config=null,this.currentConfig=null,this.markers=null,this.currentMarker=null)}});f.exports=i},85034:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(41786),o=t(50792),a=t(14463),r=t(8443),i=t(46710),n=t(58731),l=t(29747),s=t(26099),u=new h({Extends:o,initialize:function(c){o.call(this),this.game=c,this.jsonCache=c.cache.json,this.sounds=[],this.mute=!1,this.volume=1,this.pauseOnBlur=!0,this._rate=1,this._detune=0,this.locked=this.locked||!1,this.unlocked=!1,this.gameLostFocus=!1,this.listenerPosition=new s;var v=c.events;v.on(r.BLUR,this.onGameBlur,this),v.on(r.FOCUS,this.onGameFocus,this),v.on(r.PRE_STEP,this.update,this),v.once(r.DESTROY,this.destroy,this)},add:l,addAudioSprite:function(d,c){c===void 0&&(c={});var v=this.add(d,c);v.spritemap=this.jsonCache.get(d).spritemap;for(var y in v.spritemap)if(v.spritemap.hasOwnProperty(y)){var x=g(c),S=v.spritemap[y];x.loop=S.hasOwnProperty("loop")?S.loop:!1,v.addMarker({name:y,start:S.start,duration:S.end-S.start,config:x})}return v},get:function(d){return n(this.sounds,"key",d)},getAll:function(d){return d?i(this.sounds,"key",d):i(this.sounds)},getAllPlaying:function(){return i(this.sounds,"isPlaying",!0)},play:function(d,c){var v=this.add(d);return v.once(a.COMPLETE,v.destroy,v),c?c.name?(v.addMarker(c),v.play(c.name)):v.play(c):v.play()},playAudioSprite:function(d,c,v){var y=this.addAudioSprite(d);return y.once(a.COMPLETE,y.destroy,y),y.play(c,v)},remove:function(d){var c=this.sounds.indexOf(d);return c!==-1?(d.destroy(),this.sounds.splice(c,1),!0):!1},removeAll:function(){this.sounds.forEach(function(d){d.destroy()}),this.sounds.length=0},removeByKey:function(d){for(var c=0,v=this.sounds.length-1;v>=0;v--){var y=this.sounds[v];y.key===d&&(y.destroy(),this.sounds.splice(v,1),c++)}return c},pauseAll:function(){this.forEachActiveSound(function(d){d.pause()}),this.emit(a.PAUSE_ALL,this)},resumeAll:function(){this.forEachActiveSound(function(d){d.resume()}),this.emit(a.RESUME_ALL,this)},setListenerPosition:l,stopAll:function(){this.forEachActiveSound(function(d){d.stop()}),this.emit(a.STOP_ALL,this)},stopByKey:function(d){var c=0;return this.getAll(d).forEach(function(v){v.stop()&&c++}),c},isPlaying:function(d){var c=this.sounds,v=c.length-1,y;if(d===void 0){for(;v>=0;v--)if(y=this.sounds[v],y.isPlaying)return!0}else for(;v>=0;v--)if(y=this.sounds[v],y.key===d&&y.isPlaying)return!0;return!1},unlock:l,onBlur:l,onFocus:l,onGameBlur:function(){this.gameLostFocus=!0,this.pauseOnBlur&&this.onBlur()},onGameFocus:function(){this.gameLostFocus=!1,this.pauseOnBlur&&this.onFocus()},update:function(d,c){this.unlocked&&(this.unlocked=!1,this.locked=!1,this.emit(a.UNLOCKED,this));for(var v=this.sounds.length-1;v>=0;v--)this.sounds[v].pendingRemove&&this.sounds.splice(v,1);this.sounds.forEach(function(y){y.update(d,c)})},destroy:function(){this.game.events.off(r.BLUR,this.onGameBlur,this),this.game.events.off(r.FOCUS,this.onGameFocus,this),this.game.events.off(r.PRE_STEP,this.update,this),this.removeAllListeners(),this.removeAll(),this.sounds.length=0,this.sounds=null,this.listenerPosition=null,this.game=null},forEachActiveSound:function(d,c){var v=this;this.sounds.forEach(function(y,x){y&&!y.pendingRemove&&d.call(c||v,y,x,v.sounds)})},setRate:function(d){return this.rate=d,this},rate:{get:function(){return this._rate},set:function(d){this._rate=d,this.forEachActiveSound(function(c){c.calculateRate()}),this.emit(a.GLOBAL_RATE,this,d)}},setDetune:function(d){return this.detune=d,this},detune:{get:function(){return this._detune},set:function(d){this._detune=d,this.forEachActiveSound(function(c){c.calculateRate()}),this.emit(a.GLOBAL_DETUNE,this,d)}}});f.exports=u},14747:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(33684),g=t(25960),o=t(57490),a={create:function(r){var i=r.config.audio,n=r.device.audio;return i.noAudio||!n.webAudio&&!n.audioData?new g(r):n.webAudio&&!i.disableWebAudio?new o(r):new h(r)}};f.exports=a},19723:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="complete"},98882:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="decodedall"},57506:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="decoded"},73146:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="destroy"},11305:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="detune"},40577:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="detune"},30333:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="mute"},20394:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="rate"},21802:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="volume"},1299:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="looped"},99190:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="loop"},97125:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="mute"},89259:f=>{/**
 * @author       pi-kei
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="pan"},79986:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="pauseall"},17586:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="pause"},19618:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="play"},42306:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="rate"},10387:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="resumeall"},48959:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="resume"},9960:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="seek"},19180:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="stopall"},98328:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="stop"},50401:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="unlocked"},52498:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="volume"},14463:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={COMPLETE:t(19723),DECODED:t(57506),DECODED_ALL:t(98882),DESTROY:t(73146),DETUNE:t(11305),GLOBAL_DETUNE:t(40577),GLOBAL_MUTE:t(30333),GLOBAL_RATE:t(20394),GLOBAL_VOLUME:t(21802),LOOP:t(99190),LOOPED:t(1299),MUTE:t(97125),PAN:t(89259),PAUSE_ALL:t(79986),PAUSE:t(17586),PLAY:t(19618),RATE:t(42306),RESUME_ALL:t(10387),RESUME:t(48959),SEEK:t(9960),STOP_ALL:t(19180),STOP:t(98328),UNLOCKED:t(50401),VOLUME:t(52498)}},64895:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(30341),g=t(83419),o=t(14463),a=t(45319),r=new g({Extends:h,initialize:function(n,l,s){if(s===void 0&&(s={}),this.tags=n.game.cache.audio.get(l),!this.tags)throw new Error('No cached audio asset with key "'+l);this.audio=null,this.startTime=0,this.previousTime=0,this.duration=this.tags[0].duration,this.totalDuration=this.tags[0].duration,h.call(this,n,l,s)},play:function(i,n){return this.manager.isLocked(this,"play",[i,n])||!h.prototype.play.call(this,i,n)||!this.pickAndPlayAudioTag()?!1:(this.emit(o.PLAY,this),!0)},pause:function(){return this.manager.isLocked(this,"pause")||this.startTime>0||!h.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.stopAndReleaseAudioTag(),this.emit(o.PAUSE,this),!0)},resume:function(){return this.manager.isLocked(this,"resume")||this.startTime>0||!h.prototype.resume.call(this)||!this.pickAndPlayAudioTag()?!1:(this.emit(o.RESUME,this),!0)},stop:function(){return this.manager.isLocked(this,"stop")||!h.prototype.stop.call(this)?!1:(this.stopAndReleaseAudioTag(),this.emit(o.STOP,this),!0)},pickAndPlayAudioTag:function(){if(!this.pickAudioTag())return this.reset(),!1;var i=this.currentConfig.seek,n=this.currentConfig.delay,l=(this.currentMarker?this.currentMarker.start:0)+i;return this.previousTime=l,this.audio.currentTime=l,this.applyConfig(),n===0?(this.startTime=0,this.audio.paused&&this.playCatchPromise()):(this.startTime=window.performance.now()+n*1e3,this.audio.paused||this.audio.pause()),this.resetConfig(),!0},pickAudioTag:function(){if(this.audio)return!0;for(var i=0;i<this.tags.length;i++){var n=this.tags[i];if(n.dataset.used==="false")return n.dataset.used="true",this.audio=n,!0}if(!this.manager.override)return!1;var l=[];this.manager.forEachActiveSound(function(u){u.key===this.key&&u.audio&&l.push(u)},this),l.sort(function(u,d){return u.loop===d.loop?d.seek/d.duration-u.seek/u.duration:u.loop?1:-1});var s=l[0];return this.audio=s.audio,s.reset(),s.audio=null,s.startTime=0,s.previousTime=0,!0},playCatchPromise:function(){var i=this.audio.play();i&&i.catch(function(n){console.warn(n)})},stopAndReleaseAudioTag:function(){this.startTime=0,this.previousTime=0,this.audio&&(this.audio.pause(),this.audio.dataset.used="false",this.audio=null)},reset:function(){h.prototype.stop.call(this)},onBlur:function(){this.isPlaying=!1,this.isPaused=!0,this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.currentConfig.delay=Math.max(0,(this.startTime-window.performance.now())/1e3),this.stopAndReleaseAudioTag()},onFocus:function(){this.isPlaying=!0,this.isPaused=!1,this.pickAndPlayAudioTag()},update:function(i){if(this.isPlaying){if(this.startTime>0){this.startTime<i-this.manager.audioPlayDelay&&(this.audio.currentTime+=Math.max(0,i-this.startTime)/1e3,this.startTime=0,this.previousTime=this.audio.currentTime,this.playCatchPromise());return}var n=this.currentMarker?this.currentMarker.start:0,l=n+this.duration,s=this.audio.currentTime;if(this.currentConfig.loop)s>=l-this.manager.loopEndOffset?(this.audio.currentTime=n+Math.max(0,s-l),s=this.audio.currentTime):s<n&&(this.audio.currentTime+=n,s=this.audio.currentTime),s<this.previousTime&&this.emit(o.LOOPED,this);else if(s>=l){this.reset(),this.stopAndReleaseAudioTag(),this.emit(o.COMPLETE,this);return}this.previousTime=s}},destroy:function(){h.prototype.destroy.call(this),this.tags=null,this.audio&&this.stopAndReleaseAudioTag()},updateMute:function(){this.audio&&(this.audio.muted=this.currentConfig.mute||this.manager.mute)},updateVolume:function(){this.audio&&(this.audio.volume=a(this.currentConfig.volume*this.manager.volume,0,1))},calculateRate:function(){h.prototype.calculateRate.call(this),this.audio&&(this.audio.playbackRate=this.totalRate)},mute:{get:function(){return this.currentConfig.mute},set:function(i){this.currentConfig.mute=i,!this.manager.isLocked(this,"mute",i)&&(this.updateMute(),this.emit(o.MUTE,this,i))}},setMute:function(i){return this.mute=i,this},volume:{get:function(){return this.currentConfig.volume},set:function(i){this.currentConfig.volume=i,!this.manager.isLocked(this,"volume",i)&&(this.updateVolume(),this.emit(o.VOLUME,this,i))}},setVolume:function(i){return this.volume=i,this},rate:{get:function(){return this.currentConfig.rate},set:function(i){this.currentConfig.rate=i,!this.manager.isLocked(this,o.RATE,i)&&(this.calculateRate(),this.emit(o.RATE,this,i))}},setRate:function(i){return this.rate=i,this},detune:{get:function(){return this.currentConfig.detune},set:function(i){this.currentConfig.detune=i,!this.manager.isLocked(this,o.DETUNE,i)&&(this.calculateRate(),this.emit(o.DETUNE,this,i))}},setDetune:function(i){return this.detune=i,this},seek:{get:function(){return this.isPlaying?this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0):this.isPaused?this.currentConfig.seek:0},set:function(i){this.manager.isLocked(this,"seek",i)||this.startTime>0||(this.isPlaying||this.isPaused)&&(i=Math.min(Math.max(0,i),this.duration),this.isPlaying?(this.previousTime=i,this.audio.currentTime=i):this.isPaused&&(this.currentConfig.seek=i),this.emit(o.SEEK,this,i))}},setSeek:function(i){return this.seek=i,this},loop:{get:function(){return this.currentConfig.loop},set:function(i){this.currentConfig.loop=i,!this.manager.isLocked(this,"loop",i)&&(this.audio&&(this.audio.loop=i),this.emit(o.LOOP,this,i))}},setLoop:function(i){return this.loop=i,this},pan:{get:function(){return this.currentConfig.pan},set:function(i){this.currentConfig.pan=i,this.emit(o.PAN,this,i)}},setPan:function(i){return this.pan=i,this}});f.exports=r},33684:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(85034),g=t(83419),o=t(14463),a=t(64895),r=new g({Extends:h,initialize:function(n){this.override=!0,this.audioPlayDelay=.1,this.loopEndOffset=.05,this.onBlurPausedSounds=[],this.locked="ontouchstart"in window,this.lockedActionsQueue=this.locked?[]:null,this._mute=!1,this._volume=1,h.call(this,n)},add:function(i,n){var l=new a(this,i,n);return this.sounds.push(l),l},unlock:function(){this.locked=!1;var i=this;if(this.game.cache.audio.entries.each(function(u,d){for(var c=0;c<d.length;c++)if(d[c].dataset.locked==="true")return i.locked=!0,!1;return!0}),!!this.locked){var n=!1,l=function(){n=!0},s=function(){if(n){n=!1;return}document.body.removeEventListener("touchmove",l),document.body.removeEventListener("touchend",s);var u=[];if(i.game.cache.audio.entries.each(function(c,v){for(var y=0;y<v.length;y++){var x=v[y];x.dataset.locked==="true"&&u.push(x)}return!0}),u.length!==0){var d=u[u.length-1];d.oncanplaythrough=function(){d.oncanplaythrough=null,u.forEach(function(c){c.dataset.locked="false"}),i.unlocked=!0},u.forEach(function(c){c.load()})}};this.once(o.UNLOCKED,function(){for(this.forEachActiveSound(function(d){d.currentMarker===null&&d.duration===0&&(d.duration=d.tags[0].duration),d.totalDuration=d.tags[0].duration});this.lockedActionsQueue.length;){var u=this.lockedActionsQueue.shift();u.sound[u.prop].apply?u.sound[u.prop].apply(u.sound,u.value||[]):u.sound[u.prop]=u.value}},this),document.body.addEventListener("touchmove",l,!1),document.body.addEventListener("touchend",s,!1)}},onBlur:function(){this.forEachActiveSound(function(i){i.isPlaying&&(this.onBlurPausedSounds.push(i),i.onBlur())})},onFocus:function(){this.onBlurPausedSounds.forEach(function(i){i.onFocus()}),this.onBlurPausedSounds.length=0},destroy:function(){h.prototype.destroy.call(this),this.onBlurPausedSounds.length=0,this.onBlurPausedSounds=null},isLocked:function(i,n,l){return i.tags[0].dataset.locked==="true"?(this.lockedActionsQueue.push({sound:i,prop:n,value:l}),!0):!1},setMute:function(i){return this.mute=i,this},mute:{get:function(){return this._mute},set:function(i){this._mute=i,this.forEachActiveSound(function(n){n.updateMute()}),this.emit(o.GLOBAL_MUTE,this,i)}},setVolume:function(i){return this.volume=i,this},volume:{get:function(){return this._volume},set:function(i){this._volume=i,this.forEachActiveSound(function(n){n.updateVolume()}),this.emit(o.GLOBAL_VOLUME,this,i)}}});f.exports=r},23717:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={SoundManagerCreator:t(14747),Events:t(14463),BaseSound:t(30341),BaseSoundManager:t(85034),WebAudioSound:t(71741),WebAudioSoundManager:t(57490),HTML5AudioSound:t(64895),HTML5AudioSoundManager:t(33684),NoAudioSound:t(4603),NoAudioSoundManager:t(25960)}},4603:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(30341),g=t(83419),o=t(50792),a=t(79291),r=t(29747),i=function(){return!1},n=function(){return null},l=function(){return this},s=new g({Extends:o,initialize:function(d,c,v){v===void 0&&(v={}),o.call(this),this.manager=d,this.key=c,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=0,this.totalDuration=0,this.config=a({mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},v),this.currentConfig=this.config,this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.seek=0,this.loop=!1,this.pan=0,this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:i,updateMarker:i,removeMarker:n,play:i,pause:i,resume:i,stop:i,setMute:l,setVolume:l,setRate:l,setDetune:l,setSeek:l,setLoop:l,setPan:l,applyConfig:n,resetConfig:n,update:r,calculateRate:n,destroy:function(){h.prototype.destroy.call(this)}});f.exports=s},25960:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(85034),g=t(83419),o=t(50792),a=t(4603),r=t(29747),i=new g({Extends:o,initialize:function(l){o.call(this),this.game=l,this.sounds=[],this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.pauseOnBlur=!0,this.locked=!1},add:function(n,l){var s=new a(this,n,l);return this.sounds.push(s),s},addAudioSprite:function(n,l){var s=this.add(n,l);return s.spritemap={},s},get:function(n){return h.prototype.get.call(this,n)},getAll:function(n){return h.prototype.getAll.call(this,n)},play:function(n,l){return!1},playAudioSprite:function(n,l,s){return!1},remove:function(n){return h.prototype.remove.call(this,n)},removeAll:function(){return h.prototype.removeAll.call(this)},removeByKey:function(n){return h.prototype.removeByKey.call(this,n)},stopByKey:function(n){return h.prototype.stopByKey.call(this,n)},onBlur:r,onFocus:r,onGameBlur:r,onGameFocus:r,pauseAll:r,resumeAll:r,stopAll:r,update:r,setRate:r,setDetune:r,setMute:r,setVolume:r,unlock:r,forEachActiveSound:function(n,l){h.prototype.forEachActiveSound.call(this,n,l)},destroy:function(){h.prototype.destroy.call(this)}});f.exports=i},71741:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(30341),g=t(83419),o=t(14463),a=t(95540),r=new g({Extends:h,initialize:function(n,l,s){if(s===void 0&&(s={}),this.audioBuffer=n.game.cache.audio.get(l),!this.audioBuffer)throw new Error('Audio key "'+l+'" not found in cache');this.source=null,this.loopSource=null,this.muteNode=n.context.createGain(),this.volumeNode=n.context.createGain(),this.pannerNode=null,this.spatialNode=null,this.spatialSource=null,this.playTime=0,this.startTime=0,this.loopTime=0,this.rateUpdates=[],this.hasEnded=!1,this.hasLooped=!1,this.muteNode.connect(this.volumeNode),n.context.createPanner&&(this.spatialNode=n.context.createPanner(),this.volumeNode.connect(this.spatialNode)),n.context.createStereoPanner?(this.pannerNode=n.context.createStereoPanner(),n.context.createPanner?this.spatialNode.connect(this.pannerNode):this.volumeNode.connect(this.pannerNode),this.pannerNode.connect(n.destination)):n.context.createPanner?this.spatialNode.connect(n.destination):this.volumeNode.connect(n.destination),this.duration=this.audioBuffer.duration,this.totalDuration=this.audioBuffer.duration,h.call(this,n,l,s)},play:function(i,n){return h.prototype.play.call(this,i,n)?(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource(),this.emit(o.PLAY,this),!0):!1},pause:function(){return this.manager.context.currentTime<this.startTime||!h.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.getCurrentTime(),this.stopAndRemoveBufferSource(),this.emit(o.PAUSE,this),!0)},resume:function(){return this.manager.context.currentTime<this.startTime||!h.prototype.resume.call(this)?!1:(this.createAndStartBufferSource(),this.emit(o.RESUME,this),!0)},stop:function(){return h.prototype.stop.call(this)?(this.stopAndRemoveBufferSource(),this.emit(o.STOP,this),!0):!1},createAndStartBufferSource:function(){var i=this.currentConfig.seek,n=this.currentConfig.delay,l=this.manager.context.currentTime+n,s=(this.currentMarker?this.currentMarker.start:0)+i,u=this.duration-i;this.playTime=l-i,this.startTime=l,this.source=this.createBufferSource(),this.applyConfig(),this.source.start(Math.max(0,l),Math.max(0,s),Math.max(0,u)),this.resetConfig()},createAndStartLoopBufferSource:function(){var i=this.getLoopTime(),n=this.currentMarker?this.currentMarker.start:0,l=this.duration;this.loopTime=i,this.loopSource=this.createBufferSource(),this.loopSource.playbackRate.setValueAtTime(this.totalRate,0),this.loopSource.start(Math.max(0,i),Math.max(0,n),Math.max(0,l))},createBufferSource:function(){var i=this,n=this.manager.context.createBufferSource();return n.buffer=this.audioBuffer,n.connect(this.muteNode),n.onended=function(l){var s=l.target;(s===i.source||s===i.loopSource)&&(i.currentConfig.loop?i.hasLooped=!0:i.hasEnded=!0)},n},stopAndRemoveBufferSource:function(){if(this.source){var i=this.source;this.source=null,i.stop(),i.disconnect()}this.playTime=0,this.startTime=0,this.hasEnded=!1,this.stopAndRemoveLoopBufferSource()},stopAndRemoveLoopBufferSource:function(){this.loopSource&&(this.loopSource.stop(),this.loopSource.disconnect(),this.loopSource=null),this.loopTime=0},applyConfig:function(){this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:1});var i=this.currentConfig.source;if(i&&this.manager.context.createPanner){var n=this.spatialNode;n.panningModel=a(i,"panningModel","equalpower"),n.distanceModel=a(i,"distanceModel","inverse"),n.orientationX.value=a(i,"orientationX",0),n.orientationY.value=a(i,"orientationY",0),n.orientationZ.value=a(i,"orientationZ",-1),n.refDistance=a(i,"refDistance",1),n.maxDistance=a(i,"maxDistance",1e4),n.rolloffFactor=a(i,"rolloffFactor",1),n.coneInnerAngle=a(i,"coneInnerAngle",360),n.coneOuterAngle=a(i,"coneOuterAngle",0),n.coneOuterGain=a(i,"coneOuterGain",0),this.spatialSource=a(i,"follow",null),this.spatialSource||(n.positionX.value=a(i,"x",0),n.positionY.value=a(i,"y",0),n.positionZ.value=a(i,"z",0))}h.prototype.applyConfig.call(this)},x:{get:function(){return this.spatialNode?this.spatialNode.positionX:0},set:function(i){this.spatialNode&&(this.spatialNode.positionX.value=i)}},y:{get:function(){return this.spatialNode?this.spatialNode.positionY:0},set:function(i){this.spatialNode&&(this.spatialNode.positionY.value=i)}},update:function(){if(this.isPlaying&&this.spatialSource){var i=a(this.spatialSource,"x",null),n=a(this.spatialSource,"y",null);i&&i!==this._spatialx&&(this._spatialx=this.spatialNode.positionX.value=i),n&&n!==this._spatialy&&(this._spatialy=this.spatialNode.positionY.value=n)}this.hasEnded?(h.prototype.stop.call(this),this.stopAndRemoveBufferSource(),this.emit(o.COMPLETE,this)):this.hasLooped&&(this.hasLooped=!1,this.source=this.loopSource,this.loopSource=null,this.playTime=this.startTime=this.loopTime,this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:this.totalRate}),this.createAndStartLoopBufferSource(),this.emit(o.LOOPED,this))},destroy:function(){this.pendingRemove||(h.prototype.destroy.call(this),this.audioBuffer=null,this.stopAndRemoveBufferSource(),this.muteNode.disconnect(),this.muteNode=null,this.volumeNode.disconnect(),this.volumeNode=null,this.pannerNode&&(this.pannerNode.disconnect(),this.pannerNode=null),this.spatialNode&&(this.spatialNode.disconnect(),this.spatialNode=null,this.spatialSource=null),this.rateUpdates.length=0,this.rateUpdates=null)},calculateRate:function(){h.prototype.calculateRate.call(this);var i=this.manager.context.currentTime;this.source&&typeof this.totalRate=="number"&&this.source.playbackRate.setValueAtTime(this.totalRate,i),this.isPlaying&&(this.rateUpdates.push({time:Math.max(this.startTime,i)-this.playTime,rate:this.totalRate}),this.loopSource&&(this.stopAndRemoveLoopBufferSource(),this.createAndStartLoopBufferSource()))},getCurrentTime:function(){for(var i=0,n=0;n<this.rateUpdates.length;n++){var l=0;n<this.rateUpdates.length-1?l=this.rateUpdates[n+1].time:l=this.manager.context.currentTime-this.playTime,i+=(l-this.rateUpdates[n].time)*this.rateUpdates[n].rate}return i},getLoopTime:function(){for(var i=0,n=0;n<this.rateUpdates.length-1;n++)i+=(this.rateUpdates[n+1].time-this.rateUpdates[n].time)*this.rateUpdates[n].rate;var l=this.rateUpdates[this.rateUpdates.length-1];return this.playTime+l.time+(this.duration-i)/l.rate},rate:{get:function(){return this.currentConfig.rate},set:function(i){this.currentConfig.rate=i,this.calculateRate(),this.emit(o.RATE,this,i)}},setRate:function(i){return this.rate=i,this},detune:{get:function(){return this.currentConfig.detune},set:function(i){this.currentConfig.detune=i,this.calculateRate(),this.emit(o.DETUNE,this,i)}},setDetune:function(i){return this.detune=i,this},mute:{get:function(){return this.muteNode.gain.value===0},set:function(i){this.currentConfig.mute=i,this.muteNode.gain.setValueAtTime(i?0:1,0),this.emit(o.MUTE,this,i)}},setMute:function(i){return this.mute=i,this},volume:{get:function(){return this.volumeNode.gain.value},set:function(i){this.currentConfig.volume=i,this.volumeNode.gain.setValueAtTime(i,0),this.emit(o.VOLUME,this,i)}},setVolume:function(i){return this.volume=i,this},seek:{get:function(){return this.isPlaying?this.manager.context.currentTime<this.startTime?this.startTime-this.playTime:this.getCurrentTime():this.isPaused?this.currentConfig.seek:0},set:function(i){this.manager.context.currentTime<this.startTime||(this.isPlaying||this.isPaused)&&(i=Math.min(Math.max(0,i),this.duration),this.currentConfig.seek=i,this.isPlaying&&(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource()),this.emit(o.SEEK,this,i))}},setSeek:function(i){return this.seek=i,this},loop:{get:function(){return this.currentConfig.loop},set:function(i){this.currentConfig.loop=i,this.isPlaying&&(this.stopAndRemoveLoopBufferSource(),i&&this.createAndStartLoopBufferSource()),this.emit(o.LOOP,this,i)}},setLoop:function(i){return this.loop=i,this},pan:{get:function(){return this.pannerNode?this.pannerNode.pan.value:0},set:function(i){this.currentConfig.pan=i,this.pannerNode&&this.pannerNode.pan.setValueAtTime(i,this.manager.context.currentTime),this.emit(o.PAN,this,i)}},setPan:function(i){return this.pan=i,this}});f.exports=r},57490:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(53134),g=t(85034),o=t(83419),a=t(14463),r=t(8443),i=t(71741),n=t(95540),l=new o({Extends:g,initialize:function(u){this.context=this.createAudioContext(u),this.masterMuteNode=this.context.createGain(),this.masterVolumeNode=this.context.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(this.context.destination),this.destination=this.masterMuteNode,this.locked=this.context.state==="suspended",g.call(this,u),this.locked&&(u.isBooted?this.unlock():u.events.once(r.BOOT,this.unlock,this)),u.events.on(r.VISIBLE,this.onGameVisible,this)},onGameVisible:function(){var s=this.context;window.setTimeout(function(){s&&(s.suspend(),s.resume())},100)},createAudioContext:function(s){var u=s.config.audio;if(u.context)return u.context.resume(),u.context;if(window.hasOwnProperty("AudioContext"))return new AudioContext;if(window.hasOwnProperty("webkitAudioContext"))return new window.webkitAudioContext},setAudioContext:function(s){return this.context&&this.context.close(),this.masterMuteNode&&this.masterMuteNode.disconnect(),this.masterVolumeNode&&this.masterVolumeNode.disconnect(),this.context=s,this.masterMuteNode=s.createGain(),this.masterVolumeNode=s.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(s.destination),this.destination=this.masterMuteNode,this},add:function(s,u){var d=new i(this,s,u);return this.sounds.push(d),d},decodeAudio:function(s,u){var d;Array.isArray(s)?d=s:d=[{key:s,data:u}];for(var c=this.game.cache.audio,v=d.length,y=0;y<d.length;y++){var x=d[y],S=x.key,E=x.data;typeof E=="string"&&(E=h(E));var A=(function(w,I){c.add(w,I),this.emit(a.DECODED,w),v--,v===0&&this.emit(a.DECODED_ALL)}).bind(this,S),R=(function(w,I){console.error("Error decoding audio: "+w+" - ",I?I.message:""),v--,v===0&&this.emit(a.DECODED_ALL)}).bind(this,S);this.context.decodeAudioData(E,A,R)}},setListenerPosition:function(s,u){return s===void 0&&(s=this.game.scale.width/2),u===void 0&&(u=this.game.scale.height/2),this.listenerPosition.set(s,u),this},unlock:function(){var s=this,u=document.body,d=function c(){if(s.context&&u){var v=u.removeEventListener.bind(u);s.context.resume().then(function(){v("touchstart",c),v("touchend",c),v("mousedown",c),v("mouseup",c),v("keydown",c),s.unlocked=!0},function(){v("touchstart",c),v("touchend",c),v("mousedown",c),v("mouseup",c),v("keydown",c)})}};u&&(u.addEventListener("touchstart",d,!1),u.addEventListener("touchend",d,!1),u.addEventListener("mousedown",d,!1),u.addEventListener("mouseup",d,!1),u.addEventListener("keydown",d,!1))},onBlur:function(){this.locked||this.context.suspend()},onFocus:function(){var s=this.context;s&&!this.locked&&(s.state==="suspended"||s.state==="interrupted")&&s.resume()},update:function(s,u){var d=this.context.listener;if(d&&d.positionX!==void 0){var c=n(this.listenerPosition,"x",null),v=n(this.listenerPosition,"y",null);c&&c!==this._spatialx&&(this._spatialx=d.positionX.value=c),v&&v!==this._spatialy&&(this._spatialy=d.positionY.value=v)}g.prototype.update.call(this,s,u),this.gameLostFocus||this.onFocus()},destroy:function(){if(this.destination=null,this.masterVolumeNode.disconnect(),this.masterVolumeNode=null,this.masterMuteNode.disconnect(),this.masterMuteNode=null,this.game.config.audio.context)this.context.suspend();else{var s=this;this.context.close().then(function(){s.context=null})}this.game.events.off(r.VISIBLE,this.onGameVisible,this),g.prototype.destroy.call(this)},setMute:function(s){return this.mute=s,this},mute:{get:function(){return this.masterMuteNode.gain.value===0},set:function(s){this.masterMuteNode.gain.setValueAtTime(s?0:1,0),this.emit(a.GLOBAL_MUTE,this,s)}},setVolume:function(s){return this.volume=s,this},volume:{get:function(){return this.masterVolumeNode.gain.value},set:function(s){this.masterVolumeNode.gain.setValueAtTime(s,0),this.emit(a.GLOBAL_VOLUME,this,s)}}});f.exports=l},73162:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(37105),g=t(83419),o=t(29747),a=t(19186),r=new g({initialize:function(n){this.parent=n,this.list=[],this.position=0,this.addCallback=o,this.removeCallback=o,this._sortKey=""},add:function(i,n){return n?h.Add(this.list,i):h.Add(this.list,i,0,this.addCallback,this)},addAt:function(i,n,l){return l?h.AddAt(this.list,i,n):h.AddAt(this.list,i,n,0,this.addCallback,this)},getAt:function(i){return this.list[i]},getIndex:function(i){return this.list.indexOf(i)},sort:function(i,n){return i?(n===void 0&&(n=function(l,s){return l[i]-s[i]}),a(this.list,n),this):this},getByName:function(i){return h.GetFirst(this.list,"name",i)},getRandom:function(i,n){return h.GetRandom(this.list,i,n)},getFirst:function(i,n,l,s){return h.GetFirst(this.list,i,n,l,s)},getAll:function(i,n,l,s){return h.GetAll(this.list,i,n,l,s)},count:function(i,n){return h.CountAllMatching(this.list,i,n)},swap:function(i,n){h.Swap(this.list,i,n)},moveTo:function(i,n){return h.MoveTo(this.list,i,n)},moveAbove:function(i,n){return h.MoveAbove(this.list,i,n)},moveBelow:function(i,n){return h.MoveBelow(this.list,i,n)},remove:function(i,n){return n?h.Remove(this.list,i):h.Remove(this.list,i,this.removeCallback,this)},removeAt:function(i,n){return n?h.RemoveAt(this.list,i):h.RemoveAt(this.list,i,this.removeCallback,this)},removeBetween:function(i,n,l){return l?h.RemoveBetween(this.list,i,n):h.RemoveBetween(this.list,i,n,this.removeCallback,this)},removeAll:function(i){for(var n=this.list.length;n--;)this.remove(this.list[n],i);return this},bringToTop:function(i){return h.BringToTop(this.list,i)},sendToBack:function(i){return h.SendToBack(this.list,i)},moveUp:function(i){return h.MoveUp(this.list,i),i},moveDown:function(i){return h.MoveDown(this.list,i),i},reverse:function(){return this.list.reverse(),this},shuffle:function(){return h.Shuffle(this.list),this},replace:function(i,n){return h.Replace(this.list,i,n)},exists:function(i){return this.list.indexOf(i)>-1},setAll:function(i,n,l,s){return h.SetAll(this.list,i,n,l,s),this},each:function(i,n){for(var l=[null],s=2;s<arguments.length;s++)l.push(arguments[s]);for(s=0;s<this.list.length;s++)l[0]=this.list[s],i.apply(n,l)},shutdown:function(){this.removeAll(),this.list=[]},destroy:function(){this.removeAll(),this.parent=null,this.addCallback=null,this.removeCallback=null},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}}});f.exports=r},90330:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=new h({initialize:function(a){this.entries={},this.size=0,this.setAll(a)},setAll:function(o){if(Array.isArray(o))for(var a=0;a<o.length;a++)this.set(o[a][0],o[a][1]);return this},set:function(o,a){return this.has(o)||this.size++,this.entries[o]=a,this},get:function(o){if(this.has(o))return this.entries[o]},getArray:function(){var o=[],a=this.entries;for(var r in a)o.push(a[r]);return o},has:function(o){return this.entries.hasOwnProperty(o)},delete:function(o){return this.has(o)&&(delete this.entries[o],this.size--),this},clear:function(){return Object.keys(this.entries).forEach(function(o){delete this.entries[o]},this),this.size=0,this},keys:function(){return Object.keys(this.entries)},values:function(){var o=[],a=this.entries;for(var r in a)o.push(a[r]);return o},dump:function(){var o=this.entries;console.group("Map");for(var a in o)console.log(a,o[a]);console.groupEnd()},each:function(o){var a=this.entries;for(var r in a)if(o(r,a[r])===!1)break;return this},contains:function(o){var a=this.entries;for(var r in a)if(a[r]===o)return!0;return!1},merge:function(o,a){a===void 0&&(a=!1);var r=this.entries,i=o.entries;for(var n in i)r.hasOwnProperty(n)&&a?r[n]=i[n]:this.set(n,i[n]);return this}});f.exports=g},25774:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(50792),o=t(82348),a=new h({Extends:g,initialize:function(){g.call(this),this._pending=[],this._active=[],this._destroy=[],this._toProcess=0,this.checkQueue=!1},isActive:function(r){return this._active.indexOf(r)>-1},isPending:function(r){return this._toProcess>0&&this._pending.indexOf(r)>-1},isDestroying:function(r){return this._destroy.indexOf(r)>-1},add:function(r){return this.checkQueue&&this.isActive(r)&&!this.isDestroying(r)||this.isPending(r)||(this._pending.push(r),this._toProcess++),r},remove:function(r){if(this.isPending(r)){var i=this._pending,n=i.indexOf(r);n!==-1&&i.splice(n,1)}else this.isActive(r)&&(this._destroy.push(r),this._toProcess++);return r},removeAll:function(){for(var r=this._active,i=this._destroy,n=r.length;n--;)i.push(r[n]),this._toProcess++;return this},update:function(){if(this._toProcess===0)return this._active;var r=this._destroy,i=this._active,n,l;for(n=0;n<r.length;n++){l=r[n];var s=i.indexOf(l);s!==-1&&(i.splice(s,1),this.emit(o.PROCESS_QUEUE_REMOVE,l))}for(r.length=0,r=this._pending,n=0;n<r.length;n++)l=r[n],(!this.checkQueue||this.checkQueue&&i.indexOf(l)===-1)&&(i.push(l),this.emit(o.PROCESS_QUEUE_ADD,l));return r.length=0,this._toProcess=0,i},getActive:function(){return this._active},length:{get:function(){return this._active.length}},destroy:function(){this._toProcess=0,this._pending=[],this._active=[],this._destroy=[]}});f.exports=a},59542:(f,C,t)=>{/**
 * @author       Vladimir Agafonkin
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(43886);function g(E){if(!(this instanceof g))return new g(E);this._maxEntries=Math.max(4,E||9),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}g.prototype={all:function(){return this._all(this.data,[])},search:function(E){var A=this.data,R=[],w=this.toBBox;if(!y(E,A))return R;for(var I=[],O,F,L,D;A;){for(O=0,F=A.children.length;O<F;O++)L=A.children[O],D=A.leaf?w(L):L,y(E,D)&&(A.leaf?R.push(L):v(E,D)?this._all(L,R):I.push(L));A=I.pop()}return R},collides:function(E){var A=this.data,R=this.toBBox;if(!y(E,A))return!1;for(var w=[],I,O,F,L;A;){for(I=0,O=A.children.length;I<O;I++)if(F=A.children[I],L=A.leaf?R(F):F,y(E,L)){if(A.leaf||v(E,L))return!0;w.push(F)}A=w.pop()}return!1},load:function(E){if(!(E&&E.length))return this;if(E.length<this._minEntries){for(var A=0,R=E.length;A<R;A++)this.insert(E[A]);return this}var w=this._build(E.slice(),0,E.length-1,0);if(!this.data.children.length)this.data=w;else if(this.data.height===w.height)this._splitRoot(this.data,w);else{if(this.data.height<w.height){var I=this.data;this.data=w,w=I}this._insert(w,this.data.height-w.height-1,!0)}return this},insert:function(E){return E&&this._insert(E,this.data.height-1),this},clear:function(){return this.data=x([]),this},remove:function(E,A){if(!E)return this;for(var R=this.data,w=this.toBBox(E),I=[],O=[],F,L,D,b;R||I.length;){if(R||(R=I.pop(),L=I[I.length-1],F=O.pop(),b=!0),R.leaf&&(D=o(E,R.children,A),D!==-1))return R.children.splice(D,1),I.push(R),this._condense(I),this;!b&&!R.leaf&&v(R,w)?(I.push(R),O.push(F),F=0,L=R,R=R.children[0]):L?(F++,R=L.children[F],b=!1):R=null}return this},toBBox:function(E){return E},compareMinX:n,compareMinY:l,toJSON:function(){return this.data},fromJSON:function(E){return this.data=E,this},_all:function(E,A){for(var R=[];E;)E.leaf?A.push.apply(A,E.children):R.push.apply(R,E.children),E=R.pop();return A},_build:function(E,A,R,w){var I=R-A+1,O=this._maxEntries,F;if(I<=O)return F=x(E.slice(A,R+1)),a(F,this.toBBox),F;w||(w=Math.ceil(Math.log(I)/Math.log(O)),O=Math.ceil(I/Math.pow(O,w-1))),F=x([]),F.leaf=!1,F.height=w;var L=Math.ceil(I/O),D=L*Math.ceil(Math.sqrt(O)),b,G,W,Y;for(S(E,A,R,D,this.compareMinX),b=A;b<=R;b+=D)for(W=Math.min(b+D-1,R),S(E,b,W,L,this.compareMinY),G=b;G<=W;G+=L)Y=Math.min(G+L-1,W),F.children.push(this._build(E,G,Y,w-1));return a(F,this.toBBox),F},_chooseSubtree:function(E,A,R,w){for(var I,O,F,L,D,b,G,W;w.push(A),!(A.leaf||w.length-1===R);){for(G=W=1/0,I=0,O=A.children.length;I<O;I++)F=A.children[I],D=s(F),b=d(E,F)-D,b<W?(W=b,G=D<G?D:G,L=F):b===W&&D<G&&(G=D,L=F);A=L||A.children[0]}return A},_insert:function(E,A,R){var w=this.toBBox,I=R?E:w(E),O=[],F=this._chooseSubtree(I,this.data,A,O);for(F.children.push(E),i(F,I);A>=0&&O[A].children.length>this._maxEntries;)this._split(O,A),A--;this._adjustParentBBoxes(I,O,A)},_split:function(E,A){var R=E[A],w=R.children.length,I=this._minEntries;this._chooseSplitAxis(R,I,w);var O=this._chooseSplitIndex(R,I,w),F=x(R.children.splice(O,R.children.length-O));F.height=R.height,F.leaf=R.leaf,a(R,this.toBBox),a(F,this.toBBox),A?E[A-1].children.push(F):this._splitRoot(R,F)},_splitRoot:function(E,A){this.data=x([E,A]),this.data.height=E.height+1,this.data.leaf=!1,a(this.data,this.toBBox)},_chooseSplitIndex:function(E,A,R){var w,I,O,F,L,D,b,G;for(D=b=1/0,w=A;w<=R-A;w++)I=r(E,0,w,this.toBBox),O=r(E,w,R,this.toBBox),F=c(I,O),L=s(I)+s(O),F<D?(D=F,G=w,b=L<b?L:b):F===D&&L<b&&(b=L,G=w);return G},_chooseSplitAxis:function(E,A,R){var w=E.leaf?this.compareMinX:n,I=E.leaf?this.compareMinY:l,O=this._allDistMargin(E,A,R,w),F=this._allDistMargin(E,A,R,I);O<F&&E.children.sort(w)},_allDistMargin:function(E,A,R,w){E.children.sort(w);var I=this.toBBox,O=r(E,0,A,I),F=r(E,R-A,R,I),L=u(O)+u(F),D,b;for(D=A;D<R-A;D++)b=E.children[D],i(O,E.leaf?I(b):b),L+=u(O);for(D=R-A-1;D>=A;D--)b=E.children[D],i(F,E.leaf?I(b):b),L+=u(F);return L},_adjustParentBBoxes:function(E,A,R){for(var w=R;w>=0;w--)i(A[w],E)},_condense:function(E){for(var A=E.length-1,R;A>=0;A--)E[A].children.length===0?A>0?(R=E[A-1].children,R.splice(R.indexOf(E[A]),1)):this.clear():a(E[A],this.toBBox)},compareMinX:function(E,A){return E.left-A.left},compareMinY:function(E,A){return E.top-A.top},toBBox:function(E){return{minX:E.left,minY:E.top,maxX:E.right,maxY:E.bottom}}};function o(E,A,R){if(!R)return A.indexOf(E);for(var w=0;w<A.length;w++)if(R(E,A[w]))return w;return-1}function a(E,A){r(E,0,E.children.length,A,E)}function r(E,A,R,w,I){I||(I=x(null)),I.minX=1/0,I.minY=1/0,I.maxX=-1/0,I.maxY=-1/0;for(var O=A,F;O<R;O++)F=E.children[O],i(I,E.leaf?w(F):F);return I}function i(E,A){return E.minX=Math.min(E.minX,A.minX),E.minY=Math.min(E.minY,A.minY),E.maxX=Math.max(E.maxX,A.maxX),E.maxY=Math.max(E.maxY,A.maxY),E}function n(E,A){return E.minX-A.minX}function l(E,A){return E.minY-A.minY}function s(E){return(E.maxX-E.minX)*(E.maxY-E.minY)}function u(E){return E.maxX-E.minX+(E.maxY-E.minY)}function d(E,A){return(Math.max(A.maxX,E.maxX)-Math.min(A.minX,E.minX))*(Math.max(A.maxY,E.maxY)-Math.min(A.minY,E.minY))}function c(E,A){var R=Math.max(E.minX,A.minX),w=Math.max(E.minY,A.minY),I=Math.min(E.maxX,A.maxX),O=Math.min(E.maxY,A.maxY);return Math.max(0,I-R)*Math.max(0,O-w)}function v(E,A){return E.minX<=A.minX&&E.minY<=A.minY&&A.maxX<=E.maxX&&A.maxY<=E.maxY}function y(E,A){return A.minX<=E.maxX&&A.minY<=E.maxY&&A.maxX>=E.minX&&A.maxY>=E.minY}function x(E){return{children:E,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function S(E,A,R,w,I){for(var O=[A,R],F;O.length;)R=O.pop(),A=O.pop(),!(R-A<=w)&&(F=A+Math.ceil((R-A)/w/2)*w,h(E,F,A,R,I),O.push(A,F,F,R))}f.exports=g},35072:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=new h({initialize:function(a){if(this.entries=[],Array.isArray(a))for(var r=0;r<a.length;r++)this.set(a[r])},set:function(o){return this.entries.indexOf(o)===-1&&this.entries.push(o),this},get:function(o,a){for(var r=0;r<this.entries.length;r++){var i=this.entries[r];if(i[o]===a)return i}},getArray:function(){return this.entries.slice(0)},delete:function(o){var a=this.entries.indexOf(o);return a>-1&&this.entries.splice(a,1),this},dump:function(){console.group("Set");for(var o=0;o<this.entries.length;o++){var a=this.entries[o];console.log(a)}console.groupEnd()},each:function(o,a){var r,i=this.entries.slice(),n=i.length;if(a)for(r=0;r<n&&o.call(a,i[r],r)!==!1;r++);else for(r=0;r<n&&o(i[r],r)!==!1;r++);return this},iterate:function(o,a){var r,i=this.entries.length;if(a)for(r=0;r<i&&o.call(a,this.entries[r],r)!==!1;r++);else for(r=0;r<i&&o(this.entries[r],r)!==!1;r++);return this},iterateLocal:function(o){var a,r=[];for(a=1;a<arguments.length;a++)r.push(arguments[a]);var i=this.entries.length;for(a=0;a<i;a++){var n=this.entries[a];n[o].apply(n,r)}return this},clear:function(){return this.entries.length=0,this},contains:function(o){return this.entries.indexOf(o)>-1},union:function(o){var a=new g;return o.entries.forEach(function(r){a.set(r)}),this.entries.forEach(function(r){a.set(r)}),a},intersect:function(o){var a=new g;return this.entries.forEach(function(r){o.contains(r)&&a.set(r)}),a},difference:function(o){var a=new g;return this.entries.forEach(function(r){o.contains(r)||a.set(r)}),a},size:{get:function(){return this.entries.length},set:function(o){return o<this.entries.length?this.entries.length=o:this.entries.length}}});f.exports=g},86555:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(45319),g=t(83419),o=t(56583),a=t(26099),r=new g({initialize:function(n,l,s,u){n===void 0&&(n=0),l===void 0&&(l=n),s===void 0&&(s=0),u===void 0&&(u=null),this._width=n,this._height=l,this._parent=u,this.aspectMode=s,this.aspectRatio=l===0?1:n/l,this.minWidth=0,this.minHeight=0,this.maxWidth=Number.MAX_VALUE,this.maxHeight=Number.MAX_VALUE,this.snapTo=new a},setAspectMode:function(i){return i===void 0&&(i=0),this.aspectMode=i,this.setSize(this._width,this._height)},setSnap:function(i,n){return i===void 0&&(i=0),n===void 0&&(n=i),this.snapTo.set(i,n),this.setSize(this._width,this._height)},setParent:function(i){return this._parent=i,this.setSize(this._width,this._height)},setMin:function(i,n){return i===void 0&&(i=0),n===void 0&&(n=i),this.minWidth=h(i,0,this.maxWidth),this.minHeight=h(n,0,this.maxHeight),this.setSize(this._width,this._height)},setMax:function(i,n){return i===void 0&&(i=Number.MAX_VALUE),n===void 0&&(n=i),this.maxWidth=h(i,this.minWidth,Number.MAX_VALUE),this.maxHeight=h(n,this.minHeight,Number.MAX_VALUE),this.setSize(this._width,this._height)},setSize:function(i,n){switch(i===void 0&&(i=0),n===void 0&&(n=i),this.aspectMode){case r.NONE:this._width=this.getNewWidth(o(i,this.snapTo.x)),this._height=this.getNewHeight(o(n,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height;break;case r.WIDTH_CONTROLS_HEIGHT:this._width=this.getNewWidth(o(i,this.snapTo.x)),this._height=this.getNewHeight(this._width*(1/this.aspectRatio),!1);break;case r.HEIGHT_CONTROLS_WIDTH:this._height=this.getNewHeight(o(n,this.snapTo.y)),this._width=this.getNewWidth(this._height*this.aspectRatio,!1);break;case r.FIT:this.constrain(i,n,!0);break;case r.ENVELOP:this.constrain(i,n,!1);break}return this},setAspectRatio:function(i){return this.aspectRatio=i,this.setSize(this._width,this._height)},resize:function(i,n){return this._width=this.getNewWidth(o(i,this.snapTo.x)),this._height=this.getNewHeight(o(n,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height,this},getNewWidth:function(i,n){return n===void 0&&(n=!0),i=h(i,this.minWidth,this.maxWidth),n&&this._parent&&i>this._parent.width&&(i=Math.max(this.minWidth,this._parent.width)),i},getNewHeight:function(i,n){return n===void 0&&(n=!0),i=h(i,this.minHeight,this.maxHeight),n&&this._parent&&i>this._parent.height&&(i=Math.max(this.minHeight,this._parent.height)),i},constrain:function(i,n,l){i===void 0&&(i=0),n===void 0&&(n=i),l===void 0&&(l=!0),i=this.getNewWidth(i),n=this.getNewHeight(n);var s=this.snapTo,u=n===0?1:i/n;return l&&this.aspectRatio>u||!l&&this.aspectRatio<u?(i=o(i,s.x),n=i/this.aspectRatio,s.y>0&&(n=o(n,s.y),i=n*this.aspectRatio)):(l&&this.aspectRatio<u||!l&&this.aspectRatio>u)&&(n=o(n,s.y),i=n*this.aspectRatio,s.x>0&&(i=o(i,s.x),n=i*(1/this.aspectRatio))),this._width=i,this._height=n,this},fitTo:function(i,n){return this.constrain(i,n,!0)},envelop:function(i,n){return this.constrain(i,n,!1)},setWidth:function(i){return this.setSize(i,this._height)},setHeight:function(i){return this.setSize(this._width,i)},toString:function(){return"[{ Size (width="+this._width+" height="+this._height+" aspectRatio="+this.aspectRatio+" aspectMode="+this.aspectMode+") }]"},setCSS:function(i){i&&i.style&&(i.style.width=this._width+"px",i.style.height=this._height+"px")},copy:function(i){return i.setAspectMode(this.aspectMode),i.aspectRatio=this.aspectRatio,i.setSize(this.width,this.height)},destroy:function(){this._parent=null,this.snapTo=null},width:{get:function(){return this._width},set:function(i){this.setSize(i,this._height)}},height:{get:function(){return this._height},set:function(i){this.setSize(this._width,i)}}});r.NONE=0,r.WIDTH_CONTROLS_HEIGHT=1,r.HEIGHT_CONTROLS_WIDTH=2,r.FIT=3,r.ENVELOP=4,f.exports=r},15238:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="add"},56187:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="remove"},82348:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={PROCESS_QUEUE_ADD:t(15238),PROCESS_QUEUE_REMOVE:t(56187)}},41392:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={Events:t(82348),List:t(73162),Map:t(90330),ProcessQueue:t(25774),RTree:t(59542),Set:t(35072),Size:t(86555)}},57382:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(45319),o=t(40987),a=t(8054),r=t(50030),i=t(79237),n=new h({Extends:i,initialize:function(s,u,d,c,v){i.call(this,s,u,d,c,v),this.add("__BASE",0,0,0,c,v),this._source=this.frames.__BASE.source,this.canvas=this._source.image,this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this.width=c,this.height=v,this.imageData=this.context.getImageData(0,0,c,v),this.data=null,this.imageData&&(this.data=this.imageData.data),this.pixels=null,this.buffer,this.data&&(this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data)},update:function(){return this.imageData=this.context.getImageData(0,0,this.width,this.height),this.data=this.imageData.data,this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data,this.manager.game.config.renderType===a.WEBGL&&this.refresh(),this},draw:function(l,s,u,d){return d===void 0&&(d=!0),this.context.drawImage(u,l,s),d&&this.update(),this},drawFrame:function(l,s,u,d,c){u===void 0&&(u=0),d===void 0&&(d=0),c===void 0&&(c=!0);var v=this.manager.getFrame(l,s);if(v){var y=v.canvasData,x=v.cutWidth,S=v.cutHeight,E=v.source.resolution;this.context.drawImage(v.source.image,y.x,y.y,x,S,u,d,x/E,S/E),c&&this.update()}return this},setPixel:function(l,s,u,d,c,v){v===void 0&&(v=255),l=Math.abs(Math.floor(l)),s=Math.abs(Math.floor(s));var y=this.getIndex(l,s);if(y>-1){var x=this.context.getImageData(l,s,1,1);x.data[0]=u,x.data[1]=d,x.data[2]=c,x.data[3]=v,this.context.putImageData(x,l,s)}return this},putData:function(l,s,u,d,c,v,y){return d===void 0&&(d=0),c===void 0&&(c=0),v===void 0&&(v=l.width),y===void 0&&(y=l.height),this.context.putImageData(l,s,u,d,c,v,y),this},getData:function(l,s,u,d){l=g(Math.floor(l),0,this.width-1),s=g(Math.floor(s),0,this.height-1),u=g(u,1,this.width-l),d=g(d,1,this.height-s);var c=this.context.getImageData(l,s,u,d);return c},getPixel:function(l,s,u){u||(u=new o);var d=this.getIndex(l,s);if(d>-1){var c=this.data,v=c[d+0],y=c[d+1],x=c[d+2],S=c[d+3];u.setTo(v,y,x,S)}return u},getPixels:function(l,s,u,d){l===void 0&&(l=0),s===void 0&&(s=0),u===void 0&&(u=this.width),d===void 0&&(d=u),l=Math.abs(Math.round(l)),s=Math.abs(Math.round(s));for(var c=g(l,0,this.width),v=g(l+u,0,this.width),y=g(s,0,this.height),x=g(s+d,0,this.height),S=new o,E=[],A=y;A<x;A++){for(var R=[],w=c;w<v;w++)S=this.getPixel(w,A,S),R.push({x:w,y:A,color:S.color,alpha:S.alphaGL});E.push(R)}return E},getIndex:function(l,s){return l=Math.abs(Math.round(l)),s=Math.abs(Math.round(s)),l<this.width&&s<this.height?(l+s*this.width)*4:-1},refresh:function(){return this._source.update(),this},getCanvas:function(){return this.canvas},getContext:function(){return this.context},clear:function(l,s,u,d,c){return l===void 0&&(l=0),s===void 0&&(s=0),u===void 0&&(u=this.width),d===void 0&&(d=this.height),c===void 0&&(c=!0),this.context.clearRect(l,s,u,d),c&&this.update(),this},setSize:function(l,s){return s===void 0&&(s=l),(l!==this.width||s!==this.height)&&(this.canvas.width=l,this.canvas.height=s,this._source.width=l,this._source.height=s,this._source.isPowerOf2=r(l,s),this.frames.__BASE.setSize(l,s,0,0),this.width=l,this.height=s,this.refresh()),this},destroy:function(){i.prototype.destroy.call(this),this._source=null,this.canvas=null,this.context=null,this.imageData=null,this.data=null,this.pixels=null,this.buffer=null}});f.exports=n},81320:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(10312),g=t(38058),o=t(27919),a=t(83419),r=t(8054),i=t(4327),n=t(95540),l=t(36060),s=t(32302),u=t(79237),d=t(70554),c=new a({Extends:u,initialize:function(y,x,S,E,A){S===void 0&&(S=256),E===void 0&&(E=256),A===void 0&&(A=!0),this.type="DynamicTexture";var R=y.game.renderer,w=R&&R.type===r.CANVAS,I=w?o.create2D(this,S,E):[this];u.call(this,y,x,I,S,E),this.add("__BASE",0,0,0,S,E),this.renderer=R,this.width=-1,this.height=-1,this.isDrawing=!1,this.canvas=w?I:null,this.context=w?I.getContext("2d",{willReadFrequently:!0}):null,this.dirty=!1,this.isSpriteTexture=!0,this._eraseMode=!1,this.camera=new g(0,0,S,E).setScene(y.game.scene.systemScene,!1),this.renderTarget=w?null:new s(R,S,E,1,0,!1,!1,!0,!1),this.pipeline=w?null:R.pipelines.get(l.SINGLE_PIPELINE),this.setSize(S,E,A)},setSize:function(v,y,x){y===void 0&&(y=v),x===void 0&&(x=!0),x&&(v=Math.floor(v),y=Math.floor(y),v%2!==0&&v++,y%2!==0&&y++);var S=this.get(),E=S.source;if(v!==this.width||y!==this.height){this.canvas&&(this.canvas.width=v,this.canvas.height=y);var A=this.renderTarget;A&&(A.willResize(v,y)&&A.resize(v,y),A.texture!==E.glTexture&&this.renderer.deleteTexture(E.glTexture),this.setFromRenderTarget()),this.camera.setSize(v,y),E.width=v,E.height=y,S.setSize(v,y),this.width=v,this.height=y}else{var R=this.getSourceImage();S.cutX+v>R.width&&(v=R.width-S.cutX),S.cutY+y>R.height&&(y=R.height-S.cutY),S.setSize(v,y,S.cutX,S.cutY)}return this},setFromRenderTarget:function(){var v=this.get(),y=v.source,x=this.renderTarget;return y.isRenderTexture=!0,y.isGLTexture=!0,y.glTexture=x.texture,this},setIsSpriteTexture:function(v){return this.isSpriteTexture=v,this},fill:function(v,y,x,S,E,A){var R=this.camera,w=this.renderer;y===void 0&&(y=1),x===void 0&&(x=0),S===void 0&&(S=0),E===void 0&&(E=this.width),A===void 0&&(A=this.height);var I=v>>16&255,O=v>>8&255,F=v&255,L=this.renderTarget;if(R.preRender(),L){L.bind(!0);var D=this.pipeline.manager.set(this.pipeline),b=w.width/L.width,G=w.height/L.height,W=L.height-(S+A);D.drawFillRect(x*b,W*G,E*b,A*G,d.getTintFromFloats(F/255,O/255,I/255,1),y),L.unbind(!0)}else{var Y=this.context;w.setContext(Y),Y.globalCompositeOperation="source-over",Y.fillStyle="rgba("+I+","+O+","+F+","+y+")",Y.fillRect(x,S,E,A),w.setContext()}return this.dirty=!0,this},clear:function(v,y,x,S){if(this.dirty){var E=this.context,A=this.renderTarget;A?A.clear(v,y,x,S):E&&(v!==void 0&&y!==void 0&&x!==void 0&&S!==void 0?E.clearRect(v,y,x,S):(E.save(),E.setTransform(1,0,0,1,0,0),E.clearRect(0,0,this.width,this.height),E.restore())),this.dirty=!1}return this},stamp:function(v,y,x,S,E){x===void 0&&(x=0),S===void 0&&(S=0);var A=n(E,"alpha",1),R=n(E,"tint",16777215),w=n(E,"angle",0),I=n(E,"rotation",0),O=n(E,"scale",1),F=n(E,"scaleX",O),L=n(E,"scaleY",O),D=n(E,"originX",.5),b=n(E,"originY",.5),G=n(E,"blendMode",0),W=n(E,"erase",!1),Y=n(E,"skipBatch",!1),H=this.manager.resetStamp(A,R);return H.setAngle(0),w!==0?H.setAngle(w):I!==0&&H.setRotation(I),H.setScale(F,L),H.setTexture(v,y),H.setOrigin(D,b),H.setBlendMode(G),W&&(this._eraseMode=!0),Y?this.batchGameObject(H,x,S):this.draw(H,x,S),W&&(this._eraseMode=!1),this},erase:function(v,y,x){return this._eraseMode=!0,this.draw(v,y,x),this._eraseMode=!1,this},draw:function(v,y,x,S,E){return this.beginDraw(),this.batchDraw(v,y,x,S,E),this.endDraw(),this},drawFrame:function(v,y,x,S,E,A){return this.beginDraw(),this.batchDrawFrame(v,y,x,S,E,A),this.endDraw(),this},repeat:function(v,y,x,S,E,A,R,w,I){if(x===void 0&&(x=0),S===void 0&&(S=0),E===void 0&&(E=this.width),A===void 0&&(A=this.height),R===void 0&&(R=1),w===void 0&&(w=16777215),I===void 0&&(I=!1),v instanceof i?y=v:y=this.manager.getFrame(v,y),!y)return this;var O=this.manager.resetStamp(R,w);O.setFrame(y),O.setOrigin(0);var F=y.width,L=y.height;E=Math.floor(E),A=Math.floor(A);var D=Math.ceil(E/F),b=Math.ceil(A/L),G=D*F-E,W=b*L-A;G>0&&(G=F-G),W>0&&(W=L-W),x<0&&(D+=Math.ceil(Math.abs(x)/F)),S<0&&(b+=Math.ceil(Math.abs(S)/L));var Y=x,H=S,U=!1,X=this.manager.stampCrop.setTo(0,0,F,L);I||this.beginDraw();for(var V=0;V<b;V++){if(H+L<0){H+=L;continue}for(var B=0;B<D;B++){if(U=!1,Y+F<0){Y+=F;continue}else Y<0&&(U=!0,X.width=F+Y,X.x=F-X.width);H<0&&(U=!0,X.height=L+H,X.y=L-X.height),G>0&&B===D-1&&(U=!0,X.width=G),W>0&&V===b-1&&(U=!0,X.height=W),U&&O.setCrop(X),this.batchGameObject(O,Y,H),O.isCropped=!1,X.setTo(0,0,F,L),Y+=F}Y=x,H+=L}return I||this.endDraw(),this},beginDraw:function(){if(!this.isDrawing){var v=this.camera,y=this.renderer,x=this.renderTarget;v.preRender(),x?y.beginCapture(x.width,x.height):y.setContext(this.context),this.isDrawing=!0}return this},batchDraw:function(v,y,x,S,E){return Array.isArray(v)||(v=[v]),this.batchList(v,y,x,S,E),this},batchDrawFrame:function(v,y,x,S,E,A){x===void 0&&(x=0),S===void 0&&(S=0),E===void 0&&(E=1),A===void 0&&(A=16777215);var R=this.manager.getFrame(v,y);return R&&(this.renderTarget?this.pipeline.batchTextureFrame(R,x,S,A,E,this.camera.matrix,null):this.batchTextureFrame(R,x,S,E,A)),this},endDraw:function(v){if(v===void 0&&(v=this._eraseMode),this.isDrawing){var y=this.renderer,x=this.renderTarget;if(x){var S=y.endCapture(),E=y.pipelines.setUtility();E.blitFrame(S,x,1,!1,!1,v,this.isSpriteTexture),y.resetScissor(),y.resetViewport()}else y.setContext();this.dirty=!0,this.isDrawing=!1}return this},batchList:function(v,y,x,S,E){var A=v.length;if(A!==0)for(var R=0;R<A;R++){var w=v[R];!w||w===this||(w.renderWebGL||w.renderCanvas?this.batchGameObject(w,y,x):w.isParent||w.list?this.batchGroup(w.getChildren(),y,x):typeof w=="string"?this.batchTextureFrameKey(w,null,y,x,S,E):w instanceof i?this.batchTextureFrame(w,y,x,S,E):Array.isArray(w)&&this.batchList(w,y,x,S,E))}},batchGroup:function(v,y,x){y===void 0&&(y=0),x===void 0&&(x=0);for(var S=0;S<v.length;S++){var E=v[S];E.willRender(this.camera)&&this.batchGameObject(E,E.x+y,E.y+x)}},batchGameObject:function(v,y,x){y===void 0&&(y=v.x),x===void 0&&(x=v.y);var S=v.x,E=v.y,A=this.camera,R=this.renderer,w=this._eraseMode,I=v.mask;if(v.setPosition(y,x),this.canvas){if(w){var O=v.blendMode;v.blendMode=h.ERASE}I&&I.preRenderCanvas(R,v,A),v.renderCanvas(R,v,A,null),I&&I.postRenderCanvas(R,v,A),w&&(v.blendMode=O)}else R&&(I&&I.preRenderWebGL(R,v,A),w||R.setBlendMode(v.blendMode),v.renderWebGL(R,v,A),I&&I.postRenderWebGL(R,A,this.renderTarget));v.setPosition(S,E)},batchTextureFrameKey:function(v,y,x,S,E,A){var R=this.manager.getFrame(v,y);R&&this.batchTextureFrame(R,x,S,E,A)},batchTextureFrame:function(v,y,x,S,E){y===void 0&&(y=0),x===void 0&&(x=0),S===void 0&&(S=1),E===void 0&&(E=16777215);var A=this.camera.matrix,R=this.renderTarget;if(R)this.pipeline.batchTextureFrame(v,y,x,E,S,A,null);else{var w=this.context,I=v.canvasData,O=v.source.image;w.save(),w.globalCompositeOperation=this._eraseMode?"destination-out":"source-over",w.globalAlpha=S,A.setToContext(w),I.width>0&&I.height>0&&w.drawImage(O,I.x,I.y,I.width,I.height,y,x,I.width,I.height),w.restore()}},snapshotArea:function(v,y,x,S,E,A,R){return this.renderTarget?this.renderer.snapshotFramebuffer(this.renderTarget.framebuffer,this.width,this.height,E,!1,v,y,x,S,A,R):this.renderer.snapshotCanvas(this.canvas,E,!1,v,y,x,S,A,R),this},snapshot:function(v,y,x){return this.snapshotArea(0,0,this.width,this.height,v,y,x)},snapshotPixel:function(v,y,x){return this.snapshotArea(v,y,1,1,x,"pixel")},getWebGLTexture:function(){if(this.renderTarget)return this.renderTarget.texture},renderWebGL:function(v,y,x,S){var E=this.manager.resetStamp();E.setTexture(this),E.setOrigin(0),E.renderWebGL(v,E,x,S)},renderCanvas:function(){},destroy:function(){var v=this.manager.stamp;v&&v.texture===this&&this.manager.resetStamp(),u.prototype.destroy.call(this),o.remove(this.canvas),this.renderTarget&&this.renderTarget.destroy(),this.camera.destroy(),this.canvas=null,this.context=null,this.renderer=null}});f.exports=c},4327:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(45319),o=t(79291),a=new h({initialize:function(i,n,l,s,u,d,c){this.texture=i,this.name=n,this.source=i.source[l],this.sourceIndex=l,this.cutX,this.cutY,this.cutWidth,this.cutHeight,this.x=0,this.y=0,this.width,this.height,this.halfWidth,this.halfHeight,this.centerX,this.centerY,this.pivotX=0,this.pivotY=0,this.customPivot=!1,this.rotated=!1,this.autoRound=-1,this.customData={},this.u0=0,this.v0=0,this.u1=0,this.v1=0,this.data={cut:{x:0,y:0,w:0,h:0,r:0,b:0},trim:!1,sourceSize:{w:0,h:0},spriteSourceSize:{x:0,y:0,w:0,h:0,r:0,b:0},radius:0,drawImage:{x:0,y:0,width:0,height:0},is3Slice:!1,scale9:!1,scale9Borders:{x:0,y:0,w:0,h:0}},this.setSize(d,c,s,u)},setCutPosition:function(r,i){return r===void 0&&(r=0),i===void 0&&(i=0),this.cutX=r,this.cutY=i,this.updateUVs()},setCutSize:function(r,i){return this.cutWidth=r,this.cutHeight=i,this.updateUVs()},setSize:function(r,i,n,l){n===void 0&&(n=0),l===void 0&&(l=0),this.setCutPosition(n,l),this.setCutSize(r,i),this.width=r,this.height=i,this.halfWidth=Math.floor(r*.5),this.halfHeight=Math.floor(i*.5),this.centerX=Math.floor(r/2),this.centerY=Math.floor(i/2);var s=this.data,u=s.cut;u.x=n,u.y=l,u.w=r,u.h=i,u.r=n+r,u.b=l+i,s.sourceSize.w=r,s.sourceSize.h=i,s.spriteSourceSize.w=r,s.spriteSourceSize.h=i,s.radius=.5*Math.sqrt(r*r+i*i);var d=s.drawImage;return d.x=n,d.y=l,d.width=r,d.height=i,this.updateUVs()},setTrim:function(r,i,n,l,s,u){var d=this.data,c=d.spriteSourceSize;return d.trim=!0,d.sourceSize.w=r,d.sourceSize.h=i,c.x=n,c.y=l,c.w=s,c.h=u,c.r=n+s,c.b=l+u,this.x=n,this.y=l,this.width=s,this.height=u,this.halfWidth=s*.5,this.halfHeight=u*.5,this.centerX=Math.floor(s/2),this.centerY=Math.floor(u/2),this.updateUVs()},setScale9:function(r,i,n,l){var s=this.data;return s.scale9=!0,s.is3Slice=i===0&&l===this.height,s.scale9Borders.x=r,s.scale9Borders.y=i,s.scale9Borders.w=n,s.scale9Borders.h=l,this},setCropUVs:function(r,i,n,l,s,u,d){var c=this.cutX,v=this.cutY,y=this.cutWidth,x=this.cutHeight,S=this.realWidth,E=this.realHeight;i=g(i,0,S),n=g(n,0,E),l=g(l,0,S-i),s=g(s,0,E-n);var A=c+i,R=v+n,w=l,I=s,O=this.data;if(O.trim){var F=O.spriteSourceSize;l=g(l,0,F.x+y-i),s=g(s,0,F.y+x-n);var L=i+l,D=n+s,b=!(F.r<i||F.b<n||F.x>L||F.y>D);if(b){var G=Math.max(F.x,i),W=Math.max(F.y,n),Y=Math.min(F.r,L)-G,H=Math.min(F.b,D)-W;w=Y,I=H,u?A=c+(y-(G-F.x)-Y):A=c+(G-F.x),d?R=v+(x-(W-F.y)-H):R=v+(W-F.y),i=G,n=W,l=Y,s=H}else A=0,R=0,w=0,I=0}else u&&(A=c+(y-i-l)),d&&(R=v+(x-n-s));var U=this.source.width,X=this.source.height;return r.u0=Math.max(0,A/U),r.v0=Math.max(0,R/X),r.u1=Math.min(1,(A+w)/U),r.v1=Math.min(1,(R+I)/X),r.x=i,r.y=n,r.cx=A,r.cy=R,r.cw=w,r.ch=I,r.width=l,r.height=s,r.flipX=u,r.flipY=d,r},updateCropUVs:function(r,i,n){return this.setCropUVs(r,r.x,r.y,r.width,r.height,i,n)},setUVs:function(r,i,n,l,s,u){var d=this.data.drawImage;return d.width=r,d.height=i,this.u0=n,this.v0=l,this.u1=s,this.v1=u,this},updateUVs:function(){var r=this.cutX,i=this.cutY,n=this.cutWidth,l=this.cutHeight,s=this.data.drawImage;s.width=n,s.height=l;var u=this.source.width,d=this.source.height;return this.u0=r/u,this.v0=i/d,this.u1=(r+n)/u,this.v1=(i+l)/d,this},updateUVsInverted:function(){var r=this.source.width,i=this.source.height;return this.u0=(this.cutX+this.cutHeight)/r,this.v0=this.cutY/i,this.u1=this.cutX/r,this.v1=(this.cutY+this.cutWidth)/i,this},clone:function(){var r=new a(this.texture,this.name,this.sourceIndex);return r.cutX=this.cutX,r.cutY=this.cutY,r.cutWidth=this.cutWidth,r.cutHeight=this.cutHeight,r.x=this.x,r.y=this.y,r.width=this.width,r.height=this.height,r.halfWidth=this.halfWidth,r.halfHeight=this.halfHeight,r.centerX=this.centerX,r.centerY=this.centerY,r.rotated=this.rotated,r.data=o(!0,r.data,this.data),r.updateUVs(),r},destroy:function(){this.texture=null,this.source=null,this.customData=null,this.data=null},glTexture:{get:function(){return this.source.glTexture}},realWidth:{get:function(){return this.data.sourceSize.w}},realHeight:{get:function(){return this.data.sourceSize.h}},radius:{get:function(){return this.data.radius}},trimmed:{get:function(){return this.data.trim}},scale9:{get:function(){return this.data.scale9}},is3Slice:{get:function(){return this.data.is3Slice}},canvasData:{get:function(){return this.data.drawImage}}});f.exports=a},79237:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(4327),o=t(11876),a='Texture "%s" has no frame "%s"',r=new h({initialize:function(n,l,s,u,d){Array.isArray(s)||(s=[s]),this.manager=n,this.key=l,this.source=[],this.dataSource=[],this.frames={},this.customData={},this.firstFrame="__BASE",this.frameTotal=0;for(var c=0;c<s.length;c++)this.source.push(new o(this,s[c],u,d))},add:function(i,n,l,s,u,d){if(this.has(i))return null;var c=new g(this,i,n,l,s,u,d);return this.frames[i]=c,this.firstFrame==="__BASE"&&(this.firstFrame=i),this.frameTotal++,c},remove:function(i){if(this.has(i)){var n=this.get(i);return n.destroy(),delete this.frames[i],!0}return!1},has:function(i){return this.frames.hasOwnProperty(i)},get:function(i){i||(i=this.firstFrame);var n=this.frames[i];return n||(console.warn(a,this.key,i),n=this.frames[this.firstFrame]),n},getTextureSourceIndex:function(i){for(var n=0;n<this.source.length;n++)if(this.source[n]===i)return n;return-1},getFramesFromTextureSource:function(i,n){n===void 0&&(n=!1);var l=[];for(var s in this.frames)if(!(s==="__BASE"&&!n)){var u=this.frames[s];u.sourceIndex===i&&l.push(u)}return l},getFrameBounds:function(i){i===void 0&&(i=0);for(var n=this.getFramesFromTextureSource(i,!0),l=n[0],s=l.cutX,u=l.cutY,d=l.cutX+l.cutWidth,c=l.cutY+l.cutHeight,v=1;v<n.length;v++){var y=n[v];y.cutX<s&&(s=y.cutX),y.cutY<u&&(u=y.cutY),y.cutX+y.cutWidth>d&&(d=y.cutX+y.cutWidth),y.cutY+y.cutHeight>c&&(c=y.cutY+y.cutHeight)}return{x:s,y:u,width:d-s,height:c-u}},getFrameNames:function(i){i===void 0&&(i=!1);var n=Object.keys(this.frames);if(!i){var l=n.indexOf("__BASE");l!==-1&&n.splice(l,1)}return n},getSourceImage:function(i){(i==null||this.frameTotal===1)&&(i="__BASE");var n=this.frames[i];return n?n.source.image:(console.warn(a,this.key,i),this.frames.__BASE.source.image)},getDataSourceImage:function(i){(i==null||this.frameTotal===1)&&(i="__BASE");var n=this.frames[i],l;return n?l=n.sourceIndex:(console.warn(a,this.key,i),l=this.frames.__BASE.sourceIndex),this.dataSource[l].image},setDataSource:function(i){Array.isArray(i)||(i=[i]);for(var n=0;n<i.length;n++){var l=this.source[n];this.dataSource.push(new o(this,i[n],l.width,l.height))}},setFilter:function(i){var n;for(n=0;n<this.source.length;n++)this.source[n].setFilter(i);for(n=0;n<this.dataSource.length;n++)this.dataSource[n].setFilter(i)},destroy:function(){var i,n=this.source,l=this.dataSource;for(i=0;i<n.length;i++)n[i]&&n[i].destroy();for(i=0;i<l.length;i++)l[i]&&l[i].destroy();for(var s in this.frames){var u=this.frames[s];u&&u.destroy()}this.source=[],this.dataSource=[],this.frames={},this.manager.removeKey(this.key),this.manager=null}});f.exports=r},17130:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(27919),g=t(57382),o=t(83419),a=t(40987),r=t(8054),i=t(81320),n=t(50792),l=t(69442),s=t(4327),u=t(8443),d=t(99584),c=t(35154),v=t(88571),y=t(41212),x=t(61309),S=t(87841),E=t(79237),A=new o({Extends:n,initialize:function(w){n.call(this),this.game=w,this.name="TextureManager",this.list={},this._tempCanvas=h.create2D(this),this._tempContext=this._tempCanvas.getContext("2d",{willReadFrequently:!0}),this._pending=0,this.stamp,this.stampCrop=new S,this.silentWarnings=!1,w.events.once(u.BOOT,this.boot,this)},boot:function(){this._pending=3,this.on(l.LOAD,this.updatePending,this),this.on(l.ERROR,this.updatePending,this);var R=this.game.config;R.defaultImage!==null&&this.addBase64("__DEFAULT",R.defaultImage),R.missingImage!==null&&this.addBase64("__MISSING",R.missingImage),R.whiteImage!==null&&this.addBase64("__WHITE",R.whiteImage),this.game.renderer&&this.game.renderer.gl&&this.addUint8Array("__NORMAL",new Uint8Array([127,127,255,255]),1,1),this.game.events.once(u.DESTROY,this.destroy,this),this.game.events.once(u.SYSTEM_READY,function(w){this.stamp=new v(w).setOrigin(0)},this)},updatePending:function(){this._pending--,this._pending===0&&(this.off(l.LOAD),this.off(l.ERROR),this.emit(l.READY))},checkKey:function(R){return!R||typeof R!="string"||this.exists(R)?(this.silentWarnings||console.error("Texture key already in use: "+R),!1):!0},remove:function(R){if(typeof R=="string")if(this.exists(R))R=this.get(R);else return this.silentWarnings||console.warn("No texture found matching key: "+R),this;var w=R.key;return this.list.hasOwnProperty(w)&&(R.destroy(),this.emit(l.REMOVE,w),this.emit(l.REMOVE_KEY+w)),this},removeKey:function(R){return this.list.hasOwnProperty(R)&&delete this.list[R],this},addBase64:function(R,w){if(this.checkKey(R)){var I=this,O=new Image;O.onerror=function(){I.emit(l.ERROR,R)},O.onload=function(){var F=I.create(R,O);F&&(x.Image(F,0),I.emit(l.ADD,R,F),I.emit(l.ADD_KEY+R,F),I.emit(l.LOAD,R,F))},O.src=w}return this},getBase64:function(R,w,I,O){I===void 0&&(I="image/png"),O===void 0&&(O=.92);var F="",L=this.getFrame(R,w);if(L&&(L.source.isRenderTexture||L.source.isGLTexture))this.silentWarnings||console.warn("Cannot getBase64 from WebGL Texture");else if(L){var D=L.canvasData,b=h.create2D(this,D.width,D.height),G=b.getContext("2d",{willReadFrequently:!0});D.width>0&&D.height>0&&G.drawImage(L.source.image,D.x,D.y,D.width,D.height,0,0,D.width,D.height),F=b.toDataURL(I,O),h.remove(b)}return F},addImage:function(R,w,I){var O=null;return this.checkKey(R)&&(O=this.create(R,w),x.Image(O,0),I&&O.setDataSource(I),this.emit(l.ADD,R,O),this.emit(l.ADD_KEY+R,O)),O},addGLTexture:function(R,w){var I=null;if(this.checkKey(R)){var O=w.width,F=w.height;I=this.create(R,w,O,F),I.add("__BASE",0,0,0,O,F),this.emit(l.ADD,R,I),this.emit(l.ADD_KEY+R,I)}return I},addCompressedTexture:function(R,w,I){var O=null;if(this.checkKey(R)){if(O=this.create(R,w),O.add("__BASE",0,0,0,w.width,w.height),I){var F=function(D,b,G){Array.isArray(G.textures)||Array.isArray(G.frames)?x.JSONArray(D,b,G):x.JSONHash(D,b,G)};if(Array.isArray(I))for(var L=0;L<I.length;L++)F(O,L,I[L]);else F(O,0,I)}this.emit(l.ADD,R,O),this.emit(l.ADD_KEY+R,O)}return O},addRenderTexture:function(R,w){var I=null;return this.checkKey(R)&&(I=this.create(R,w),I.add("__BASE",0,0,0,w.width,w.height),this.emit(l.ADD,R,I),this.emit(l.ADD_KEY+R,I)),I},generate:function(R,w){if(this.checkKey(R)){var I=h.create(this,1,1);return w.canvas=I,d(w),this.addCanvas(R,I)}else return null},createCanvas:function(R,w,I){if(w===void 0&&(w=256),I===void 0&&(I=256),this.checkKey(R)){var O=h.create(this,w,I,r.CANVAS,!0);return this.addCanvas(R,O)}return null},addCanvas:function(R,w,I){I===void 0&&(I=!1);var O=null;return I?O=new g(this,R,w,w.width,w.height):this.checkKey(R)&&(O=new g(this,R,w,w.width,w.height),this.list[R]=O,this.emit(l.ADD,R,O),this.emit(l.ADD_KEY+R,O)),O},addDynamicTexture:function(R,w,I){var O=null;return typeof R=="string"&&!this.exists(R)?O=new i(this,R,w,I):(O=R,R=O.key),this.checkKey(R)?(this.list[R]=O,this.emit(l.ADD,R,O),this.emit(l.ADD_KEY+R,O)):O=null,O},addAtlas:function(R,w,I,O){return Array.isArray(I.textures)||Array.isArray(I.frames)?this.addAtlasJSONArray(R,w,I,O):this.addAtlasJSONHash(R,w,I,O)},addAtlasJSONArray:function(R,w,I,O){var F=null;if(w instanceof E?(R=w.key,F=w):this.checkKey(R)&&(F=this.create(R,w)),F){if(Array.isArray(I))for(var L=I.length===1,D=0;D<F.source.length;D++){var b=L?I[0]:I[D];x.JSONArray(F,D,b)}else x.JSONArray(F,0,I);O&&F.setDataSource(O),this.emit(l.ADD,R,F),this.emit(l.ADD_KEY+R,F)}return F},addAtlasJSONHash:function(R,w,I,O){var F=null;if(w instanceof E?(R=w.key,F=w):this.checkKey(R)&&(F=this.create(R,w)),F){if(Array.isArray(I))for(var L=0;L<I.length;L++)x.JSONHash(F,L,I[L]);else x.JSONHash(F,0,I);O&&F.setDataSource(O),this.emit(l.ADD,R,F),this.emit(l.ADD_KEY+R,F)}return F},addAtlasXML:function(R,w,I,O){var F=null;return w instanceof E?(R=w.key,F=w):this.checkKey(R)&&(F=this.create(R,w)),F&&(x.AtlasXML(F,0,I),O&&F.setDataSource(O),this.emit(l.ADD,R,F),this.emit(l.ADD_KEY+R,F)),F},addUnityAtlas:function(R,w,I,O){var F=null;return w instanceof E?(R=w.key,F=w):this.checkKey(R)&&(F=this.create(R,w)),F&&(x.UnityYAML(F,0,I),O&&F.setDataSource(O),this.emit(l.ADD,R,F),this.emit(l.ADD_KEY+R,F)),F},addSpriteSheet:function(R,w,I,O){var F=null;if(w instanceof E?(R=w.key,F=w):this.checkKey(R)&&(F=this.create(R,w)),F){var L=F.source[0].width,D=F.source[0].height;x.SpriteSheet(F,0,0,0,L,D,I),O&&F.setDataSource(O),this.emit(l.ADD,R,F),this.emit(l.ADD_KEY+R,F)}return F},addSpriteSheetFromAtlas:function(R,w){if(!this.checkKey(R))return null;var I=c(w,"atlas",null),O=c(w,"frame",null);if(!(!I||!O)){var F=this.get(I),L=F.get(O);if(L){var D=L.source.image;D||(D=L.source.glTexture);var b=this.create(R,D);return L.trimmed?x.SpriteSheetFromAtlas(b,L,w):x.SpriteSheet(b,0,L.cutX,L.cutY,L.cutWidth,L.cutHeight,w),this.emit(l.ADD,R,b),this.emit(l.ADD_KEY+R,b),b}}},addUint8Array:function(R,w,I,O){if(!this.checkKey(R)||w.length/4!==I*O)return null;var F=this.create(R,w,I,O);return F.add("__BASE",0,0,0,I,O),this.emit(l.ADD,R,F),this.emit(l.ADD_KEY+R,F),F},create:function(R,w,I,O){var F=null;return this.checkKey(R)&&(F=new E(this,R,w,I,O),this.list[R]=F),F},exists:function(R){return this.list.hasOwnProperty(R)},get:function(R){return R===void 0&&(R="__DEFAULT"),this.list[R]?this.list[R]:R instanceof E?R:R instanceof s?R.texture:this.list.__MISSING},cloneFrame:function(R,w){if(this.list[R])return this.list[R].get(w).clone()},getFrame:function(R,w){if(this.list[R])return this.list[R].get(w)},parseFrame:function(R){if(R){if(typeof R=="string")return this.getFrame(R);if(Array.isArray(R)&&R.length===2)return this.getFrame(R[0],R[1]);if(y(R))return this.getFrame(R.key,R.frame);if(R instanceof E)return R.get();if(R instanceof s)return R}else return},getTextureKeys:function(){var R=[];for(var w in this.list)w!=="__DEFAULT"&&w!=="__MISSING"&&w!=="__WHITE"&&w!=="__NORMAL"&&R.push(w);return R},getPixel:function(R,w,I,O){var F=this.getFrame(I,O);if(F){R-=F.x,w-=F.y;var L=F.data.cut;if(R+=L.x,w+=L.y,R>=L.x&&R<L.r&&w>=L.y&&w<L.b){var D=this._tempContext;D.clearRect(0,0,1,1),D.drawImage(F.source.image,R,w,1,1,0,0,1,1);var b=D.getImageData(0,0,1,1);return new a(b.data[0],b.data[1],b.data[2],b.data[3])}}return null},getPixelAlpha:function(R,w,I,O){var F=this.getFrame(I,O);if(F){R-=F.x,w-=F.y;var L=F.data.cut;if(R+=L.x,w+=L.y,R>=L.x&&R<L.r&&w>=L.y&&w<L.b){var D=this._tempContext;D.clearRect(0,0,1,1),D.drawImage(F.source.image,R,w,1,1,0,0,1,1);var b=D.getImageData(0,0,1,1);return b.data[3]}}return null},setTexture:function(R,w,I){return this.list[w]&&(R.texture=this.list[w],R.frame=R.texture.get(I)),R},renameTexture:function(R,w){var I=this.get(R);return I&&R!==w?(I.key=w,this.list[w]=I,delete this.list[R],!0):!1},each:function(R,w){for(var I=[null],O=1;O<arguments.length;O++)I.push(arguments[O]);for(var F in this.list)I[0]=this.list[F],R.apply(w,I)},resetStamp:function(R,w){R===void 0&&(R=1),w===void 0&&(w=16777215);var I=this.stamp;return I.setCrop(),I.setPosition(0),I.setAngle(0),I.setScale(1),I.setAlpha(R),I.setTint(w),I.setTexture("__WHITE"),I},destroy:function(){for(var R in this.list)this.list[R].destroy();this.list={},this.stamp.destroy(),this.game=null,this.stamp=null,h.remove(this._tempCanvas)}});f.exports=A},11876:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(27919),g=t(83419),o=t(50030),a=t(29795),r=t(82751),i=new g({initialize:function(l,s,u,d,c){c===void 0&&(c=!1);var v=l.manager.game;this.renderer=v.renderer,this.texture=l,this.source=s,this.image=s.compressed?null:s,this.compressionAlgorithm=s.compressed?s.format:null,this.resolution=1,this.width=u||s.naturalWidth||s.videoWidth||s.width||0,this.height=d||s.naturalHeight||s.videoHeight||s.height||0,this.scaleMode=a.DEFAULT,this.isCanvas=s instanceof HTMLCanvasElement,this.isVideo=window.hasOwnProperty("HTMLVideoElement")&&s instanceof HTMLVideoElement,this.isRenderTexture=s.type==="RenderTexture"||s.type==="DynamicTexture",this.isGLTexture=s instanceof r,this.isPowerOf2=o(this.width,this.height),this.glTexture=null,this.flipY=c,this.init(v)},init:function(n){var l=this.renderer;if(l){var s=this.source;if(l.gl){var u=this.image,d=this.flipY,c=this.width,v=this.height,y=this.scaleMode;this.isCanvas?this.glTexture=l.createCanvasTexture(u,!1,d):this.isVideo?this.glTexture=l.createVideoTexture(u,!1,d):this.isRenderTexture?this.glTexture=l.createTextureFromSource(null,c,v,y):this.isGLTexture?this.glTexture=s:this.compressionAlgorithm?this.glTexture=l.createTextureFromSource(s,void 0,void 0,y):s instanceof Uint8Array?this.glTexture=l.createUint8ArrayTexture(s,c,v,y):this.glTexture=l.createTextureFromSource(u,c,v,y)}else this.isRenderTexture&&(this.image=s.canvas)}n.config.antialias||this.setFilter(1)},setFilter:function(n){this.renderer&&this.renderer.gl&&this.renderer.setTextureFilter(this.glTexture,n),this.scaleMode=n},setFlipY:function(n){return n===void 0&&(n=!0),n===this.flipY?this:(this.flipY=n,this.update(),this)},update:function(){var n=this.renderer,l=this.image,s=this.flipY,u=n.gl;u&&this.isCanvas?n.updateCanvasTexture(l,this.glTexture,s):u&&this.isVideo&&n.updateVideoTexture(l,this.glTexture,s)},destroy:function(){this.glTexture&&this.renderer.deleteTexture(this.glTexture),this.isCanvas&&h.remove(this.image),this.renderer=null,this.texture=null,this.source=null,this.image=null,this.glTexture=null}});f.exports=i},19673:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={LINEAR:0,NEAREST:1};f.exports=C},44538:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="addtexture"},63486:f=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="addtexture-"},94851:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="onerror"},29099:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="onload"},8678:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="ready"},86415:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="removetexture"},30879:f=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="removetexture-"},69442:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={ADD:t(44538),ADD_KEY:t(63486),ERROR:t(94851),LOAD:t(29099),READY:t(8678),REMOVE:t(86415),REMOVE_KEY:t(30879)}},27458:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(79291),g=t(19673),o={CanvasTexture:t(57382),DynamicTexture:t(81320),Events:t(69442),FilterMode:g,Frame:t(4327),Parsers:t(61309),Texture:t(79237),TextureManager:t(17130),TextureSource:t(11876)};o=h(!1,o,g),f.exports=o},89905:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h,g){if(!g.getElementsByTagName("TextureAtlas")){console.warn("Invalid Texture Atlas XML given");return}var o=t.source[h];t.add("__BASE",h,0,0,o.width,o.height);for(var a=g.getElementsByTagName("SubTexture"),r,i=0;i<a.length;i++){var n=a[i].attributes,l=n.name.value,s=parseInt(n.x.value,10),u=parseInt(n.y.value,10),d=parseInt(n.width.value,10),c=parseInt(n.height.value,10);if(r=t.add(l,h,s,u,d,c),n.frameX){var v=Math.abs(parseInt(n.frameX.value,10)),y=Math.abs(parseInt(n.frameY.value,10)),x=parseInt(n.frameWidth.value,10),S=parseInt(n.frameHeight.value,10);r.setTrim(d,c,v,y,x,S)}}return t};f.exports=C},72893:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h){var g=t.source[h];return t.add("__BASE",h,0,0,g.width,g.height),t};f.exports=C},4832:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h){var g=t.source[h];return t.add("__BASE",h,0,0,g.width,g.height),t};f.exports=C},78566:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(41786),g=function(o,a,r){if(!r.frames&&!r.textures){console.warn("Invalid Texture Atlas JSON Array");return}var i=o.source[a];o.add("__BASE",a,0,0,i.width,i.height);for(var n=Array.isArray(r.textures)?r.textures[a].frames:r.frames,l,s=0;s<n.length;s++){var u=n[s];if(l=o.add(u.filename,a,u.frame.x,u.frame.y,u.frame.w,u.frame.h),!l){console.warn("Invalid atlas json, frame already exists: "+u.filename);continue}u.trimmed&&l.setTrim(u.sourceSize.w,u.sourceSize.h,u.spriteSourceSize.x,u.spriteSourceSize.y,u.spriteSourceSize.w,u.spriteSourceSize.h),u.rotated&&(l.rotated=!0,l.updateUVsInverted());var d=u.anchor||u.pivot;d&&(l.customPivot=!0,l.pivotX=d.x,l.pivotY=d.y),u.scale9Borders&&l.setScale9(u.scale9Borders.x,u.scale9Borders.y,u.scale9Borders.w,u.scale9Borders.h),l.customData=h(u)}for(var c in r)c!=="frames"&&(Array.isArray(r[c])?o.customData[c]=r[c].slice(0):o.customData[c]=r[c]);return o};f.exports=g},39711:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(41786),g=function(o,a,r){if(!r.frames){console.warn("Invalid Texture Atlas JSON Hash given, missing 'frames' Object");return}var i=o.source[a];o.add("__BASE",a,0,0,i.width,i.height);var n=r.frames,l;for(var s in n)if(n.hasOwnProperty(s)){var u=n[s];if(l=o.add(s,a,u.frame.x,u.frame.y,u.frame.w,u.frame.h),!l){console.warn("Invalid atlas json, frame already exists: "+s);continue}u.trimmed&&l.setTrim(u.sourceSize.w,u.sourceSize.h,u.spriteSourceSize.x,u.spriteSourceSize.y,u.spriteSourceSize.w,u.spriteSourceSize.h),u.rotated&&(l.rotated=!0,l.updateUVsInverted());var d=u.anchor||u.pivot;d&&(l.customPivot=!0,l.pivotX=d.x,l.pivotY=d.y),u.scale9Borders&&l.setScale9(u.scale9Borders.x,u.scale9Borders.y,u.scale9Borders.w,u.scale9Borders.h),l.customData=h(u)}for(var c in r)c!=="frames"&&(Array.isArray(r[c])?o.customData[c]=r[c].slice(0):o.customData[c]=r[c]);return o};f.exports=g},31403:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t){var h=[171,75,84,88,32,49,49,187,13,10,26,10],g,o=new Uint8Array(t,0,12);for(g=0;g<o.length;g++)if(o[g]!==h[g]){console.warn("KTXParser - Invalid file format");return}var a=Uint32Array.BYTES_PER_ELEMENT,r=new DataView(t,12,13*a),i=r.getUint32(0,!0)===67305985,n=r.getUint32(1*a,i);if(n!==0){console.warn("KTXParser - Only compressed formats supported");return}var l=r.getUint32(4*a,i),s=r.getUint32(6*a,i),u=r.getUint32(7*a,i),d=Math.max(1,r.getUint32(11*a,i)),c=r.getUint32(12*a,i),v=new Array(d),y=12+13*4+c,x=s,S=u;for(g=0;g<d;g++){var E=new Int32Array(t,y,1)[0];y+=4,v[g]={data:new Uint8Array(t,y,E),width:x,height:S},x=Math.max(1,x>>1),S=Math.max(1,S>>1),y+=E}return{mipmaps:v,width:s,height:u,internalFormat:l,compressed:!0,generateMipmap:!1}};f.exports=C},82038:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function C(w,I,O,F,L,D,b){return b===void 0&&(b=16),Math.floor((w+O)/L)*Math.floor((I+F)/D)*b}function t(w,I){return w=Math.max(w,16),I=Math.max(I,8),w*I/4}function h(w,I){return w=Math.max(w,8),I=Math.max(I,8),w*I/2}function g(w,I){return Math.ceil(w/4)*Math.ceil(I/4)*16}function o(w,I){return C(w,I,3,3,4,4,8)}function a(w,I){return C(w,I,3,3,4,4)}function r(w,I){return C(w,I,4,3,5,4)}function i(w,I){return C(w,I,4,4,5,5)}function n(w,I){return C(w,I,5,4,6,5)}function l(w,I){return C(w,I,5,5,6,6)}function s(w,I){return C(w,I,7,4,8,5)}function u(w,I){return C(w,I,7,5,8,6)}function d(w,I){return C(w,I,7,7,8,8)}function c(w,I){return C(w,I,9,4,10,5)}function v(w,I){return C(w,I,9,5,10,6)}function y(w,I){return C(w,I,9,7,10,8)}function x(w,I){return C(w,I,9,9,10,10)}function S(w,I){return C(w,I,11,9,12,10)}function E(w,I){return C(w,I,11,11,12,12)}var A={0:{sizeFunc:t,glFormat:[35841]},1:{sizeFunc:t,glFormat:[35843]},2:{sizeFunc:h,glFormat:[35840]},3:{sizeFunc:h,glFormat:[35842]},6:{sizeFunc:o,glFormat:[36196]},7:{sizeFunc:o,glFormat:[33776,35916]},8:{sizeFunc:a,glFormat:[33777,35917]},9:{sizeFunc:a,glFormat:[33778,35918]},11:{sizeFunc:a,glFormat:[33779,35919]},14:{sizeFunc:g,glFormat:[36494,36495]},15:{sizeFunc:g,glFormat:[36492,36493]},22:{sizeFunc:o,glFormat:[37492,37493]},23:{sizeFunc:a,glFormat:[37496,37497]},24:{sizeFunc:o,glFormat:[37494,37495]},25:{sizeFunc:o,glFormat:[37488]},26:{sizeFunc:a,glFormat:[37490]},27:{sizeFunc:a,glFormat:[37808,37840]},28:{sizeFunc:r,glFormat:[37809,37841]},29:{sizeFunc:i,glFormat:[37810,37842]},30:{sizeFunc:n,glFormat:[37811,37843]},31:{sizeFunc:l,glFormat:[37812,37844]},32:{sizeFunc:s,glFormat:[37813,37845]},33:{sizeFunc:u,glFormat:[37814,37846]},34:{sizeFunc:d,glFormat:[37815,37847]},35:{sizeFunc:c,glFormat:[37816,37848]},36:{sizeFunc:v,glFormat:[37817,37849]},37:{sizeFunc:y,glFormat:[37818,37850]},38:{sizeFunc:x,glFormat:[37819,37851]},39:{sizeFunc:S,glFormat:[37820,37852]},40:{sizeFunc:E,glFormat:[37821,37853]}},R=function(w){for(var I=new Uint32Array(w,0,13),O=I[0],F=O===55727696,L=F?I[2]:I[3],D=I[4],b=A[L].glFormat[D],G=A[L].sizeFunc,W=I[11],Y=I[7],H=I[6],U=52+I[12],X=new Uint8Array(w,U),V=new Array(W),B=0,z=Y,K=H,k=0;k<W;k++){var J=G(z,K);V[k]={data:new Uint8Array(X.buffer,X.byteOffset+B,J),width:z,height:K},z=Math.max(1,z>>1),K=Math.max(1,K>>1),B+=J}return{mipmaps:V,width:Y,height:H,internalFormat:b,compressed:!0,generateMipmap:!1}};f.exports=R},75549:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(95540),g=function(o,a,r,i,n,l,s){var u=h(s,"frameWidth",null),d=h(s,"frameHeight",u);if(u===null)throw new Error("TextureManager.SpriteSheet: Invalid frameWidth given.");var c=o.source[a];o.add("__BASE",a,0,0,c.width,c.height);var v=h(s,"startFrame",0),y=h(s,"endFrame",-1),x=h(s,"margin",0),S=h(s,"spacing",0),E=Math.floor((n-x+S)/(u+S)),A=Math.floor((l-x+S)/(d+S)),R=E*A;R===0&&console.warn("SpriteSheet frame dimensions will result in zero frames for texture:",o.key),(v>R||v<-R)&&(v=0),v<0&&(v=R+v),(y===-1||y>R||y<v)&&(y=R);for(var w=x,I=x,O=0,F=0,L=0,D=0;D<R;D++){O=0,F=0;var b=w+u,G=I+d;b>n&&(O=b-n),G>l&&(F=G-l),D>=v&&D<=y&&(o.add(L,a,r+w,i+I,u-O,d-F),L++),w+=u+S,w+u>n&&(w=x,I+=d+S)}return o};f.exports=g},47534:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(95540),g=function(o,a,r){var i=h(r,"frameWidth",null),n=h(r,"frameHeight",i);if(!i)throw new Error("TextureManager.SpriteSheetFromAtlas: Invalid frameWidth given.");var l=o.source[0];o.add("__BASE",0,0,0,l.width,l.height),h(r,"startFrame",0),h(r,"endFrame",-1);for(var s=h(r,"margin",0),u=h(r,"spacing",0),d=a.cutX,c=a.cutY,v=a.cutWidth,y=a.cutHeight,x=a.realWidth,S=a.realHeight,E=Math.floor((x-s+u)/(i+u)),A=Math.floor((S-s+u)/(n+u)),R=a.x,w=i-R,I=i-(x-v-R),O=a.y,F=n-O,L=n-(S-y-O),D,b=s,G=s,W=0,Y=0,H=0;H<A;H++){for(var U=H===0,X=H===A-1,V=0;V<E;V++){var B=V===0,z=V===E-1;if(D=o.add(W,Y,d+b,c+G,i,n),B||U||z||X){var K=B?R:0,k=U?O:0,J=0,q=0;B&&(J+=i-w),z&&(J+=i-I),U&&(q+=n-F),X&&(q+=n-L);var j=i-J,Z=n-q;D.cutWidth=j,D.cutHeight=Z,D.setTrim(i,n,K,k,j,Z)}b+=u,B?b+=w:z?b+=I:b+=i,W++}b=s,G+=u,U?G+=F:X?G+=L:G+=n}return o};f.exports=g},86147:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=0,t=function(g,o,a,r){var i=C-r.y-r.height;g.add(a,o,r.x,i,r.width,r.height)},h=function(g,o,a){var r=g.source[o];g.add("__BASE",o,0,0,r.width,r.height),C=r.height;for(var i=a.split(`
`),n=/^[ ]*(- )*(\w+)+[: ]+(.*)/,l="",s="",u={x:0,y:0,width:0,height:0},d=0;d<i.length;d++){var c=i[d].match(n);if(c){var v=c[1]==="- ",y=c[2],x=c[3];if(v&&(s!==l&&(t(g,o,s,u),l=s),u={x:0,y:0,width:0,height:0}),y==="name"){s=x;continue}switch(y){case"x":case"y":case"width":case"height":u[y]=parseInt(x,10);break}}}return s!==l&&t(g,o,s,u),g};f.exports=h},55222:(f,C,t)=>{/**
 * @author       Ben Richards <benjamindrichards@gmail.com>
 * @copyright    2024 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(50030),g=function(l){for(var s=l.mipmaps,u=1;u<s.length;u++){var d=s[u].width,c=s[u].height;if(!h(d,c))return console.warn("Mip level "+u+" is not a power-of-two size: "+d+"x"+c),!1}var v=n[l.internalFormat];return v?v(l):(console.warn("No format checker found for internal format "+l.internalFormat+". Assuming valid."),!0)};function o(l){for(var s=l.mipmaps,u=0;u<s.length;u++){var d=s[u].width,c=s[u].height;if((d<<u)%4!==0||(c<<u)%4!==0)return console.warn("BPTC, RGTC, and S3TC dimensions must be a multiple of 4 pixels, and each successive mip level must be half the size of the previous level, rounded down. Mip level "+u+" is "+d+"x"+c),!1}return!0}function a(){return!0}function r(l){var s=l.mipmaps,u=s[0];return h(u.width,u.height)?!0:(console.warn("PVRTC base dimensions must be power of two. Base level is "+u.width+"x"+u.height),!1)}function i(l){var s=l.mipmaps,u=s[0];return u.width%4!==0||u.height%4!==0?(console.warn("S3TC SRGB base dimensions must be a multiple of 4 pixels. Base level is "+u.width+"x"+u.height+" pixels"),!1):!0}var n={37488:a,37489:a,37490:a,37491:a,37492:a,37493:a,37494:a,37495:a,37496:a,37497:a,36196:a,37808:a,37809:a,37810:a,37811:a,37812:a,37813:a,37814:a,37815:a,37816:a,37817:a,37818:a,37819:a,37820:a,37821:a,37840:a,37841:a,37842:a,37843:a,37844:a,37845:a,37846:a,37847:a,37848:a,37849:a,37850:a,37851:a,37852:a,37853:a,36492:o,36493:o,36494:o,36495:o,36283:o,36284:o,36285:o,36286:o,35840:r,35841:r,35842:r,35843:r,33776:o,33777:o,33778:o,33779:o,35916:i,35917:i,35918:i,35919:i};f.exports=g},61309:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={AtlasXML:t(89905),Canvas:t(72893),Image:t(4832),JSONArray:t(78566),JSONHash:t(39711),KTXParser:t(31403),PVRParser:t(82038),SpriteSheet:t(75549),SpriteSheetFromAtlas:t(47534),UnityYAML:t(86147)}},80341:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={CSV:0,TILED_JSON:1,ARRAY_2D:2,WELTMEISTER:3}},16536:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=new h({initialize:function(a,r,i,n,l,s,u){(i===void 0||i<=0)&&(i=32),(n===void 0||n<=0)&&(n=32),l===void 0&&(l=0),s===void 0&&(s=0),this.name=a,this.firstgid=r|0,this.imageWidth=i|0,this.imageHeight=n|0,this.imageMargin=l|0,this.imageSpacing=s|0,this.properties=u||{},this.images=[],this.total=0},containsImageIndex:function(o){return o>=this.firstgid&&o<this.firstgid+this.total},addImage:function(o,a,r,i){return this.images.push({gid:o,image:a,width:r,height:i}),this.total++,this}});f.exports=g},27462:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=new h({initialize:function(a){if(this.gids=[],a!==void 0)for(var r=0;r<a.length;++r)for(var i=a[r],n=0;n<i.total;++n)this.gids[i.firstgid+n]=i;this._gids=this.gids},enabled:{get:function(){return!!this.gids},set:function(o){this.gids=o?this._gids:void 0}},getTypeIncludingTile:function(o){if(o.type!==void 0&&o.type!=="")return o.type;if(!(!this.gids||o.gid===void 0)){var a=this.gids[o.gid];if(a){var r=a.getTileData(o.gid);if(r)return r.type}}},setTextureAndFrame:function(o,a,r,i){if(a===null&&this.gids&&i.gid!==void 0){var n=this.gids[i.gid];n&&(a===null&&n.image!==void 0&&(a=n.image.key),r===null&&(r=i.gid-n.firstgid),o.scene.textures.getFrame(a,r)||(a=null,r=null))}o.setTexture(a,r)},setPropertiesFromTiledObject:function(o,a){if(this.gids!==void 0&&a.gid!==void 0){var r=this.gids[a.gid];r!==void 0&&this.setFromJSON(o,r.getTileProperties(a.gid))}this.setFromJSON(o,a.properties)},setFromJSON:function(o,a){if(a){if(Array.isArray(a)){for(var r=0;r<a.length;r++){var i=a[r];o[i.name]!==void 0?o[i.name]=i.value:o.setData(i.name,i.value)}return}for(var n in a)o[n]!==void 0?o[n]=a[n]:o.setData(n,a[n])}}});f.exports=g},31989:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(80341),g=t(87010),o=t(46177),a=t(49075),r=function(i,n,l,s,u,d,c,v){l===void 0&&(l=32),s===void 0&&(s=32),u===void 0&&(u=10),d===void 0&&(d=10),v===void 0&&(v=!1);var y=null;if(Array.isArray(c)){var x=n!==void 0?n:"map";y=o(x,h.ARRAY_2D,c,l,s,v)}else if(n!==void 0){var S=i.cache.tilemap.get(n);S?y=o(n,S.format,S.data,l,s,v):console.warn("No map data found for key "+n)}return y===null&&(y=new g({tileWidth:l,tileHeight:s,width:u,height:d})),new a(i,y)};f.exports=r},23029:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(31401),o=t(91907),a=t(62644),r=t(93232),i=new h({Mixins:[g.AlphaSingle,g.Flip,g.Visible],initialize:function(l,s,u,d,c,v,y,x){this.layer=l,this.index=s,this.x=u,this.y=d,this.width=c,this.height=v,this.right,this.bottom,this.baseWidth=y!==void 0?y:c,this.baseHeight=x!==void 0?x:v,this.pixelX=0,this.pixelY=0,this.updatePixelXY(),this.properties={},this.rotation=0,this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceLeft=!1,this.faceRight=!1,this.faceTop=!1,this.faceBottom=!1,this.collisionCallback=void 0,this.collisionCallbackContext=this,this.tint=16777215,this.tintFill=!1,this.physics={}},containsPoint:function(n,l){return!(n<this.pixelX||l<this.pixelY||n>this.right||l>this.bottom)},copy:function(n){return this.index=n.index,this.alpha=n.alpha,this.properties=a(n.properties),this.visible=n.visible,this.setFlip(n.flipX,n.flipY),this.tint=n.tint,this.rotation=n.rotation,this.collideUp=n.collideUp,this.collideDown=n.collideDown,this.collideLeft=n.collideLeft,this.collideRight=n.collideRight,this.collisionCallback=n.collisionCallback,this.collisionCallbackContext=n.collisionCallbackContext,this},getCollisionGroup:function(){return this.tileset?this.tileset.getTileCollisionGroup(this.index):null},getTileData:function(){return this.tileset?this.tileset.getTileData(this.index):null},getLeft:function(n){var l=this.tilemapLayer;if(l){var s=l.tileToWorldXY(this.x,this.y,void 0,n);return s.x}return this.x*this.baseWidth},getRight:function(n){var l=this.tilemapLayer;return l?this.getLeft(n)+this.width*l.scaleX:this.getLeft(n)+this.width},getTop:function(n){var l=this.tilemapLayer;if(l){var s=l.tileToWorldXY(this.x,this.y,void 0,n);return s.y}return this.y*this.baseWidth-(this.height-this.baseHeight)},getBottom:function(n){var l=this.tilemapLayer;return l?this.getTop(n)+this.height*l.scaleY:this.getTop(n)+this.height},getBounds:function(n,l){return l===void 0&&(l=new r),l.x=this.getLeft(n),l.y=this.getTop(n),l.width=this.getRight(n)-l.x,l.height=this.getBottom(n)-l.y,l},getCenterX:function(n){return(this.getLeft(n)+this.getRight(n))/2},getCenterY:function(n){return(this.getTop(n)+this.getBottom(n))/2},intersects:function(n,l,s,u){return!(s<=this.pixelX||u<=this.pixelY||n>=this.right||l>=this.bottom)},isInteresting:function(n,l){return n&&l?this.canCollide||this.hasInterestingFace:n?this.collides:l?this.hasInterestingFace:!1},resetCollision:function(n){if(n===void 0&&(n=!0),this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,n){var l=this.tilemapLayer;l&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},resetFaces:function(){return this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,this},setCollision:function(n,l,s,u,d){if(l===void 0&&(l=n),s===void 0&&(s=n),u===void 0&&(u=n),d===void 0&&(d=!0),this.collideLeft=n,this.collideRight=l,this.collideUp=s,this.collideDown=u,this.faceLeft=n,this.faceRight=l,this.faceTop=s,this.faceBottom=u,d){var c=this.tilemapLayer;c&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},setCollisionCallback:function(n,l){return n===null?(this.collisionCallback=void 0,this.collisionCallbackContext=void 0):(this.collisionCallback=n,this.collisionCallbackContext=l),this},setSize:function(n,l,s,u){return n!==void 0&&(this.width=n),l!==void 0&&(this.height=l),s!==void 0&&(this.baseWidth=s),u!==void 0&&(this.baseHeight=u),this.updatePixelXY(),this},updatePixelXY:function(){var n=this.layer.orientation;if(n===o.ORTHOGONAL)this.pixelX=this.x*this.baseWidth,this.pixelY=this.y*this.baseHeight;else if(n===o.ISOMETRIC)this.pixelX=(this.x-this.y)*this.baseWidth*.5,this.pixelY=(this.x+this.y)*this.baseHeight*.5;else if(n===o.STAGGERED)this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2),this.pixelY=this.y*(this.baseHeight/2);else if(n===o.HEXAGONAL){var l=this.layer.staggerAxis,s=this.layer.staggerIndex,u=this.layer.hexSideLength,d,c;l==="y"?(c=(this.baseHeight-u)/2+u,s==="odd"?this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2):this.pixelX=this.x*this.baseWidth-this.y%2*(this.baseWidth/2),this.pixelY=this.y*c):l==="x"&&(d=(this.baseWidth-u)/2+u,this.pixelX=this.x*d,s==="odd"?this.pixelY=this.y*this.baseHeight+this.x%2*(this.baseHeight/2):this.pixelY=this.y*this.baseHeight-this.x%2*(this.baseHeight/2))}return this.right=this.pixelX+this.baseWidth,this.bottom=this.pixelY+this.baseHeight,this},destroy:function(){this.collisionCallback=void 0,this.collisionCallbackContext=void 0,this.properties=void 0},canCollide:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown||this.collisionCallback!==void 0}},collides:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown}},hasInterestingFace:{get:function(){return this.faceTop||this.faceBottom||this.faceLeft||this.faceRight}},tileset:{get:function(){var n=this.layer.tilemapLayer;if(n){var l=n.gidMap[this.index];if(l)return l}return null}},tilemapLayer:{get:function(){return this.layer.tilemapLayer}},tilemap:{get:function(){var n=this.tilemapLayer;return n?n.tilemap:null}}});f.exports=i},49075:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(84101),g=t(83419),o=t(39506),a=t(80341),r=t(95540),i=t(14977),n=t(27462),l=t(91907),s=t(36305),u=t(19133),d=t(68287),c=t(23029),v=t(81086),y=t(20442),x=t(33629),S=new g({initialize:function(A,R){this.scene=A,this.tileWidth=R.tileWidth,this.tileHeight=R.tileHeight,this.width=R.width,this.height=R.height,this.orientation=R.orientation,this.renderOrder=R.renderOrder,this.format=R.format,this.version=R.version,this.properties=R.properties,this.widthInPixels=R.widthInPixels,this.heightInPixels=R.heightInPixels,this.imageCollections=R.imageCollections,this.images=R.images,this.layers=R.layers,this.tiles=R.tiles,this.tilesets=R.tilesets,this.objects=R.objects,this.currentLayerIndex=0,this.hexSideLength=R.hexSideLength;var w=this.orientation;this._convert={WorldToTileXY:v.GetWorldToTileXYFunction(w),WorldToTileX:v.GetWorldToTileXFunction(w),WorldToTileY:v.GetWorldToTileYFunction(w),TileToWorldXY:v.GetTileToWorldXYFunction(w),TileToWorldX:v.GetTileToWorldXFunction(w),TileToWorldY:v.GetTileToWorldYFunction(w),GetTileCorners:v.GetTileCornersFunction(w)}},setRenderOrder:function(E){var A=["right-down","left-down","right-up","left-up"];return typeof E=="number"&&(E=A[E]),A.indexOf(E)>-1&&(this.renderOrder=E),this},addTilesetImage:function(E,A,R,w,I,O,F,L){if(E===void 0)return null;A==null&&(A=E);var D=this.scene.sys.textures;if(!D.exists(A))return console.warn('Texture key "%s" not found',A),null;var b=D.get(A),G=this.getTilesetIndex(E);if(G===null&&this.format===a.TILED_JSON)return console.warn('Tilemap has no tileset "%s". Its tilesets are %o',E,this.tilesets),null;var W=this.tilesets[G];return W?((R||w)&&W.setTileSize(R,w),(I||O)&&W.setSpacing(I,O),W.setImage(b),W):(R===void 0&&(R=this.tileWidth),w===void 0&&(w=this.tileHeight),I===void 0&&(I=0),O===void 0&&(O=0),F===void 0&&(F=0),L===void 0&&(L={x:0,y:0}),W=new x(E,F,R,w,I,O,void 0,void 0,L),W.setImage(b),this.tilesets.push(W),this.tiles=h(this),W)},copy:function(E,A,R,w,I,O,F,L){return L=this.getLayer(L),L!==null?(v.Copy(E,A,R,w,I,O,F,L),this):null},createBlankLayer:function(E,A,R,w,I,O,F,L){R===void 0&&(R=0),w===void 0&&(w=0),I===void 0&&(I=this.width),O===void 0&&(O=this.height),F===void 0&&(F=this.tileWidth),L===void 0&&(L=this.tileHeight);var D=this.getLayerIndex(E);if(D!==null)return console.warn("Invalid Tilemap Layer ID: "+E),null;for(var b=new i({name:E,tileWidth:F,tileHeight:L,width:I,height:O,orientation:this.orientation,hexSideLength:this.hexSideLength}),G,W=0;W<O;W++){G=[];for(var Y=0;Y<I;Y++)G.push(new c(b,-1,Y,W,F,L,this.tileWidth,this.tileHeight));b.data.push(G)}this.layers.push(b),this.currentLayerIndex=this.layers.length-1;var H=new y(this.scene,this,this.currentLayerIndex,A,R,w);return H.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(H),H},createLayer:function(E,A,R,w){var I=this.getLayerIndex(E);if(I===null)return console.warn("Invalid Tilemap Layer ID: "+E),typeof E=="string"&&console.warn("Valid tilelayer names: %o",this.getTileLayerNames()),null;var O=this.layers[I];if(O.tilemapLayer)return console.warn("Tilemap Layer ID already exists:"+E),null;this.currentLayerIndex=I,R===void 0&&(R=O.x),w===void 0&&(w=O.y);var F=new y(this.scene,this,I,A,R,w);return F.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(F),F},createFromObjects:function(E,A,R){R===void 0&&(R=!0);var w=[],I=this.getObjectLayer(E);if(!I)return console.warn("createFromObjects: Invalid objectLayerName given: "+E),w;var O=new n(R?this.tilesets:void 0);Array.isArray(A)||(A=[A]);for(var F=I.objects,L=0;L<A.length;L++){var D=A[L],b=r(D,"id",null),G=r(D,"gid",null),W=r(D,"name",null),Y=r(D,"type",null);O.enabled=!r(D,"ignoreTileset",null);for(var H,U=[],X=0;X<F.length;X++)H=F[X],(b===null&&G===null&&W===null&&Y===null||b!==null&&H.id===b||G!==null&&H.gid===G||W!==null&&H.name===W||Y!==null&&O.getTypeIncludingTile(H)===Y)&&U.push(H);for(var V=r(D,"classType",d),B=r(D,"scene",this.scene),z=r(D,"container",null),K=r(D,"key",null),k=r(D,"frame",null),J=0;J<U.length;J++){H=U[J];var q=new V(B);if(q.setName(H.name),q.setPosition(H.x,H.y),O.setTextureAndFrame(q,K,k,H),H.width&&(q.displayWidth=H.width),H.height&&(q.displayHeight=H.height),this.orientation===l.ISOMETRIC){var j=this.tileWidth/this.tileHeight,Z={x:q.x-q.y,y:(q.x+q.y)/j};q.x=Z.x,q.y=Z.y}var _={x:q.originX*H.width,y:(q.originY-(H.gid?1:0))*H.height};if(H.rotation){var et=o(H.rotation);s(_,et),q.rotation=et}q.x+=_.x,q.y+=_.y,(H.flippedHorizontal!==void 0||H.flippedVertical!==void 0)&&q.setFlip(H.flippedHorizontal,H.flippedVertical),H.visible||(q.visible=!1),O.setPropertiesFromTiledObject(q,H),z?z.add(q):B.add.existing(q),w.push(q)}}return w},createFromTiles:function(E,A,R,w,I,O){return O=this.getLayer(O),O===null?null:v.CreateFromTiles(E,A,R,w,I,O)},fill:function(E,A,R,w,I,O,F){return O===void 0&&(O=!0),F=this.getLayer(F),F===null?null:(v.Fill(E,A,R,w,I,O,F),this)},filterObjects:function(E,A,R){if(typeof E=="string"){var w=E;if(E=this.getObjectLayer(E),!E)return console.warn("No object layer found with the name: "+w),null}return E.objects.filter(A,R)},filterTiles:function(E,A,R,w,I,O,F,L){return L=this.getLayer(L),L===null?null:v.FilterTiles(E,A,R,w,I,O,F,L)},findByIndex:function(E,A,R,w){return w=this.getLayer(w),w===null?null:v.FindByIndex(E,A,R,w)},findObject:function(E,A,R){if(typeof E=="string"){var w=E;if(E=this.getObjectLayer(E),!E)return console.warn("No object layer found with the name: "+w),null}return E.objects.find(A,R)||null},findTile:function(E,A,R,w,I,O,F,L){return L=this.getLayer(L),L===null?null:v.FindTile(E,A,R,w,I,O,F,L)},forEachTile:function(E,A,R,w,I,O,F,L){return L=this.getLayer(L),L===null?null:(v.ForEachTile(E,A,R,w,I,O,F,L),this)},getImageIndex:function(E){return this.getIndex(this.images,E)},getImageLayerNames:function(){return!this.images||!Array.isArray(this.images)?[]:this.images.map(function(E){return E.name})},getIndex:function(E,A){for(var R=0;R<E.length;R++)if(E[R].name===A)return R;return null},getLayer:function(E){var A=this.getLayerIndex(E);return A!==null?this.layers[A]:null},getObjectLayer:function(E){var A=this.getIndex(this.objects,E);return A!==null?this.objects[A]:null},getObjectLayerNames:function(){return!this.objects||!Array.isArray(this.objects)?[]:this.objects.map(function(E){return E.name})},getLayerIndex:function(E){return E===void 0?this.currentLayerIndex:typeof E=="string"?this.getLayerIndexByName(E):typeof E=="number"&&E<this.layers.length?E:E instanceof y&&E.tilemap===this?E.layerIndex:null},getLayerIndexByName:function(E){return this.getIndex(this.layers,E)},getTileAt:function(E,A,R,w){return w=this.getLayer(w),w===null?null:v.GetTileAt(E,A,R,w)},getTileAtWorldXY:function(E,A,R,w,I){return I=this.getLayer(I),I===null?null:v.GetTileAtWorldXY(E,A,R,w,I)},getTileLayerNames:function(){return!this.layers||!Array.isArray(this.layers)?[]:this.layers.map(function(E){return E.name})},getTilesWithin:function(E,A,R,w,I,O){return O=this.getLayer(O),O===null?null:v.GetTilesWithin(E,A,R,w,I,O)},getTilesWithinShape:function(E,A,R,w){return w=this.getLayer(w),w===null?null:v.GetTilesWithinShape(E,A,R,w)},getTilesWithinWorldXY:function(E,A,R,w,I,O,F){return F=this.getLayer(F),F===null?null:v.GetTilesWithinWorldXY(E,A,R,w,I,O,F)},getTileset:function(E){var A=this.getIndex(this.tilesets,E);return A!==null?this.tilesets[A]:null},getTilesetIndex:function(E){return this.getIndex(this.tilesets,E)},hasTileAt:function(E,A,R){return R=this.getLayer(R),R===null?null:v.HasTileAt(E,A,R)},hasTileAtWorldXY:function(E,A,R,w){return w=this.getLayer(w),w===null?null:v.HasTileAtWorldXY(E,A,R,w)},layer:{get:function(){return this.layers[this.currentLayerIndex]},set:function(E){this.setLayer(E)}},putTileAt:function(E,A,R,w,I){return w===void 0&&(w=!0),I=this.getLayer(I),I===null?null:v.PutTileAt(E,A,R,w,I)},putTileAtWorldXY:function(E,A,R,w,I,O){return w===void 0&&(w=!0),O=this.getLayer(O),O===null?null:v.PutTileAtWorldXY(E,A,R,w,I,O)},putTilesAt:function(E,A,R,w,I){return w===void 0&&(w=!0),I=this.getLayer(I),I===null?null:(v.PutTilesAt(E,A,R,w,I),this)},randomize:function(E,A,R,w,I,O){return O=this.getLayer(O),O===null?null:(v.Randomize(E,A,R,w,I,O),this)},calculateFacesAt:function(E,A,R){return R=this.getLayer(R),R===null?null:(v.CalculateFacesAt(E,A,R),this)},calculateFacesWithin:function(E,A,R,w,I){return I=this.getLayer(I),I===null?null:(v.CalculateFacesWithin(E,A,R,w,I),this)},removeLayer:function(E){var A=this.getLayerIndex(E);if(A!==null){u(this.layers,A);for(var R=A;R<this.layers.length;R++)this.layers[R].tilemapLayer&&this.layers[R].tilemapLayer.layerIndex--;return this.currentLayerIndex===A&&(this.currentLayerIndex=0),this}else return null},destroyLayer:function(E){var A=this.getLayerIndex(E);return A!==null?(E=this.layers[A],E.tilemapLayer.destroy(),u(this.layers,A),this.currentLayerIndex===A&&(this.currentLayerIndex=0),this):null},removeAllLayers:function(){for(var E=this.layers,A=0;A<E.length;A++)E[A].tilemapLayer&&E[A].tilemapLayer.destroy(!1);return E.length=0,this.currentLayerIndex=0,this},removeTile:function(E,A,R){A===void 0&&(A=-1),R===void 0&&(R=!0);var w=[];Array.isArray(E)||(E=[E]);for(var I=0;I<E.length;I++){var O=E[I];w.push(this.removeTileAt(O.x,O.y,!0,R,O.tilemapLayer)),A>-1&&this.putTileAt(A,O.x,O.y,R,O.tilemapLayer)}return w},removeTileAt:function(E,A,R,w,I){return R===void 0&&(R=!0),w===void 0&&(w=!0),I=this.getLayer(I),I===null?null:v.RemoveTileAt(E,A,R,w,I)},removeTileAtWorldXY:function(E,A,R,w,I,O){return R===void 0&&(R=!0),w===void 0&&(w=!0),O=this.getLayer(O),O===null?null:v.RemoveTileAtWorldXY(E,A,R,w,I,O)},renderDebug:function(E,A,R){return R=this.getLayer(R),R===null?null:(this.orientation===l.ORTHOGONAL&&v.RenderDebug(E,A,R),this)},renderDebugFull:function(E,A){for(var R=this.layers,w=0;w<R.length;w++)v.RenderDebug(E,A,R[w]);return this},replaceByIndex:function(E,A,R,w,I,O,F){return F=this.getLayer(F),F===null?null:(v.ReplaceByIndex(E,A,R,w,I,O,F),this)},setCollision:function(E,A,R,w,I){return A===void 0&&(A=!0),R===void 0&&(R=!0),I===void 0&&(I=!0),w=this.getLayer(w),w===null?null:(v.SetCollision(E,A,R,w,I),this)},setCollisionBetween:function(E,A,R,w,I){return R===void 0&&(R=!0),w===void 0&&(w=!0),I=this.getLayer(I),I===null?null:(v.SetCollisionBetween(E,A,R,w,I),this)},setCollisionByProperty:function(E,A,R,w){return A===void 0&&(A=!0),R===void 0&&(R=!0),w=this.getLayer(w),w===null?null:(v.SetCollisionByProperty(E,A,R,w),this)},setCollisionByExclusion:function(E,A,R,w){return A===void 0&&(A=!0),R===void 0&&(R=!0),w=this.getLayer(w),w===null?null:(v.SetCollisionByExclusion(E,A,R,w),this)},setCollisionFromCollisionGroup:function(E,A,R){return E===void 0&&(E=!0),A===void 0&&(A=!0),R=this.getLayer(R),R===null?null:(v.SetCollisionFromCollisionGroup(E,A,R),this)},setTileIndexCallback:function(E,A,R,w){return w=this.getLayer(w),w===null?null:(v.SetTileIndexCallback(E,A,R,w),this)},setTileLocationCallback:function(E,A,R,w,I,O,F){return F=this.getLayer(F),F===null?null:(v.SetTileLocationCallback(E,A,R,w,I,O,F),this)},setLayer:function(E){var A=this.getLayerIndex(E);return A!==null&&(this.currentLayerIndex=A),this},setBaseTileSize:function(E,A){this.tileWidth=E,this.tileHeight=A,this.widthInPixels=this.width*E,this.heightInPixels=this.height*A;for(var R=0;R<this.layers.length;R++){this.layers[R].baseTileWidth=E,this.layers[R].baseTileHeight=A;for(var w=this.layers[R].data,I=this.layers[R].width,O=this.layers[R].height,F=0;F<O;F++)for(var L=0;L<I;L++){var D=w[F][L];D!==null&&D.setSize(void 0,void 0,E,A)}}return this},setLayerTileSize:function(E,A,R){if(R=this.getLayer(R),R===null)return this;R.tileWidth=E,R.tileHeight=A;for(var w=R.data,I=R.width,O=R.height,F=0;F<O;F++)for(var L=0;L<I;L++){var D=w[F][L];D!==null&&D.setSize(E,A)}return this},shuffle:function(E,A,R,w,I){return I=this.getLayer(I),I===null?null:(v.Shuffle(E,A,R,w,I),this)},swapByIndex:function(E,A,R,w,I,O,F){return F=this.getLayer(F),F===null?null:(v.SwapByIndex(E,A,R,w,I,O,F),this)},tileToWorldX:function(E,A,R){return R=this.getLayer(R),R===null?null:this._convert.TileToWorldX(E,A,R)},tileToWorldY:function(E,A,R){return R=this.getLayer(R),R===null?null:this._convert.TileToWorldY(E,A,R)},tileToWorldXY:function(E,A,R,w,I){return I=this.getLayer(I),I===null?null:this._convert.TileToWorldXY(E,A,R,w,I)},getTileCorners:function(E,A,R,w){return w=this.getLayer(w),w===null?null:this._convert.GetTileCorners(E,A,R,w)},weightedRandomize:function(E,A,R,w,I,O){return O=this.getLayer(O),O===null?null:(v.WeightedRandomize(A,R,w,I,E,O),this)},worldToTileX:function(E,A,R,w){return w=this.getLayer(w),w===null?null:this._convert.WorldToTileX(E,A,R,w)},worldToTileY:function(E,A,R,w){return w=this.getLayer(w),w===null?null:this._convert.WorldToTileY(E,A,R,w)},worldToTileXY:function(E,A,R,w,I,O){return O=this.getLayer(O),O===null?null:this._convert.WorldToTileXY(E,A,R,w,I,O)},destroy:function(){this.removeAllLayers(),this.tiles.length=0,this.tilesets.length=0,this.objects.length=0,this.scene=null}});f.exports=S},45939:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(44603),g=t(31989);h.register("tilemap",function(o){var a=o!==void 0?o:{};return g(this.scene,a.key,a.tileWidth,a.tileHeight,a.width,a.height,a.data,a.insertNull)})},46029:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(39429),g=t(31989);h.register("tilemap",function(o,a,r,i,n,l,s){return o===null&&(o=void 0),a===null&&(a=void 0),r===null&&(r=void 0),i===null&&(i=void 0),n===null&&(n=void 0),g(this.scene,o,a,r,i,n,l,s)})},20442:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(78389),o=t(31401),a=t(95643),r=t(81086),i=t(19218),n=t(26099),l=new h({Extends:a,Mixins:[o.Alpha,o.BlendMode,o.ComputedSize,o.Depth,o.Flip,o.GetBounds,o.Mask,o.Origin,o.Pipeline,o.PostPipeline,o.Transform,o.Visible,o.ScrollFactor,g,i],initialize:function(u,d,c,v,y,x){a.call(this,u,"TilemapLayer"),this.isTilemap=!0,this.tilemap=d,this.layerIndex=c,this.layer=d.layers[c],this.layer.tilemapLayer=this,this.tileset=[],this.tilesDrawn=0,this.tilesTotal=this.layer.width*this.layer.height,this.culledTiles=[],this.skipCull=!1,this.cullPaddingX=1,this.cullPaddingY=1,this.cullCallback=r.GetCullTilesFunction(this.layer.orientation),this._renderOrder=0,this.gidMap=[],this.tempVec=new n,this.collisionCategory=1,this.collisionMask=1,this.setTilesets(v),this.setAlpha(this.layer.alpha),this.setPosition(y,x),this.setOrigin(0,0),this.setSize(d.tileWidth*this.layer.width,d.tileHeight*this.layer.height),this.initPipeline(),this.initPostPipeline(!1)},setTilesets:function(s){var u=[],d=[],c=this.tilemap;Array.isArray(s)||(s=[s]);for(var v=0;v<s.length;v++){var y=s[v];if(typeof y=="string"&&(y=c.getTileset(y)),y){d.push(y);for(var x=y.firstgid,S=0;S<y.total;S++)u[x+S]=y}}this.gidMap=u,this.tileset=d},setRenderOrder:function(s){var u=["right-down","left-down","right-up","left-up"];return typeof s=="string"&&(s=u.indexOf(s)),s>=0&&s<4&&(this._renderOrder=s),this},calculateFacesAt:function(s,u){return r.CalculateFacesAt(s,u,this.layer),this},calculateFacesWithin:function(s,u,d,c){return r.CalculateFacesWithin(s,u,d,c,this.layer),this},createFromTiles:function(s,u,d,c,v){return r.CreateFromTiles(s,u,d,c,v,this.layer)},cull:function(s){return this.cullCallback(this.layer,s,this.culledTiles,this._renderOrder)},copy:function(s,u,d,c,v,y,x){return r.Copy(s,u,d,c,v,y,x,this.layer),this},fill:function(s,u,d,c,v,y){return r.Fill(s,u,d,c,v,y,this.layer),this},filterTiles:function(s,u,d,c,v,y,x){return r.FilterTiles(s,u,d,c,v,y,x,this.layer)},findByIndex:function(s,u,d){return r.FindByIndex(s,u,d,this.layer)},findTile:function(s,u,d,c,v,y,x){return r.FindTile(s,u,d,c,v,y,x,this.layer)},forEachTile:function(s,u,d,c,v,y,x){return r.ForEachTile(s,u,d,c,v,y,x,this.layer),this},setTint:function(s,u,d,c,v,y){s===void 0&&(s=16777215);var x=function(S){S.tint=s,S.tintFill=!1};return this.forEachTile(x,this,u,d,c,v,y)},setTintFill:function(s,u,d,c,v,y){s===void 0&&(s=16777215);var x=function(S){S.tint=s,S.tintFill=!0};return this.forEachTile(x,this,u,d,c,v,y)},getTileAt:function(s,u,d){return r.GetTileAt(s,u,d,this.layer)},getTileAtWorldXY:function(s,u,d,c){return r.GetTileAtWorldXY(s,u,d,c,this.layer)},getIsoTileAtWorldXY:function(s,u,d,c,v){d===void 0&&(d=!0);var y=this.tempVec;return r.IsometricWorldToTileXY(s,u,!0,y,v,this.layer,d),this.getTileAt(y.x,y.y,c)},getTilesWithin:function(s,u,d,c,v){return r.GetTilesWithin(s,u,d,c,v,this.layer)},getTilesWithinShape:function(s,u,d){return r.GetTilesWithinShape(s,u,d,this.layer)},getTilesWithinWorldXY:function(s,u,d,c,v,y){return r.GetTilesWithinWorldXY(s,u,d,c,v,y,this.layer)},hasTileAt:function(s,u){return r.HasTileAt(s,u,this.layer)},hasTileAtWorldXY:function(s,u,d){return r.HasTileAtWorldXY(s,u,d,this.layer)},putTileAt:function(s,u,d,c){return r.PutTileAt(s,u,d,c,this.layer)},putTileAtWorldXY:function(s,u,d,c,v){return r.PutTileAtWorldXY(s,u,d,c,v,this.layer)},putTilesAt:function(s,u,d,c){return r.PutTilesAt(s,u,d,c,this.layer),this},randomize:function(s,u,d,c,v){return r.Randomize(s,u,d,c,v,this.layer),this},removeTileAt:function(s,u,d,c){return r.RemoveTileAt(s,u,d,c,this.layer)},removeTileAtWorldXY:function(s,u,d,c,v){return r.RemoveTileAtWorldXY(s,u,d,c,v,this.layer)},renderDebug:function(s,u){return r.RenderDebug(s,u,this.layer),this},replaceByIndex:function(s,u,d,c,v,y){return r.ReplaceByIndex(s,u,d,c,v,y,this.layer),this},setSkipCull:function(s){return s===void 0&&(s=!0),this.skipCull=s,this},setCullPadding:function(s,u){return s===void 0&&(s=1),u===void 0&&(u=1),this.cullPaddingX=s,this.cullPaddingY=u,this},setCollision:function(s,u,d,c){return r.SetCollision(s,u,d,this.layer,c),this},setCollisionBetween:function(s,u,d,c){return r.SetCollisionBetween(s,u,d,c,this.layer),this},setCollisionByProperty:function(s,u,d){return r.SetCollisionByProperty(s,u,d,this.layer),this},setCollisionByExclusion:function(s,u,d){return r.SetCollisionByExclusion(s,u,d,this.layer),this},setCollisionFromCollisionGroup:function(s,u){return r.SetCollisionFromCollisionGroup(s,u,this.layer),this},setTileIndexCallback:function(s,u,d){return r.SetTileIndexCallback(s,u,d,this.layer),this},setTileLocationCallback:function(s,u,d,c,v,y){return r.SetTileLocationCallback(s,u,d,c,v,y,this.layer),this},shuffle:function(s,u,d,c){return r.Shuffle(s,u,d,c,this.layer),this},swapByIndex:function(s,u,d,c,v,y){return r.SwapByIndex(s,u,d,c,v,y,this.layer),this},tileToWorldX:function(s,u){return this.tilemap.tileToWorldX(s,u,this)},tileToWorldY:function(s,u){return this.tilemap.tileToWorldY(s,u,this)},tileToWorldXY:function(s,u,d,c){return this.tilemap.tileToWorldXY(s,u,d,c,this)},getTileCorners:function(s,u,d){return this.tilemap.getTileCorners(s,u,d,this)},weightedRandomize:function(s,u,d,c,v){return r.WeightedRandomize(u,d,c,v,s,this.layer),this},worldToTileX:function(s,u,d){return this.tilemap.worldToTileX(s,u,d,this)},worldToTileY:function(s,u,d){return this.tilemap.worldToTileY(s,u,d,this)},worldToTileXY:function(s,u,d,c,v){return this.tilemap.worldToTileXY(s,u,d,c,v,this)},destroy:function(s){s===void 0&&(s=!0),this.tilemap&&(this.layer.tilemapLayer===this&&(this.layer.tilemapLayer=void 0),s&&this.tilemap.removeLayer(this),this.tilemap=void 0,this.layer=void 0,this.culledTiles.length=0,this.cullCallback=null,this.gidMap=[],this.tileset=[],a.prototype.destroy.call(this))}});f.exports=l},16153:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(61340),g=new h,o=new h,a=new h,r=function(i,n,l,s){var u=n.cull(l),d=u.length,c=l.alpha*n.alpha;if(!(d===0||c<=0)){var v=g,y=o,x=a;y.applyITRS(n.x,n.y,n.rotation,n.scaleX,n.scaleY),v.copyFrom(l.matrix);var S=i.currentContext,E=n.gidMap;S.save(),s?(v.multiplyWithOffset(s,-l.scrollX*n.scrollFactorX,-l.scrollY*n.scrollFactorY),y.e=n.x,y.f=n.y,v.multiply(y,x),x.copyToContext(S)):(y.e-=l.scrollX*n.scrollFactorX,y.f-=l.scrollY*n.scrollFactorY,y.copyToContext(S)),(!i.antialias||n.scaleX>1||n.scaleY>1)&&(S.imageSmoothingEnabled=!1);for(var A=0;A<d;A++){var R=u[A],w=E[R.index];if(w){var I=w.image.getSourceImage(),O=w.getTileTextureCoordinates(R.index),F=w.tileWidth,L=w.tileHeight;if(!(O===null||F===0||L===0)){var D=F*.5,b=L*.5;O.x+=w.tileOffset.x,O.y+=w.tileOffset.y,S.save(),S.translate(R.pixelX+D,R.pixelY+b),R.rotation!==0&&S.rotate(R.rotation),(R.flipX||R.flipY)&&S.scale(R.flipX?-1:1,R.flipY?-1:1),S.globalAlpha=c*R.alpha,S.drawImage(I,O.x,O.y,F,L,-D,-b,F,L),S.restore()}}}S.restore()}};f.exports=r},19218:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),g=h,o=h;g=t(99558),o=t(16153),f.exports={renderWebGL:g,renderCanvas:o}},99558:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(70554),g=function(o,a,r){var i=a.cull(r),n=i.length,l=r.alpha*a.alpha;if(!(n===0||l<=0)){var s=a.gidMap,u=o.pipelines.set(a.pipeline,a),d=h.getTintAppendFloatAlpha,c=a.scrollFactorX,v=a.scrollFactorY,y=a.x,x=a.y,S=a.scaleX,E=a.scaleY;o.pipelines.preBatch(a);for(var A=0;A<n;A++){var R=i[A],w=s[R.index];if(w){var I=w.getTileTextureCoordinates(R.index),O=w.tileWidth,F=w.tileHeight;if(!(!I||O===0||F===0)){var L=O*.5,D=F*.5,b=w.glTexture,G=u.setTexture2D(b,a),W=O,Y=F,H=I.x,U=I.y,X=w.tileOffset.x,V=w.tileOffset.y,B=d(R.tint,l*R.alpha);u.batchTexture(a,b,b.width,b.height,y+R.pixelX*S+(L*S-X),x+R.pixelY*E+(D*E-V),O,F,S,E,R.rotation,R.flipX,R.flipY,c,v,L,D,H,U,W,Y,B,B,B,B,R.tintFill,0,0,r,null,!0,G,!0)}}}o.pipelines.postBatch(a)}};f.exports=g},33629:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(26099),o=new h({initialize:function(r,i,n,l,s,u,d,c,v){(n===void 0||n<=0)&&(n=32),(l===void 0||l<=0)&&(l=32),s===void 0&&(s=0),u===void 0&&(u=0),d===void 0&&(d={}),c===void 0&&(c={}),this.name=r,this.firstgid=i,this.tileWidth=n,this.tileHeight=l,this.tileMargin=s,this.tileSpacing=u,this.tileProperties=d,this.tileData=c,this.tileOffset=new g,v!==void 0&&this.tileOffset.set(v.x,v.y),this.image=null,this.glTexture=null,this.rows=0,this.columns=0,this.total=0,this.texCoordinates=[]},getTileProperties:function(a){return this.containsTileIndex(a)?this.tileProperties[a-this.firstgid]:null},getTileData:function(a){return this.containsTileIndex(a)?this.tileData[a-this.firstgid]:null},getTileCollisionGroup:function(a){var r=this.getTileData(a);return r&&r.objectgroup?r.objectgroup:null},containsTileIndex:function(a){return a>=this.firstgid&&a<this.firstgid+this.total},getTileTextureCoordinates:function(a){return this.containsTileIndex(a)?this.texCoordinates[a-this.firstgid]:null},setImage:function(a){this.image=a;var r=a.get(),i=a.getFrameBounds();return this.glTexture=r.source.glTexture,r.width>i.width||r.height>i.height?this.updateTileData(r.width,r.height):this.updateTileData(i.width,i.height,i.x,i.y),this},setTileSize:function(a,r){return a!==void 0&&(this.tileWidth=a),r!==void 0&&(this.tileHeight=r),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setSpacing:function(a,r){return a!==void 0&&(this.tileMargin=a),r!==void 0&&(this.tileSpacing=r),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},updateTileData:function(a,r,i,n){i===void 0&&(i=0),n===void 0&&(n=0);var l=(r-this.tileMargin*2+this.tileSpacing)/(this.tileHeight+this.tileSpacing),s=(a-this.tileMargin*2+this.tileSpacing)/(this.tileWidth+this.tileSpacing);(l%1!==0||s%1!==0)&&console.warn("Image tile area not tile size multiple in: "+this.name),l=Math.floor(l),s=Math.floor(s),this.rows=l,this.columns=s,this.total=l*s,this.texCoordinates.length=0;for(var u=this.tileMargin+i,d=this.tileMargin+n,c=0;c<this.rows;c++){for(var v=0;v<this.columns;v++)this.texCoordinates.push({x:u,y:d}),u+=this.tileWidth+this.tileSpacing;u=this.tileMargin+i,d+=this.tileHeight+this.tileSpacing}return this}});f.exports=o},72023:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7423),g=function(o,a,r){var i=h(o,a,!0,r),n=h(o,a-1,!0,r),l=h(o,a+1,!0,r),s=h(o-1,a,!0,r),u=h(o+1,a,!0,r),d=i&&i.collides;return d&&(i.faceTop=!0,i.faceBottom=!0,i.faceLeft=!0,i.faceRight=!0),n&&n.collides&&(d&&(i.faceTop=!1),n.faceBottom=!d),l&&l.collides&&(d&&(i.faceBottom=!1),l.faceTop=!d),s&&s.collides&&(d&&(i.faceLeft=!1),s.faceRight=!d),u&&u.collides&&(d&&(i.faceRight=!1),u.faceLeft=!d),i&&!i.collides&&i.resetFaces(),i};f.exports=g},42573:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7423),g=t(7386),o=function(a,r,i,n,l){for(var s=null,u=null,d=null,c=null,v=g(a,r,i,n,null,l),y=0;y<v.length;y++){var x=v[y];x&&(x.collides?(s=h(x.x,x.y-1,!0,l),u=h(x.x,x.y+1,!0,l),d=h(x.x-1,x.y,!0,l),c=h(x.x+1,x.y,!0,l),x.faceTop=!(s&&s.collides),x.faceBottom=!(u&&u.collides),x.faceLeft=!(d&&d.collides),x.faceRight=!(c&&c.collides)):x.resetFaces())}};f.exports=o},33528:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26099),g=new h,o=function(a,r,i,n){var l=i.tilemapLayer,s=l.cullPaddingX,u=l.cullPaddingY,d=l.tilemap.tileToWorldXY(a,r,g,n,l);return d.x>n.worldView.x+l.scaleX*i.tileWidth*(-s-.5)&&d.x<n.worldView.right+l.scaleX*i.tileWidth*(s-.5)&&d.y>n.worldView.y+l.scaleY*i.tileHeight*(-u-1)&&d.y<n.worldView.bottom+l.scaleY*i.tileHeight*(u-.5)};f.exports=o},1785:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(42573),g=t(7386),o=t(62991),a=t(23029),r=function(i,n,l,s,u,d,c,v){c===void 0&&(c=!0);var y=g(i,n,l,s,null,v),x=[];y.forEach(function(O){var F=new a(O.layer,O.index,O.x,O.y,O.width,O.height,O.baseWidth,O.baseHeight);F.copy(O),x.push(F)});for(var S=u-i,E=d-n,A=0;A<x.length;A++){var R=x[A],w=R.x+S,I=R.y+E;o(w,I,v)&&v.data[I][w]&&(R.x=w,R.y=I,R.updatePixelXY(),v.data[I][w]=R)}c&&h(u-1,d-1,l+2,s+2,v),y.length=0,x.length=0};f.exports=r},78419:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(62644),g=t(7386),o=t(27987),a=function(r,i,n,l,s,u){n||(n={}),Array.isArray(r)||(r=[r]);var d=u.tilemapLayer;l||(l=d.scene),s||(s=l.cameras.main);var c=u.width,v=u.height,y=g(0,0,c,v,null,u),x=[],S,E=function(I,O,F){for(var L=0;L<F.length;L++){var D=F[L];I.hasOwnProperty(D)||(I[D]=O[D])}};for(S=0;S<y.length;S++){var A=y[S],R=h(n);if(r.indexOf(A.index)!==-1){var w=d.tileToWorldXY(A.x,A.y,void 0,s,u);R.x=w.x,R.y=w.y,E(R,A,["rotation","flipX","flipY","alpha","visible","tint"]),R.hasOwnProperty("origin")||(R.x+=A.width*.5,R.y+=A.height*.5),R.hasOwnProperty("useSpriteSheet")&&(R.key=A.tileset.image,R.frame=A.index-1),x.push(l.make.sprite(R))}}if(Array.isArray(i))for(S=0;S<r.length;S++)o(r[S],i[S],0,0,c,v,u);else if(i!==null)for(S=0;S<r.length;S++)o(r[S],i,0,0,c,v,u);return x};f.exports=a},19545:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87841),g=t(63448),o=t(56583),a=new h,r=function(i,n){var l=i.tilemapLayer.tilemap,s=i.tilemapLayer,u=Math.floor(l.tileWidth*s.scaleX),d=Math.floor(l.tileHeight*s.scaleY),c=o(n.worldView.x-s.x,u,0,!0)-s.cullPaddingX,v=g(n.worldView.right-s.x,u,0,!0)+s.cullPaddingX,y=o(n.worldView.y-s.y,d,0,!0)-s.cullPaddingY,x=g(n.worldView.bottom-s.y,d,0,!0)+s.cullPaddingY;return a.setTo(c,y,v-c,x-y)};f.exports=r},30003:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(19545),g=t(32483),o=function(a,r,i,n){i===void 0&&(i=[]),n===void 0&&(n=0),i.length=0;var l=a.tilemapLayer,s=h(a,r);return(l.skipCull||l.scrollFactorX!==1||l.scrollFactorY!==1)&&(s.left=0,s.right=a.width,s.top=0,s.bottom=a.height),g(a,s,n,i),i};f.exports=o},35137:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7386),g=t(42573),o=t(20576),a=function(r,i,n,l,s,u,d){for(var c=d.collideIndexes.indexOf(r)!==-1,v=h(i,n,l,s,null,d),y=0;y<v.length;y++)v[y].index=r,o(v[y],c);u&&g(i-1,n-1,l+2,s+2,d)};f.exports=a},40253:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7386),g=function(o,a,r,i,n,l,s,u){var d=h(r,i,n,l,s,u);return d.filter(o,a)};f.exports=g},52692:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h,g,o){h===void 0&&(h=0),g===void 0&&(g=!1);var a=0,r,i,n;if(g){for(i=o.height-1;i>=0;i--)for(r=o.width-1;r>=0;r--)if(n=o.data[i][r],n&&n.index===t){if(a===h)return n;a+=1}}else for(i=0;i<o.height;i++)for(r=0;r<o.width;r++)if(n=o.data[i][r],n&&n.index===t){if(a===h)return n;a+=1}return null};f.exports=C},66151:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7386),g=function(o,a,r,i,n,l,s,u){var d=h(r,i,n,l,s,u);return d.find(o,a)||null};f.exports=g},97560:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7386),g=function(o,a,r,i,n,l,s,u){var d=h(r,i,n,l,s,u);d.forEach(o,a)};f.exports=g},43305:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91907),g=t(30003),o=t(9474),a=t(14018),r=t(29747),i=t(54503),n=function(l){return l===h.ORTHOGONAL?g:l===h.HEXAGONAL?o:l===h.STAGGERED?i:l===h.ISOMETRIC?a:r};f.exports=n},7423:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(62991),g=function(o,a,r,i){if(h(o,a,i)){var n=i.data[a][o]||null;return n?n.index===-1?r?n:null:n:null}else return null};f.exports=g},60540:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7423),g=t(26099),o=new g,a=function(r,i,n,l,s){return s.tilemapLayer.worldToTileXY(r,i,!0,o,l),h(o.x,o.y,n,s)};f.exports=a},55826:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26099),g=function(o,a,r,i){var n=i.baseTileWidth,l=i.baseTileHeight,s=i.tilemapLayer,u=0,d=0;s&&(r||(r=s.scene.cameras.main),u=s.x+r.scrollX*(1-s.scrollFactorX),d=s.y+r.scrollY*(1-s.scrollFactorY),n*=s.scaleX,l*=s.scaleY);var c=u+o*n,v=d+a*l;return[new h(c,v),new h(c+n,v),new h(c+n,v+l),new h(c,v+l)]};f.exports=g},11758:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91907),g=t(27229),o=t(29747),a=t(55826),r=function(i){return i===h.ORTHOGONAL?a:i===h.ISOMETRIC?o:i===h.HEXAGONAL?g:(i===h.STAGGERED,o)};f.exports=r},39167:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91907),g=t(29747),o=t(97281),a=function(r){return r===h.ORTHOGONAL?o:g};f.exports=a},62e3:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91907),g=t(19951),o=t(14127),a=t(29747),r=t(97202),i=t(70326),n=function(l){return l===h.ORTHOGONAL?i:l===h.ISOMETRIC?o:l===h.HEXAGONAL?g:l===h.STAGGERED?r:a};f.exports=n},5984:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91907),g=t(29747),o=t(28054),a=t(29650),r=function(i){return i===h.ORTHOGONAL?a:i===h.STAGGERED?o:g};f.exports=r},7386:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(95540),g=function(o,a,r,i,n,l){o===void 0&&(o=0),a===void 0&&(a=0),r===void 0&&(r=l.width),i===void 0&&(i=l.height),n||(n={});var s=h(n,"isNotEmpty",!1),u=h(n,"isColliding",!1),d=h(n,"hasInterestingFace",!1);o<0&&(r+=o,o=0),a<0&&(i+=a,a=0),o+r>l.width&&(r=Math.max(l.width-o,0)),a+i>l.height&&(i=Math.max(l.height-a,0));for(var c=[],v=a;v<a+i;v++)for(var y=o;y<o+r;y++){var x=l.data[v][y];if(x!==null){if(s&&x.index===-1||u&&!x.collides||d&&!x.hasInterestingFace)continue;c.push(x)}}return c};f.exports=g},91141:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(55738),g=t(7386),o=t(91865),a=t(29747),r=t(26099),i=t(91907),n=function(c,v){return o.RectangleToTriangle(v,c)},l=new r,s=new r,u=new r,d=function(c,v,y,x){if(x.orientation!==i.ORTHOGONAL)return console.warn("GetTilesWithinShape only works with orthogonal tilemaps"),[];if(c===void 0)return[];var S=a;c instanceof h.Circle?S=o.CircleToRectangle:c instanceof h.Rectangle?S=o.RectangleToRectangle:c instanceof h.Triangle?S=n:c instanceof h.Line&&(S=o.LineToRectangle),x.tilemapLayer.worldToTileXY(c.left,c.top,!0,s,y);var E=s.x,A=s.y;x.tilemapLayer.worldToTileXY(c.right,c.bottom,!1,u,y);var R=Math.ceil(u.x),w=Math.ceil(u.y),I=Math.max(R-E,1),O=Math.max(w-A,1),F=g(E,A,I,O,v,x),L=x.tileWidth,D=x.tileHeight;x.tilemapLayer&&(L*=x.tilemapLayer.scaleX,D*=x.tilemapLayer.scaleY);for(var b=[],G=new h.Rectangle(0,0,L,D),W=0;W<F.length;W++){var Y=F[W];x.tilemapLayer.tileToWorldXY(Y.x,Y.y,l,y),G.x=l.x,G.y=l.y,S(c,G)&&b.push(Y)}return b};f.exports=d},96523:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7386),g=t(26099),o=new g,a=new g,r=function(i,n,l,s,u,d,c){var v=c.tilemapLayer.tilemap._convert.WorldToTileXY;v(i,n,!0,o,d,c);var y=o.x,x=o.y;v(i+l,n+s,!1,a,d,c);var S=Math.ceil(a.x),E=Math.ceil(a.y);return h(y,x,S-y,E-x,u,c)};f.exports=r},96113:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91907),g=t(20242),o=t(10095),a=function(r){return r===h.ORTHOGONAL?o:g};f.exports=a},16926:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91907),g=t(86625),o=t(96897),a=t(29747),r=t(15108),i=t(85896),n=function(l){return l===h.ORTHOGONAL?i:l===h.ISOMETRIC?o:l===h.HEXAGONAL?g:l===h.STAGGERED?r:a};f.exports=n},55762:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91907),g=t(20242),o=t(51900),a=t(63288),r=function(i){return i===h.ORTHOGONAL?a:i===h.STAGGERED?o:g};f.exports=r},45091:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(62991),g=function(o,a,r){if(h(o,a,r)){var i=r.data[a][o];return i!==null&&i.index>-1}else return!1};f.exports=g},24152:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(45091),g=t(26099),o=new g,a=function(r,i,n,l){l.tilemapLayer.worldToTileXY(r,i,!0,o,n);var s=o.x,u=o.y;return h(s,u,l)};f.exports=a},90454:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(63448),g=t(56583),o=function(a,r){var i=a.tilemapLayer.tilemap,n=a.tilemapLayer,l=Math.floor(i.tileWidth*n.scaleX),s=Math.floor(i.tileHeight*n.scaleY),u=a.hexSideLength,d,c,v,y;if(a.staggerAxis==="y"){var x=(s-u)/2+u;d=g(r.worldView.x-n.x,l,0,!0)-n.cullPaddingX,c=h(r.worldView.right-n.x,l,0,!0)+n.cullPaddingX,v=g(r.worldView.y-n.y,x,0,!0)-n.cullPaddingY,y=h(r.worldView.bottom-n.y,x,0,!0)+n.cullPaddingY}else{var S=(l-u)/2+u;d=g(r.worldView.x-n.x,S,0,!0)-n.cullPaddingX,c=h(r.worldView.right-n.x,S,0,!0)+n.cullPaddingX,v=g(r.worldView.y-n.y,s,0,!0)-n.cullPaddingY,y=h(r.worldView.bottom-n.y,s,0,!0)+n.cullPaddingY}return{left:d,right:c,top:v,bottom:y}};f.exports=o},9474:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(90454),g=t(32483),o=function(a,r,i,n){i===void 0&&(i=[]),n===void 0&&(n=0),i.length=0;var l=a.tilemapLayer,s=h(a,r);return l.skipCull&&l.scrollFactorX===1&&l.scrollFactorY===1&&(s.left=0,s.right=a.width,s.top=0,s.bottom=a.height),g(a,s,n,i),i};f.exports=o},27229:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(19951),g=t(26099),o=new g,a=function(r,i,n,l){var s=l.baseTileWidth,u=l.baseTileHeight,d=l.tilemapLayer;d&&(s*=d.scaleX,u*=d.scaleY);var c=h(r,i,o,n,l),v=[],y=.5773502691896257,x,S;l.staggerAxis==="y"?(x=y*s,S=u/2):(x=s/2,S=y*u);for(var E=0;E<6;E++){var A=2*Math.PI*(.5-E)/6;v.push(new g(c.x+x*Math.cos(A),c.y+S*Math.sin(A)))}return v};f.exports=a},19951:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26099),g=function(o,a,r,i,n){r||(r=new h);var l=n.baseTileWidth,s=n.baseTileHeight,u=n.tilemapLayer,d=0,c=0;u&&(i||(i=u.scene.cameras.main),d=u.x+i.scrollX*(1-u.scrollFactorX),c=u.y+i.scrollY*(1-u.scrollFactorY),l*=u.scaleX,s*=u.scaleY);var v=l/2,y=s/2,x,S,E=n.staggerAxis,A=n.staggerIndex;return E==="y"?(x=d+l*o+l,S=c+1.5*a*y+y,a%2===0&&(A==="odd"?x-=v:x+=v)):E==="x"&&A==="odd"&&(x=d+1.5*o*v+v,S=c+s*o+s,o%2===0&&(A==="odd"?S-=y:S+=y)),r.set(x,S)};f.exports=g},86625:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26099),g=function(o,a,r,i,n,l){i||(i=new h);var s=l.baseTileWidth,u=l.baseTileHeight,d=l.tilemapLayer;d&&(n||(n=d.scene.cameras.main),o=o-(d.x+n.scrollX*(1-d.scrollFactorX)),a=a-(d.y+n.scrollY*(1-d.scrollFactorY)),s*=d.scaleX,u*=d.scaleY);var c=.5773502691896257,v=-.3333333333333333,y=0,x=.6666666666666666,S=s/2,E=u/2,A,R,w,I,O;l.staggerAxis==="y"?(A=(o-S)/(c*s),R=(a-E)/E,w=c*A+v*R,I=y*A+x*R):(A=(o-S)/S,R=(a-E)/(c*u),w=v*A+c*R,I=x*A+y*R),O=-w-I;var F=Math.round(w),L=Math.round(I),D=Math.round(O),b=Math.abs(F-w),G=Math.abs(L-I),W=Math.abs(D-O);b>G&&b>W?F=-L-D:G>W&&(L=-F-D);var Y,H=L;return l.staggerIndex==="odd"?Y=H%2===0?L/2+F:L/2+F-.5:Y=H%2===0?L/2+F:L/2+F+.5,i.set(Y,H)};f.exports=g},62991:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h,g){return t>=0&&t<g.width&&h>=0&&h<g.height};f.exports=C},14018:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(33528),g=function(o,a,r,i){r===void 0&&(r=[]),i===void 0&&(i=0),r.length=0;var n=o.tilemapLayer,l=o.data,s=o.width,u=o.height,d=n.skipCull,c=0,v=s,y=0,x=u,S,E,A;if(i===0)for(E=y;E<x;E++)for(S=c;S<v;S++)A=l[E][S],!(!A||A.index===-1||!A.visible||A.alpha===0)&&(!d&&!h(S,E,o,a)||r.push(A));else if(i===1)for(E=y;E<x;E++)for(S=v;S>=c;S--)A=l[E][S],!(!A||A.index===-1||!A.visible||A.alpha===0)&&(!d&&!h(S,E,o,a)||r.push(A));else if(i===2)for(E=x;E>=y;E--)for(S=c;S<v;S++)A=l[E][S],!(!A||A.index===-1||!A.visible||A.alpha===0)&&(!d&&!h(S,E,o,a)||r.push(A));else if(i===3)for(E=x;E>=y;E--)for(S=v;S>=c;S--)A=l[E][S],!(!A||A.index===-1||!A.visible||A.alpha===0)&&(!d&&!h(S,E,o,a)||r.push(A));return n.tilesDrawn=r.length,n.tilesTotal=s*u,r};f.exports=g},14127:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26099),g=function(o,a,r,i,n){r||(r=new h);var l=n.baseTileWidth,s=n.baseTileHeight,u=n.tilemapLayer,d=0,c=0;u&&(i||(i=u.scene.cameras.main),d=u.x+i.scrollX*(1-u.scrollFactorX),l*=u.scaleX,c=u.y+i.scrollY*(1-u.scrollFactorY),s*=u.scaleY);var v=d+(o-a)*(l/2),y=c+(o+a)*(s/2);return r.set(v,y)};f.exports=g},96897:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26099),g=function(o,a,r,i,n,l,s){i||(i=new h);var u=l.baseTileWidth,d=l.baseTileHeight,c=l.tilemapLayer;c&&(n||(n=c.scene.cameras.main),a=a-(c.y+n.scrollY*(1-c.scrollFactorY)),d*=c.scaleY,o=o-(c.x+n.scrollX*(1-c.scrollFactorX)),u*=c.scaleX);var v=u/2,y=d/2;o=o-v,s||(a=a-d);var x=.5*(o/v+a/y),S=.5*(-o/v+a/y);return r&&(x=Math.floor(x),S=Math.floor(S)),i.set(x,S)};f.exports=g},71558:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(23029),g=t(62991),o=t(72023),a=t(20576),r=function(i,n,l,s,u){if(s===void 0&&(s=!0),!g(n,l,u))return null;var d,c=u.data[l][n],v=c&&c.collides;i instanceof h?(u.data[l][n]===null&&(u.data[l][n]=new h(u,i.index,n,l,u.tileWidth,u.tileHeight)),u.data[l][n].copy(i)):(d=i,u.data[l][n]===null?u.data[l][n]=new h(u,d,n,l,u.tileWidth,u.tileHeight):u.data[l][n].index=d);var y=u.data[l][n],x=u.collideIndexes.indexOf(y.index)!==-1;if(d=i instanceof h?i.index:i,d===-1)y.width=u.tileWidth,y.height=u.tileHeight;else{var S=u.tilemapLayer.tilemap,E=S.tiles,A=E[d][2],R=S.tilesets[A];y.width=R.tileWidth,y.height=R.tileHeight}return a(y,x),s&&v!==y.collides&&o(n,l,u),y};f.exports=r},26303:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(71558),g=t(26099),o=new g,a=function(r,i,n,l,s,u){return u.tilemapLayer.worldToTileXY(i,n,!0,o,s,u),h(r,o.x,o.y,l,u)};f.exports=a},14051:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(42573),g=t(71558),o=function(a,r,i,n,l){if(n===void 0&&(n=!0),!Array.isArray(a))return null;Array.isArray(a[0])||(a=[a]);for(var s=a.length,u=a[0].length,d=0;d<s;d++)for(var c=0;c<u;c++){var v=a[d][c];g(v,r+c,i+d,!1,l)}n&&h(r-1,i-1,u+2,s+2,l)};f.exports=o},77389:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7386),g=t(26546),o=function(a,r,i,n,l,s){var u,d=h(a,r,i,n,{},s);if(!l)for(l=[],u=0;u<d.length;u++)l.indexOf(d[u].index)===-1&&l.push(d[u].index);for(u=0;u<d.length;u++)d[u].index=g(l)};f.exports=o},63557:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(23029),g=t(62991),o=t(72023),a=function(r,i,n,l,s){if(n===void 0&&(n=!0),l===void 0&&(l=!0),!g(r,i,s))return null;var u=s.data[i][r];if(u)s.data[i][r]=n?null:new h(s,-1,r,i,s.tileWidth,s.tileHeight);else return null;return l&&u&&u.collides&&o(r,i,s),u};f.exports=a},94178:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(63557),g=t(26099),o=new g,a=function(r,i,n,l,s,u){return u.tilemapLayer.worldToTileXY(r,i,!0,o,s,u),h(o.x,o.y,n,l,u)};f.exports=a},15533:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7386),g=t(3956),o=new g(105,210,231,150),a=new g(243,134,48,200),r=new g(40,39,37,150),i=function(n,l,s){l===void 0&&(l={});var u=l.tileColor!==void 0?l.tileColor:o,d=l.collidingTileColor!==void 0?l.collidingTileColor:a,c=l.faceColor!==void 0?l.faceColor:r,v=h(0,0,s.width,s.height,null,s);n.translateCanvas(s.tilemapLayer.x,s.tilemapLayer.y),n.scaleCanvas(s.tilemapLayer.scaleX,s.tilemapLayer.scaleY);for(var y=0;y<v.length;y++){var x=v[y],S=x.tileset?x.tileset.tileOffset:{x:0,y:0},E=x.width,A=x.height,R=x.pixelX-S.x,w=x.pixelY-S.y,I=x.collides?d:u;I!==null&&(n.fillStyle(I.color,I.alpha/255),n.fillRect(R,w,E,A)),R+=1,w+=1,E-=2,A-=2,c!==null&&(n.lineStyle(1,c.color,c.alpha/255),x.faceTop&&n.lineBetween(R,w,R+E,w),x.faceRight&&n.lineBetween(R+E,w,R+E,w+A),x.faceBottom&&n.lineBetween(R,w+A,R+E,w+A),x.faceLeft&&n.lineBetween(R,w,R,w+A))}};f.exports=i},27987:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7386),g=function(o,a,r,i,n,l,s){for(var u=h(r,i,n,l,null,s),d=0;d<u.length;d++)u[d]&&u[d].index===o&&(u[d].index=a)};f.exports=g},32483:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h,g,o){var a=t.data,r=t.width,i=t.height,n=t.tilemapLayer,l=Math.max(0,h.left),s=Math.min(r,h.right),u=Math.max(0,h.top),d=Math.min(i,h.bottom),c,v,y;if(g===0)for(v=u;v<d;v++)for(c=l;a[v]&&c<s;c++)y=a[v][c],!(!y||y.index===-1||!y.visible||y.alpha===0)&&o.push(y);else if(g===1)for(v=u;v<d;v++)for(c=s;a[v]&&c>=l;c--)y=a[v][c],!(!y||y.index===-1||!y.visible||y.alpha===0)&&o.push(y);else if(g===2)for(v=d;v>=u;v--)for(c=l;a[v]&&c<s;c++)y=a[v][c],!(!y||y.index===-1||!y.visible||y.alpha===0)&&o.push(y);else if(g===3)for(v=d;v>=u;v--)for(c=s;a[v]&&c>=l;c--)y=a[v][c],!(!y||y.index===-1||!y.visible||y.alpha===0)&&o.push(y);return n.tilesDrawn=o.length,n.tilesTotal=r*i,o};f.exports=C},57068:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(20576),g=t(42573),o=t(9589),a=function(r,i,n,l,s){i===void 0&&(i=!0),n===void 0&&(n=!0),s===void 0&&(s=!0),Array.isArray(r)||(r=[r]);for(var u=0;u<r.length;u++)o(r[u],i,l);if(s)for(var d=0;d<l.height;d++)for(var c=0;c<l.width;c++){var v=l.data[d][c];v&&r.indexOf(v.index)!==-1&&h(v,i)}n&&g(0,0,l.width,l.height,l)};f.exports=a},37266:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(20576),g=t(42573),o=t(9589),a=function(r,i,n,l,s,u){if(n===void 0&&(n=!0),l===void 0&&(l=!0),u===void 0&&(u=!0),!(r>i)){for(var d=r;d<=i;d++)o(d,n,s);if(u)for(var c=0;c<s.height;c++)for(var v=0;v<s.width;v++){var y=s.data[c][v];y&&y.index>=r&&y.index<=i&&h(y,n)}l&&g(0,0,s.width,s.height,s)}};f.exports=a},75661:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(20576),g=t(42573),o=t(9589),a=function(r,i,n,l){i===void 0&&(i=!0),n===void 0&&(n=!0),Array.isArray(r)||(r=[r]);for(var s=0;s<l.height;s++)for(var u=0;u<l.width;u++){var d=l.data[s][u];d&&r.indexOf(d.index)===-1&&(h(d,i),o(d.index,i,l))}n&&g(0,0,l.width,l.height,l)};f.exports=a},64740:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(20576),g=t(42573),o=t(97022),a=function(r,i,n,l){i===void 0&&(i=!0),n===void 0&&(n=!0);for(var s=0;s<l.height;s++)for(var u=0;u<l.width;u++){var d=l.data[s][u];if(d){for(var c in r)if(o(d.properties,c)){var v=r[c];Array.isArray(v)||(v=[v]);for(var y=0;y<v.length;y++)d.properties[c]===v[y]&&h(d,i)}}}n&&g(0,0,l.width,l.height,l)};f.exports=a},63307:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(20576),g=t(42573),o=function(a,r,i){a===void 0&&(a=!0),r===void 0&&(r=!0);for(var n=0;n<i.height;n++)for(var l=0;l<i.width;l++){var s=i.data[n][l];if(s){var u=s.getCollisionGroup();u&&u.objects&&u.objects.length>0&&h(s,a)}}r&&g(0,0,i.width,i.height,i)};f.exports=o},9589:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h,g){var o=g.collideIndexes.indexOf(t);h&&o===-1?g.collideIndexes.push(t):!h&&o!==-1&&g.collideIndexes.splice(o,1)};f.exports=C},20576:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h){h?t.setCollision(!0,!0,!0,!0,!1):t.resetCollision(!1)};f.exports=C},79583:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h,g,o){if(typeof t=="number")o.callbacks[t]=h!==null?{callback:h,callbackContext:g}:void 0;else for(var a=0,r=t.length;a<r;a++)o.callbacks[t[a]]=h!==null?{callback:h,callbackContext:g}:void 0};f.exports=C},93254:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7386),g=function(o,a,r,i,n,l,s){for(var u=h(o,a,r,i,null,s),d=0;d<u.length;d++)u[d].setCollisionCallback(n,l)};f.exports=g},32903:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7386),g=t(33680),o=function(a,r,i,n,l){var s=h(a,r,i,n,null,l),u=s.map(function(c){return c.index});g(u);for(var d=0;d<s.length;d++)s[d].index=u[d]};f.exports=o},61325:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(63448),g=t(56583),o=function(a,r){var i=a.tilemapLayer.tilemap,n=a.tilemapLayer,l=Math.floor(i.tileWidth*n.scaleX),s=Math.floor(i.tileHeight*n.scaleY),u=g(r.worldView.x-n.x,l,0,!0)-n.cullPaddingX,d=h(r.worldView.right-n.x,l,0,!0)+n.cullPaddingX,c=g(r.worldView.y-n.y,s/2,0,!0)-n.cullPaddingY,v=h(r.worldView.bottom-n.y,s/2,0,!0)+n.cullPaddingY;return{left:u,right:d,top:c,bottom:v}};f.exports=o},54503:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(61325),g=t(32483),o=function(a,r,i,n){i===void 0&&(i=[]),n===void 0&&(n=0),i.length=0;var l=a.tilemapLayer,s=h(a,r);return l.skipCull&&l.scrollFactorX===1&&l.scrollFactorY===1&&(s.left=0,s.right=a.width,s.top=0,s.bottom=a.height),g(a,s,n,i),i};f.exports=o},97202:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26099),g=function(o,a,r,i,n){r||(r=new h);var l=n.baseTileWidth,s=n.baseTileHeight,u=n.tilemapLayer,d=0,c=0;u&&(i||(i=u.scene.cameras.main),d=u.x+i.scrollX*(1-u.scrollFactorX),l*=u.scaleX,c=u.y+i.scrollY*(1-u.scrollFactorY),s*=u.scaleY);var v=d+o*l+a%2*(l/2),y=c+a*(s/2);return r.set(v,y)};f.exports=g},28054:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h,g){var o=g.baseTileHeight,a=g.tilemapLayer,r=0;return a&&(h===void 0&&(h=a.scene.cameras.main),r=a.y+h.scrollY*(1-a.scrollFactorY),o*=a.scaleY),r+t*(o/2)+o};f.exports=C},15108:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26099),g=function(o,a,r,i,n,l){i||(i=new h);var s=l.baseTileWidth,u=l.baseTileHeight,d=l.tilemapLayer;d&&(n||(n=d.scene.cameras.main),a=a-(d.y+n.scrollY*(1-d.scrollFactorY)),u*=d.scaleY,o=o-(d.x+n.scrollX*(1-d.scrollFactorX)),s*=d.scaleX);var c=r?Math.floor(a/(u/2)):a/(u/2),v=r?Math.floor((o+c%2*.5*s)/s):(o+c%2*.5*s)/s;return i.set(v,c)};f.exports=g},51900:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h,g,o){var a=o.baseTileHeight,r=o.tilemapLayer;return r&&(g||(g=r.scene.cameras.main),t=t-(r.y+g.scrollY*(1-r.scrollFactorY)),a*=r.scaleY),h?Math.floor(t/(a/2)):t/(a/2)};f.exports=C},86560:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7386),g=function(o,a,r,i,n,l,s){for(var u=h(r,i,n,l,null,s),d=0;d<u.length;d++)u[d]&&(u[d].index===o?u[d].index=a:u[d].index===a&&(u[d].index=o))};f.exports=g},97281:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h,g){var o=g.baseTileWidth,a=g.tilemapLayer,r=0;return a&&(h||(h=a.scene.cameras.main),r=a.x+h.scrollX*(1-a.scrollFactorX),o*=a.scaleX),r+t*o};f.exports=C},70326:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(97281),g=t(29650),o=t(26099),a=function(r,i,n,l,s){return n||(n=new o(0,0)),n.x=h(r,l,s),n.y=g(i,l,s),n};f.exports=a},29650:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h,g){var o=g.baseTileHeight,a=g.tilemapLayer,r=0;return a&&(h||(h=a.scene.cameras.main),r=a.y+h.scrollY*(1-a.scrollFactorY),o*=a.scaleY),r+t*o};f.exports=C},77366:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7386),g=t(75508),o=function(a,r,i,n,l,s){if(l){var u,d=h(a,r,i,n,null,s),c=0;for(u=0;u<l.length;u++)c+=l[u].weight;if(!(c<=0))for(u=0;u<d.length;u++){for(var v=g.RND.frac()*c,y=0,x=-1,S=0;S<l.length;S++)if(y+=l[S].weight,v<=y){var E=l[S].index;x=Array.isArray(E)?E[Math.floor(g.RND.frac()*E.length)]:E;break}d[u].index=x}}};f.exports=o},10095:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(85896),g=t(26099),o=new g,a=function(r,i,n,l){return h(r,0,i,o,n,l),o.x};f.exports=a},85896:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26099),g=function(o,a,r,i,n,l){r===void 0&&(r=!0),i||(i=new h);var s=l.baseTileWidth,u=l.baseTileHeight,d=l.tilemapLayer;d&&(n||(n=d.scene.cameras.main),o=o-(d.x+n.scrollX*(1-d.scrollFactorX)),a=a-(d.y+n.scrollY*(1-d.scrollFactorY)),s*=d.scaleX,u*=d.scaleY);var c=o/s,v=a/u;return r&&(c=Math.floor(c),v=Math.floor(v)),i.set(c,v)};f.exports=g},63288:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(85896),g=t(26099),o=new g,a=function(r,i,n,l){return h(0,r,i,o,n,l),o.y};f.exports=a},81086:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={CalculateFacesAt:t(72023),CalculateFacesWithin:t(42573),CheckIsoBounds:t(33528),Copy:t(1785),CreateFromTiles:t(78419),CullBounds:t(19545),CullTiles:t(30003),Fill:t(35137),FilterTiles:t(40253),FindByIndex:t(52692),FindTile:t(66151),ForEachTile:t(97560),GetCullTilesFunction:t(43305),GetTileAt:t(7423),GetTileAtWorldXY:t(60540),GetTileCorners:t(55826),GetTileCornersFunction:t(11758),GetTilesWithin:t(7386),GetTilesWithinShape:t(91141),GetTilesWithinWorldXY:t(96523),GetTileToWorldXFunction:t(39167),GetTileToWorldXYFunction:t(62e3),GetTileToWorldYFunction:t(5984),GetWorldToTileXFunction:t(96113),GetWorldToTileXYFunction:t(16926),GetWorldToTileYFunction:t(55762),HasTileAt:t(45091),HasTileAtWorldXY:t(24152),HexagonalCullBounds:t(90454),HexagonalCullTiles:t(9474),HexagonalGetTileCorners:t(27229),HexagonalTileToWorldXY:t(19951),HexagonalWorldToTileXY:t(86625),IsInLayerBounds:t(62991),IsometricCullTiles:t(14018),IsometricTileToWorldXY:t(14127),IsometricWorldToTileXY:t(96897),PutTileAt:t(71558),PutTileAtWorldXY:t(26303),PutTilesAt:t(14051),Randomize:t(77389),RemoveTileAt:t(63557),RemoveTileAtWorldXY:t(94178),RenderDebug:t(15533),ReplaceByIndex:t(27987),RunCull:t(32483),SetCollision:t(57068),SetCollisionBetween:t(37266),SetCollisionByExclusion:t(75661),SetCollisionByProperty:t(64740),SetCollisionFromCollisionGroup:t(63307),SetLayerCollisionIndex:t(9589),SetTileCollision:t(20576),SetTileIndexCallback:t(79583),SetTileLocationCallback:t(93254),Shuffle:t(32903),StaggeredCullBounds:t(61325),StaggeredCullTiles:t(54503),StaggeredTileToWorldXY:t(97202),StaggeredTileToWorldY:t(28054),StaggeredWorldToTileXY:t(15108),StaggeredWorldToTileY:t(51900),SwapByIndex:t(86560),TileToWorldX:t(97281),TileToWorldXY:t(70326),TileToWorldY:t(29650),WeightedRandomize:t(77366),WorldToTileX:t(10095),WorldToTileXY:t(85896),WorldToTileY:t(63288)}},91907:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={ORTHOGONAL:0,ISOMETRIC:1,STAGGERED:2,HEXAGONAL:3}},21829:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h={ORIENTATION:t(91907)};f.exports=h},62501:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(79291),g=t(21829),o={Components:t(81086),Parsers:t(57442),Formats:t(80341),ImageCollection:t(16536),ParseToTilemap:t(31989),Tile:t(23029),Tilemap:t(49075),TilemapCreator:t(45939),TilemapFactory:t(46029),Tileset:t(33629),TilemapLayer:t(20442),Orientation:t(91907),LayerData:t(14977),MapData:t(87010),ObjectLayer:t(48700)};o=h(!1,o,g.ORIENTATION),f.exports=o},14977:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(91907),o=t(95540),a=new h({initialize:function(i){i===void 0&&(i={}),this.name=o(i,"name","layer"),this.id=o(i,"id",0),this.x=o(i,"x",0),this.y=o(i,"y",0),this.width=o(i,"width",0),this.height=o(i,"height",0),this.tileWidth=o(i,"tileWidth",0),this.tileHeight=o(i,"tileHeight",0),this.baseTileWidth=o(i,"baseTileWidth",this.tileWidth),this.baseTileHeight=o(i,"baseTileHeight",this.tileHeight),this.orientation=o(i,"orientation",g.ORTHOGONAL),this.widthInPixels=o(i,"widthInPixels",this.width*this.baseTileWidth),this.heightInPixels=o(i,"heightInPixels",this.height*this.baseTileHeight),this.alpha=o(i,"alpha",1),this.visible=o(i,"visible",!0),this.properties=o(i,"properties",[]),this.indexes=o(i,"indexes",[]),this.collideIndexes=o(i,"collideIndexes",[]),this.callbacks=o(i,"callbacks",[]),this.bodies=o(i,"bodies",[]),this.data=o(i,"data",[]),this.tilemapLayer=o(i,"tilemapLayer",null),this.hexSideLength=o(i,"hexSideLength",0),this.staggerAxis=o(i,"staggerAxis","y"),this.staggerIndex=o(i,"staggerIndex","odd")}});f.exports=a},87010:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(91907),o=t(95540),a=new h({initialize:function(i){i===void 0&&(i={}),this.name=o(i,"name","map"),this.width=o(i,"width",0),this.height=o(i,"height",0),this.infinite=o(i,"infinite",!1),this.tileWidth=o(i,"tileWidth",0),this.tileHeight=o(i,"tileHeight",0),this.widthInPixels=o(i,"widthInPixels",this.width*this.tileWidth),this.heightInPixels=o(i,"heightInPixels",this.height*this.tileHeight),this.format=o(i,"format",null),this.orientation=o(i,"orientation",g.ORTHOGONAL),this.renderOrder=o(i,"renderOrder","right-down"),this.version=o(i,"version","1"),this.properties=o(i,"properties",{}),this.layers=o(i,"layers",[]),this.images=o(i,"images",[]),this.objects=o(i,"objects",[]),Array.isArray(this.objects)||(this.objects=[]),this.collision=o(i,"collision",{}),this.tilesets=o(i,"tilesets",[]),this.imageCollections=o(i,"imageCollections",[]),this.tiles=o(i,"tiles",[]),this.hexSideLength=o(i,"hexSideLength",0),this.staggerAxis=o(i,"staggerAxis","y"),this.staggerIndex=o(i,"staggerIndex","odd")}});f.exports=a},48700:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(95540),o=new h({initialize:function(r){r===void 0&&(r={}),this.name=g(r,"name","object layer"),this.id=g(r,"id",0),this.opacity=g(r,"opacity",1),this.properties=g(r,"properties",{}),this.propertyTypes=g(r,"propertytypes",{}),this.type=g(r,"type","objectgroup"),this.visible=g(r,"visible",!0),this.objects=g(r,"objects",[]),Array.isArray(this.objects)||(this.objects=[])}});f.exports=o},6641:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91907),g=function(o){return o=o.toLowerCase(),o==="isometric"?h.ISOMETRIC:o==="staggered"?h.STAGGERED:o==="hexagonal"?h.HEXAGONAL:h.ORTHOGONAL};f.exports=g},46177:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(80341),g=t(2342),o=t(82593),a=t(46594),r=t(87021),i=function(n,l,s,u,d,c){var v;switch(l){case h.ARRAY_2D:v=g(n,s,u,d,c);break;case h.CSV:v=o(n,s,u,d,c);break;case h.TILED_JSON:v=a(n,s,c);break;case h.WELTMEISTER:v=r(n,s,c);break;default:console.warn("Unrecognized tilemap data format: "+l),v=null}return v};f.exports=i},2342:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(80341),g=t(14977),o=t(87010),a=t(23029),r=function(i,n,l,s,u){for(var d=new g({tileWidth:l,tileHeight:s}),c=new o({name:i,tileWidth:l,tileHeight:s,format:h.ARRAY_2D,layers:[d]}),v=[],y=n.length,x=0,S=0;S<n.length;S++){v[S]=[];for(var E=n[S],A=0;A<E.length;A++){var R=parseInt(E[A],10);isNaN(R)||R===-1?v[S][A]=u?null:new a(d,-1,A,S,l,s):v[S][A]=new a(d,R,A,S,l,s)}x===0&&(x=E.length)}return c.width=d.width=x,c.height=d.height=y,c.widthInPixels=d.widthInPixels=x*l,c.heightInPixels=d.heightInPixels=y*s,d.data=v,c};f.exports=r},82593:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(80341),g=t(2342),o=function(a,r,i,n,l){var s=r.trim().split(`
`).map(function(d){return d.split(",")}),u=g(a,s,i,n,l);return u.format=h.CSV,u};f.exports=o},6656:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(14977),g=t(23029),o=function(a,r){for(var i=[],n=0;n<a.layer.length;n++){for(var l=a.layer[n],s=new h({name:l.name,width:l.width,height:l.height,tileWidth:l.tilesize,tileHeight:l.tilesize,visible:l.visible===1}),u=[],d=[],c=0;c<l.data.length;c++){for(var v=0;v<l.data[c].length;v++){var y=l.data[c][v]-1,x;y>-1?x=new g(s,y,v,c,l.tilesize,l.tilesize):x=r?null:new g(s,-1,v,c,l.tilesize,l.tilesize),u.push(x)}d.push(u),u=[]}s.data=d,i.push(s)}return i};f.exports=o},96483:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(33629),g=function(o){for(var a=[],r=[],i=0;i<o.layer.length;i++){var n=o.layer[i],l=n.tilesetName;l!==""&&r.indexOf(l)===-1&&(r.push(l),a.push(new h(l,0,n.tilesize,n.tilesize,0,0)))}return a};f.exports=g},87021:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(80341),g=t(87010),o=t(6656),a=t(96483),r=function(i,n,l){if(n.layer.length===0)return console.warn("No layers found in the Weltmeister map: "+i),null;for(var s=0,u=0,d=0;d<n.layer.length;d++)n.layer[d].width>s&&(s=n.layer[d].width),n.layer[d].height>u&&(u=n.layer[d].height);var c=new g({width:s,height:u,name:i,tileWidth:n.layer[0].tilesize,tileHeight:n.layer[0].tilesize,format:h.WELTMEISTER});return c.layers=o(n,l),c.tilesets=a(n),c};f.exports=r},52833:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={ParseTileLayers:t(6656),ParseTilesets:t(96483),ParseWeltmeister:t(87021)}},57442:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={FromOrientationString:t(6641),Parse:t(46177),Parse2DArray:t(2342),ParseCSV:t(82593),Impact:t(52833),Tiled:t(96761)}},51233:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(79291),g=function(o){for(var a,r,i,n,l,s=0;s<o.layers.length;s++){a=o.layers[s],n=null;for(var u=0;u<a.data.length;u++){l=a.data[u];for(var d=0;d<l.length;d++)r=l[d],!(r===null||r.index<0)&&(i=o.tiles[r.index][2],n=o.tilesets[i],r.width=n.tileWidth,r.height=n.tileHeight,n.tileProperties&&n.tileProperties[r.index-n.firstgid]&&(r.properties=h(r.properties,n.tileProperties[r.index-n.firstgid])))}}};f.exports=g},41868:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t){for(var h=window.atob(t),g=h.length,o=new Array(g/4),a=0;a<g;a+=4)o[a/4]=(h.charCodeAt(a)|h.charCodeAt(a+1)<<8|h.charCodeAt(a+2)<<16|h.charCodeAt(a+3)<<24)>>>0;return o};f.exports=C},84101:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(33629),g=function(o){var a,r,i=[];for(a=0;a<o.imageCollections.length;a++)for(var n=o.imageCollections[a],l=n.images,s=0;s<l.length;s++){var u=l[s],d={x:0,y:u.height-o.tileHeight};r=new h(u.image,u.gid,u.width,u.height,0,0,null,null,d),r.updateTileData(u.width,u.height),o.tilesets.push(r)}for(a=0;a<o.tilesets.length;a++){r=o.tilesets[a];for(var c=r.tileMargin,v=r.tileMargin,y=0,x=0,S=0,E=r.firstgid;E<r.firstgid+r.total&&(i[E]=[c,v,a],c+=r.tileWidth+r.tileSpacing,y++,!(y===r.total||(x++,x===r.columns&&(c=r.tileMargin,v+=r.tileHeight+r.tileSpacing,x=0,S++,S===r.rows))));E++);}return i};f.exports=g},79677:(f,C,t)=>{/**
 * @author       Seth Berrier <berriers@uwstout.edu>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(95540),g=function(o,a,r){if(!a)return{i:0,layers:o.layers,name:"",opacity:1,visible:!0,x:0,y:0};var i=a.x+h(a,"startx",0)*o.tilewidth+h(a,"offsetx",0),n=a.y+h(a,"starty",0)*o.tileheight+h(a,"offsety",0);return{i:0,layers:a.layers,name:r.name+a.name+"/",opacity:r.opacity*a.opacity,visible:r.visible&&a.visible,x:r.x+i,y:r.y+n}};f.exports=g},29920:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=2147483648,t=1073741824,h=536870912,g=function(o){var a=!!(o&C),r=!!(o&t),i=!!(o&h);o=o&536870911;var n=0,l=!1;return a&&r&&i?(n=Math.PI/2,l=!0):a&&r&&!i?(n=Math.PI,l=!1):a&&!r&&i?(n=Math.PI/2,l=!1):a&&!r&&!i?(n=0,l=!0):!a&&r&&i?(n=3*Math.PI/2,l=!1):!a&&r&&!i?(n=Math.PI,l=!0):!a&&!r&&i?(n=3*Math.PI/2,l=!0):!a&&!r&&!i&&(n=0,l=!1),{gid:o,flippedHorizontal:a,flippedVertical:r,flippedAntiDiagonal:i,rotation:n,flipped:l}};f.exports=g},12635:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(95540),g=t(79677),o=function(a){for(var r=[],i=[],n=g(a);n.i<n.layers.length||i.length>0;){if(n.i>=n.layers.length){if(i.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}n=i.pop();continue}var l=n.layers[n.i];if(n.i++,l.type!=="imagelayer"){if(l.type==="group"){var s=g(a,l,n);i.push(n),n=s}continue}var u=h(l,"offsetx",0)+h(l,"startx",0),d=h(l,"offsety",0)+h(l,"starty",0);r.push({name:n.name+l.name,image:l.image,x:n.x+u+l.x,y:n.y+d+l.y,alpha:n.opacity*l.opacity,visible:n.visible&&l.visible,properties:h(l,"properties",{})})}return r};f.exports=o},46594:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(51233),g=t(84101),o=t(91907),a=t(62644),r=t(80341),i=t(6641),n=t(87010),l=t(12635),s=t(22611),u=t(28200),d=t(24619),c=function(v,y,x){var S=a(y),E=new n({width:S.width,height:S.height,name:v,tileWidth:S.tilewidth,tileHeight:S.tileheight,orientation:i(S.orientation),format:r.TILED_JSON,version:S.version,properties:S.properties,renderOrder:S.renderorder,infinite:S.infinite});if(E.orientation===o.HEXAGONAL)if(E.hexSideLength=S.hexsidelength,E.staggerAxis=S.staggeraxis,E.staggerIndex=S.staggerindex,E.staggerAxis==="y"){var A=(E.tileHeight-E.hexSideLength)/2;E.widthInPixels=E.tileWidth*(E.width+.5),E.heightInPixels=E.height*(E.hexSideLength+A)+A}else{var R=(E.tileWidth-E.hexSideLength)/2;E.widthInPixels=E.width*(E.hexSideLength+R)+R,E.heightInPixels=E.tileHeight*(E.height+.5)}E.layers=u(S,x),E.images=l(S);var w=d(S);return E.tilesets=w.tilesets,E.imageCollections=w.imageCollections,E.objects=s(S),E.tiles=g(E),h(E),E};f.exports=c},52205:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(18254),g=t(29920),o=function(i){return{x:i.x,y:i.y}},a=["id","name","type","rotation","properties","visible","x","y","width","height"],r=function(i,n,l){n===void 0&&(n=0),l===void 0&&(l=0);var s=h(i,a);if(s.x+=n,s.y+=l,i.gid){var u=g(i.gid);s.gid=u.gid,s.flippedHorizontal=u.flippedHorizontal,s.flippedVertical=u.flippedVertical,s.flippedAntiDiagonal=u.flippedAntiDiagonal}else i.polyline?s.polyline=i.polyline.map(o):i.polygon?s.polygon=i.polygon.map(o):i.ellipse?s.ellipse=i.ellipse:i.text?s.text=i.text:i.point?s.point=!0:s.rectangle=!0;return s};f.exports=r},22611:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(95540),g=t(52205),o=t(48700),a=t(79677),r=function(i){for(var n=[],l=[],s=a(i);s.i<s.layers.length||l.length>0;){if(s.i>=s.layers.length){if(l.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}s=l.pop();continue}var u=s.layers[s.i];if(s.i++,u.opacity*=s.opacity,u.visible=s.visible&&u.visible,u.type!=="objectgroup"){if(u.type==="group"){var d=a(i,u,s);l.push(s),s=d}continue}u.name=s.name+u.name;for(var c=s.x+h(u,"startx",0)+h(u,"offsetx",0),v=s.y+h(u,"starty",0)+h(u,"offsety",0),y=[],x=0;x<u.objects.length;x++){var S=g(u.objects[x],c,v);y.push(S)}var E=new o(u);E.objects=y,n.push(E)}return n};f.exports=r},28200:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(41868),g=t(91907),o=t(79677),a=t(6641),r=t(95540),i=t(14977),n=t(29920),l=t(23029),s=function(u,d){for(var c=r(u,"infinite",!1),v=[],y=[],x=o(u);x.i<x.layers.length||y.length>0;){if(x.i>=x.layers.length){if(y.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}x=y.pop();continue}var S=x.layers[x.i];if(x.i++,S.type!=="tilelayer"){if(S.type==="group"){var E=o(u,S,x);y.push(x),x=E}continue}if(S.compression){console.warn("TilemapParser.parseTiledJSON - Layer compression is unsupported, skipping layer '"+S.name+"'");continue}else if(S.encoding&&S.encoding==="base64"){if(S.chunks)for(var A=0;A<S.chunks.length;A++)S.chunks[A].data=h(S.chunks[A].data);S.data&&(S.data=h(S.data)),delete S.encoding}var R,w,I,O,F,L,D=[],b=0;if(c){var G=r(S,"startx",0)+S.x,W=r(S,"starty",0)+S.y;R=new i({name:x.name+S.name,id:S.id,x:x.x+r(S,"offsetx",0)+G*u.tilewidth,y:x.y+r(S,"offsety",0)+W*u.tileheight,width:S.width,height:S.height,tileWidth:u.tilewidth,tileHeight:u.tileheight,alpha:x.opacity*S.opacity,visible:x.visible&&S.visible,properties:r(S,"properties",[]),orientation:a(u.orientation)}),R.orientation===g.HEXAGONAL&&(R.hexSideLength=u.hexsidelength,R.staggerAxis=u.staggeraxis,R.staggerIndex=u.staggerindex,R.staggerAxis==="y"?(F=(R.tileHeight-R.hexSideLength)/2,R.widthInPixels=R.tileWidth*(R.width+.5),R.heightInPixels=R.height*(R.hexSideLength+F)+F):(L=(R.tileWidth-R.hexSideLength)/2,R.widthInPixels=R.width*(R.hexSideLength+L)+L,R.heightInPixels=R.tileHeight*(R.height+.5)));for(var Y=0;Y<S.height;Y++){D[Y]=[null];for(var H=0;H<S.width;H++)D[Y][H]=null}for(Y=0,Z=S.chunks.length;Y<Z;Y++)for(var U=S.chunks[Y],X=U.x-G,V=U.y-W,B=0,z=0,K=U.data.length;z<K;z++){var k=b+X,J=B+V;w=n(U.data[z]),w.gid>0?(I=new l(R,w.gid,k,J,u.tilewidth,u.tileheight),I.rotation=w.rotation,I.flipX=w.flipped,D[J][k]=I):(O=d?null:new l(R,-1,k,J,u.tilewidth,u.tileheight),D[J][k]=O),b++,b===U.width&&(B++,b=0)}}else{R=new i({name:x.name+S.name,id:S.id,x:x.x+r(S,"offsetx",0)+S.x,y:x.y+r(S,"offsety",0)+S.y,width:S.width,height:S.height,tileWidth:u.tilewidth,tileHeight:u.tileheight,alpha:x.opacity*S.opacity,visible:x.visible&&S.visible,properties:r(S,"properties",[]),orientation:a(u.orientation)}),R.orientation===g.HEXAGONAL&&(R.hexSideLength=u.hexsidelength,R.staggerAxis=u.staggeraxis,R.staggerIndex=u.staggerindex,R.staggerAxis==="y"?(F=(R.tileHeight-R.hexSideLength)/2,R.widthInPixels=R.tileWidth*(R.width+.5),R.heightInPixels=R.height*(R.hexSideLength+F)+F):(L=(R.tileWidth-R.hexSideLength)/2,R.widthInPixels=R.width*(R.hexSideLength+L)+L,R.heightInPixels=R.tileHeight*(R.height+.5)));for(var q=[],j=0,Z=S.data.length;j<Z;j++)w=n(S.data[j]),w.gid>0?(I=new l(R,w.gid,b,D.length,u.tilewidth,u.tileheight),I.rotation=w.rotation,I.flipX=w.flipped,q.push(I)):(O=d?null:new l(R,-1,b,D.length,u.tilewidth,u.tileheight),q.push(O)),b++,b===S.width&&(D.push(q),b=0,q=[])}R.data=D,v.push(R)}return v};f.exports=s},24619:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(33629),g=t(16536),o=t(52205),a=t(57880),r=function(i){for(var n=[],l=[],s=null,u,d=0;d<i.tilesets.length;d++){var c=i.tilesets[d];if(c.source)console.warn("External tilesets unsupported. Use Embed Tileset and re-export");else if(c.image){var v=new h(c.name,c.firstgid,c.tilewidth,c.tileheight,c.margin,c.spacing,void 0,void 0,c.tileoffset);if(i.version>1){var y=void 0,x=void 0;if(Array.isArray(c.tiles)){y=y||{},x=x||{};for(var S=0;S<c.tiles.length;S++){var E=c.tiles[S];if(E.properties){var A={};E.properties.forEach(function(Y){A[Y.name]=Y.value}),x[E.id]=A}if(E.objectgroup&&((y[E.id]||(y[E.id]={})).objectgroup=E.objectgroup,E.objectgroup.objects)){var R=E.objectgroup.objects.map(function(Y){return o(Y)});y[E.id].objectgroup.objects=R}E.animation&&((y[E.id]||(y[E.id]={})).animation=E.animation),E.type&&((y[E.id]||(y[E.id]={})).type=E.type)}}Array.isArray(c.wangsets)&&(y=y||{},x=x||{},a(c.wangsets,y)),y&&(v.tileData=y,v.tileProperties=x)}else if(c.tileproperties&&(v.tileProperties=c.tileproperties),c.tiles){v.tileData=c.tiles;for(u in v.tileData){var w=v.tileData[u].objectgroup;if(w&&w.objects){var I=w.objects.map(function(Y){return o(Y)});v.tileData[u].objectgroup.objects=I}}}v.updateTileData(c.imagewidth,c.imageheight),n.push(v)}else{var O=new g(c.name,c.firstgid,c.tilewidth,c.tileheight,c.margin,c.spacing,c.properties),F=0;for(S=0;S<c.tiles.length;S++){E=c.tiles[S];var L=E.image,D=parseInt(E.id,10),b=c.firstgid+D,G=E.imagewidth,W=E.imageheight;O.addImage(b,L,G,W),F=Math.max(D,F)}O.maxId=F,l.push(O)}s&&(s.lastgid=c.firstgid-1),s=c}return{tilesets:n,imageCollections:l}};f.exports=r},57880:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h){for(var g=0;g<t.length;g++){var o=t[g],a=g;if(o.name&&o.name!==""&&(a=o.name),Array.isArray(o.wangtiles)&&o.wangtiles.length>0){var r={},i={},n,l,s;if(Array.isArray(o.edgecolors))for(n=0;n<o.edgecolors.length;n++)s=1+n,l=o.edgecolors[n],l.name!==""&&(r[s]=l.name);if(Array.isArray(o.cornercolors))for(n=0;n<o.cornercolors.length;n++)s=1+n,l=o.cornercolors[n],l.name!==""&&(i[s]=l.name);if(Array.isArray(o.colors))for(n=0;n<o.colors.length;n++)l=o.colors[n],s=1+n,l.name!==""&&(r[s]=i[s]=l.name);for(var u=[r,i,r,i,r,i,r,i],d=0;d<o.wangtiles.length;d++){var c=o.wangtiles[d],v=h[c.tileid]||(h[c.tileid]={});v=v.wangid||(v.wangid={});for(var y=[],x=0;x<Math.min(u.length,c.wangid.length);x++){if(l=c.wangid[x],l===0){y.push(void 0);continue}var S=u[x][l];if(S!==void 0){y.push(S);continue}y.push(l)}v[a]=y}}}};f.exports=C},96761:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={AssignTileProperties:t(51233),Base64Decode:t(41868),BuildTilesetIndex:t(84101),CreateGroupLayer:t(79677),ParseGID:t(29920),ParseImageLayers:t(12635),ParseJSONTiled:t(46594),ParseObject:t(52205),ParseObjectLayers:t(22611),ParseTileLayers:t(28200),ParseTilesets:t(24619)}},33385:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(37277),o=t(44594),a=t(94880),r=t(72905),i=new h({initialize:function(l){this.scene=l,this.systems=l.sys,this.now=0,this.startTime=0,this.timeScale=1,this.paused=!1,this._active=[],this._pendingInsertion=[],this._pendingRemoval=[],l.sys.events.once(o.BOOT,this.boot,this),l.sys.events.on(o.START,this.start,this)},boot:function(){this.now=this.systems.game.loop.time,this.systems.events.once(o.DESTROY,this.destroy,this)},start:function(){this.startTime=this.systems.game.loop.time;var n=this.systems.events;n.on(o.PRE_UPDATE,this.preUpdate,this),n.on(o.UPDATE,this.update,this),n.once(o.SHUTDOWN,this.shutdown,this)},addEvent:function(n){var l;if(n instanceof a){if(l=n,this.removeEvent(l),l.elapsed=l.startAt,l.hasDispatched=!1,l.repeatCount=l.repeat===-1||l.loop?999999999999:l.repeat,l.delay<=0&&l.repeatCount>0)throw new Error("TimerEvent infinite loop created via zero delay")}else l=new a(n);return this._pendingInsertion.push(l),l},delayedCall:function(n,l,s,u){return this.addEvent({delay:n,callback:l,args:s,callbackScope:u})},clearPendingEvents:function(){return this._pendingInsertion=[],this},removeEvent:function(n){Array.isArray(n)||(n=[n]);for(var l=0;l<n.length;l++){var s=n[l];r(this._pendingRemoval,s),r(this._pendingInsertion,s),r(this._active,s)}return this},removeAllEvents:function(){return this._pendingRemoval=this._pendingRemoval.concat(this._active),this},preUpdate:function(){var n=this._pendingRemoval.length,l=this._pendingInsertion.length;if(!(n===0&&l===0)){var s,u;for(s=0;s<n;s++){u=this._pendingRemoval[s];var d=this._active.indexOf(u);d>-1&&this._active.splice(d,1),u.destroy()}for(s=0;s<l;s++)u=this._pendingInsertion[s],this._active.push(u);this._pendingRemoval.length=0,this._pendingInsertion.length=0}},update:function(n,l){if(this.now=n,!this.paused){l*=this.timeScale;for(var s=0;s<this._active.length;s++){var u=this._active[s];if(!u.paused&&(u.elapsed+=l*u.timeScale,u.elapsed>=u.delay)){var d=u.elapsed-u.delay;if(u.elapsed=u.delay,!u.hasDispatched&&u.callback&&(u.hasDispatched=!0,u.callback.apply(u.callbackScope,u.args)),u.repeatCount>0){if(u.repeatCount--,d>=u.delay)for(;d>=u.delay&&u.repeatCount>0;)u.callback&&u.callback.apply(u.callbackScope,u.args),d-=u.delay,u.repeatCount--;u.elapsed=d,u.hasDispatched=!1}else u.hasDispatched&&this._pendingRemoval.push(u)}}}},shutdown:function(){var n;for(n=0;n<this._pendingInsertion.length;n++)this._pendingInsertion[n].destroy();for(n=0;n<this._active.length;n++)this._active[n].destroy();for(n=0;n<this._pendingRemoval.length;n++)this._pendingRemoval[n].destroy();this._active.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0;var l=this.systems.events;l.off(o.PRE_UPDATE,this.preUpdate,this),l.off(o.UPDATE,this.update,this),l.off(o.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(o.START,this.start,this),this.scene=null,this.systems=null}});g.register("Clock",i,"time"),f.exports=i},96120:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(50792),o=t(39429),a=t(95540),r=t(44594),i=t(89809),n=new h({Extends:g,initialize:function(s,u){g.call(this),this.scene=s,this.systems=s.sys,this.elapsed=0,this.timeScale=1,this.paused=!0,this.complete=!1,this.totalComplete=0,this.loop=0,this.iteration=0,this.events=[];var d=this.systems.events;d.on(r.PRE_UPDATE,this.preUpdate,this),d.on(r.UPDATE,this.update,this),d.once(r.SHUTDOWN,this.destroy,this),u&&this.add(u)},preUpdate:function(l,s){this.paused||(this.elapsed+=s*this.timeScale)},update:function(){if(!(this.paused||this.complete)){var l,s=this.events,u=!1,d=this.systems,c;for(l=0;l<s.length;l++){var v=s[l];if(!v.complete&&v.time<=this.elapsed){if(v.complete=!0,this.totalComplete++,c=v.target?v.target:this,v.if&&!v.if.call(c,v))continue;if(v.once&&(u=!0),v.set&&v.target)for(var y in v.set)v.target[y]=v.set[y];this.iteration&&v.repeat++,v.loop&&v.repeat&&v.loop.call(c),v.tween&&(v.tweenInstance=d.tweens.add(v.tween)),v.sound&&(typeof v.sound=="string"?d.sound.play(v.sound):d.sound.play(v.sound.key,v.sound.config)),v.event&&this.emit(v.event,c),v.run&&v.run.call(c),v.stop&&this.stop()}}if(u)for(l=0;l<s.length;l++)s[l].complete&&s[l].once&&(s.splice(l,1),l--);this.totalComplete>=s.length&&(this.loop!==0&&(this.loop===-1||this.loop>this.iteration)?(this.iteration++,this.reset(!0)):this.complete=!0),this.complete&&this.emit(i.COMPLETE,this)}},play:function(l){return l===void 0&&(l=!0),this.paused=!1,this.complete=!1,this.totalComplete=0,l&&this.reset(),this},pause:function(){this.paused=!0;for(var l=this.events,s=0;s<l.length;s++){var u=l[s];u.tweenInstance&&(u.tweenInstance.paused=!0)}return this},repeat:function(l){return(l===void 0||l===!0)&&(l=-1),l===!1&&(l=0),this.loop=l,this},resume:function(){this.paused=!1;for(var l=this.events,s=0;s<l.length;s++){var u=l[s];u.tweenInstance&&(u.tweenInstance.paused=!1)}return this},stop:function(){return this.paused=!0,this.complete=!0,this},reset:function(l){l===void 0&&(l=!1),this.elapsed=0,l||(this.iteration=0);for(var s=this.events,u=0;u<s.length;u++){var d=s[u];d.complete=!1,l||(d.repeat=0),d.tweenInstance&&d.tweenInstance.stop()}return this.play(!1)},add:function(l){Array.isArray(l)||(l=[l]);var s=this.events,u=0;s.length>0&&(u=s[s.length-1].time);for(var d=0;d<l.length;d++){var c=l[d],v=a(c,"at",0),y=a(c,"in",null);y!==null&&(v=this.elapsed+y);var x=a(c,"from",null);x!==null&&(v=u+x),s.push({complete:!1,time:v,repeat:0,if:a(c,"if",null),run:a(c,"run",null),loop:a(c,"loop",null),event:a(c,"event",null),target:a(c,"target",null),set:a(c,"set",null),tween:a(c,"tween",null),sound:a(c,"sound",null),once:a(c,"once",!1),stop:a(c,"stop",!1)}),u=v}return this.complete=!1,this},clear:function(){for(var l=this.events,s=0;s<l.length;s++){var u=l[s];u.tweenInstance&&u.tweenInstance.stop()}return l=[],this.elapsed=0,this.paused=!0,this},isPlaying:function(){return!this.paused&&!this.complete},getProgress:function(){var l=Math.min(this.totalComplete,this.events.length);return l/this.events.length},destroy:function(){var l=this.systems.events;l.off(r.PRE_UPDATE,this.preUpdate,this),l.off(r.UPDATE,this.update,this),l.off(r.SHUTDOWN,this.destroy,this),this.clear(),this.scene=null,this.systems=null}});o.register("timeline",function(l){return new n(this.scene,l)}),f.exports=n},94880:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(95540),o=new h({initialize:function(r){this.delay=0,this.repeat=0,this.repeatCount=0,this.loop=!1,this.callback,this.callbackScope,this.args,this.timeScale=1,this.startAt=0,this.elapsed=0,this.paused=!1,this.hasDispatched=!1,this.reset(r)},reset:function(a){if(this.delay=g(a,"delay",0),this.repeat=g(a,"repeat",0),this.loop=g(a,"loop",!1),this.callback=g(a,"callback",void 0),this.callbackScope=g(a,"callbackScope",this),this.args=g(a,"args",[]),this.timeScale=g(a,"timeScale",1),this.startAt=g(a,"startAt",0),this.paused=g(a,"paused",!1),this.elapsed=this.startAt,this.hasDispatched=!1,this.repeatCount=this.repeat===-1||this.loop?999999999999:this.repeat,this.delay<=0&&this.repeatCount>0)throw new Error("TimerEvent infinite loop created via zero delay");return this},getProgress:function(){return this.elapsed/this.delay},getOverallProgress:function(){if(this.repeat>0){var a=this.delay+this.delay*this.repeat,r=this.elapsed+this.delay*(this.repeat-this.repeatCount);return r/a}else return this.getProgress()},getRepeatCount:function(){return this.repeatCount},getElapsed:function(){return this.elapsed},getElapsedSeconds:function(){return this.elapsed*.001},getRemaining:function(){return this.delay-this.elapsed},getRemainingSeconds:function(){return this.getRemaining()*.001},getOverallRemaining:function(){return this.delay*(1+this.repeatCount)-this.elapsed},getOverallRemainingSeconds:function(){return this.getOverallRemaining()*.001},remove:function(a){a===void 0&&(a=!1),this.elapsed=this.delay,this.hasDispatched=!a,this.repeatCount=0},destroy:function(){this.callback=void 0,this.callbackScope=void 0,this.args=[]}});f.exports=o},35945:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="complete"},89809:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={COMPLETE:t(35945)}},90291:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={Clock:t(33385),Events:t(89809),Timeline:t(96120),TimerEvent:t(94880)}},40382:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(72905),g=t(83419),o=t(43491),a=t(88032),r=t(37277),i=t(44594),n=t(93109),l=t(86081),s=t(8357),u=t(43960),d=t(26012),c=new g({initialize:function(y){this.scene=y,this.events=y.sys.events,this.timeScale=1,this.paused=!1,this.processing=!1,this.tweens=[],this.time=0,this.startTime=0,this.nextTime=0,this.prevTime=0,this.maxLag=500,this.lagSkip=33,this.gap=1e3/240,this.events.once(i.BOOT,this.boot,this),this.events.on(i.START,this.start,this)},boot:function(){this.events.once(i.DESTROY,this.destroy,this)},start:function(){this.timeScale=1,this.paused=!1,this.startTime=Date.now(),this.prevTime=this.startTime,this.nextTime=this.gap,this.events.on(i.UPDATE,this.update,this),this.events.once(i.SHUTDOWN,this.shutdown,this)},create:function(v){Array.isArray(v)||(v=[v]);for(var y=[],x=0;x<v.length;x++){var S=v[x];S instanceof l||S instanceof u?y.push(S):Array.isArray(S.tweens)?y.push(d(this,S)):y.push(s(this,S))}return y.length===1?y[0]:y},add:function(v){var y=v,x=this.tweens;return y instanceof l||y instanceof u||(Array.isArray(y.tweens)?y=d(this,y):y=s(this,y)),x.push(y.reset()),y},addMultiple:function(v){for(var y,x=[],S=this.tweens,E=0;E<v.length;E++)y=v[E],y instanceof l||y instanceof u||(Array.isArray(y.tweens)?y=d(this,y):y=s(this,y)),S.push(y.reset()),x.push(y);return x},chain:function(v){var y=d(this,v);return this.tweens.push(y.init()),y},getChainedTweens:function(v){return v.getChainedTweens()},has:function(v){return this.tweens.indexOf(v)>-1},existing:function(v){return this.has(v)||this.tweens.push(v.reset()),this},addCounter:function(v){var y=a(this,v);return this.tweens.push(y.reset()),y},stagger:function(v,y){return n(v,y)},setLagSmooth:function(v,y){return v===void 0&&(v=1/1e-8),y===void 0&&(y=0),this.maxLag=v,this.lagSkip=Math.min(y,this.maxLag),this},setFps:function(v){return v===void 0&&(v=240),this.gap=1e3/v,this.nextTime=this.time*1e3+this.gap,this},getDelta:function(v){var y=Date.now()-this.prevTime;y>this.maxLag&&(this.startTime+=y-this.lagSkip),this.prevTime+=y;var x=this.prevTime-this.startTime,S=x-this.nextTime,E=x-this.time*1e3;return S>0||v?(x/=1e3,this.time=x,this.nextTime+=S+(S>=this.gap?4:this.gap-S)):E=0,E},tick:function(){return this.step(!0),this},update:function(){this.paused||this.step(!1)},step:function(v){v===void 0&&(v=!1);var y=this.getDelta(v);if(!(y<=0)){this.processing=!0;var x,S,E=[],A=this.tweens;for(x=0;x<A.length;x++)S=A[x],S.update(y)&&E.push(S);var R=E.length;if(R&&A.length>0){for(x=0;x<R;x++){S=E[x];var w=A.indexOf(S);w>-1&&(S.isPendingRemove()||S.isDestroyed())&&(A.splice(w,1),S.destroy())}E.length=0}this.processing=!1}},remove:function(v){return this.processing?v.setPendingRemoveState():(h(this.tweens,v),v.setRemovedState()),this},reset:function(v){return this.existing(v),v.seek(),v.setActiveState(),this},makeActive:function(v){return this.existing(v),v.setActiveState(),this},each:function(v,y){var x,S=[null];for(x=1;x<arguments.length;x++)S.push(arguments[x]);return this.tweens.forEach(function(E){S[0]=E,v.apply(y,S)}),this},getTweens:function(){return this.tweens.slice()},getTweensOf:function(v){var y=[],x=this.tweens;Array.isArray(v)?v=o(v):v=[v];for(var S=v.length,E=0;E<x.length;E++)for(var A=x[E],R=0;R<S;R++)!A.isDestroyed()&&A.hasTarget(v[R])&&y.push(A);return y},getGlobalTimeScale:function(){return this.timeScale},setGlobalTimeScale:function(v){return this.timeScale=v,this},isTweening:function(v){for(var y=this.tweens,x,S=0;S<y.length;S++)if(x=y[S],x.isPlaying()&&x.hasTarget(v))return!0;return!1},killAll:function(){for(var v=this.processing?this.getTweens():this.tweens,y=0;y<v.length;y++)v[y].destroy();return this.processing||(v.length=0),this},killTweensOf:function(v){for(var y=this.getTweensOf(v),x=0;x<y.length;x++)y[x].destroy();return this},pauseAll:function(){return this.paused=!0,this},resumeAll:function(){return this.paused=!1,this},shutdown:function(){this.killAll(),this.tweens=[],this.events.off(i.UPDATE,this.update,this),this.events.off(i.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(i.START,this.start,this),this.scene=null,this.events=null}});r.register("TweenManager",c,"tweens"),f.exports=c},57355:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h,g){return t&&t.hasOwnProperty(h)?t[h]:g};f.exports=C},6113:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(62640),g=t(35355),o=function(a,r){var i=h.Power0;if(typeof a=="string")if(h.hasOwnProperty(a))i=h[a];else{var n="";if(a.indexOf(".")){n=a.substring(a.indexOf(".")+1);var l=n.toLowerCase();l==="in"?n="easeIn":l==="out"?n="easeOut":l==="inout"&&(n="easeInOut")}a=g(a.substring(0,a.indexOf(".")+1)+n),h.hasOwnProperty(a)&&(i=h[a])}else typeof a=="function"&&(i=a);if(!r)return i;var s=r.slice(0);return s.unshift(0),function(u){return s[0]=u,i.apply(this,s)}};f.exports=o},91389:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(89318),g=t(77259),o=t(28392),a={bezier:h,catmull:g,catmullrom:g,linear:o},r=function(i){if(i===null)return null;var n=a.linear;return typeof i=="string"?a.hasOwnProperty(i)&&(n=a[i]):typeof i=="function"&&(n=i),n};f.exports=r},55292:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h,g){var o;if(t.hasOwnProperty(h)){var a=typeof t[h];a==="function"?o=function(r,i,n,l,s,u){return t[h](r,i,n,l,s,u)}:o=function(){return t[h]}}else typeof g=="function"?o=g:o=function(){return g};return o};f.exports=C},82985:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(81076),g=function(o){var a,r=[];if(o.hasOwnProperty("props"))for(a in o.props)a.substring(0,1)!=="_"&&r.push({key:a,value:o.props[a]});else for(a in o)h.indexOf(a)===-1&&a.substring(0,1)!=="_"&&r.push({key:a,value:o[a]});return r};f.exports=g},62329:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(35154),g=function(o){var a=h(o,"targets",null);return a===null||(typeof a=="function"&&(a=a.call()),Array.isArray(a)||(a=[a])),a};f.exports=g},17777:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(30976),g=t(99472);function o(l){return!!l.getActive&&typeof l.getActive=="function"}function a(l){return!!l.getStart&&typeof l.getStart=="function"}function r(l){return!!l.getEnd&&typeof l.getEnd=="function"}function i(l){return a(l)||r(l)||o(l)}var n=function(l,s){var u,d=function(Y,H,U){return U},c=function(Y,H,U){return U},v=null,y=typeof s;if(y==="number")d=function(){return s};else if(Array.isArray(s))c=function(){return s[0]},d=function(){return s[s.length-1]};else if(y==="string"){var x=s.toLowerCase(),S=x.substring(0,6)==="random",E=x.substring(0,3)==="int";if(S||E){var A=x.indexOf("("),R=x.indexOf(")"),w=x.indexOf(",");if(A&&R&&w){var I=parseFloat(x.substring(A+1,w)),O=parseFloat(x.substring(w+1,R));S?d=function(){return g(I,O)}:d=function(){return h(I,O)}}else throw new Error("invalid random() format")}else{x=x[0];var F=parseFloat(s.substr(2));switch(x){case"+":d=function(Y,H,U){return U+F};break;case"-":d=function(Y,H,U){return U-F};break;case"*":d=function(Y,H,U){return U*F};break;case"/":d=function(Y,H,U){return U/F};break;default:d=function(){return parseFloat(s)}}}}else if(y==="function")d=s;else if(y==="object")if(i(s))o(s)&&(v=s.getActive),r(s)&&(d=s.getEnd),a(s)&&(c=s.getStart);else if(s.hasOwnProperty("value"))u=n(l,s.value);else{var L=s.hasOwnProperty("to"),D=s.hasOwnProperty("from"),b=s.hasOwnProperty("start");if(L&&(D||b)){if(u=n(l,s.to),b){var G=n(l,s.start);u.getActive=G.getEnd}if(D){var W=n(l,s.from);u.getStart=W.getEnd}}}return u||(u={getActive:v,getEnd:d,getStart:c}),u};f.exports=n},88032:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(70402),g=t(69902),o=t(23568),a=t(57355),r=t(6113),i=t(95540),n=t(55292),l=t(35154),s=t(17777),u=t(269),d=t(86081),c=function(v,y,x){if(y instanceof d)return y.parent=v,y;x===void 0?x=g:x=u(g,x);var S=i(y,"from",0),E=i(y,"to",1),A=[{value:S}],R=i(y,"delay",x.delay),w=i(y,"easeParams",x.easeParams),I=i(y,"ease",x.ease),O=s("value",E),F=new d(v,A),L=F.add(0,"value",O.getEnd,O.getStart,O.getActive,r(i(y,"ease",I),i(y,"easeParams",w)),n(y,"delay",R),i(y,"duration",x.duration),a(y,"yoyo",x.yoyo),i(y,"hold",x.hold),i(y,"repeat",x.repeat),i(y,"repeatDelay",x.repeatDelay),!1,!1);L.start=S,L.current=S,F.completeDelay=o(y,"completeDelay",0),F.loop=Math.round(o(y,"loop",0)),F.loopDelay=Math.round(o(y,"loopDelay",0)),F.paused=a(y,"paused",!1),F.persist=a(y,"persist",!1),F.isNumberTween=!0,F.callbackScope=l(y,"callbackScope",F);for(var D=h.TYPES,b=0;b<D.length;b++){var G=D[b],W=l(y,G,!1);if(W){var Y=l(y,G+"Params",[]);F.setCallback(G,W,Y)}}return F};f.exports=c},93109:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(6113),g=t(35154),o=t(36383),a=function(r,i){i===void 0&&(i={});var n,l=g(i,"start",0),s=g(i,"ease",null),u=g(i,"grid",null),d=g(i,"from",0),c=d==="first",v=d==="center",y=d==="last",x=typeof d=="number",S=Array.isArray(r),E=parseFloat(S?r[0]:r),A=S?parseFloat(r[1]):0,R=Math.max(E,A);if(S&&(l+=E),u){var w=u[0],I=u[1],O=0,F=0,L=0,D=0,b=[];y?(O=w-1,F=I-1):x?(O=d%w,F=Math.floor(d/w)):v&&(O=(w-1)/2,F=(I-1)/2);for(var G=o.MIN_SAFE_INTEGER,W=0;W<I;W++){b[W]=[];for(var Y=0;Y<w;Y++){L=O-Y,D=F-W;var H=Math.sqrt(L*L+D*D);H>G&&(G=H),b[W][Y]=H}}}var U=s?h(s):null;return u?n=function(X,V,B,z){var K=0,k=z%w,J=Math.floor(z/w);k>=0&&k<w&&J>=0&&J<I&&(K=b[J][k]);var q;if(S){var j=A-E;U?q=K/G*j*U(K/G):q=K/G*j}else U?q=K*E*U(K/G):q=K*E;return q+l}:n=function(X,V,B,z,K){K--;var k;c?k=z:v?k=Math.abs(K/2-z):y?k=K-z:x&&(k=Math.abs(d-z));var J;if(S){var q;v?q=(A-E)/K*(k*2):q=(A-E)/K*k,U?J=q*U(k/K):J=q}else U?J=K*R*U(k/K):J=k*E;return J+l},n};f.exports=a},8357:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(70402),g=t(69902),o=t(23568),a=t(57355),r=t(6113),i=t(95540),n=t(91389),l=t(55292),s=t(82985),u=t(62329),d=t(35154),c=t(17777),v=t(269),y=t(86081),x=function(S,E,A){if(E instanceof y)return E.parent=S,E;A===void 0?A=g:A=v(g,A);var R=u(E);!R&&A.targets&&(R=A.targets);for(var w=s(E),I=i(E,"delay",A.delay),O=i(E,"duration",A.duration),F=i(E,"easeParams",A.easeParams),L=i(E,"ease",A.ease),D=i(E,"hold",A.hold),b=i(E,"repeat",A.repeat),G=i(E,"repeatDelay",A.repeatDelay),W=a(E,"yoyo",A.yoyo),Y=a(E,"flipX",A.flipX),H=a(E,"flipY",A.flipY),U=i(E,"interpolation",A.interpolation),X=function(et,it,st,nt){if(st==="texture"){var ut=nt,ft=void 0;Array.isArray(nt)?(ut=nt[0],ft=nt[1]):nt.hasOwnProperty("value")?(ut=nt.value,Array.isArray(nt.value)?(ut=nt.value[0],ft=nt.value[1]):typeof nt.value=="string"&&(ut=nt.value)):typeof nt=="string"&&(ut=nt),et.addFrame(it,ut,ft,l(nt,"delay",I),i(nt,"duration",O),i(nt,"hold",D),i(nt,"repeat",b),i(nt,"repeatDelay",G),a(nt,"flipX",Y),a(nt,"flipY",H))}else{var ht=c(st,nt),rt=n(i(nt,"interpolation",U));et.add(it,st,ht.getEnd,ht.getStart,ht.getActive,r(i(nt,"ease",L),i(nt,"easeParams",F)),l(nt,"delay",I),i(nt,"duration",O),a(nt,"yoyo",W),i(nt,"hold",D),i(nt,"repeat",b),i(nt,"repeatDelay",G),a(nt,"flipX",Y),a(nt,"flipY",H),rt,rt?nt:null)}},V=new y(S,R),B=0;B<w.length;B++)for(var z=w[B].key,K=w[B].value,k=0;k<R.length;k++)z==="scale"&&!R[k].hasOwnProperty("scale")?(X(V,k,"scaleX",K),X(V,k,"scaleY",K)):X(V,k,z,K);V.completeDelay=o(E,"completeDelay",0),V.loop=Math.round(o(E,"loop",0)),V.loopDelay=Math.round(o(E,"loopDelay",0)),V.paused=a(E,"paused",!1),V.persist=a(E,"persist",!1),V.callbackScope=i(E,"callbackScope",V);for(var J=h.TYPES,q=0;q<J.length;q++){var j=J[q],Z=d(E,j,!1);if(Z){var _=d(E,j+"Params",[]);V.setCallback(j,Z,_)}}return V};f.exports=x},26012:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(70402),g=t(23568),o=t(57355),a=t(62329),r=t(35154),i=t(8357),n=t(43960),l=function(s,u){if(u instanceof n)return u.parent=s,u;var d=new n(s);d.startDelay=r(u,"delay",0),d.completeDelay=g(u,"completeDelay",0),d.loop=Math.round(g(u,"loop",r(u,"repeat",0))),d.loopDelay=Math.round(g(u,"loopDelay",r(u,"repeatDelay",0))),d.paused=o(u,"paused",!1),d.persist=o(u,"persist",!1),d.callbackScope=r(u,"callbackScope",d);var c,v=h.TYPES;for(c=0;c<v.length;c++){var y=v[c],x=r(u,y,!1);if(x){var S=r(u,y+"Params",[]);d.setCallback(y,x,S)}}var E=r(u,"tweens",null);if(Array.isArray(E)){var A=[],R=a(u),w=void 0;for(R&&(w={targets:R}),c=0;c<E.length;c++)A.push(i(d,E[c],w));d.add(A)}return d};f.exports=l},30231:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={GetBoolean:t(57355),GetEaseFunction:t(6113),GetInterpolationFunction:t(91389),GetNewValue:t(55292),GetProps:t(82985),GetTargets:t(62329),GetValueOp:t(17777),NumberTweenBuilder:t(88032),StaggerBuilder:t(93109),TweenBuilder:t(8357)}},73685:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="active"},98540:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="complete"},67233:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="loop"},2859:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="pause"},98336:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="repeat"},25764:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="resume"},32193:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="start"},84371:f=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="stop"},70766:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="update"},55659:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="yoyo"},842:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={TWEEN_ACTIVE:t(73685),TWEEN_COMPLETE:t(98540),TWEEN_LOOP:t(67233),TWEEN_PAUSE:t(2859),TWEEN_RESUME:t(25764),TWEEN_REPEAT:t(98336),TWEEN_START:t(32193),TWEEN_STOP:t(84371),TWEEN_UPDATE:t(70766),TWEEN_YOYO:t(55659)}},43066:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h={States:t(86353),Builders:t(30231),Events:t(842),TweenManager:t(40382),Tween:t(86081),TweenData:t(48177),TweenFrameData:t(42220),BaseTween:t(70402),TweenChain:t(43960)};f.exports=h},70402:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(50792),o=t(842),a=t(86353),r=new h({Extends:g,initialize:function(n){g.call(this),this.parent=n,this.data=[],this.totalData=0,this.startDelay=0,this.hasStarted=!1,this.timeScale=1,this.loop=0,this.loopDelay=0,this.loopCounter=0,this.completeDelay=0,this.countdown=0,this.state=a.PENDING,this.paused=!1,this.callbacks={onActive:null,onComplete:null,onLoop:null,onPause:null,onRepeat:null,onResume:null,onStart:null,onStop:null,onUpdate:null,onYoyo:null},this.callbackScope,this.persist=!1},setTimeScale:function(i){return this.timeScale=i,this},getTimeScale:function(){return this.timeScale},isPlaying:function(){return!this.paused&&this.isActive()},isPaused:function(){return this.paused},pause:function(){return this.paused||(this.paused=!0,this.dispatchEvent(o.TWEEN_PAUSE,"onPause")),this},resume:function(){return this.paused&&(this.paused=!1,this.dispatchEvent(o.TWEEN_RESUME,"onResume")),this},makeActive:function(){this.parent.makeActive(this),this.dispatchEvent(o.TWEEN_ACTIVE,"onActive")},onCompleteHandler:function(){this.setPendingRemoveState(),this.dispatchEvent(o.TWEEN_COMPLETE,"onComplete")},complete:function(i){return i===void 0&&(i=0),i?(this.setCompleteDelayState(),this.countdown=i):this.onCompleteHandler(),this},completeAfterLoop:function(i){return i===void 0&&(i=0),this.loopCounter>i&&(this.loopCounter=i),this},remove:function(){return this.parent&&this.parent.remove(this),this},stop:function(){return this.parent&&!this.isRemoved()&&!this.isPendingRemove()&&!this.isDestroyed()&&(this.dispatchEvent(o.TWEEN_STOP,"onStop"),this.setPendingRemoveState()),this},updateLoopCountdown:function(i){this.countdown-=i,this.countdown<=0&&(this.setActiveState(),this.dispatchEvent(o.TWEEN_LOOP,"onLoop"))},updateStartCountdown:function(i){return this.countdown-=i,this.countdown<=0&&(this.hasStarted=!0,this.setActiveState(),this.dispatchEvent(o.TWEEN_START,"onStart"),i=0),i},updateCompleteDelay:function(i){this.countdown-=i,this.countdown<=0&&this.onCompleteHandler()},setCallback:function(i,n,l){return l===void 0&&(l=[]),this.callbacks.hasOwnProperty(i)&&(this.callbacks[i]={func:n,params:l}),this},setPendingState:function(){this.state=a.PENDING},setActiveState:function(){this.state=a.ACTIVE,this.hasStarted=!1},setLoopDelayState:function(){this.state=a.LOOP_DELAY},setCompleteDelayState:function(){this.state=a.COMPLETE_DELAY},setStartDelayState:function(){this.state=a.START_DELAY,this.countdown=this.startDelay,this.hasStarted=!1},setPendingRemoveState:function(){this.state=a.PENDING_REMOVE},setRemovedState:function(){this.state=a.REMOVED},setFinishedState:function(){this.state=a.FINISHED},setDestroyedState:function(){this.state=a.DESTROYED},isPending:function(){return this.state===a.PENDING},isActive:function(){return this.state===a.ACTIVE},isLoopDelayed:function(){return this.state===a.LOOP_DELAY},isCompleteDelayed:function(){return this.state===a.COMPLETE_DELAY},isStartDelayed:function(){return this.state===a.START_DELAY},isPendingRemove:function(){return this.state===a.PENDING_REMOVE},isRemoved:function(){return this.state===a.REMOVED},isFinished:function(){return this.state===a.FINISHED},isDestroyed:function(){return this.state===a.DESTROYED},destroy:function(){this.data&&this.data.forEach(function(i){i.destroy()}),this.removeAllListeners(),this.callbacks=null,this.data=null,this.parent=null,this.setDestroyedState()}});r.TYPES=["onActive","onComplete","onLoop","onPause","onRepeat","onResume","onStart","onStop","onUpdate","onYoyo"],f.exports=r},95042:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(842),o=t(86353),a=new h({initialize:function(i,n,l,s,u,d,c,v,y,x){this.tween=i,this.targetIndex=n,this.duration=s<=0?.01:s,this.totalDuration=0,this.delay=0,this.getDelay=l,this.yoyo=u,this.hold=d,this.repeat=c,this.repeatDelay=v,this.repeatCounter=0,this.flipX=y,this.flipY=x,this.progress=0,this.elapsed=0,this.state=0,this.isCountdown=!1},getTarget:function(){return this.tween.targets[this.targetIndex]},setTargetValue:function(r){r===void 0&&(r=this.current),this.tween.targets[this.targetIndex][this.key]=r},setCreatedState:function(){this.state=o.CREATED,this.isCountdown=!1},setDelayState:function(){this.state=o.DELAY,this.isCountdown=!0},setPendingRenderState:function(){this.state=o.PENDING_RENDER,this.isCountdown=!1},setPlayingForwardState:function(){this.state=o.PLAYING_FORWARD,this.isCountdown=!1},setPlayingBackwardState:function(){this.state=o.PLAYING_BACKWARD,this.isCountdown=!1},setHoldState:function(){this.state=o.HOLD_DELAY,this.isCountdown=!0},setRepeatState:function(){this.state=o.REPEAT_DELAY,this.isCountdown=!0},setCompleteState:function(){this.state=o.COMPLETE,this.isCountdown=!1},isCreated:function(){return this.state===o.CREATED},isDelayed:function(){return this.state===o.DELAY},isPendingRender:function(){return this.state===o.PENDING_RENDER},isPlayingForward:function(){return this.state===o.PLAYING_FORWARD},isPlayingBackward:function(){return this.state===o.PLAYING_BACKWARD},isHolding:function(){return this.state===o.HOLD_DELAY},isRepeating:function(){return this.state===o.REPEAT_DELAY},isComplete:function(){return this.state===o.COMPLETE},setStateFromEnd:function(r){this.yoyo?this.onRepeat(r,!0,!0):this.repeatCounter>0?this.onRepeat(r,!0,!1):this.setCompleteState()},setStateFromStart:function(r){this.repeatCounter>0?this.onRepeat(r,!1):this.setCompleteState()},reset:function(){var r=this.tween,i=r.totalTargets,n=this.targetIndex,l=r.targets[n],s=this.key;this.progress=0,this.elapsed=0,this.delay=this.getDelay(l,s,0,n,i,r),this.repeatCounter=this.repeat===-1?o.MAX:this.repeat,this.setPendingRenderState();var u=this.duration+this.hold;this.yoyo&&(u+=this.duration);var d=u+this.repeatDelay;this.totalDuration=this.delay+u,this.repeat===-1?(this.totalDuration+=d*o.MAX,r.isInfinite=!0):this.repeat>0&&(this.totalDuration+=d*this.repeat),this.totalDuration>r.duration&&(r.duration=this.totalDuration),this.delay<r.startDelay&&(r.startDelay=this.delay),this.delay>0&&(this.elapsed=this.delay,this.setDelayState())},onRepeat:function(r,i,n){var l=this.tween,s=l.totalTargets,u=this.targetIndex,d=l.targets[u],c=this.key,v=c!=="texture";if(this.elapsed=r,this.progress=r/this.duration,this.flipX&&d.toggleFlipX(),this.flipY&&d.toggleFlipY(),v&&(i||n)&&(this.start=this.getStartValue(d,c,this.start,u,s,l)),n){this.setPlayingBackwardState(),this.dispatchEvent(g.TWEEN_YOYO,"onYoyo");return}this.repeatCounter--,v&&(this.end=this.getEndValue(d,c,this.start,u,s,l)),this.repeatDelay>0?(this.elapsed=this.repeatDelay-r,v&&(this.current=this.start,d[c]=this.current),this.setRepeatState()):(this.setPlayingForwardState(),this.dispatchEvent(g.TWEEN_REPEAT,"onRepeat"))},destroy:function(){this.tween=null,this.getDelay=null,this.setCompleteState()}});f.exports=a},69902:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={targets:null,delay:0,duration:1e3,ease:"Power0",easeParams:null,hold:0,repeat:0,repeatDelay:0,yoyo:!1,flipX:!1,flipY:!1,persist:!1,interpolation:null};f.exports=C},81076:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports=["callbackScope","completeDelay","delay","duration","ease","easeParams","flipX","flipY","hold","interpolation","loop","loopDelay","onActive","onActiveParams","onComplete","onCompleteParams","onLoop","onLoopParams","onPause","onPauseParams","onRepeat","onRepeatParams","onResume","onResumeParams","onStart","onStartParams","onStop","onStopParams","onUpdate","onUpdateParams","onYoyo","onYoyoParams","paused","persist","props","repeat","repeatDelay","targets","yoyo"]},86081:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(70402),g=t(83419),o=t(842),a=t(44603),r=t(39429),i=t(36383),n=t(86353),l=t(48177),s=t(42220),u=new g({Extends:h,initialize:function(c,v){h.call(this,c),this.targets=v,this.totalTargets=v.length,this.isSeeking=!1,this.isInfinite=!1,this.elapsed=0,this.totalElapsed=0,this.duration=0,this.progress=0,this.totalDuration=0,this.totalProgress=0,this.isNumberTween=!1},add:function(d,c,v,y,x,S,E,A,R,w,I,O,F,L,D,b){var G=new l(this,d,c,v,y,x,S,E,A,R,w,I,O,F,L,D,b);return this.totalData=this.data.push(G),G},addFrame:function(d,c,v,y,x,S,E,A,R,w){var I=new s(this,d,c,v,y,x,S,E,A,R,w);return this.totalData=this.data.push(I),I},getValue:function(d){d===void 0&&(d=0);var c=null;return this.data&&(c=this.data[d].current),c},hasTarget:function(d){return this.targets&&this.targets.indexOf(d)!==-1},updateTo:function(d,c,v){if(v===void 0&&(v=!1),d!=="texture")for(var y=0;y<this.totalData;y++){var x=this.data[y];x.key===d&&(x.isPlayingForward()||x.isPlayingBackward())&&(x.end=c,v&&(x.start=x.current))}return this},restart:function(){switch(this.state){case n.REMOVED:case n.FINISHED:this.seek(),this.parent.makeActive(this);break;case n.PENDING:case n.PENDING_REMOVE:this.parent.reset(this);break;case n.DESTROYED:console.warn("Cannot restart destroyed Tween",this);break;default:this.seek();break}return this.paused=!1,this.hasStarted=!1,this},nextState:function(){if(this.loopCounter>0)this.elapsed=0,this.progress=0,this.loopCounter--,this.initTweenData(!0),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(o.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},onCompleteHandler:function(){this.progress=1,this.totalProgress=1,h.prototype.onCompleteHandler.call(this)},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed Tween",this),this):((this.isPendingRemove()||this.isFinished())&&this.seek(),this.paused=!1,this.setActiveState(),this)},seek:function(d,c,v){if(d===void 0&&(d=0),c===void 0&&(c=16.6),v===void 0&&(v=!1),this.isDestroyed())return console.warn("Cannot seek destroyed Tween",this),this;v||(this.isSeeking=!0),this.reset(!0),this.initTweenData(!0),this.setActiveState(),this.dispatchEvent(o.TWEEN_ACTIVE,"onActive");var y=this.paused;if(this.paused=!1,d>0){for(var x=Math.floor(d/c),S=d-x*c,E=0;E<x;E++)this.update(c);S>0&&this.update(S)}return this.paused=y,this.isSeeking=!1,this},initTweenData:function(d){d===void 0&&(d=!1),this.duration=0,this.startDelay=i.MAX_SAFE_INTEGER;for(var c=this.data,v=0;v<this.totalData;v++)c[v].reset(d);this.duration=Math.max(this.duration,.01);var y=this.duration,x=this.completeDelay,S=this.loopCounter,E=this.loopDelay;S>0?this.totalDuration=y+x+(y+E)*S:this.totalDuration=y+x},reset:function(d){return d===void 0&&(d=!1),this.elapsed=0,this.totalElapsed=0,this.progress=0,this.totalProgress=0,this.loopCounter=this.loop,this.loop===-1&&(this.isInfinite=!0,this.loopCounter=n.MAX),d||(this.initTweenData(),this.setActiveState(),this.dispatchEvent(o.TWEEN_ACTIVE,"onActive")),this},update:function(d){if(this.isPendingRemove()||this.isDestroyed())return this.persist?(this.setFinishedState(),!1):!0;if(this.paused||this.isFinished())return!1;if(d*=this.timeScale*this.parent.timeScale,this.isLoopDelayed())return this.updateLoopCountdown(d),!1;if(this.isCompleteDelayed())return this.updateCompleteDelay(d),!1;this.hasStarted||(this.startDelay-=d,this.startDelay<=0&&(this.hasStarted=!0,this.dispatchEvent(o.TWEEN_START,"onStart"),d=0));var c=!1;if(this.isActive())for(var v=this.data,y=0;y<this.totalData;y++)v[y].update(d)&&(c=!0);this.elapsed+=d,this.progress=Math.min(this.elapsed/this.duration,1),this.totalElapsed+=d,this.totalProgress=Math.min(this.totalElapsed/this.totalDuration,1),c||this.nextState();var x=this.isPendingRemove();return x&&this.persist&&(this.setFinishedState(),x=!1),x},forward:function(d){return this.update(d),this},rewind:function(d){return this.update(-d),this},dispatchEvent:function(d,c){if(!this.isSeeking){if(this.emit(d,this,this.targets),!this.callbacks)return;var v=this.callbacks[c];v&&v.func.apply(this.callbackScope,[this,this.targets].concat(v.params))}},destroy:function(){h.prototype.destroy.call(this),this.targets=null}});r.register("tween",function(d){return this.scene.sys.tweens.add(d)}),a.register("tween",function(d){return this.scene.sys.tweens.create(d)}),f.exports=u},43960:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(72905),g=t(70402),o=t(83419),a=t(842),r=t(44603),i=t(39429),n=t(86353),l=new o({Extends:g,initialize:function(u){g.call(this,u),this.currentTween=null,this.currentIndex=0},init:function(){return this.loopCounter=this.loop===-1?n.MAX:this.loop,this.setCurrentTween(0),this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this},add:function(s){var u=this.parent.create(s);Array.isArray(u)||(u=[u]);for(var d=this.data,c=0;c<u.length;c++){var v=u[c];v.parent=this,d.push(v.reset())}return this.totalData=d.length,this},remove:function(s){return h(this.data,s),s.setRemovedState(),s===this.currentTween&&this.nextTween(),this.totalData=this.data.length,this},hasTarget:function(s){for(var u=this.data,d=0;d<this.totalData;d++)if(u[d].hasTarget(s))return!0;return!1},restart:function(){return this.isDestroyed()?(console.warn("Cannot restart destroyed TweenChain",this),this):(this.isRemoved()&&this.parent.makeActive(this),this.resetTweens(),this.paused=!1,this.init())},reset:function(s){return s.seek(),s.setActiveState(),this},makeActive:function(s){return s.reset(),s.setActiveState(),this},nextState:function(){if(this.loopCounter>0)this.loopCounter--,this.resetTweens(),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(a.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed TweenChain",this),this):((this.isPendingRemove()||this.isPending())&&this.resetTweens(),this.paused=!1,this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this)},resetTweens:function(){for(var s=this.data,u=this.totalData,d=0;d<u;d++)s[d].reset(!1);this.setCurrentTween(0)},update:function(s){if(this.isPendingRemove()||this.isDestroyed())return!0;if(this.isFinished()||this.paused)return!1;if(s*=this.parent.timeScale,this.isLoopDelayed())return this.updateLoopCountdown(s),!1;if(this.isCompleteDelayed())return this.updateCompleteDelay(s),!1;this.hasStarted||(this.startDelay-=s,this.startDelay<=0&&(this.hasStarted=!0,this.dispatchEvent(a.TWEEN_START,"onStart"),s=0));var u=!1;return this.isActive()&&this.currentTween&&(this.currentTween.update(s)&&this.nextTween()&&this.nextState(),u=this.isPendingRemove(),u&&this.persist&&(this.setFinishedState(),u=!1)),u},nextTween:function(){return this.currentIndex++,this.currentIndex===this.totalData?!0:(this.setCurrentTween(this.currentIndex),!1)},setCurrentTween:function(s){this.currentIndex=s,this.currentTween=this.data[s],this.currentTween.setActiveState()},dispatchEvent:function(s,u){this.emit(s,this);var d=this.callbacks[u];d&&d.func.apply(this.callbackScope,[this].concat(d.params))},destroy:function(){g.prototype.destroy.call(this),this.currentTween=null}});i.register("tweenchain",function(s){return this.scene.sys.tweens.chain(s)}),r.register("tweenchain",function(s){return this.scene.sys.tweens.create(s)}),f.exports=l},48177:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(95042),g=t(45319),o=t(83419),a=t(842),r=new o({Extends:h,initialize:function(n,l,s,u,d,c,v,y,x,S,E,A,R,w,I,O,F){h.call(this,n,l,y,x,S,E,A,R,w,I),this.key=s,this.getActiveValue=c,this.getEndValue=u,this.getStartValue=d,this.ease=v,this.start=0,this.previous=0,this.current=0,this.end=0,this.interpolation=O,this.interpolationData=F},reset:function(i){h.prototype.reset.call(this);var n=this.tween.targets[this.targetIndex],l=this.key;i&&(n[l]=this.start),this.start=0,this.previous=0,this.current=0,this.end=0,this.getActiveValue&&(n[l]=this.getActiveValue(n,l,0))},update:function(i){var n=this.tween,l=n.totalTargets,s=this.targetIndex,u=n.targets[s],d=this.key;if(!u)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=i,this.elapsed<=0&&(this.elapsed=0,i=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(a.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.start=this.getStartValue(u,d,u[d],s,l,n),this.end=this.getEndValue(u,d,this.start,s,l,n),this.current=this.start,u[d]=this.start,this.setPlayingForwardState(),!0;var c=this.isPlayingForward(),v=this.isPlayingBackward();if(c||v){var y=this.elapsed,x=this.duration,S=0,E=!1;y+=i,y>=x?(S=y-x,y=x,E=!0):y<0&&(y=0);var A=g(y/x,0,1);this.elapsed=y,this.progress=A,this.previous=this.current,c||(A=1-A);var R=this.ease(A);this.interpolation?this.current=this.interpolation(this.interpolationData,R):this.current=this.start+(this.end-this.start)*R,u[d]=this.current,E&&(c?(n.isNumberTween&&(this.current=this.end,u[d]=this.current),this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(S)):(n.isNumberTween&&(this.current=this.start,u[d]=this.current),this.setStateFromStart(S))),this.dispatchEvent(a.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(i,n){var l=this.tween;if(!l.isSeeking){var s=l.targets[this.targetIndex],u=this.key,d=this.current,c=this.previous;l.emit(i,l,u,s,d,c);var v=l.callbacks[n];v&&v.func.apply(l.callbackScope,[l,s,u,d,c].concat(v.params))}},destroy:function(){h.prototype.destroy.call(this),this.getActiveValue=null,this.getEndValue=null,this.getStartValue=null,this.ease=null}});f.exports=r},42220:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(95042),g=t(45319),o=t(83419),a=t(842),r=new o({Extends:h,initialize:function(n,l,s,u,d,c,v,y,x,S,E){h.call(this,n,l,d,c,!1,v,y,x,S,E),this.key="texture",this.startTexture=null,this.endTexture=s,this.startFrame=null,this.endFrame=u,this.yoyo=y!==0},reset:function(i){h.prototype.reset.call(this);var n=this.tween.targets[this.targetIndex];this.startTexture||(this.startTexture=n.texture.key,this.startFrame=n.frame.name),i&&n.setTexture(this.startTexture,this.startFrame)},update:function(i){var n=this.tween,l=this.targetIndex,s=n.targets[l];if(!s)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=i,this.elapsed<=0&&(this.elapsed=0,i=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(a.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.startTexture&&s.setTexture(this.startTexture,this.startFrame),this.setPlayingForwardState(),!0;var u=this.isPlayingForward(),d=this.isPlayingBackward();if(u||d){var c=this.elapsed,v=this.duration,y=0,x=!1;c+=i,c>=v?(y=c-v,c=v,x=!0):c<0&&(c=0);var S=g(c/v,0,1);this.elapsed=c,this.progress=S,x&&(u?(s.setTexture(this.endTexture,this.endFrame),this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(y)):(s.setTexture(this.startTexture,this.startFrame),this.setStateFromStart(y))),this.dispatchEvent(a.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(i,n){var l=this.tween;if(!l.isSeeking){var s=l.targets[this.targetIndex],u=this.key;l.emit(i,l,u,s);var d=l.callbacks[n];d&&d.func.apply(l.callbackScope,[l,s,u].concat(d.params))}},destroy:function(){h.prototype.destroy.call(this),this.startTexture=null,this.endTexture=null,this.startFrame=null,this.endFrame=null}});f.exports=r},86353:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={CREATED:0,DELAY:2,PENDING_RENDER:4,PLAYING_FORWARD:5,PLAYING_BACKWARD:6,HOLD_DELAY:7,REPEAT_DELAY:8,COMPLETE:9,PENDING:20,ACTIVE:21,LOOP_DELAY:22,COMPLETE_DELAY:23,START_DELAY:24,PENDING_REMOVE:25,REMOVED:26,FINISHED:27,DESTROYED:28,MAX:999999999999};f.exports=C},83419:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function C(r){return!!r.get&&typeof r.get=="function"||!!r.set&&typeof r.set=="function"}function t(r,i,n){var l=n?r[i]:Object.getOwnPropertyDescriptor(r,i);return!n&&l.value&&typeof l.value=="object"&&(l=l.value),l&&C(l)?(typeof l.enumerable>"u"&&(l.enumerable=!0),typeof l.configurable>"u"&&(l.configurable=!0),l):!1}function h(r,i){var n=Object.getOwnPropertyDescriptor(r,i);return n?(n.value&&typeof n.value=="object"&&(n=n.value),n.configurable===!1):!1}function g(r,i,n,l){for(var s in i)if(i.hasOwnProperty(s)){var u=t(i,s,n);if(u!==!1){var d=l||r;if(h(d.prototype,s)){if(a.ignoreFinals)continue;throw new Error("cannot override final property '"+s+"', set Class.ignoreFinals = true to skip")}Object.defineProperty(r.prototype,s,u)}else r.prototype[s]=i[s]}}function o(r,i){if(i){Array.isArray(i)||(i=[i]);for(var n=0;n<i.length;n++)g(r,i[n].prototype||i[n])}}function a(r){r||(r={});var i,n;if(r.initialize){if(typeof r.initialize!="function")throw new Error("initialize must be a function");i=r.initialize,delete r.initialize}else if(r.Extends){var l=r.Extends;i=function(){l.apply(this,arguments)}}else i=function(){};r.Extends?(i.prototype=Object.create(r.Extends.prototype),i.prototype.constructor=i,n=r.Extends,delete r.Extends):i.prototype.constructor=i;var s=null;return r.Mixins&&(s=r.Mixins,delete r.Mixins),o(i,s),g(i,r,!0,n),i}a.extend=g,a.mixin=o,a.ignoreFinals=!1,f.exports=a},29747:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(){};f.exports=C},20242:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(){return null};f.exports=C},71146:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h,g,o,a){if(a===void 0&&(a=t),g>0){var r=g-t.length;if(r<=0)return null}if(!Array.isArray(h))return t.indexOf(h)===-1?(t.push(h),o&&o.call(a,h),h):null;for(var i=h.length-1;i>=0;)t.indexOf(h[i])!==-1&&h.splice(i,1),i--;if(i=h.length,i===0)return null;g>0&&i>r&&(h.splice(r),i=r);for(var n=0;n<i;n++){var l=h[n];t.push(l),o&&o.call(a,l)}return h};f.exports=C},51067:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h,g,o,a,r){if(g===void 0&&(g=0),r===void 0&&(r=t),o>0){var i=o-t.length;if(i<=0)return null}if(!Array.isArray(h))return t.indexOf(h)===-1?(t.splice(g,0,h),a&&a.call(r,h),h):null;for(var n=h.length-1;n>=0;)t.indexOf(h[n])!==-1&&h.pop(),n--;if(n=h.length,n===0)return null;o>0&&n>i&&(h.splice(i),n=i);for(var l=n-1;l>=0;l--){var s=h[l];t.splice(g,0,s),a&&a.call(r,s)}return h};f.exports=C},66905:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h){var g=t.indexOf(h);return g!==-1&&g<t.length&&(t.splice(g,1),t.push(h)),h};f.exports=C},21612:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(82011),g=function(o,a,r,i,n){i===void 0&&(i=0),n===void 0&&(n=o.length);var l=0;if(h(o,i,n))for(var s=i;s<n;s++){var u=o[s];u[a]===r&&l++}return l};f.exports=g},95428:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h,g){var o,a=[null];for(o=3;o<arguments.length;o++)a.push(arguments[o]);for(o=0;o<t.length;o++)a[0]=t[o],h.apply(g,a);return t};f.exports=C},36914:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(82011),g=function(o,a,r,i,n){if(i===void 0&&(i=0),n===void 0&&(n=o.length),h(o,i,n)){var l,s=[null];for(l=5;l<arguments.length;l++)s.push(arguments[l]);for(l=i;l<n;l++)s[0]=o[l],a.apply(r,s)}return o};f.exports=g},81957:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h,g){if(h.length){if(h.length===1)return h[0]}else return NaN;var o=1,a,r;if(g){if(t<h[0][g])return h[0];for(;h[o][g]<t;)o++}else for(;h[o]<t;)o++;return o>h.length&&(o=h.length),g?(a=h[o-1][g],r=h[o][g],r-t<=t-a?h[o]:h[o-1]):(a=h[o-1],r=h[o],r-t<=t-a?r:a)};f.exports=C},43491:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h){h===void 0&&(h=[]);for(var g=0;g<t.length;g++)Array.isArray(t[g])?C(t[g],h):h.push(t[g]);return h};f.exports=C},46710:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(82011),g=function(o,a,r,i,n){i===void 0&&(i=0),n===void 0&&(n=o.length);var l=[];if(h(o,i,n))for(var s=i;s<n;s++){var u=o[s];(!a||a&&r===void 0&&u.hasOwnProperty(a)||a&&r!==void 0&&u[a]===r)&&l.push(u)}return l};f.exports=g},58731:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(82011),g=function(o,a,r,i,n){if(i===void 0&&(i=0),n===void 0&&(n=o.length),i!==-1){if(h(o,i,n))for(var l=i;l<n;l++){var s=o[l];if(!a||a&&r===void 0&&s.hasOwnProperty(a)||a&&r!==void 0&&s[a]===r)return s}}else if(h(o,0,n))for(var l=n;l>=0;l--){var s=o[l];if(!a||a&&r===void 0&&s.hasOwnProperty(a)||a&&r!==void 0&&s[a]===r)return s}return null};f.exports=g},26546:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h,g){h===void 0&&(h=0),g===void 0&&(g=t.length);var o=h+Math.floor(Math.random()*g);return t[o]===void 0?null:t[o]};f.exports=C},85835:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h,g){if(h===g)return t;var o=t.indexOf(h),a=t.indexOf(g);if(o<0||a<0)throw new Error("Supplied items must be elements of the same array");return o>a||(t.splice(o,1),a=t.indexOf(g),t.splice(a+1,0,h)),t};f.exports=C},83371:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h,g){if(h===g)return t;var o=t.indexOf(h),a=t.indexOf(g);if(o<0||a<0)throw new Error("Supplied items must be elements of the same array");return o<a||(t.splice(o,1),a===0?t.unshift(h):t.splice(a,0,h)),t};f.exports=C},70864:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h){var g=t.indexOf(h);if(g>0){var o=t[g-1],a=t.indexOf(o);t[g]=o,t[a]=h}return t};f.exports=C},69693:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h,g){var o=t.indexOf(h);if(o===-1||g<0||g>=t.length)throw new Error("Supplied index out of bounds");return o!==g&&(t.splice(o,1),t.splice(g,0,h)),h};f.exports=C},40853:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h){var g=t.indexOf(h);if(g!==-1&&g<t.length-1){var o=t[g+1],a=t.indexOf(o);t[g]=o,t[a]=h}return t};f.exports=C},20283:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h,g,o){var a=[],r,i=!1;if((g||o)&&(i=!0,g||(g=""),o||(o="")),h<t)for(r=t;r>=h;r--)i?a.push(g+r.toString()+o):a.push(r);else for(r=t;r<=h;r++)i?a.push(g+r.toString()+o):a.push(r);return a};f.exports=C},593:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2284),g=function(o,a,r){o===void 0&&(o=0),a===void 0&&(a=null),r===void 0&&(r=1),a===null&&(a=o,o=0);for(var i=[],n=Math.max(h((a-o)/(r||1)),0),l=0;l<n;l++)i.push(o),o+=r;return i};f.exports=g},43886:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function C(g,o,a){var r=g[o];g[o]=g[a],g[a]=r}function t(g,o){return g<o?-1:g>o?1:0}var h=function(g,o,a,r,i){for(a===void 0&&(a=0),r===void 0&&(r=g.length-1),i===void 0&&(i=t);r>a;){if(r-a>600){var n=r-a+1,l=o-a+1,s=Math.log(n),u=.5*Math.exp(2*s/3),d=.5*Math.sqrt(s*u*(n-u)/n)*(l-n/2<0?-1:1),c=Math.max(a,Math.floor(o-l*u/n+d)),v=Math.min(r,Math.floor(o+(n-l)*u/n+d));h(g,o,c,v,i)}var y=g[o],x=a,S=r;for(C(g,a,o),i(g[r],y)>0&&C(g,a,r);x<S;){for(C(g,x,S),x++,S--;i(g[x],y)<0;)x++;for(;i(g[S],y)>0;)S--}i(g[a],y)===0?C(g,a,S):(S++,C(g,S,r)),S<=o&&(a=S+1),o<=S&&(r=S-1)}};f.exports=h},88492:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(35154),g=t(33680),o=function(r,i,n){for(var l=[],s=0;s<r.length;s++)for(var u=0;u<i.length;u++)for(var d=0;d<n;d++)l.push({a:r[s],b:i[u]});return l},a=function(r,i,n){var l=h(n,"max",0),s=h(n,"qty",1),u=h(n,"random",!1),d=h(n,"randomB",!1),c=h(n,"repeat",0),v=h(n,"yoyo",!1),y=[];if(d&&g(i),c===-1)if(l===0)c=0;else{var x=r.length*i.length*s;v&&(x*=2),c=Math.ceil(l/x)}for(var S=0;S<=c;S++){var E=o(r,i,s);u&&g(E),y=y.concat(E),v&&(E.reverse(),y=y.concat(E))}return l&&y.splice(l),y};f.exports=a},72905:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(19133),g=function(o,a,r,i){i===void 0&&(i=o);var n;if(!Array.isArray(a))return n=o.indexOf(a),n!==-1?(h(o,n),r&&r.call(i,a),a):null;for(var l=a.length-1,s=[];l>=0;){var u=a[l];n=o.indexOf(u),n!==-1&&(h(o,n),s.push(u),r&&r.call(i,u)),l--}return s};f.exports=g},60248:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(19133),g=function(o,a,r,i){if(i===void 0&&(i=o),a<0||a>o.length-1)throw new Error("Index out of bounds");var n=h(o,a);return r&&r.call(i,n),n};f.exports=g},81409:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(82011),g=function(o,a,r,i,n){if(a===void 0&&(a=0),r===void 0&&(r=o.length),n===void 0&&(n=o),h(o,a,r)){var l=r-a,s=o.splice(a,l);if(i)for(var u=0;u<s.length;u++){var d=s[u];i.call(n,d)}return s}else return[]};f.exports=g},31856:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(19133),g=function(o,a,r){a===void 0&&(a=0),r===void 0&&(r=o.length);var i=a+Math.floor(Math.random()*r);return h(o,i)};f.exports=g},42169:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h,g){var o=t.indexOf(h),a=t.indexOf(g);return o!==-1&&a===-1?(t[o]=g,!0):!1};f.exports=C},86003:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h){h===void 0&&(h=1);for(var g=null,o=0;o<h;o++)g=t.shift(),t.push(g);return g};f.exports=C},49498:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h){h===void 0&&(h=1);for(var g=null,o=0;o<h;o++)g=t.pop(),t.unshift(g);return g};f.exports=C},82011:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h,g,o){var a=t.length;if(h<0||h>=a||h>=g||g>a){if(o)throw new Error("Range Error: Values outside acceptable range");return!1}else return!0};f.exports=C},89545:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h){var g=t.indexOf(h);return g!==-1&&g>0&&(t.splice(g,1),t.unshift(h)),h};f.exports=C},17810:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(82011),g=function(o,a,r,i,n){if(i===void 0&&(i=0),n===void 0&&(n=o.length),h(o,i,n))for(var l=i;l<n;l++){var s=o[l];s.hasOwnProperty(a)&&(s[a]=r)}return o};f.exports=g},33680:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t){for(var h=t.length-1;h>0;h--){var g=Math.floor(Math.random()*(h+1)),o=t[h];t[h]=t[g],t[g]=o}return t};f.exports=C},90126:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t){var h=/\D/g;return t.sort(function(g,o){return parseInt(g.replace(h,""),10)-parseInt(o.replace(h,""),10)}),t};f.exports=C},19133:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h){if(!(h>=t.length)){for(var g=t.length-1,o=t[h],a=h;a<g;a++)t[a]=t[a+1];return t.length=g,o}};f.exports=C},19186:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Angry Bytes (and contributors)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(82264);function g(i,n){return String(i).localeCompare(n)}function o(i,n){var l=i.length;if(l<=1)return i;for(var s=new Array(l),u=1;u<l;u*=2){a(i,n,u,s);var d=i;i=s,s=d}return i}function a(i,n,l,s){var u=i.length,d=0,c=l*2,v,y,x,S,E;for(v=0;v<u;v+=c)for(y=v+l,x=y+l,y>u&&(y=u),x>u&&(x=u),S=v,E=y;;)if(S<y&&E<x)n(i[S],i[E])<=0?s[d++]=i[S++]:s[d++]=i[E++];else if(S<y)s[d++]=i[S++];else if(E<x)s[d++]=i[E++];else break}var r=function(i,n){if(n===void 0&&(n=g),!i||i.length<2)return i;if(h.features.stableSort)return i.sort(n);var l=o(i,n);return l!==i&&a(l,null,i.length,i),i};f.exports=r},25630:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h,g){if(h===g)return t;var o=t.indexOf(h),a=t.indexOf(g);if(o<0||a<0)throw new Error("Supplied items must be elements of the same array");return t[o]=g,t[a]=h,t};f.exports=C},37105:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={Matrix:t(54915),Add:t(71146),AddAt:t(51067),BringToTop:t(66905),CountAllMatching:t(21612),Each:t(95428),EachInRange:t(36914),FindClosestInSorted:t(81957),Flatten:t(43491),GetAll:t(46710),GetFirst:t(58731),GetRandom:t(26546),MoveDown:t(70864),MoveTo:t(69693),MoveUp:t(40853),MoveAbove:t(85835),MoveBelow:t(83371),NumberArray:t(20283),NumberArrayStep:t(593),QuickSelect:t(43886),Range:t(88492),Remove:t(72905),RemoveAt:t(60248),RemoveBetween:t(81409),RemoveRandomElement:t(31856),Replace:t(42169),RotateLeft:t(86003),RotateRight:t(49498),SafeRange:t(82011),SendToBack:t(89545),SetAll:t(17810),Shuffle:t(33680),SortByDigits:t(90126),SpliceOne:t(19133),StableSort:t(19186),Swap:t(25630)}},86922:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t){if(!Array.isArray(t)||!Array.isArray(t[0]))return!1;for(var h=t[0].length,g=1;g<t.length;g++)if(t[g].length!==h)return!1;return!0};f.exports=C},63362:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(41836),g=t(86922),o=function(a){var r="";if(!g(a))return r;for(var i=0;i<a.length;i++){for(var n=0;n<a[i].length;n++){var l=a[i][n].toString();l!=="undefined"?r+=h(l,2):r+="?",n<a[i].length-1&&(r+=" |")}if(i<a.length-1){r+=`
`;for(var s=0;s<a[i].length;s++)r+="---",s<a[i].length-1&&(r+="+");r+=`
`}}return r};f.exports=o},92598:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t){return t.reverse()};f.exports=C},21224:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t){for(var h=0;h<t.length;h++)t[h].reverse();return t};f.exports=C},98717:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(37829),g=function(o){return h(o,180)};f.exports=g},44657:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(37829),g=function(o,a){a===void 0&&(a=1);for(var r=0;r<a;r++)o=h(o,90);return o};f.exports=g},37829:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(86922),g=t(2429),o=function(a,r){if(r===void 0&&(r=90),!h(a))return null;if(typeof r!="string"&&(r=(r%360+360)%360),r===90||r===-270||r==="rotateLeft")a=g(a),a.reverse();else if(r===-90||r===270||r==="rotateRight")a.reverse(),a=g(a);else if(Math.abs(r)===180||r==="rotate180"){for(var i=0;i<a.length;i++)a[i].reverse();a.reverse()}return a};f.exports=o},92632:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(37829),g=function(o,a){a===void 0&&(a=1);for(var r=0;r<a;r++)o=h(o,-90);return o};f.exports=g},69512:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(86003),g=t(49498),o=function(a,r,i){if(r===void 0&&(r=0),i===void 0&&(i=0),i!==0&&(i<0?h(a,Math.abs(i)):g(a,i)),r!==0)for(var n=0;n<a.length;n++){var l=a[n];r<0?h(l,Math.abs(r)):g(l,r)}return a};f.exports=o},2429:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t){for(var h=t.length,g=t[0].length,o=new Array(g),a=0;a<g;a++){o[a]=new Array(h);for(var r=h-1;r>-1;r--)o[a][r]=t[r][a]}return o};f.exports=C},54915:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={CheckMatrix:t(86922),MatrixToString:t(63362),ReverseColumns:t(92598),ReverseRows:t(21224),Rotate180:t(98717),RotateLeft:t(44657),RotateMatrix:t(37829),RotateRight:t(92632),Translate:t(69512),TransposeMatrix:t(2429)}},71334:f=>{/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=function(h,g){for(var o=new Uint8Array(h),a=o.length,r=g?"data:"+g+";base64,":"",i=0;i<a;i+=3)r+=C[o[i]>>2],r+=C[(o[i]&3)<<4|o[i+1]>>4],r+=C[(o[i+1]&15)<<2|o[i+2]>>6],r+=C[o[i+2]&63];return a%3===2?r=r.substring(0,r.length-1)+"=":a%3===1&&(r=r.substring(0,r.length-2)+"=="),r};f.exports=t},53134:f=>{/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */for(var C="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=new Uint8Array(256),h=0;h<C.length;h++)t[C.charCodeAt(h)]=h;var g=function(o){o=o.substr(o.indexOf(",")+1);var a=o.length,r=a*.75,i=0,n,l,s,u;o[a-1]==="="&&(r--,o[a-2]==="="&&r--);for(var d=new ArrayBuffer(r),c=new Uint8Array(d),v=0;v<a;v+=4)n=t[o.charCodeAt(v)],l=t[o.charCodeAt(v+1)],s=t[o.charCodeAt(v+2)],u=t[o.charCodeAt(v+3)],c[i++]=n<<2|l>>4,c[i++]=(l&15)<<4|s>>2,c[i++]=(s&3)<<6|u&63;return d};f.exports=g},65839:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={ArrayBufferToBase64:t(71334),Base64ToArrayBuffer:t(53134)}},91799:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={Array:t(37105),Base64:t(65839),Objects:t(1183),String:t(31749),NOOP:t(29747),NULL:t(20242)}},41786:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t){var h={};for(var g in t)Array.isArray(t[g])?h[g]=t[g].slice(0):h[g]=t[g];return h};f.exports=C},62644:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t){var h,g,o;if(typeof t!="object"||t===null)return t;h=Array.isArray(t)?[]:{};for(o in t)g=t[o],h[o]=C(g);return h};f.exports=C},79291:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(41212),g=function(){var o,a,r,i,n,l,s=arguments[0]||{},u=1,d=arguments.length,c=!1;for(typeof s=="boolean"&&(c=s,s=arguments[1]||{},u=2),d===u&&(s=this,--u);u<d;u++)if((o=arguments[u])!=null)for(a in o)r=s[a],i=o[a],s!==i&&(c&&i&&(h(i)||(n=Array.isArray(i)))?(n?(n=!1,l=r&&Array.isArray(r)?r:[]):l=r&&h(r)?r:{},s[a]=g(c,l,i)):i!==void 0&&(s[a]=i));return s};f.exports=g},23568:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(75508),g=t(35154),o=function(a,r,i){var n=g(a,r,null);if(n===null)return i;if(Array.isArray(n))return h.RND.pick(n);if(typeof n=="object"){if(n.hasOwnProperty("randInt"))return h.RND.integerInRange(n.randInt[0],n.randInt[1]);if(n.hasOwnProperty("randFloat"))return h.RND.realInRange(n.randFloat[0],n.randFloat[1])}else if(typeof n=="function")return n(r);return n};f.exports=o},95540:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h,g){var o=typeof t;return!t||o==="number"||o==="string"?g:t.hasOwnProperty(h)&&t[h]!==void 0?t[h]:g};f.exports=C},82840:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(35154),g=t(45319),o=function(a,r,i,n,l){l===void 0&&(l=i);var s=h(a,r,l);return g(s,i,n)};f.exports=o},35154:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h,g,o){if(!t&&!o||typeof t=="number")return g;if(t&&t.hasOwnProperty(h))return t[h];if(o&&o.hasOwnProperty(h))return o[h];if(h.indexOf(".")!==-1){for(var a=h.split("."),r=t,i=o,n=g,l=g,s=!0,u=!0,d=0;d<a.length;d++)r&&r.hasOwnProperty(a[d])?(n=r[a[d]],r=r[a[d]]):s=!1,i&&i.hasOwnProperty(a[d])?(l=i[a[d]],i=i[a[d]]):u=!1;return s?n:u?l:g}else return g};f.exports=C},69036:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h){for(var g=0;g<h.length;g++)if(!t.hasOwnProperty(h[g]))return!1;return!0};f.exports=C},1985:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h){for(var g=0;g<h.length;g++)if(t.hasOwnProperty(h[g]))return!0;return!1};f.exports=C},97022:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h){return t.hasOwnProperty(h)};f.exports=C},41212:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t){if(!t||typeof t!="object"||t.nodeType||t===t.window)return!1;try{if(t.constructor&&!{}.hasOwnProperty.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch{return!1}return!0};f.exports=C},46975:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(41786),g=function(o,a){var r=h(o);for(var i in a)r.hasOwnProperty(i)||(r[i]=a[i]);return r};f.exports=g},269:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(41786),g=function(o,a){var r=h(o);for(var i in a)r.hasOwnProperty(i)&&(r[i]=a[i]);return r};f.exports=g},18254:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(97022),g=function(o,a){for(var r={},i=0;i<a.length;i++){var n=a[i];h(o,n)&&(r[n]=o[n])}return r};f.exports=g},61622:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h,g){if(!t||typeof t=="number")return!1;if(t.hasOwnProperty(h))return t[h]=g,!0;if(h.indexOf(".")!==-1){for(var o=h.split("."),a=t,r=t,i=0;i<o.length;i++)if(a.hasOwnProperty(o[i]))r=a,a=a[o[i]];else return!1;return r[o[o.length-1]]=g,!0}return!1};f.exports=C},1183:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={Clone:t(41786),DeepCopy:t(62644),Extend:t(79291),GetAdvancedValue:t(23568),GetFastValue:t(95540),GetMinMaxValue:t(82840),GetValue:t(35154),HasAll:t(69036),HasAny:t(1985),HasValue:t(97022),IsPlainObject:t(41212),Merge:t(46975),MergeRight:t(269),Pick:t(18254),SetValue:t(61622)}},27902:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h){return t.replace(/%([0-9]+)/g,function(g,o){return h[Number(o)-1]})};f.exports=C},41836:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h,g,o){h===void 0&&(h=0),g===void 0&&(g=" "),o===void 0&&(o=3),t=t.toString();var a=0;if(h+1>=t.length)switch(o){case 1:t=new Array(h+1-t.length).join(g)+t;break;case 3:var r=Math.ceil((a=h-t.length)/2),i=a-r;t=new Array(i+1).join(g)+t+new Array(r+1).join(g);break;default:t=t+new Array(h+1-t.length).join(g);break}return t};f.exports=C},33628:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t,h){return h===0?t.slice(1):t.slice(0,h)+t.slice(h+1)};f.exports=C},27671:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t){return t.split("").reverse().join("")};f.exports=C},45650:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var h=Math.random()*16|0,g=t==="x"?h:h&3|8;return g.toString(16)})};f.exports=C},35355:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(t){return t&&t[0].toUpperCase()+t.slice(1)};f.exports=C},31749:(f,C,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={Format:t(27902),Pad:t(41836),RemoveAt:t(33628),Reverse:t(27671),UppercaseFirst:t(35355),UUID:t(45650)}}},T={};function P(f){var C=T[f];if(C!==void 0)return C.exports;var t=T[f]={exports:{}};return p[f](t,t.exports,P),t.exports}P.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}();var M=P(85454);return M})())}(Fo)),Fo.exports}var wr=UC(),Xs=(m=>(m.Hiscores="hiscores",m.Profiles="profiles",m))(Xs||{}),xe=(m=>(m.Preload="preload",m.Menu="menu",m.Playing="playing",m.Paused="paused",m.GameOver="gameover",m))(xe||{}),Mu=(m=>(m.Normal="normal",m.Story="story",m.TimeTrial="time-trial",m.Battle="battle",m))(Mu||{}),we=(m=>(m.HpSmall="powerup/hp-small",m.HpMedium="powerup/hp-medium",m.HpLarge="powerup/hp-large",m.EnergySmall="powerup/energy-small",m.EnergyMedium="powerup/energy-medium",m.EnergyLarge="powerup/energy-large",m))(we||{});class GC extends wr.Scene{constructor(){super("Boot")}preload(){}create(){this.scene.start("Preloader")}}const zC=zn("client",()=>{const m=Bt(window.innerWidth),e=Bt(window.innerHeight),p=Ot(()=>({x:m.value/2,y:e.value/2}));return{SCREEN_WIDTH:m,SCREEN_HEIGHT:e,SCREEN_CENTER:p,setScreenSize:()=>{m.value=window.innerWidth,e.value=window.innerHeight}}}),XC=()=>{};var Sv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kg=function(m){const e=[];let p=0;for(let T=0;T<m.length;T++){let P=m.charCodeAt(T);P<128?e[p++]=P:P<2048?(e[p++]=P>>6|192,e[p++]=P&63|128):(P&64512)===55296&&T+1<m.length&&(m.charCodeAt(T+1)&64512)===56320?(P=65536+((P&1023)<<10)+(m.charCodeAt(++T)&1023),e[p++]=P>>18|240,e[p++]=P>>12&63|128,e[p++]=P>>6&63|128,e[p++]=P&63|128):(e[p++]=P>>12|224,e[p++]=P>>6&63|128,e[p++]=P&63|128)}return e},WC=function(m){const e=[];let p=0,T=0;for(;p<m.length;){const P=m[p++];if(P<128)e[T++]=String.fromCharCode(P);else if(P>191&&P<224){const M=m[p++];e[T++]=String.fromCharCode((P&31)<<6|M&63)}else if(P>239&&P<365){const M=m[p++],f=m[p++],C=m[p++],t=((P&7)<<18|(M&63)<<12|(f&63)<<6|C&63)-65536;e[T++]=String.fromCharCode(55296+(t>>10)),e[T++]=String.fromCharCode(56320+(t&1023))}else{const M=m[p++],f=m[p++];e[T++]=String.fromCharCode((P&15)<<12|(M&63)<<6|f&63)}}return e.join("")},kg={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(m,e){if(!Array.isArray(m))throw Error("encodeByteArray takes an array as a parameter");this.init_();const p=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,T=[];for(let P=0;P<m.length;P+=3){const M=m[P],f=P+1<m.length,C=f?m[P+1]:0,t=P+2<m.length,h=t?m[P+2]:0,g=M>>2,o=(M&3)<<4|C>>4;let a=(C&15)<<2|h>>6,r=h&63;t||(r=64,f||(a=64)),T.push(p[g],p[o],p[a],p[r])}return T.join("")},encodeString(m,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(m):this.encodeByteArray(Kg(m),e)},decodeString(m,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(m):WC(this.decodeStringToByteArray(m,e))},decodeStringToByteArray(m,e){this.init_();const p=e?this.charToByteMapWebSafe_:this.charToByteMap_,T=[];for(let P=0;P<m.length;){const M=p[m.charAt(P++)],C=P<m.length?p[m.charAt(P)]:0;++P;const h=P<m.length?p[m.charAt(P)]:64;++P;const o=P<m.length?p[m.charAt(P)]:64;if(++P,M==null||C==null||h==null||o==null)throw new HC;const a=M<<2|C>>4;if(T.push(a),h!==64){const r=C<<4&240|h>>2;if(T.push(r),o!==64){const i=h<<6&192|o;T.push(i)}}}return T},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let m=0;m<this.ENCODED_VALS.length;m++)this.byteToCharMap_[m]=this.ENCODED_VALS.charAt(m),this.charToByteMap_[this.byteToCharMap_[m]]=m,this.byteToCharMapWebSafe_[m]=this.ENCODED_VALS_WEBSAFE.charAt(m),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[m]]=m,m>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(m)]=m,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(m)]=m)}}};class HC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const YC=function(m){const e=Kg(m);return kg.encodeByteArray(e,!0)},jg=function(m){return YC(m).replace(/\./g,"")},If=function(m){try{return kg.decodeString(m,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $C(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KC=()=>$C().__FIREBASE_DEFAULTS__,kC=()=>{if(typeof process>"u"||typeof Sv>"u")return;const m=Sv.__FIREBASE_DEFAULTS__;if(m)return JSON.parse(m)},jC=()=>{if(typeof document>"u")return;let m;try{m=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=m&&If(m[1]);return e&&JSON.parse(e)},$h=()=>{try{return XC()||KC()||kC()||jC()}catch(m){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${m}`);return}},QC=m=>{var e,p;return(p=(e=$h())===null||e===void 0?void 0:e.emulatorHosts)===null||p===void 0?void 0:p[m]},Qg=()=>{var m;return(m=$h())===null||m===void 0?void 0:m.config},Jg=m=>{var e;return(e=$h())===null||e===void 0?void 0:e[`_${m}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,p)=>{this.resolve=e,this.reject=p})}wrapCallback(e){return(p,T)=>{p?this.reject(p):this.resolve(T),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(p):e(p,T))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ye(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Zg(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ye())}function ZC(){var m;const e=(m=$h())===null||m===void 0?void 0:m.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function qg(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Lf(){const m=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof m=="object"&&m.id!==void 0}function _g(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function qC(){const m=ye();return m.indexOf("MSIE ")>=0||m.indexOf("Trident/")>=0}function _C(){return!ZC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function t0(){try{return typeof indexedDB=="object"}catch{return!1}}function e0(){return new Promise((m,e)=>{try{let p=!0;const T="validate-browser-context-for-indexeddb-analytics-module",P=self.indexedDB.open(T);P.onsuccess=()=>{P.result.close(),p||self.indexedDB.deleteDatabase(T),m(!0)},P.onupgradeneeded=()=>{p=!1},P.onerror=()=>{var M;e(((M=P.error)===null||M===void 0?void 0:M.message)||"")}}catch(p){e(p)}})}function t2(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e2="FirebaseError";class Si extends Error{constructor(e,p,T){super(p),this.code=e,this.customData=T,this.name=e2,Object.setPrototypeOf(this,Si.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ts.prototype.create)}}class ts{constructor(e,p,T){this.service=e,this.serviceName=p,this.errors=T}create(e,...p){const T=p[0]||{},P=`${this.service}/${e}`,M=this.errors[e],f=M?i2(M,T):"Error",C=`${this.serviceName}: ${f} (${P}).`;return new Si(P,C,T)}}function i2(m,e){return m.replace(s2,(p,T)=>{const P=e[T];return P!=null?String(P):`<${T}?>`})}const s2=/\{\$([^}]+)}/g;function n2(m){for(const e in m)if(Object.prototype.hasOwnProperty.call(m,e))return!1;return!0}function Js(m,e){if(m===e)return!0;const p=Object.keys(m),T=Object.keys(e);for(const P of p){if(!T.includes(P))return!1;const M=m[P],f=e[P];if(Ev(M)&&Ev(f)){if(!Js(M,f))return!1}else if(M!==f)return!1}for(const P of T)if(!p.includes(P))return!1;return!0}function Ev(m){return m!==null&&typeof m=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hn(m){const e=[];for(const[p,T]of Object.entries(m))Array.isArray(T)?T.forEach(P=>{e.push(encodeURIComponent(p)+"="+encodeURIComponent(P))}):e.push(encodeURIComponent(p)+"="+encodeURIComponent(T));return e.length?"&"+e.join("&"):""}function i0(m,e){const p=new r2(m,e);return p.subscribe.bind(p)}class r2{constructor(e,p){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=p,this.task.then(()=>{e(this)}).catch(T=>{this.error(T)})}next(e){this.forEachObserver(p=>{p.next(e)})}error(e){this.forEachObserver(p=>{p.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,p,T){let P;if(e===void 0&&p===void 0&&T===void 0)throw new Error("Missing Observer.");a2(e,["next","error","complete"])?P=e:P={next:e,error:p,complete:T},P.next===void 0&&(P.next=jl),P.error===void 0&&(P.error=jl),P.complete===void 0&&(P.complete=jl);const M=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?P.error(this.finalError):P.complete()}catch{}}),this.observers.push(P),M}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let p=0;p<this.observers.length;p++)this.sendOne(p,e)}sendOne(e,p){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{p(this.observers[e])}catch(T){typeof console<"u"&&console.error&&console.error(T)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function a2(m,e){if(typeof m!="object"||m===null)return!1;for(const p of e)if(p in m&&typeof m[p]=="function")return!0;return!1}function jl(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o2=1e3,h2=2,l2=4*60*60*1e3,u2=.5;function Cv(m,e=o2,p=h2){const T=e*Math.pow(p,m),P=Math.round(u2*T*(Math.random()-.5)*2);return Math.min(l2,T+P)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(m){return m&&m._delegate?m._delegate:m}class Ti{constructor(e,p,T){this.name=e,this.instanceFactory=p,this.type=T,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(e,p){this.name=e,this.container=p,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const p=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(p)){const T=new JC;if(this.instancesDeferred.set(p,T),this.isInitialized(p)||this.shouldAutoInitialize())try{const P=this.getOrInitializeService({instanceIdentifier:p});P&&T.resolve(P)}catch{}}return this.instancesDeferred.get(p).promise}getImmediate(e){var p;const T=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),P=(p=e==null?void 0:e.optional)!==null&&p!==void 0?p:!1;if(this.isInitialized(T)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:T})}catch(M){if(P)return null;throw M}else{if(P)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(c2(e))try{this.getOrInitializeService({instanceIdentifier:Tn})}catch{}for(const[p,T]of this.instancesDeferred.entries()){const P=this.normalizeInstanceIdentifier(p);try{const M=this.getOrInitializeService({instanceIdentifier:P});T.resolve(M)}catch{}}}}clearInstance(e=Tn){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(p=>"INTERNAL"in p).map(p=>p.INTERNAL.delete()),...e.filter(p=>"_delete"in p).map(p=>p._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Tn){return this.instances.has(e)}getOptions(e=Tn){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:p={}}=e,T=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(T))throw Error(`${this.name}(${T}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const P=this.getOrInitializeService({instanceIdentifier:T,options:p});for(const[M,f]of this.instancesDeferred.entries()){const C=this.normalizeInstanceIdentifier(M);T===C&&f.resolve(P)}return P}onInit(e,p){var T;const P=this.normalizeInstanceIdentifier(p),M=(T=this.onInitCallbacks.get(P))!==null&&T!==void 0?T:new Set;M.add(e),this.onInitCallbacks.set(P,M);const f=this.instances.get(P);return f&&e(f,P),()=>{M.delete(e)}}invokeOnInitCallbacks(e,p){const T=this.onInitCallbacks.get(p);if(T)for(const P of T)try{P(e,p)}catch{}}getOrInitializeService({instanceIdentifier:e,options:p={}}){let T=this.instances.get(e);if(!T&&this.component&&(T=this.component.instanceFactory(this.container,{instanceIdentifier:d2(e),options:p}),this.instances.set(e,T),this.instancesOptions.set(e,p),this.invokeOnInitCallbacks(T,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,T)}catch{}return T||null}normalizeInstanceIdentifier(e=Tn){return this.component?this.component.multipleInstances?e:Tn:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function d2(m){return m===Tn?void 0:m}function c2(m){return m.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const p=this.getProvider(e.name);if(p.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);p.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const p=new f2(e,this);return this.providers.set(e,p),p}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wt;(function(m){m[m.DEBUG=0]="DEBUG",m[m.VERBOSE=1]="VERBOSE",m[m.INFO=2]="INFO",m[m.WARN=3]="WARN",m[m.ERROR=4]="ERROR",m[m.SILENT=5]="SILENT"})(Wt||(Wt={}));const p2={debug:Wt.DEBUG,verbose:Wt.VERBOSE,info:Wt.INFO,warn:Wt.WARN,error:Wt.ERROR,silent:Wt.SILENT},m2=Wt.INFO,g2={[Wt.DEBUG]:"log",[Wt.VERBOSE]:"log",[Wt.INFO]:"info",[Wt.WARN]:"warn",[Wt.ERROR]:"error"},y2=(m,e,...p)=>{if(e<m.logLevel)return;const T=new Date().toISOString(),P=g2[e];if(P)console[P](`[${T}]  ${m.name}:`,...p);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ga{constructor(e){this.name=e,this._logLevel=m2,this._logHandler=y2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Wt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?p2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Wt.DEBUG,...e),this._logHandler(this,Wt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Wt.VERBOSE,...e),this._logHandler(this,Wt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Wt.INFO,...e),this._logHandler(this,Wt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Wt.WARN,...e),this._logHandler(this,Wt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Wt.ERROR,...e),this._logHandler(this,Wt.ERROR,...e)}}const x2=(m,e)=>e.some(p=>m instanceof p);let Av,Pv;function T2(){return Av||(Av=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function S2(){return Pv||(Pv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const s0=new WeakMap,Iu=new WeakMap,n0=new WeakMap,Ql=new WeakMap,Ff=new WeakMap;function E2(m){const e=new Promise((p,T)=>{const P=()=>{m.removeEventListener("success",M),m.removeEventListener("error",f)},M=()=>{p(Ws(m.result)),P()},f=()=>{T(m.error),P()};m.addEventListener("success",M),m.addEventListener("error",f)});return e.then(p=>{p instanceof IDBCursor&&s0.set(p,m)}).catch(()=>{}),Ff.set(e,m),e}function C2(m){if(Iu.has(m))return;const e=new Promise((p,T)=>{const P=()=>{m.removeEventListener("complete",M),m.removeEventListener("error",f),m.removeEventListener("abort",f)},M=()=>{p(),P()},f=()=>{T(m.error||new DOMException("AbortError","AbortError")),P()};m.addEventListener("complete",M),m.addEventListener("error",f),m.addEventListener("abort",f)});Iu.set(m,e)}let Lu={get(m,e,p){if(m instanceof IDBTransaction){if(e==="done")return Iu.get(m);if(e==="objectStoreNames")return m.objectStoreNames||n0.get(m);if(e==="store")return p.objectStoreNames[1]?void 0:p.objectStore(p.objectStoreNames[0])}return Ws(m[e])},set(m,e,p){return m[e]=p,!0},has(m,e){return m instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in m}};function A2(m){Lu=m(Lu)}function P2(m){return m===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...p){const T=m.call(Jl(this),e,...p);return n0.set(T,e.sort?e.sort():[e]),Ws(T)}:S2().includes(m)?function(...e){return m.apply(Jl(this),e),Ws(s0.get(this))}:function(...e){return Ws(m.apply(Jl(this),e))}}function R2(m){return typeof m=="function"?P2(m):(m instanceof IDBTransaction&&C2(m),x2(m,T2())?new Proxy(m,Lu):m)}function Ws(m){if(m instanceof IDBRequest)return E2(m);if(Ql.has(m))return Ql.get(m);const e=R2(m);return e!==m&&(Ql.set(m,e),Ff.set(e,m)),e}const Jl=m=>Ff.get(m);function r0(m,e,{blocked:p,upgrade:T,blocking:P,terminated:M}={}){const f=indexedDB.open(m,e),C=Ws(f);return T&&f.addEventListener("upgradeneeded",t=>{T(Ws(f.result),t.oldVersion,t.newVersion,Ws(f.transaction),t)}),p&&f.addEventListener("blocked",t=>p(t.oldVersion,t.newVersion,t)),C.then(t=>{M&&t.addEventListener("close",()=>M()),P&&t.addEventListener("versionchange",h=>P(h.oldVersion,h.newVersion,h))}).catch(()=>{}),C}const w2=["get","getKey","getAll","getAllKeys","count"],M2=["put","add","delete","clear"],Zl=new Map;function Rv(m,e){if(!(m instanceof IDBDatabase&&!(e in m)&&typeof e=="string"))return;if(Zl.get(e))return Zl.get(e);const p=e.replace(/FromIndex$/,""),T=e!==p,P=M2.includes(p);if(!(p in(T?IDBIndex:IDBObjectStore).prototype)||!(P||w2.includes(p)))return;const M=async function(f,...C){const t=this.transaction(f,P?"readwrite":"readonly");let h=t.store;return T&&(h=h.index(C.shift())),(await Promise.all([h[p](...C),P&&t.done]))[0]};return Zl.set(e,M),M}A2(m=>({...m,get:(e,p,T)=>Rv(e,p)||m.get(e,p,T),has:(e,p)=>!!Rv(e,p)||m.has(e,p)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(p=>{if(L2(p)){const T=p.getImmediate();return`${T.library}/${T.version}`}else return null}).filter(p=>p).join(" ")}}function L2(m){const e=m.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Fu="@firebase/app",wv="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ms=new Ga("@firebase/app"),F2="@firebase/app-compat",O2="@firebase/analytics-compat",D2="@firebase/analytics",N2="@firebase/app-check-compat",b2="@firebase/app-check",B2="@firebase/auth",V2="@firebase/auth-compat",U2="@firebase/database",G2="@firebase/data-connect",z2="@firebase/database-compat",X2="@firebase/functions",W2="@firebase/functions-compat",H2="@firebase/installations",Y2="@firebase/installations-compat",$2="@firebase/messaging",K2="@firebase/messaging-compat",k2="@firebase/performance",j2="@firebase/performance-compat",Q2="@firebase/remote-config",J2="@firebase/remote-config-compat",Z2="@firebase/storage",q2="@firebase/storage-compat",_2="@firebase/firestore",tA="@firebase/vertexai",eA="@firebase/firestore-compat",iA="firebase",sA="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ou="[DEFAULT]",nA={[Fu]:"fire-core",[F2]:"fire-core-compat",[D2]:"fire-analytics",[O2]:"fire-analytics-compat",[b2]:"fire-app-check",[N2]:"fire-app-check-compat",[B2]:"fire-auth",[V2]:"fire-auth-compat",[U2]:"fire-rtdb",[G2]:"fire-data-connect",[z2]:"fire-rtdb-compat",[X2]:"fire-fn",[W2]:"fire-fn-compat",[H2]:"fire-iid",[Y2]:"fire-iid-compat",[$2]:"fire-fcm",[K2]:"fire-fcm-compat",[k2]:"fire-perf",[j2]:"fire-perf-compat",[Q2]:"fire-rc",[J2]:"fire-rc-compat",[Z2]:"fire-gcs",[q2]:"fire-gcs-compat",[_2]:"fire-fst",[eA]:"fire-fst-compat",[tA]:"fire-vertex","fire-js":"fire-js",[iA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eh=new Map,rA=new Map,Du=new Map;function Mv(m,e){try{m.container.addComponent(e)}catch(p){ms.debug(`Component ${e.name} failed to register with FirebaseApp ${m.name}`,p)}}function Mi(m){const e=m.name;if(Du.has(e))return ms.debug(`There were multiple attempts to register component ${e}.`),!1;Du.set(e,m);for(const p of eh.values())Mv(p,m);for(const p of rA.values())Mv(p,m);return!0}function Xn(m,e){const p=m.container.getProvider("heartbeat").getImmediate({optional:!0});return p&&p.triggerHeartbeat(),m.container.getProvider(e)}function Xe(m){return m==null?!1:m.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hs=new ts("app","Firebase",aA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(e,p,T){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},p),this._name=p.name,this._automaticDataCollectionEnabled=p.automaticDataCollectionEnabled,this._container=T,this.container.addComponent(new Ti("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Hs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const As=sA;function a0(m,e={}){let p=m;typeof e!="object"&&(e={name:e});const T=Object.assign({name:Ou,automaticDataCollectionEnabled:!1},e),P=T.name;if(typeof P!="string"||!P)throw Hs.create("bad-app-name",{appName:String(P)});if(p||(p=Qg()),!p)throw Hs.create("no-options");const M=eh.get(P);if(M){if(Js(p,M.options)&&Js(T,M.config))return M;throw Hs.create("duplicate-app",{appName:P})}const f=new v2(P);for(const t of Du.values())f.addComponent(t);const C=new oA(p,T,f);return eh.set(P,C),C}function o0(m=Ou){const e=eh.get(m);if(!e&&m===Ou&&Qg())return a0();if(!e)throw Hs.create("no-app",{appName:m});return e}function di(m,e,p){var T;let P=(T=nA[m])!==null&&T!==void 0?T:m;p&&(P+=`-${p}`);const M=P.match(/\s|\//),f=e.match(/\s|\//);if(M||f){const C=[`Unable to register library "${P}" with version "${e}":`];M&&C.push(`library name "${P}" contains illegal characters (whitespace or "/")`),M&&f&&C.push("and"),f&&C.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ms.warn(C.join(" "));return}Mi(new Ti(`${P}-version`,()=>({library:P,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hA="firebase-heartbeat-database",lA=1,Ra="firebase-heartbeat-store";let ql=null;function h0(){return ql||(ql=r0(hA,lA,{upgrade:(m,e)=>{switch(e){case 0:try{m.createObjectStore(Ra)}catch(p){console.warn(p)}}}}).catch(m=>{throw Hs.create("idb-open",{originalErrorMessage:m.message})})),ql}async function uA(m){try{const p=(await h0()).transaction(Ra),T=await p.objectStore(Ra).get(l0(m));return await p.done,T}catch(e){if(e instanceof Si)ms.warn(e.message);else{const p=Hs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ms.warn(p.message)}}}async function Iv(m,e){try{const T=(await h0()).transaction(Ra,"readwrite");await T.objectStore(Ra).put(e,l0(m)),await T.done}catch(p){if(p instanceof Si)ms.warn(p.message);else{const T=Hs.create("idb-set",{originalErrorMessage:p==null?void 0:p.message});ms.warn(T.message)}}}function l0(m){return`${m.name}!${m.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fA=1024,dA=30;class cA{constructor(e){this.container=e,this._heartbeatsCache=null;const p=this.container.getProvider("app").getImmediate();this._storage=new pA(p),this._heartbeatsCachePromise=this._storage.read().then(T=>(this._heartbeatsCache=T,T))}async triggerHeartbeat(){var e,p;try{const P=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),M=Lv();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((p=this._heartbeatsCache)===null||p===void 0?void 0:p.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===M||this._heartbeatsCache.heartbeats.some(f=>f.date===M))return;if(this._heartbeatsCache.heartbeats.push({date:M,agent:P}),this._heartbeatsCache.heartbeats.length>dA){const f=mA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(T){ms.warn(T)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const p=Lv(),{heartbeatsToSend:T,unsentEntries:P}=vA(this._heartbeatsCache.heartbeats),M=jg(JSON.stringify({version:2,heartbeats:T}));return this._heartbeatsCache.lastSentHeartbeatDate=p,P.length>0?(this._heartbeatsCache.heartbeats=P,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),M}catch(p){return ms.warn(p),""}}}function Lv(){return new Date().toISOString().substring(0,10)}function vA(m,e=fA){const p=[];let T=m.slice();for(const P of m){const M=p.find(f=>f.agent===P.agent);if(M){if(M.dates.push(P.date),Fv(p)>e){M.dates.pop();break}}else if(p.push({agent:P.agent,dates:[P.date]}),Fv(p)>e){p.pop();break}T=T.slice(1)}return{heartbeatsToSend:p,unsentEntries:T}}class pA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return t0()?e0().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const p=await uA(this.app);return p!=null&&p.heartbeats?p:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var p;if(await this._canUseIndexedDBPromise){const P=await this.read();return Iv(this.app,{lastSentHeartbeatDate:(p=e.lastSentHeartbeatDate)!==null&&p!==void 0?p:P.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var p;if(await this._canUseIndexedDBPromise){const P=await this.read();return Iv(this.app,{lastSentHeartbeatDate:(p=e.lastSentHeartbeatDate)!==null&&p!==void 0?p:P.lastSentHeartbeatDate,heartbeats:[...P.heartbeats,...e.heartbeats]})}else return}}function Fv(m){return jg(JSON.stringify({version:2,heartbeats:m})).length}function mA(m){if(m.length===0)return-1;let e=0,p=m[0].date;for(let T=1;T<m.length;T++)m[T].date<p&&(p=m[T].date,e=T);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gA(m){Mi(new Ti("platform-logger",e=>new I2(e),"PRIVATE")),Mi(new Ti("heartbeat",e=>new cA(e),"PRIVATE")),di(Fu,wv,m),di(Fu,wv,"esm2017"),di("fire-js","")}gA("");var Ov=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ys,u0;(function(){var m;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,S){function E(){}E.prototype=S.prototype,x.D=S.prototype,x.prototype=new E,x.prototype.constructor=x,x.C=function(A,R,w){for(var I=Array(arguments.length-2),O=2;O<arguments.length;O++)I[O-2]=arguments[O];return S.prototype[R].apply(A,I)}}function p(){this.blockSize=-1}function T(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(T,p),T.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function P(x,S,E){E||(E=0);var A=Array(16);if(typeof S=="string")for(var R=0;16>R;++R)A[R]=S.charCodeAt(E++)|S.charCodeAt(E++)<<8|S.charCodeAt(E++)<<16|S.charCodeAt(E++)<<24;else for(R=0;16>R;++R)A[R]=S[E++]|S[E++]<<8|S[E++]<<16|S[E++]<<24;S=x.g[0],E=x.g[1],R=x.g[2];var w=x.g[3],I=S+(w^E&(R^w))+A[0]+3614090360&4294967295;S=E+(I<<7&4294967295|I>>>25),I=w+(R^S&(E^R))+A[1]+3905402710&4294967295,w=S+(I<<12&4294967295|I>>>20),I=R+(E^w&(S^E))+A[2]+606105819&4294967295,R=w+(I<<17&4294967295|I>>>15),I=E+(S^R&(w^S))+A[3]+3250441966&4294967295,E=R+(I<<22&4294967295|I>>>10),I=S+(w^E&(R^w))+A[4]+4118548399&4294967295,S=E+(I<<7&4294967295|I>>>25),I=w+(R^S&(E^R))+A[5]+1200080426&4294967295,w=S+(I<<12&4294967295|I>>>20),I=R+(E^w&(S^E))+A[6]+2821735955&4294967295,R=w+(I<<17&4294967295|I>>>15),I=E+(S^R&(w^S))+A[7]+4249261313&4294967295,E=R+(I<<22&4294967295|I>>>10),I=S+(w^E&(R^w))+A[8]+1770035416&4294967295,S=E+(I<<7&4294967295|I>>>25),I=w+(R^S&(E^R))+A[9]+2336552879&4294967295,w=S+(I<<12&4294967295|I>>>20),I=R+(E^w&(S^E))+A[10]+4294925233&4294967295,R=w+(I<<17&4294967295|I>>>15),I=E+(S^R&(w^S))+A[11]+2304563134&4294967295,E=R+(I<<22&4294967295|I>>>10),I=S+(w^E&(R^w))+A[12]+1804603682&4294967295,S=E+(I<<7&4294967295|I>>>25),I=w+(R^S&(E^R))+A[13]+4254626195&4294967295,w=S+(I<<12&4294967295|I>>>20),I=R+(E^w&(S^E))+A[14]+2792965006&4294967295,R=w+(I<<17&4294967295|I>>>15),I=E+(S^R&(w^S))+A[15]+1236535329&4294967295,E=R+(I<<22&4294967295|I>>>10),I=S+(R^w&(E^R))+A[1]+4129170786&4294967295,S=E+(I<<5&4294967295|I>>>27),I=w+(E^R&(S^E))+A[6]+3225465664&4294967295,w=S+(I<<9&4294967295|I>>>23),I=R+(S^E&(w^S))+A[11]+643717713&4294967295,R=w+(I<<14&4294967295|I>>>18),I=E+(w^S&(R^w))+A[0]+3921069994&4294967295,E=R+(I<<20&4294967295|I>>>12),I=S+(R^w&(E^R))+A[5]+3593408605&4294967295,S=E+(I<<5&4294967295|I>>>27),I=w+(E^R&(S^E))+A[10]+38016083&4294967295,w=S+(I<<9&4294967295|I>>>23),I=R+(S^E&(w^S))+A[15]+3634488961&4294967295,R=w+(I<<14&4294967295|I>>>18),I=E+(w^S&(R^w))+A[4]+3889429448&4294967295,E=R+(I<<20&4294967295|I>>>12),I=S+(R^w&(E^R))+A[9]+568446438&4294967295,S=E+(I<<5&4294967295|I>>>27),I=w+(E^R&(S^E))+A[14]+3275163606&4294967295,w=S+(I<<9&4294967295|I>>>23),I=R+(S^E&(w^S))+A[3]+4107603335&4294967295,R=w+(I<<14&4294967295|I>>>18),I=E+(w^S&(R^w))+A[8]+1163531501&4294967295,E=R+(I<<20&4294967295|I>>>12),I=S+(R^w&(E^R))+A[13]+2850285829&4294967295,S=E+(I<<5&4294967295|I>>>27),I=w+(E^R&(S^E))+A[2]+4243563512&4294967295,w=S+(I<<9&4294967295|I>>>23),I=R+(S^E&(w^S))+A[7]+1735328473&4294967295,R=w+(I<<14&4294967295|I>>>18),I=E+(w^S&(R^w))+A[12]+2368359562&4294967295,E=R+(I<<20&4294967295|I>>>12),I=S+(E^R^w)+A[5]+4294588738&4294967295,S=E+(I<<4&4294967295|I>>>28),I=w+(S^E^R)+A[8]+2272392833&4294967295,w=S+(I<<11&4294967295|I>>>21),I=R+(w^S^E)+A[11]+1839030562&4294967295,R=w+(I<<16&4294967295|I>>>16),I=E+(R^w^S)+A[14]+4259657740&4294967295,E=R+(I<<23&4294967295|I>>>9),I=S+(E^R^w)+A[1]+2763975236&4294967295,S=E+(I<<4&4294967295|I>>>28),I=w+(S^E^R)+A[4]+1272893353&4294967295,w=S+(I<<11&4294967295|I>>>21),I=R+(w^S^E)+A[7]+4139469664&4294967295,R=w+(I<<16&4294967295|I>>>16),I=E+(R^w^S)+A[10]+3200236656&4294967295,E=R+(I<<23&4294967295|I>>>9),I=S+(E^R^w)+A[13]+681279174&4294967295,S=E+(I<<4&4294967295|I>>>28),I=w+(S^E^R)+A[0]+3936430074&4294967295,w=S+(I<<11&4294967295|I>>>21),I=R+(w^S^E)+A[3]+3572445317&4294967295,R=w+(I<<16&4294967295|I>>>16),I=E+(R^w^S)+A[6]+76029189&4294967295,E=R+(I<<23&4294967295|I>>>9),I=S+(E^R^w)+A[9]+3654602809&4294967295,S=E+(I<<4&4294967295|I>>>28),I=w+(S^E^R)+A[12]+3873151461&4294967295,w=S+(I<<11&4294967295|I>>>21),I=R+(w^S^E)+A[15]+530742520&4294967295,R=w+(I<<16&4294967295|I>>>16),I=E+(R^w^S)+A[2]+3299628645&4294967295,E=R+(I<<23&4294967295|I>>>9),I=S+(R^(E|~w))+A[0]+4096336452&4294967295,S=E+(I<<6&4294967295|I>>>26),I=w+(E^(S|~R))+A[7]+1126891415&4294967295,w=S+(I<<10&4294967295|I>>>22),I=R+(S^(w|~E))+A[14]+2878612391&4294967295,R=w+(I<<15&4294967295|I>>>17),I=E+(w^(R|~S))+A[5]+4237533241&4294967295,E=R+(I<<21&4294967295|I>>>11),I=S+(R^(E|~w))+A[12]+1700485571&4294967295,S=E+(I<<6&4294967295|I>>>26),I=w+(E^(S|~R))+A[3]+2399980690&4294967295,w=S+(I<<10&4294967295|I>>>22),I=R+(S^(w|~E))+A[10]+4293915773&4294967295,R=w+(I<<15&4294967295|I>>>17),I=E+(w^(R|~S))+A[1]+2240044497&4294967295,E=R+(I<<21&4294967295|I>>>11),I=S+(R^(E|~w))+A[8]+1873313359&4294967295,S=E+(I<<6&4294967295|I>>>26),I=w+(E^(S|~R))+A[15]+4264355552&4294967295,w=S+(I<<10&4294967295|I>>>22),I=R+(S^(w|~E))+A[6]+2734768916&4294967295,R=w+(I<<15&4294967295|I>>>17),I=E+(w^(R|~S))+A[13]+1309151649&4294967295,E=R+(I<<21&4294967295|I>>>11),I=S+(R^(E|~w))+A[4]+4149444226&4294967295,S=E+(I<<6&4294967295|I>>>26),I=w+(E^(S|~R))+A[11]+3174756917&4294967295,w=S+(I<<10&4294967295|I>>>22),I=R+(S^(w|~E))+A[2]+718787259&4294967295,R=w+(I<<15&4294967295|I>>>17),I=E+(w^(R|~S))+A[9]+3951481745&4294967295,x.g[0]=x.g[0]+S&4294967295,x.g[1]=x.g[1]+(R+(I<<21&4294967295|I>>>11))&4294967295,x.g[2]=x.g[2]+R&4294967295,x.g[3]=x.g[3]+w&4294967295}T.prototype.u=function(x,S){S===void 0&&(S=x.length);for(var E=S-this.blockSize,A=this.B,R=this.h,w=0;w<S;){if(R==0)for(;w<=E;)P(this,x,w),w+=this.blockSize;if(typeof x=="string"){for(;w<S;)if(A[R++]=x.charCodeAt(w++),R==this.blockSize){P(this,A),R=0;break}}else for(;w<S;)if(A[R++]=x[w++],R==this.blockSize){P(this,A),R=0;break}}this.h=R,this.o+=S},T.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var S=1;S<x.length-8;++S)x[S]=0;var E=8*this.o;for(S=x.length-8;S<x.length;++S)x[S]=E&255,E/=256;for(this.u(x),x=Array(16),S=E=0;4>S;++S)for(var A=0;32>A;A+=8)x[E++]=this.g[S]>>>A&255;return x};function M(x,S){var E=C;return Object.prototype.hasOwnProperty.call(E,x)?E[x]:E[x]=S(x)}function f(x,S){this.h=S;for(var E=[],A=!0,R=x.length-1;0<=R;R--){var w=x[R]|0;A&&w==S||(E[R]=w,A=!1)}this.g=E}var C={};function t(x){return-128<=x&&128>x?M(x,function(S){return new f([S|0],0>S?-1:0)}):new f([x|0],0>x?-1:0)}function h(x){if(isNaN(x)||!isFinite(x))return o;if(0>x)return l(h(-x));for(var S=[],E=1,A=0;x>=E;A++)S[A]=x/E|0,E*=4294967296;return new f(S,0)}function g(x,S){if(x.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(x.charAt(0)=="-")return l(g(x.substring(1),S));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=h(Math.pow(S,8)),A=o,R=0;R<x.length;R+=8){var w=Math.min(8,x.length-R),I=parseInt(x.substring(R,R+w),S);8>w?(w=h(Math.pow(S,w)),A=A.j(w).add(h(I))):(A=A.j(E),A=A.add(h(I)))}return A}var o=t(0),a=t(1),r=t(16777216);m=f.prototype,m.m=function(){if(n(this))return-l(this).m();for(var x=0,S=1,E=0;E<this.g.length;E++){var A=this.i(E);x+=(0<=A?A:4294967296+A)*S,S*=4294967296}return x},m.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(i(this))return"0";if(n(this))return"-"+l(this).toString(x);for(var S=h(Math.pow(x,6)),E=this,A="";;){var R=c(E,S).g;E=s(E,R.j(S));var w=((0<E.g.length?E.g[0]:E.h)>>>0).toString(x);if(E=R,i(E))return w+A;for(;6>w.length;)w="0"+w;A=w+A}},m.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function i(x){if(x.h!=0)return!1;for(var S=0;S<x.g.length;S++)if(x.g[S]!=0)return!1;return!0}function n(x){return x.h==-1}m.l=function(x){return x=s(this,x),n(x)?-1:i(x)?0:1};function l(x){for(var S=x.g.length,E=[],A=0;A<S;A++)E[A]=~x.g[A];return new f(E,~x.h).add(a)}m.abs=function(){return n(this)?l(this):this},m.add=function(x){for(var S=Math.max(this.g.length,x.g.length),E=[],A=0,R=0;R<=S;R++){var w=A+(this.i(R)&65535)+(x.i(R)&65535),I=(w>>>16)+(this.i(R)>>>16)+(x.i(R)>>>16);A=I>>>16,w&=65535,I&=65535,E[R]=I<<16|w}return new f(E,E[E.length-1]&-2147483648?-1:0)};function s(x,S){return x.add(l(S))}m.j=function(x){if(i(this)||i(x))return o;if(n(this))return n(x)?l(this).j(l(x)):l(l(this).j(x));if(n(x))return l(this.j(l(x)));if(0>this.l(r)&&0>x.l(r))return h(this.m()*x.m());for(var S=this.g.length+x.g.length,E=[],A=0;A<2*S;A++)E[A]=0;for(A=0;A<this.g.length;A++)for(var R=0;R<x.g.length;R++){var w=this.i(A)>>>16,I=this.i(A)&65535,O=x.i(R)>>>16,F=x.i(R)&65535;E[2*A+2*R]+=I*F,u(E,2*A+2*R),E[2*A+2*R+1]+=w*F,u(E,2*A+2*R+1),E[2*A+2*R+1]+=I*O,u(E,2*A+2*R+1),E[2*A+2*R+2]+=w*O,u(E,2*A+2*R+2)}for(A=0;A<S;A++)E[A]=E[2*A+1]<<16|E[2*A];for(A=S;A<2*S;A++)E[A]=0;return new f(E,0)};function u(x,S){for(;(x[S]&65535)!=x[S];)x[S+1]+=x[S]>>>16,x[S]&=65535,S++}function d(x,S){this.g=x,this.h=S}function c(x,S){if(i(S))throw Error("division by zero");if(i(x))return new d(o,o);if(n(x))return S=c(l(x),S),new d(l(S.g),l(S.h));if(n(S))return S=c(x,l(S)),new d(l(S.g),S.h);if(30<x.g.length){if(n(x)||n(S))throw Error("slowDivide_ only works with positive integers.");for(var E=a,A=S;0>=A.l(x);)E=v(E),A=v(A);var R=y(E,1),w=y(A,1);for(A=y(A,2),E=y(E,2);!i(A);){var I=w.add(A);0>=I.l(x)&&(R=R.add(E),w=I),A=y(A,1),E=y(E,1)}return S=s(x,R.j(S)),new d(R,S)}for(R=o;0<=x.l(S);){for(E=Math.max(1,Math.floor(x.m()/S.m())),A=Math.ceil(Math.log(E)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),w=h(E),I=w.j(S);n(I)||0<I.l(x);)E-=A,w=h(E),I=w.j(S);i(w)&&(w=a),R=R.add(w),x=s(x,I)}return new d(R,x)}m.A=function(x){return c(this,x).h},m.and=function(x){for(var S=Math.max(this.g.length,x.g.length),E=[],A=0;A<S;A++)E[A]=this.i(A)&x.i(A);return new f(E,this.h&x.h)},m.or=function(x){for(var S=Math.max(this.g.length,x.g.length),E=[],A=0;A<S;A++)E[A]=this.i(A)|x.i(A);return new f(E,this.h|x.h)},m.xor=function(x){for(var S=Math.max(this.g.length,x.g.length),E=[],A=0;A<S;A++)E[A]=this.i(A)^x.i(A);return new f(E,this.h^x.h)};function v(x){for(var S=x.g.length+1,E=[],A=0;A<S;A++)E[A]=x.i(A)<<1|x.i(A-1)>>>31;return new f(E,x.h)}function y(x,S){var E=S>>5;S%=32;for(var A=x.g.length-E,R=[],w=0;w<A;w++)R[w]=0<S?x.i(w+E)>>>S|x.i(w+E+1)<<32-S:x.i(w+E);return new f(R,x.h)}T.prototype.digest=T.prototype.v,T.prototype.reset=T.prototype.s,T.prototype.update=T.prototype.u,u0=T,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=h,f.fromString=g,Ys=f}).apply(typeof Ov<"u"?Ov:typeof self<"u"?self:typeof window<"u"?window:{});var yo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var f0,Qr,d0,Oo,Nu,c0,v0,p0;(function(){var m,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(N,$,Q){return N==Array.prototype||N==Object.prototype||(N[$]=Q.value),N};function p(N){N=[typeof globalThis=="object"&&globalThis,N,typeof window=="object"&&window,typeof self=="object"&&self,typeof yo=="object"&&yo];for(var $=0;$<N.length;++$){var Q=N[$];if(Q&&Q.Math==Math)return Q}throw Error("Cannot find global object")}var T=p(this);function P(N,$){if($)t:{var Q=T;N=N.split(".");for(var tt=0;tt<N.length-1;tt++){var at=N[tt];if(!(at in Q))break t;Q=Q[at]}N=N[N.length-1],tt=Q[N],$=$(tt),$!=tt&&$!=null&&e(Q,N,{configurable:!0,writable:!0,value:$})}}function M(N,$){N instanceof String&&(N+="");var Q=0,tt=!1,at={next:function(){if(!tt&&Q<N.length){var ct=Q++;return{value:$(ct,N[ct]),done:!1}}return tt=!0,{done:!0,value:void 0}}};return at[Symbol.iterator]=function(){return at},at}P("Array.prototype.values",function(N){return N||function(){return M(this,function($,Q){return Q})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},C=this||self;function t(N){var $=typeof N;return $=$!="object"?$:N?Array.isArray(N)?"array":$:"null",$=="array"||$=="object"&&typeof N.length=="number"}function h(N){var $=typeof N;return $=="object"&&N!=null||$=="function"}function g(N,$,Q){return N.call.apply(N.bind,arguments)}function o(N,$,Q){if(!N)throw Error();if(2<arguments.length){var tt=Array.prototype.slice.call(arguments,2);return function(){var at=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(at,tt),N.apply($,at)}}return function(){return N.apply($,arguments)}}function a(N,$,Q){return a=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:o,a.apply(null,arguments)}function r(N,$){var Q=Array.prototype.slice.call(arguments,1);return function(){var tt=Q.slice();return tt.push.apply(tt,arguments),N.apply(this,tt)}}function i(N,$){function Q(){}Q.prototype=$.prototype,N.aa=$.prototype,N.prototype=new Q,N.prototype.constructor=N,N.Qb=function(tt,at,ct){for(var St=Array(arguments.length-2),fe=2;fe<arguments.length;fe++)St[fe-2]=arguments[fe];return $.prototype[at].apply(tt,St)}}function n(N){const $=N.length;if(0<$){const Q=Array($);for(let tt=0;tt<$;tt++)Q[tt]=N[tt];return Q}return[]}function l(N,$){for(let Q=1;Q<arguments.length;Q++){const tt=arguments[Q];if(t(tt)){const at=N.length||0,ct=tt.length||0;N.length=at+ct;for(let St=0;St<ct;St++)N[at+St]=tt[St]}else N.push(tt)}}class s{constructor($,Q){this.i=$,this.j=Q,this.h=0,this.g=null}get(){let $;return 0<this.h?(this.h--,$=this.g,this.g=$.next,$.next=null):$=this.i(),$}}function u(N){return/^[\s\xa0]*$/.test(N)}function d(){var N=C.navigator;return N&&(N=N.userAgent)?N:""}function c(N){return c[" "](N),N}c[" "]=function(){};var v=d().indexOf("Gecko")!=-1&&!(d().toLowerCase().indexOf("webkit")!=-1&&d().indexOf("Edge")==-1)&&!(d().indexOf("Trident")!=-1||d().indexOf("MSIE")!=-1)&&d().indexOf("Edge")==-1;function y(N,$,Q){for(const tt in N)$.call(Q,N[tt],tt,N)}function x(N,$){for(const Q in N)$.call(void 0,N[Q],Q,N)}function S(N){const $={};for(const Q in N)$[Q]=N[Q];return $}const E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(N,$){let Q,tt;for(let at=1;at<arguments.length;at++){tt=arguments[at];for(Q in tt)N[Q]=tt[Q];for(let ct=0;ct<E.length;ct++)Q=E[ct],Object.prototype.hasOwnProperty.call(tt,Q)&&(N[Q]=tt[Q])}}function R(N){var $=1;N=N.split(":");const Q=[];for(;0<$&&N.length;)Q.push(N.shift()),$--;return N.length&&Q.push(N.join(":")),Q}function w(N){C.setTimeout(()=>{throw N},0)}function I(){var N=G;let $=null;return N.g&&($=N.g,N.g=N.g.next,N.g||(N.h=null),$.next=null),$}class O{constructor(){this.h=this.g=null}add($,Q){const tt=F.get();tt.set($,Q),this.h?this.h.next=tt:this.g=tt,this.h=tt}}var F=new s(()=>new L,N=>N.reset());class L{constructor(){this.next=this.g=this.h=null}set($,Q){this.h=$,this.g=Q,this.next=null}reset(){this.next=this.g=this.h=null}}let D,b=!1,G=new O,W=()=>{const N=C.Promise.resolve(void 0);D=()=>{N.then(Y)}};var Y=()=>{for(var N;N=I();){try{N.h.call(N.g)}catch(Q){w(Q)}var $=F;$.j(N),100>$.h&&($.h++,N.next=$.g,$.g=N)}b=!1};function H(){this.s=this.s,this.C=this.C}H.prototype.s=!1,H.prototype.ma=function(){this.s||(this.s=!0,this.N())},H.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function U(N,$){this.type=N,this.g=this.target=$,this.defaultPrevented=!1}U.prototype.h=function(){this.defaultPrevented=!0};var X=function(){if(!C.addEventListener||!Object.defineProperty)return!1;var N=!1,$=Object.defineProperty({},"passive",{get:function(){N=!0}});try{const Q=()=>{};C.addEventListener("test",Q,$),C.removeEventListener("test",Q,$)}catch{}return N}();function V(N,$){if(U.call(this,N?N.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,N){var Q=this.type=N.type,tt=N.changedTouches&&N.changedTouches.length?N.changedTouches[0]:null;if(this.target=N.target||N.srcElement,this.g=$,$=N.relatedTarget){if(v){t:{try{c($.nodeName);var at=!0;break t}catch{}at=!1}at||($=null)}}else Q=="mouseover"?$=N.fromElement:Q=="mouseout"&&($=N.toElement);this.relatedTarget=$,tt?(this.clientX=tt.clientX!==void 0?tt.clientX:tt.pageX,this.clientY=tt.clientY!==void 0?tt.clientY:tt.pageY,this.screenX=tt.screenX||0,this.screenY=tt.screenY||0):(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0),this.button=N.button,this.key=N.key||"",this.ctrlKey=N.ctrlKey,this.altKey=N.altKey,this.shiftKey=N.shiftKey,this.metaKey=N.metaKey,this.pointerId=N.pointerId||0,this.pointerType=typeof N.pointerType=="string"?N.pointerType:B[N.pointerType]||"",this.state=N.state,this.i=N,N.defaultPrevented&&V.aa.h.call(this)}}i(V,U);var B={2:"touch",3:"pen",4:"mouse"};V.prototype.h=function(){V.aa.h.call(this);var N=this.i;N.preventDefault?N.preventDefault():N.returnValue=!1};var z="closure_listenable_"+(1e6*Math.random()|0),K=0;function k(N,$,Q,tt,at){this.listener=N,this.proxy=null,this.src=$,this.type=Q,this.capture=!!tt,this.ha=at,this.key=++K,this.da=this.fa=!1}function J(N){N.da=!0,N.listener=null,N.proxy=null,N.src=null,N.ha=null}function q(N){this.src=N,this.g={},this.h=0}q.prototype.add=function(N,$,Q,tt,at){var ct=N.toString();N=this.g[ct],N||(N=this.g[ct]=[],this.h++);var St=Z(N,$,tt,at);return-1<St?($=N[St],Q||($.fa=!1)):($=new k($,this.src,ct,!!tt,at),$.fa=Q,N.push($)),$};function j(N,$){var Q=$.type;if(Q in N.g){var tt=N.g[Q],at=Array.prototype.indexOf.call(tt,$,void 0),ct;(ct=0<=at)&&Array.prototype.splice.call(tt,at,1),ct&&(J($),N.g[Q].length==0&&(delete N.g[Q],N.h--))}}function Z(N,$,Q,tt){for(var at=0;at<N.length;++at){var ct=N[at];if(!ct.da&&ct.listener==$&&ct.capture==!!Q&&ct.ha==tt)return at}return-1}var _="closure_lm_"+(1e6*Math.random()|0),et={};function it(N,$,Q,tt,at){if(Array.isArray($)){for(var ct=0;ct<$.length;ct++)it(N,$[ct],Q,tt,at);return null}return Q=yt(Q),N&&N[z]?N.K($,Q,h(tt)?!!tt.capture:!1,at):st(N,$,Q,!1,tt,at)}function st(N,$,Q,tt,at,ct){if(!$)throw Error("Invalid event type");var St=h(at)?!!at.capture:!!at,fe=lt(N);if(fe||(N[_]=fe=new q(N)),Q=fe.add($,Q,tt,St,ct),Q.proxy)return Q;if(tt=nt(),Q.proxy=tt,tt.src=N,tt.listener=Q,N.addEventListener)X||(at=St),at===void 0&&(at=!1),N.addEventListener($.toString(),tt,at);else if(N.attachEvent)N.attachEvent(ht($.toString()),tt);else if(N.addListener&&N.removeListener)N.addListener(tt);else throw Error("addEventListener and attachEvent are unavailable.");return Q}function nt(){function N(Q){return $.call(N.src,N.listener,Q)}const $=rt;return N}function ut(N,$,Q,tt,at){if(Array.isArray($))for(var ct=0;ct<$.length;ct++)ut(N,$[ct],Q,tt,at);else tt=h(tt)?!!tt.capture:!!tt,Q=yt(Q),N&&N[z]?(N=N.i,$=String($).toString(),$ in N.g&&(ct=N.g[$],Q=Z(ct,Q,tt,at),-1<Q&&(J(ct[Q]),Array.prototype.splice.call(ct,Q,1),ct.length==0&&(delete N.g[$],N.h--)))):N&&(N=lt(N))&&($=N.g[$.toString()],N=-1,$&&(N=Z($,Q,tt,at)),(Q=-1<N?$[N]:null)&&ft(Q))}function ft(N){if(typeof N!="number"&&N&&!N.da){var $=N.src;if($&&$[z])j($.i,N);else{var Q=N.type,tt=N.proxy;$.removeEventListener?$.removeEventListener(Q,tt,N.capture):$.detachEvent?$.detachEvent(ht(Q),tt):$.addListener&&$.removeListener&&$.removeListener(tt),(Q=lt($))?(j(Q,N),Q.h==0&&(Q.src=null,$[_]=null)):J(N)}}}function ht(N){return N in et?et[N]:et[N]="on"+N}function rt(N,$){if(N.da)N=!0;else{$=new V($,this);var Q=N.listener,tt=N.ha||N.src;N.fa&&ft(N),N=Q.call(tt,$)}return N}function lt(N){return N=N[_],N instanceof q?N:null}var dt="__closure_events_fn_"+(1e9*Math.random()>>>0);function yt(N){return typeof N=="function"?N:(N[dt]||(N[dt]=function($){return N.handleEvent($)}),N[dt])}function xt(){H.call(this),this.i=new q(this),this.M=this,this.F=null}i(xt,H),xt.prototype[z]=!0,xt.prototype.removeEventListener=function(N,$,Q,tt){ut(this,N,$,Q,tt)};function At(N,$){var Q,tt=N.F;if(tt)for(Q=[];tt;tt=tt.F)Q.push(tt);if(N=N.M,tt=$.type||$,typeof $=="string")$=new U($,N);else if($ instanceof U)$.target=$.target||N;else{var at=$;$=new U(tt,N),A($,at)}if(at=!0,Q)for(var ct=Q.length-1;0<=ct;ct--){var St=$.g=Q[ct];at=Et(St,tt,!0,$)&&at}if(St=$.g=N,at=Et(St,tt,!0,$)&&at,at=Et(St,tt,!1,$)&&at,Q)for(ct=0;ct<Q.length;ct++)St=$.g=Q[ct],at=Et(St,tt,!1,$)&&at}xt.prototype.N=function(){if(xt.aa.N.call(this),this.i){var N=this.i,$;for($ in N.g){for(var Q=N.g[$],tt=0;tt<Q.length;tt++)J(Q[tt]);delete N.g[$],N.h--}}this.F=null},xt.prototype.K=function(N,$,Q,tt){return this.i.add(String(N),$,!1,Q,tt)},xt.prototype.L=function(N,$,Q,tt){return this.i.add(String(N),$,!0,Q,tt)};function Et(N,$,Q,tt){if($=N.i.g[String($)],!$)return!0;$=$.concat();for(var at=!0,ct=0;ct<$.length;++ct){var St=$[ct];if(St&&!St.da&&St.capture==Q){var fe=St.listener,Ve=St.ha||St.src;St.fa&&j(N.i,St),at=fe.call(Ve,tt)!==!1&&at}}return at&&!tt.defaultPrevented}function Lt(N,$,Q){if(typeof N=="function")Q&&(N=a(N,Q));else if(N&&typeof N.handleEvent=="function")N=a(N.handleEvent,N);else throw Error("Invalid listener argument");return 2147483647<Number($)?-1:C.setTimeout(N,$||0)}function Xt(N){N.g=Lt(()=>{N.g=null,N.i&&(N.i=!1,Xt(N))},N.l);const $=N.h;N.h=null,N.m.apply(null,$)}class qt extends H{constructor($,Q){super(),this.m=$,this.l=Q,this.h=null,this.i=!1,this.g=null}j($){this.h=arguments,this.g?this.i=!0:Xt(this)}N(){super.N(),this.g&&(C.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Nt(N){H.call(this),this.h=N,this.g={}}i(Nt,H);var Jt=[];function le(N){y(N.g,function($,Q){this.g.hasOwnProperty(Q)&&ft($)},N),N.g={}}Nt.prototype.N=function(){Nt.aa.N.call(this),le(this)},Nt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var jt=C.JSON.stringify,Pe=C.JSON.parse,Ei=class{stringify(N){return C.JSON.stringify(N,void 0)}parse(N){return C.JSON.parse(N,void 0)}};function Ii(){}Ii.prototype.h=null;function Gi(N){return N.h||(N.h=N.i())}function zi(){}var Nr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function gl(){U.call(this,"d")}i(gl,U);function yl(){U.call(this,"c")}i(yl,U);var fn={},Gd=null;function Ja(){return Gd=Gd||new xt}fn.La="serverreachability";function zd(N){U.call(this,fn.La,N)}i(zd,U);function br(N){const $=Ja();At($,new zd($))}fn.STAT_EVENT="statevent";function Xd(N,$){U.call(this,fn.STAT_EVENT,N),this.stat=$}i(Xd,U);function ti(N){const $=Ja();At($,new Xd($,N))}fn.Ma="timingevent";function Wd(N,$){U.call(this,fn.Ma,N),this.size=$}i(Wd,U);function Br(N,$){if(typeof N!="function")throw Error("Fn must not be null and must be a function");return C.setTimeout(function(){N()},$)}function Vr(){this.g=!0}Vr.prototype.xa=function(){this.g=!1};function n1(N,$,Q,tt,at,ct){N.info(function(){if(N.g)if(ct)for(var St="",fe=ct.split("&"),Ve=0;Ve<fe.length;Ve++){var _t=fe[Ve].split("=");if(1<_t.length){var Ke=_t[0];_t=_t[1];var ke=Ke.split("_");St=2<=ke.length&&ke[1]=="type"?St+(Ke+"="+_t+"&"):St+(Ke+"=redacted&")}}else St=null;else St=ct;return"XMLHTTP REQ ("+tt+") [attempt "+at+"]: "+$+`
`+Q+`
`+St})}function r1(N,$,Q,tt,at,ct,St){N.info(function(){return"XMLHTTP RESP ("+tt+") [ attempt "+at+"]: "+$+`
`+Q+`
`+ct+" "+St})}function $n(N,$,Q,tt){N.info(function(){return"XMLHTTP TEXT ("+$+"): "+o1(N,Q)+(tt?" "+tt:"")})}function a1(N,$){N.info(function(){return"TIMEOUT: "+$})}Vr.prototype.info=function(){};function o1(N,$){if(!N.g)return $;if(!$)return null;try{var Q=JSON.parse($);if(Q){for(N=0;N<Q.length;N++)if(Array.isArray(Q[N])){var tt=Q[N];if(!(2>tt.length)){var at=tt[1];if(Array.isArray(at)&&!(1>at.length)){var ct=at[0];if(ct!="noop"&&ct!="stop"&&ct!="close")for(var St=1;St<at.length;St++)at[St]=""}}}}return jt(Q)}catch{return $}}var Za={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Hd={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},xl;function qa(){}i(qa,Ii),qa.prototype.g=function(){return new XMLHttpRequest},qa.prototype.i=function(){return{}},xl=new qa;function Ps(N,$,Q,tt){this.j=N,this.i=$,this.l=Q,this.R=tt||1,this.U=new Nt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Yd}function Yd(){this.i=null,this.g="",this.h=!1}var $d={},Tl={};function Sl(N,$,Q){N.L=1,N.v=io(es($)),N.m=Q,N.P=!0,Kd(N,null)}function Kd(N,$){N.F=Date.now(),_a(N),N.A=es(N.v);var Q=N.A,tt=N.R;Array.isArray(tt)||(tt=[String(tt)]),ac(Q.i,"t",tt),N.C=0,Q=N.j.J,N.h=new Yd,N.g=Ac(N.j,Q?$:null,!N.m),0<N.O&&(N.M=new qt(a(N.Y,N,N.g),N.O)),$=N.U,Q=N.g,tt=N.ca;var at="readystatechange";Array.isArray(at)||(at&&(Jt[0]=at.toString()),at=Jt);for(var ct=0;ct<at.length;ct++){var St=it(Q,at[ct],tt||$.handleEvent,!1,$.h||$);if(!St)break;$.g[St.key]=St}$=N.H?S(N.H):{},N.m?(N.u||(N.u="POST"),$["Content-Type"]="application/x-www-form-urlencoded",N.g.ea(N.A,N.u,N.m,$)):(N.u="GET",N.g.ea(N.A,N.u,null,$)),br(),n1(N.i,N.u,N.A,N.l,N.R,N.m)}Ps.prototype.ca=function(N){N=N.target;const $=this.M;$&&is(N)==3?$.j():this.Y(N)},Ps.prototype.Y=function(N){try{if(N==this.g)t:{const ke=is(this.g);var $=this.g.Ba();const jn=this.g.Z();if(!(3>ke)&&(ke!=3||this.g&&(this.h.h||this.g.oa()||cc(this.g)))){this.J||ke!=4||$==7||($==8||0>=jn?br(3):br(2)),El(this);var Q=this.g.Z();this.X=Q;e:if(kd(this)){var tt=cc(this.g);N="";var at=tt.length,ct=is(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){dn(this),Ur(this);var St="";break e}this.h.i=new C.TextDecoder}for($=0;$<at;$++)this.h.h=!0,N+=this.h.i.decode(tt[$],{stream:!(ct&&$==at-1)});tt.length=0,this.h.g+=N,this.C=0,St=this.h.g}else St=this.g.oa();if(this.o=Q==200,r1(this.i,this.u,this.A,this.l,this.R,ke,Q),this.o){if(this.T&&!this.K){e:{if(this.g){var fe,Ve=this.g;if((fe=Ve.g?Ve.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!u(fe)){var _t=fe;break e}}_t=null}if(Q=_t)$n(this.i,this.l,Q,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Cl(this,Q);else{this.o=!1,this.s=3,ti(12),dn(this),Ur(this);break t}}if(this.P){Q=!0;let Li;for(;!this.J&&this.C<St.length;)if(Li=h1(this,St),Li==Tl){ke==4&&(this.s=4,ti(14),Q=!1),$n(this.i,this.l,null,"[Incomplete Response]");break}else if(Li==$d){this.s=4,ti(15),$n(this.i,this.l,St,"[Invalid Chunk]"),Q=!1;break}else $n(this.i,this.l,Li,null),Cl(this,Li);if(kd(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ke!=4||St.length!=0||this.h.h||(this.s=1,ti(16),Q=!1),this.o=this.o&&Q,!Q)$n(this.i,this.l,St,"[Invalid Chunked Response]"),dn(this),Ur(this);else if(0<St.length&&!this.W){this.W=!0;var Ke=this.j;Ke.g==this&&Ke.ba&&!Ke.M&&(Ke.j.info("Great, no buffering proxy detected. Bytes received: "+St.length),Il(Ke),Ke.M=!0,ti(11))}}else $n(this.i,this.l,St,null),Cl(this,St);ke==4&&dn(this),this.o&&!this.J&&(ke==4?Tc(this.j,this):(this.o=!1,_a(this)))}else P1(this.g),Q==400&&0<St.indexOf("Unknown SID")?(this.s=3,ti(12)):(this.s=0,ti(13)),dn(this),Ur(this)}}}catch{}finally{}};function kd(N){return N.g?N.u=="GET"&&N.L!=2&&N.j.Ca:!1}function h1(N,$){var Q=N.C,tt=$.indexOf(`
`,Q);return tt==-1?Tl:(Q=Number($.substring(Q,tt)),isNaN(Q)?$d:(tt+=1,tt+Q>$.length?Tl:($=$.slice(tt,tt+Q),N.C=tt+Q,$)))}Ps.prototype.cancel=function(){this.J=!0,dn(this)};function _a(N){N.S=Date.now()+N.I,jd(N,N.I)}function jd(N,$){if(N.B!=null)throw Error("WatchDog timer not null");N.B=Br(a(N.ba,N),$)}function El(N){N.B&&(C.clearTimeout(N.B),N.B=null)}Ps.prototype.ba=function(){this.B=null;const N=Date.now();0<=N-this.S?(a1(this.i,this.A),this.L!=2&&(br(),ti(17)),dn(this),this.s=2,Ur(this)):jd(this,this.S-N)};function Ur(N){N.j.G==0||N.J||Tc(N.j,N)}function dn(N){El(N);var $=N.M;$&&typeof $.ma=="function"&&$.ma(),N.M=null,le(N.U),N.g&&($=N.g,N.g=null,$.abort(),$.ma())}function Cl(N,$){try{var Q=N.j;if(Q.G!=0&&(Q.g==N||Al(Q.h,N))){if(!N.K&&Al(Q.h,N)&&Q.G==3){try{var tt=Q.Da.g.parse($)}catch{tt=null}if(Array.isArray(tt)&&tt.length==3){var at=tt;if(at[0]==0){t:if(!Q.u){if(Q.g)if(Q.g.F+3e3<N.F)ho(Q),ao(Q);else break t;Ml(Q),ti(18)}}else Q.za=at[1],0<Q.za-Q.T&&37500>at[2]&&Q.F&&Q.v==0&&!Q.C&&(Q.C=Br(a(Q.Za,Q),6e3));if(1>=Zd(Q.h)&&Q.ca){try{Q.ca()}catch{}Q.ca=void 0}}else vn(Q,11)}else if((N.K||Q.g==N)&&ho(Q),!u($))for(at=Q.Da.g.parse($),$=0;$<at.length;$++){let _t=at[$];if(Q.T=_t[0],_t=_t[1],Q.G==2)if(_t[0]=="c"){Q.K=_t[1],Q.ia=_t[2];const Ke=_t[3];Ke!=null&&(Q.la=Ke,Q.j.info("VER="+Q.la));const ke=_t[4];ke!=null&&(Q.Aa=ke,Q.j.info("SVER="+Q.Aa));const jn=_t[5];jn!=null&&typeof jn=="number"&&0<jn&&(tt=1.5*jn,Q.L=tt,Q.j.info("backChannelRequestTimeoutMs_="+tt)),tt=Q;const Li=N.g;if(Li){const uo=Li.g?Li.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(uo){var ct=tt.h;ct.g||uo.indexOf("spdy")==-1&&uo.indexOf("quic")==-1&&uo.indexOf("h2")==-1||(ct.j=ct.l,ct.g=new Set,ct.h&&(Pl(ct,ct.h),ct.h=null))}if(tt.D){const Ll=Li.g?Li.g.getResponseHeader("X-HTTP-Session-Id"):null;Ll&&(tt.ya=Ll,me(tt.I,tt.D,Ll))}}Q.G=3,Q.l&&Q.l.ua(),Q.ba&&(Q.R=Date.now()-N.F,Q.j.info("Handshake RTT: "+Q.R+"ms")),tt=Q;var St=N;if(tt.qa=Cc(tt,tt.J?tt.ia:null,tt.W),St.K){qd(tt.h,St);var fe=St,Ve=tt.L;Ve&&(fe.I=Ve),fe.B&&(El(fe),_a(fe)),tt.g=St}else yc(tt);0<Q.i.length&&oo(Q)}else _t[0]!="stop"&&_t[0]!="close"||vn(Q,7);else Q.G==3&&(_t[0]=="stop"||_t[0]=="close"?_t[0]=="stop"?vn(Q,7):wl(Q):_t[0]!="noop"&&Q.l&&Q.l.ta(_t),Q.v=0)}}br(4)}catch{}}var l1=class{constructor(N,$){this.g=N,this.map=$}};function Qd(N){this.l=N||10,C.PerformanceNavigationTiming?(N=C.performance.getEntriesByType("navigation"),N=0<N.length&&(N[0].nextHopProtocol=="hq"||N[0].nextHopProtocol=="h2")):N=!!(C.chrome&&C.chrome.loadTimes&&C.chrome.loadTimes()&&C.chrome.loadTimes().wasFetchedViaSpdy),this.j=N?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Jd(N){return N.h?!0:N.g?N.g.size>=N.j:!1}function Zd(N){return N.h?1:N.g?N.g.size:0}function Al(N,$){return N.h?N.h==$:N.g?N.g.has($):!1}function Pl(N,$){N.g?N.g.add($):N.h=$}function qd(N,$){N.h&&N.h==$?N.h=null:N.g&&N.g.has($)&&N.g.delete($)}Qd.prototype.cancel=function(){if(this.i=_d(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const N of this.g.values())N.cancel();this.g.clear()}};function _d(N){if(N.h!=null)return N.i.concat(N.h.D);if(N.g!=null&&N.g.size!==0){let $=N.i;for(const Q of N.g.values())$=$.concat(Q.D);return $}return n(N.i)}function u1(N){if(N.V&&typeof N.V=="function")return N.V();if(typeof Map<"u"&&N instanceof Map||typeof Set<"u"&&N instanceof Set)return Array.from(N.values());if(typeof N=="string")return N.split("");if(t(N)){for(var $=[],Q=N.length,tt=0;tt<Q;tt++)$.push(N[tt]);return $}$=[],Q=0;for(tt in N)$[Q++]=N[tt];return $}function f1(N){if(N.na&&typeof N.na=="function")return N.na();if(!N.V||typeof N.V!="function"){if(typeof Map<"u"&&N instanceof Map)return Array.from(N.keys());if(!(typeof Set<"u"&&N instanceof Set)){if(t(N)||typeof N=="string"){var $=[];N=N.length;for(var Q=0;Q<N;Q++)$.push(Q);return $}$=[],Q=0;for(const tt in N)$[Q++]=tt;return $}}}function tc(N,$){if(N.forEach&&typeof N.forEach=="function")N.forEach($,void 0);else if(t(N)||typeof N=="string")Array.prototype.forEach.call(N,$,void 0);else for(var Q=f1(N),tt=u1(N),at=tt.length,ct=0;ct<at;ct++)$.call(void 0,tt[ct],Q&&Q[ct],N)}var ec=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function d1(N,$){if(N){N=N.split("&");for(var Q=0;Q<N.length;Q++){var tt=N[Q].indexOf("="),at=null;if(0<=tt){var ct=N[Q].substring(0,tt);at=N[Q].substring(tt+1)}else ct=N[Q];$(ct,at?decodeURIComponent(at.replace(/\+/g," ")):"")}}}function cn(N){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,N instanceof cn){this.h=N.h,to(this,N.j),this.o=N.o,this.g=N.g,eo(this,N.s),this.l=N.l;var $=N.i,Q=new Xr;Q.i=$.i,$.g&&(Q.g=new Map($.g),Q.h=$.h),ic(this,Q),this.m=N.m}else N&&($=String(N).match(ec))?(this.h=!1,to(this,$[1]||"",!0),this.o=Gr($[2]||""),this.g=Gr($[3]||"",!0),eo(this,$[4]),this.l=Gr($[5]||"",!0),ic(this,$[6]||"",!0),this.m=Gr($[7]||"")):(this.h=!1,this.i=new Xr(null,this.h))}cn.prototype.toString=function(){var N=[],$=this.j;$&&N.push(zr($,sc,!0),":");var Q=this.g;return(Q||$=="file")&&(N.push("//"),($=this.o)&&N.push(zr($,sc,!0),"@"),N.push(encodeURIComponent(String(Q)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),Q=this.s,Q!=null&&N.push(":",String(Q))),(Q=this.l)&&(this.g&&Q.charAt(0)!="/"&&N.push("/"),N.push(zr(Q,Q.charAt(0)=="/"?p1:v1,!0))),(Q=this.i.toString())&&N.push("?",Q),(Q=this.m)&&N.push("#",zr(Q,g1)),N.join("")};function es(N){return new cn(N)}function to(N,$,Q){N.j=Q?Gr($,!0):$,N.j&&(N.j=N.j.replace(/:$/,""))}function eo(N,$){if($){if($=Number($),isNaN($)||0>$)throw Error("Bad port number "+$);N.s=$}else N.s=null}function ic(N,$,Q){$ instanceof Xr?(N.i=$,y1(N.i,N.h)):(Q||($=zr($,m1)),N.i=new Xr($,N.h))}function me(N,$,Q){N.i.set($,Q)}function io(N){return me(N,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),N}function Gr(N,$){return N?$?decodeURI(N.replace(/%25/g,"%2525")):decodeURIComponent(N):""}function zr(N,$,Q){return typeof N=="string"?(N=encodeURI(N).replace($,c1),Q&&(N=N.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),N):null}function c1(N){return N=N.charCodeAt(0),"%"+(N>>4&15).toString(16)+(N&15).toString(16)}var sc=/[#\/\?@]/g,v1=/[#\?:]/g,p1=/[#\?]/g,m1=/[#\?@]/g,g1=/#/g;function Xr(N,$){this.h=this.g=null,this.i=N||null,this.j=!!$}function Rs(N){N.g||(N.g=new Map,N.h=0,N.i&&d1(N.i,function($,Q){N.add(decodeURIComponent($.replace(/\+/g," ")),Q)}))}m=Xr.prototype,m.add=function(N,$){Rs(this),this.i=null,N=Kn(this,N);var Q=this.g.get(N);return Q||this.g.set(N,Q=[]),Q.push($),this.h+=1,this};function nc(N,$){Rs(N),$=Kn(N,$),N.g.has($)&&(N.i=null,N.h-=N.g.get($).length,N.g.delete($))}function rc(N,$){return Rs(N),$=Kn(N,$),N.g.has($)}m.forEach=function(N,$){Rs(this),this.g.forEach(function(Q,tt){Q.forEach(function(at){N.call($,at,tt,this)},this)},this)},m.na=function(){Rs(this);const N=Array.from(this.g.values()),$=Array.from(this.g.keys()),Q=[];for(let tt=0;tt<$.length;tt++){const at=N[tt];for(let ct=0;ct<at.length;ct++)Q.push($[tt])}return Q},m.V=function(N){Rs(this);let $=[];if(typeof N=="string")rc(this,N)&&($=$.concat(this.g.get(Kn(this,N))));else{N=Array.from(this.g.values());for(let Q=0;Q<N.length;Q++)$=$.concat(N[Q])}return $},m.set=function(N,$){return Rs(this),this.i=null,N=Kn(this,N),rc(this,N)&&(this.h-=this.g.get(N).length),this.g.set(N,[$]),this.h+=1,this},m.get=function(N,$){return N?(N=this.V(N),0<N.length?String(N[0]):$):$};function ac(N,$,Q){nc(N,$),0<Q.length&&(N.i=null,N.g.set(Kn(N,$),n(Q)),N.h+=Q.length)}m.toString=function(){if(this.i)return this.i;if(!this.g)return"";const N=[],$=Array.from(this.g.keys());for(var Q=0;Q<$.length;Q++){var tt=$[Q];const ct=encodeURIComponent(String(tt)),St=this.V(tt);for(tt=0;tt<St.length;tt++){var at=ct;St[tt]!==""&&(at+="="+encodeURIComponent(String(St[tt]))),N.push(at)}}return this.i=N.join("&")};function Kn(N,$){return $=String($),N.j&&($=$.toLowerCase()),$}function y1(N,$){$&&!N.j&&(Rs(N),N.i=null,N.g.forEach(function(Q,tt){var at=tt.toLowerCase();tt!=at&&(nc(this,tt),ac(this,at,Q))},N)),N.j=$}function x1(N,$){const Q=new Vr;if(C.Image){const tt=new Image;tt.onload=r(ws,Q,"TestLoadImage: loaded",!0,$,tt),tt.onerror=r(ws,Q,"TestLoadImage: error",!1,$,tt),tt.onabort=r(ws,Q,"TestLoadImage: abort",!1,$,tt),tt.ontimeout=r(ws,Q,"TestLoadImage: timeout",!1,$,tt),C.setTimeout(function(){tt.ontimeout&&tt.ontimeout()},1e4),tt.src=N}else $(!1)}function T1(N,$){const Q=new Vr,tt=new AbortController,at=setTimeout(()=>{tt.abort(),ws(Q,"TestPingServer: timeout",!1,$)},1e4);fetch(N,{signal:tt.signal}).then(ct=>{clearTimeout(at),ct.ok?ws(Q,"TestPingServer: ok",!0,$):ws(Q,"TestPingServer: server error",!1,$)}).catch(()=>{clearTimeout(at),ws(Q,"TestPingServer: error",!1,$)})}function ws(N,$,Q,tt,at){try{at&&(at.onload=null,at.onerror=null,at.onabort=null,at.ontimeout=null),tt(Q)}catch{}}function S1(){this.g=new Ei}function E1(N,$,Q){const tt=Q||"";try{tc(N,function(at,ct){let St=at;h(at)&&(St=jt(at)),$.push(tt+ct+"="+encodeURIComponent(St))})}catch(at){throw $.push(tt+"type="+encodeURIComponent("_badmap")),at}}function so(N){this.l=N.Ub||null,this.j=N.eb||!1}i(so,Ii),so.prototype.g=function(){return new no(this.l,this.j)},so.prototype.i=function(N){return function(){return N}}({});function no(N,$){xt.call(this),this.D=N,this.o=$,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}i(no,xt),m=no.prototype,m.open=function(N,$){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=N,this.A=$,this.readyState=1,Hr(this)},m.send=function(N){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const $={headers:this.u,method:this.B,credentials:this.m,cache:void 0};N&&($.body=N),(this.D||C).fetch(new Request(this.A,$)).then(this.Sa.bind(this),this.ga.bind(this))},m.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Wr(this)),this.readyState=0},m.Sa=function(N){if(this.g&&(this.l=N,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=N.headers,this.readyState=2,Hr(this)),this.g&&(this.readyState=3,Hr(this),this.g)))if(this.responseType==="arraybuffer")N.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof C.ReadableStream<"u"&&"body"in N){if(this.j=N.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;oc(this)}else N.text().then(this.Ra.bind(this),this.ga.bind(this))};function oc(N){N.j.read().then(N.Pa.bind(N)).catch(N.ga.bind(N))}m.Pa=function(N){if(this.g){if(this.o&&N.value)this.response.push(N.value);else if(!this.o){var $=N.value?N.value:new Uint8Array(0);($=this.v.decode($,{stream:!N.done}))&&(this.response=this.responseText+=$)}N.done?Wr(this):Hr(this),this.readyState==3&&oc(this)}},m.Ra=function(N){this.g&&(this.response=this.responseText=N,Wr(this))},m.Qa=function(N){this.g&&(this.response=N,Wr(this))},m.ga=function(){this.g&&Wr(this)};function Wr(N){N.readyState=4,N.l=null,N.j=null,N.v=null,Hr(N)}m.setRequestHeader=function(N,$){this.u.append(N,$)},m.getResponseHeader=function(N){return this.h&&this.h.get(N.toLowerCase())||""},m.getAllResponseHeaders=function(){if(!this.h)return"";const N=[],$=this.h.entries();for(var Q=$.next();!Q.done;)Q=Q.value,N.push(Q[0]+": "+Q[1]),Q=$.next();return N.join(`\r
`)};function Hr(N){N.onreadystatechange&&N.onreadystatechange.call(N)}Object.defineProperty(no.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(N){this.m=N?"include":"same-origin"}});function hc(N){let $="";return y(N,function(Q,tt){$+=tt,$+=":",$+=Q,$+=`\r
`}),$}function Rl(N,$,Q){t:{for(tt in Q){var tt=!1;break t}tt=!0}tt||(Q=hc(Q),typeof N=="string"?Q!=null&&encodeURIComponent(String(Q)):me(N,$,Q))}function Ee(N){xt.call(this),this.headers=new Map,this.o=N||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}i(Ee,xt);var C1=/^https?$/i,A1=["POST","PUT"];m=Ee.prototype,m.Ha=function(N){this.J=N},m.ea=function(N,$,Q,tt){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+N);$=$?$.toUpperCase():"GET",this.D=N,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():xl.g(),this.v=this.o?Gi(this.o):Gi(xl),this.g.onreadystatechange=a(this.Ea,this);try{this.B=!0,this.g.open($,String(N),!0),this.B=!1}catch(ct){lc(this,ct);return}if(N=Q||"",Q=new Map(this.headers),tt)if(Object.getPrototypeOf(tt)===Object.prototype)for(var at in tt)Q.set(at,tt[at]);else if(typeof tt.keys=="function"&&typeof tt.get=="function")for(const ct of tt.keys())Q.set(ct,tt.get(ct));else throw Error("Unknown input type for opt_headers: "+String(tt));tt=Array.from(Q.keys()).find(ct=>ct.toLowerCase()=="content-type"),at=C.FormData&&N instanceof C.FormData,!(0<=Array.prototype.indexOf.call(A1,$,void 0))||tt||at||Q.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ct,St]of Q)this.g.setRequestHeader(ct,St);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{dc(this),this.u=!0,this.g.send(N),this.u=!1}catch(ct){lc(this,ct)}};function lc(N,$){N.h=!1,N.g&&(N.j=!0,N.g.abort(),N.j=!1),N.l=$,N.m=5,uc(N),ro(N)}function uc(N){N.A||(N.A=!0,At(N,"complete"),At(N,"error"))}m.abort=function(N){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=N||7,At(this,"complete"),At(this,"abort"),ro(this))},m.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ro(this,!0)),Ee.aa.N.call(this)},m.Ea=function(){this.s||(this.B||this.u||this.j?fc(this):this.bb())},m.bb=function(){fc(this)};function fc(N){if(N.h&&typeof f<"u"&&(!N.v[1]||is(N)!=4||N.Z()!=2)){if(N.u&&is(N)==4)Lt(N.Ea,0,N);else if(At(N,"readystatechange"),is(N)==4){N.h=!1;try{const St=N.Z();t:switch(St){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var $=!0;break t;default:$=!1}var Q;if(!(Q=$)){var tt;if(tt=St===0){var at=String(N.D).match(ec)[1]||null;!at&&C.self&&C.self.location&&(at=C.self.location.protocol.slice(0,-1)),tt=!C1.test(at?at.toLowerCase():"")}Q=tt}if(Q)At(N,"complete"),At(N,"success");else{N.m=6;try{var ct=2<is(N)?N.g.statusText:""}catch{ct=""}N.l=ct+" ["+N.Z()+"]",uc(N)}}finally{ro(N)}}}}function ro(N,$){if(N.g){dc(N);const Q=N.g,tt=N.v[0]?()=>{}:null;N.g=null,N.v=null,$||At(N,"ready");try{Q.onreadystatechange=tt}catch{}}}function dc(N){N.I&&(C.clearTimeout(N.I),N.I=null)}m.isActive=function(){return!!this.g};function is(N){return N.g?N.g.readyState:0}m.Z=function(){try{return 2<is(this)?this.g.status:-1}catch{return-1}},m.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},m.Oa=function(N){if(this.g){var $=this.g.responseText;return N&&$.indexOf(N)==0&&($=$.substring(N.length)),Pe($)}};function cc(N){try{if(!N.g)return null;if("response"in N.g)return N.g.response;switch(N.H){case"":case"text":return N.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in N.g)return N.g.mozResponseArrayBuffer}return null}catch{return null}}function P1(N){const $={};N=(N.g&&2<=is(N)&&N.g.getAllResponseHeaders()||"").split(`\r
`);for(let tt=0;tt<N.length;tt++){if(u(N[tt]))continue;var Q=R(N[tt]);const at=Q[0];if(Q=Q[1],typeof Q!="string")continue;Q=Q.trim();const ct=$[at]||[];$[at]=ct,ct.push(Q)}x($,function(tt){return tt.join(", ")})}m.Ba=function(){return this.m},m.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Yr(N,$,Q){return Q&&Q.internalChannelParams&&Q.internalChannelParams[N]||$}function vc(N){this.Aa=0,this.i=[],this.j=new Vr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Yr("failFast",!1,N),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Yr("baseRetryDelayMs",5e3,N),this.cb=Yr("retryDelaySeedMs",1e4,N),this.Wa=Yr("forwardChannelMaxRetries",2,N),this.wa=Yr("forwardChannelRequestTimeoutMs",2e4,N),this.pa=N&&N.xmlHttpFactory||void 0,this.Xa=N&&N.Tb||void 0,this.Ca=N&&N.useFetchStreams||!1,this.L=void 0,this.J=N&&N.supportsCrossDomainXhr||!1,this.K="",this.h=new Qd(N&&N.concurrentRequestLimit),this.Da=new S1,this.P=N&&N.fastHandshake||!1,this.O=N&&N.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=N&&N.Rb||!1,N&&N.xa&&this.j.xa(),N&&N.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&N&&N.detectBufferingProxy||!1,this.ja=void 0,N&&N.longPollingTimeout&&0<N.longPollingTimeout&&(this.ja=N.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}m=vc.prototype,m.la=8,m.G=1,m.connect=function(N,$,Q,tt){ti(0),this.W=N,this.H=$||{},Q&&tt!==void 0&&(this.H.OSID=Q,this.H.OAID=tt),this.F=this.X,this.I=Cc(this,null,this.W),oo(this)};function wl(N){if(pc(N),N.G==3){var $=N.U++,Q=es(N.I);if(me(Q,"SID",N.K),me(Q,"RID",$),me(Q,"TYPE","terminate"),$r(N,Q),$=new Ps(N,N.j,$),$.L=2,$.v=io(es(Q)),Q=!1,C.navigator&&C.navigator.sendBeacon)try{Q=C.navigator.sendBeacon($.v.toString(),"")}catch{}!Q&&C.Image&&(new Image().src=$.v,Q=!0),Q||($.g=Ac($.j,null),$.g.ea($.v)),$.F=Date.now(),_a($)}Ec(N)}function ao(N){N.g&&(Il(N),N.g.cancel(),N.g=null)}function pc(N){ao(N),N.u&&(C.clearTimeout(N.u),N.u=null),ho(N),N.h.cancel(),N.s&&(typeof N.s=="number"&&C.clearTimeout(N.s),N.s=null)}function oo(N){if(!Jd(N.h)&&!N.s){N.s=!0;var $=N.Ga;D||W(),b||(D(),b=!0),G.add($,N),N.B=0}}function R1(N,$){return Zd(N.h)>=N.h.j-(N.s?1:0)?!1:N.s?(N.i=$.D.concat(N.i),!0):N.G==1||N.G==2||N.B>=(N.Va?0:N.Wa)?!1:(N.s=Br(a(N.Ga,N,$),Sc(N,N.B)),N.B++,!0)}m.Ga=function(N){if(this.s)if(this.s=null,this.G==1){if(!N){this.U=Math.floor(1e5*Math.random()),N=this.U++;const at=new Ps(this,this.j,N);let ct=this.o;if(this.S&&(ct?(ct=S(ct),A(ct,this.S)):ct=this.S),this.m!==null||this.O||(at.H=ct,ct=null),this.P)t:{for(var $=0,Q=0;Q<this.i.length;Q++){e:{var tt=this.i[Q];if("__data__"in tt.map&&(tt=tt.map.__data__,typeof tt=="string")){tt=tt.length;break e}tt=void 0}if(tt===void 0)break;if($+=tt,4096<$){$=Q;break t}if($===4096||Q===this.i.length-1){$=Q+1;break t}}$=1e3}else $=1e3;$=gc(this,at,$),Q=es(this.I),me(Q,"RID",N),me(Q,"CVER",22),this.D&&me(Q,"X-HTTP-Session-Id",this.D),$r(this,Q),ct&&(this.O?$="headers="+encodeURIComponent(String(hc(ct)))+"&"+$:this.m&&Rl(Q,this.m,ct)),Pl(this.h,at),this.Ua&&me(Q,"TYPE","init"),this.P?(me(Q,"$req",$),me(Q,"SID","null"),at.T=!0,Sl(at,Q,null)):Sl(at,Q,$),this.G=2}}else this.G==3&&(N?mc(this,N):this.i.length==0||Jd(this.h)||mc(this))};function mc(N,$){var Q;$?Q=$.l:Q=N.U++;const tt=es(N.I);me(tt,"SID",N.K),me(tt,"RID",Q),me(tt,"AID",N.T),$r(N,tt),N.m&&N.o&&Rl(tt,N.m,N.o),Q=new Ps(N,N.j,Q,N.B+1),N.m===null&&(Q.H=N.o),$&&(N.i=$.D.concat(N.i)),$=gc(N,Q,1e3),Q.I=Math.round(.5*N.wa)+Math.round(.5*N.wa*Math.random()),Pl(N.h,Q),Sl(Q,tt,$)}function $r(N,$){N.H&&y(N.H,function(Q,tt){me($,tt,Q)}),N.l&&tc({},function(Q,tt){me($,tt,Q)})}function gc(N,$,Q){Q=Math.min(N.i.length,Q);var tt=N.l?a(N.l.Na,N.l,N):null;t:{var at=N.i;let ct=-1;for(;;){const St=["count="+Q];ct==-1?0<Q?(ct=at[0].g,St.push("ofs="+ct)):ct=0:St.push("ofs="+ct);let fe=!0;for(let Ve=0;Ve<Q;Ve++){let _t=at[Ve].g;const Ke=at[Ve].map;if(_t-=ct,0>_t)ct=Math.max(0,at[Ve].g-100),fe=!1;else try{E1(Ke,St,"req"+_t+"_")}catch{tt&&tt(Ke)}}if(fe){tt=St.join("&");break t}}}return N=N.i.splice(0,Q),$.D=N,tt}function yc(N){if(!N.g&&!N.u){N.Y=1;var $=N.Fa;D||W(),b||(D(),b=!0),G.add($,N),N.v=0}}function Ml(N){return N.g||N.u||3<=N.v?!1:(N.Y++,N.u=Br(a(N.Fa,N),Sc(N,N.v)),N.v++,!0)}m.Fa=function(){if(this.u=null,xc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var N=2*this.R;this.j.info("BP detection timer enabled: "+N),this.A=Br(a(this.ab,this),N)}},m.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ti(10),ao(this),xc(this))};function Il(N){N.A!=null&&(C.clearTimeout(N.A),N.A=null)}function xc(N){N.g=new Ps(N,N.j,"rpc",N.Y),N.m===null&&(N.g.H=N.o),N.g.O=0;var $=es(N.qa);me($,"RID","rpc"),me($,"SID",N.K),me($,"AID",N.T),me($,"CI",N.F?"0":"1"),!N.F&&N.ja&&me($,"TO",N.ja),me($,"TYPE","xmlhttp"),$r(N,$),N.m&&N.o&&Rl($,N.m,N.o),N.L&&(N.g.I=N.L);var Q=N.g;N=N.ia,Q.L=1,Q.v=io(es($)),Q.m=null,Q.P=!0,Kd(Q,N)}m.Za=function(){this.C!=null&&(this.C=null,ao(this),Ml(this),ti(19))};function ho(N){N.C!=null&&(C.clearTimeout(N.C),N.C=null)}function Tc(N,$){var Q=null;if(N.g==$){ho(N),Il(N),N.g=null;var tt=2}else if(Al(N.h,$))Q=$.D,qd(N.h,$),tt=1;else return;if(N.G!=0){if($.o)if(tt==1){Q=$.m?$.m.length:0,$=Date.now()-$.F;var at=N.B;tt=Ja(),At(tt,new Wd(tt,Q)),oo(N)}else yc(N);else if(at=$.s,at==3||at==0&&0<$.X||!(tt==1&&R1(N,$)||tt==2&&Ml(N)))switch(Q&&0<Q.length&&($=N.h,$.i=$.i.concat(Q)),at){case 1:vn(N,5);break;case 4:vn(N,10);break;case 3:vn(N,6);break;default:vn(N,2)}}}function Sc(N,$){let Q=N.Ta+Math.floor(Math.random()*N.cb);return N.isActive()||(Q*=2),Q*$}function vn(N,$){if(N.j.info("Error code "+$),$==2){var Q=a(N.fb,N),tt=N.Xa;const at=!tt;tt=new cn(tt||"//www.google.com/images/cleardot.gif"),C.location&&C.location.protocol=="http"||to(tt,"https"),io(tt),at?x1(tt.toString(),Q):T1(tt.toString(),Q)}else ti(2);N.G=0,N.l&&N.l.sa($),Ec(N),pc(N)}m.fb=function(N){N?(this.j.info("Successfully pinged google.com"),ti(2)):(this.j.info("Failed to ping google.com"),ti(1))};function Ec(N){if(N.G=0,N.ka=[],N.l){const $=_d(N.h);($.length!=0||N.i.length!=0)&&(l(N.ka,$),l(N.ka,N.i),N.h.i.length=0,n(N.i),N.i.length=0),N.l.ra()}}function Cc(N,$,Q){var tt=Q instanceof cn?es(Q):new cn(Q);if(tt.g!="")$&&(tt.g=$+"."+tt.g),eo(tt,tt.s);else{var at=C.location;tt=at.protocol,$=$?$+"."+at.hostname:at.hostname,at=+at.port;var ct=new cn(null);tt&&to(ct,tt),$&&(ct.g=$),at&&eo(ct,at),Q&&(ct.l=Q),tt=ct}return Q=N.D,$=N.ya,Q&&$&&me(tt,Q,$),me(tt,"VER",N.la),$r(N,tt),tt}function Ac(N,$,Q){if($&&!N.J)throw Error("Can't create secondary domain capable XhrIo object.");return $=N.Ca&&!N.pa?new Ee(new so({eb:Q})):new Ee(N.pa),$.Ha(N.J),$}m.isActive=function(){return!!this.l&&this.l.isActive(this)};function Pc(){}m=Pc.prototype,m.ua=function(){},m.ta=function(){},m.sa=function(){},m.ra=function(){},m.isActive=function(){return!0},m.Na=function(){};function lo(){}lo.prototype.g=function(N,$){return new mi(N,$)};function mi(N,$){xt.call(this),this.g=new vc($),this.l=N,this.h=$&&$.messageUrlParams||null,N=$&&$.messageHeaders||null,$&&$.clientProtocolHeaderRequired&&(N?N["X-Client-Protocol"]="webchannel":N={"X-Client-Protocol":"webchannel"}),this.g.o=N,N=$&&$.initMessageHeaders||null,$&&$.messageContentType&&(N?N["X-WebChannel-Content-Type"]=$.messageContentType:N={"X-WebChannel-Content-Type":$.messageContentType}),$&&$.va&&(N?N["X-WebChannel-Client-Profile"]=$.va:N={"X-WebChannel-Client-Profile":$.va}),this.g.S=N,(N=$&&$.Sb)&&!u(N)&&(this.g.m=N),this.v=$&&$.supportsCrossDomainXhr||!1,this.u=$&&$.sendRawJson||!1,($=$&&$.httpSessionIdParam)&&!u($)&&(this.g.D=$,N=this.h,N!==null&&$ in N&&(N=this.h,$ in N&&delete N[$])),this.j=new kn(this)}i(mi,xt),mi.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},mi.prototype.close=function(){wl(this.g)},mi.prototype.o=function(N){var $=this.g;if(typeof N=="string"){var Q={};Q.__data__=N,N=Q}else this.u&&(Q={},Q.__data__=jt(N),N=Q);$.i.push(new l1($.Ya++,N)),$.G==3&&oo($)},mi.prototype.N=function(){this.g.l=null,delete this.j,wl(this.g),delete this.g,mi.aa.N.call(this)};function Rc(N){gl.call(this),N.__headers__&&(this.headers=N.__headers__,this.statusCode=N.__status__,delete N.__headers__,delete N.__status__);var $=N.__sm__;if($){t:{for(const Q in $){N=Q;break t}N=void 0}(this.i=N)&&(N=this.i,$=$!==null&&N in $?$[N]:void 0),this.data=$}else this.data=N}i(Rc,gl);function wc(){yl.call(this),this.status=1}i(wc,yl);function kn(N){this.g=N}i(kn,Pc),kn.prototype.ua=function(){At(this.g,"a")},kn.prototype.ta=function(N){At(this.g,new Rc(N))},kn.prototype.sa=function(N){At(this.g,new wc)},kn.prototype.ra=function(){At(this.g,"b")},lo.prototype.createWebChannel=lo.prototype.g,mi.prototype.send=mi.prototype.o,mi.prototype.open=mi.prototype.m,mi.prototype.close=mi.prototype.close,p0=function(){return new lo},v0=function(){return Ja()},c0=fn,Nu={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Za.NO_ERROR=0,Za.TIMEOUT=8,Za.HTTP_ERROR=6,Oo=Za,Hd.COMPLETE="complete",d0=Hd,zi.EventType=Nr,Nr.OPEN="a",Nr.CLOSE="b",Nr.ERROR="c",Nr.MESSAGE="d",xt.prototype.listen=xt.prototype.K,Qr=zi,Ee.prototype.listenOnce=Ee.prototype.L,Ee.prototype.getLastError=Ee.prototype.Ka,Ee.prototype.getLastErrorCode=Ee.prototype.Ba,Ee.prototype.getStatus=Ee.prototype.Z,Ee.prototype.getResponseJson=Ee.prototype.Oa,Ee.prototype.getResponseText=Ee.prototype.oa,Ee.prototype.send=Ee.prototype.ea,Ee.prototype.setWithCredentials=Ee.prototype.Ha,f0=Ee}).apply(typeof yo<"u"?yo:typeof self<"u"?self:typeof window<"u"?window:{});const Dv="@firebase/firestore",Nv="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ai.UNAUTHENTICATED=new ai(null),ai.GOOGLE_CREDENTIALS=new ai("google-credentials-uid"),ai.FIRST_PARTY=new ai("first-party-uid"),ai.MOCK_USER=new ai("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mr="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const On=new Ga("@firebase/firestore");function qn(){return On.logLevel}function Pt(m,...e){if(On.logLevel<=Wt.DEBUG){const p=e.map(Of);On.debug(`Firestore (${Mr}): ${m}`,...p)}}function gs(m,...e){if(On.logLevel<=Wt.ERROR){const p=e.map(Of);On.error(`Firestore (${Mr}): ${m}`,...p)}}function wa(m,...e){if(On.logLevel<=Wt.WARN){const p=e.map(Of);On.warn(`Firestore (${Mr}): ${m}`,...p)}}function Of(m){if(typeof m=="string")return m;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(p){return JSON.stringify(p)}(m)}catch{return m}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dt(m="Unexpected state"){const e=`FIRESTORE (${Mr}) INTERNAL ASSERTION FAILED: `+m;throw gs(e),new Error(e)}function oe(m,e){m||Dt()}function zt(m,e){return m}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Rt extends Si{constructor(e,p){super(e,p),this.code=e,this.message=p,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(){this.promise=new Promise((e,p)=>{this.resolve=e,this.reject=p})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{constructor(e,p){this.user=p,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class xA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,p){e.enqueueRetryable(()=>p(ai.UNAUTHENTICATED))}shutdown(){}}class TA{constructor(e){this.t=e,this.currentUser=ai.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,p){oe(this.o===void 0);let T=this.i;const P=t=>this.i!==T?(T=this.i,p(t)):Promise.resolve();let M=new vs;this.o=()=>{this.i++,this.currentUser=this.u(),M.resolve(),M=new vs,e.enqueueRetryable(()=>P(this.currentUser))};const f=()=>{const t=M;e.enqueueRetryable(async()=>{await t.promise,await P(this.currentUser)})},C=t=>{Pt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=t,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(t=>C(t)),setTimeout(()=>{if(!this.auth){const t=this.t.getImmediate({optional:!0});t?C(t):(Pt("FirebaseAuthCredentialsProvider","Auth not yet detected"),M.resolve(),M=new vs)}},0),f()}getToken(){const e=this.i,p=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(p).then(T=>this.i!==e?(Pt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):T?(oe(typeof T.accessToken=="string"),new yA(T.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return oe(e===null||typeof e=="string"),new ai(e)}}class SA{constructor(e,p,T){this.l=e,this.h=p,this.P=T,this.type="FirstParty",this.user=ai.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class EA{constructor(e,p,T){this.l=e,this.h=p,this.P=T}getToken(){return Promise.resolve(new SA(this.l,this.h,this.P))}start(e,p){e.enqueueRetryable(()=>p(ai.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class bv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class CA{constructor(e,p){this.A=p,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Xe(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,p){oe(this.o===void 0);const T=M=>{M.error!=null&&Pt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${M.error.message}`);const f=M.token!==this.R;return this.R=M.token,Pt("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?p(M.token):Promise.resolve()};this.o=M=>{e.enqueueRetryable(()=>T(M))};const P=M=>{Pt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=M,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(M=>P(M)),setTimeout(()=>{if(!this.appCheck){const M=this.A.getImmediate({optional:!0});M?P(M):Pt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new bv(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(p=>p?(oe(typeof p.token=="string"),this.R=p.token,new bv(p.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AA(m){const e=typeof self<"u"&&(self.crypto||self.msCrypto),p=new Uint8Array(m);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(p);else for(let T=0;T<m;T++)p[T]=Math.floor(256*Math.random());return p}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",p=62*Math.floor(4.129032258064516);let T="";for(;T.length<20;){const P=AA(40);for(let M=0;M<P.length;++M)T.length<20&&P[M]<p&&(T+=e.charAt(P[M]%62))}return T}}function kt(m,e){return m<e?-1:m>e?1:0}function yr(m,e,p){return m.length===e.length&&m.every((T,P)=>p(T,e[P]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bv=-62135596800,Vv=1e6;class Fe{static now(){return Fe.fromMillis(Date.now())}static fromDate(e){return Fe.fromMillis(e.getTime())}static fromMillis(e){const p=Math.floor(e/1e3),T=Math.floor((e-1e3*p)*Vv);return new Fe(p,T)}constructor(e,p){if(this.seconds=e,this.nanoseconds=p,p<0)throw new Rt(pt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+p);if(p>=1e9)throw new Rt(pt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+p);if(e<Bv)throw new Rt(pt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Rt(pt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Vv}_compareTo(e){return this.seconds===e.seconds?kt(this.nanoseconds,e.nanoseconds):kt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Bv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{static fromTimestamp(e){return new Ut(e)}static min(){return new Ut(new Fe(0,0))}static max(){return new Ut(new Fe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uv="__name__";class Yi{constructor(e,p,T){p===void 0?p=0:p>e.length&&Dt(),T===void 0?T=e.length-p:T>e.length-p&&Dt(),this.segments=e,this.offset=p,this.len=T}get length(){return this.len}isEqual(e){return Yi.comparator(this,e)===0}child(e){const p=this.segments.slice(this.offset,this.limit());return e instanceof Yi?e.forEach(T=>{p.push(T)}):p.push(e),this.construct(p)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let p=0;p<this.length;p++)if(this.get(p)!==e.get(p))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let p=0;p<this.length;p++)if(this.get(p)!==e.get(p))return!1;return!0}forEach(e){for(let p=this.offset,T=this.limit();p<T;p++)e(this.segments[p])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,p){const T=Math.min(e.length,p.length);for(let P=0;P<T;P++){const M=Yi.compareSegments(e.get(P),p.get(P));if(M!==0)return M}return Math.sign(e.length-p.length)}static compareSegments(e,p){const T=Yi.isNumericId(e),P=Yi.isNumericId(p);return T&&!P?-1:!T&&P?1:T&&P?Yi.extractNumericId(e).compare(Yi.extractNumericId(p)):e<p?-1:e>p?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ys.fromString(e.substring(4,e.length-2))}}class ge extends Yi{construct(e,p,T){return new ge(e,p,T)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const p=[];for(const T of e){if(T.indexOf("//")>=0)throw new Rt(pt.INVALID_ARGUMENT,`Invalid segment (${T}). Paths must not contain // in them.`);p.push(...T.split("/").filter(P=>P.length>0))}return new ge(p)}static emptyPath(){return new ge([])}}const PA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class We extends Yi{construct(e,p,T){return new We(e,p,T)}static isValidIdentifier(e){return PA.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),We.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Uv}static keyField(){return new We([Uv])}static fromServerFormat(e){const p=[];let T="",P=0;const M=()=>{if(T.length===0)throw new Rt(pt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);p.push(T),T=""};let f=!1;for(;P<e.length;){const C=e[P];if(C==="\\"){if(P+1===e.length)throw new Rt(pt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[P+1];if(t!=="\\"&&t!=="."&&t!=="`")throw new Rt(pt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);T+=t,P+=2}else C==="`"?(f=!f,P++):C!=="."||f?(T+=C,P++):(M(),P++)}if(M(),f)throw new Rt(pt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new We(p)}static emptyPath(){return new We([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.path=e}static fromPath(e){return new Ft(ge.fromString(e))}static fromName(e){return new Ft(ge.fromString(e).popFirst(5))}static empty(){return new Ft(ge.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ge.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,p){return ge.comparator(e.path,p.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ft(new ge(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ma=-1;function RA(m,e){const p=m.toTimestamp().seconds,T=m.toTimestamp().nanoseconds+1,P=Ut.fromTimestamp(T===1e9?new Fe(p+1,0):new Fe(p,T));return new Zs(P,Ft.empty(),e)}function wA(m){return new Zs(m.readTime,m.key,Ma)}class Zs{constructor(e,p,T){this.readTime=e,this.documentKey=p,this.largestBatchId=T}static min(){return new Zs(Ut.min(),Ft.empty(),Ma)}static max(){return new Zs(Ut.max(),Ft.empty(),Ma)}}function MA(m,e){let p=m.readTime.compareTo(e.readTime);return p!==0?p:(p=Ft.comparator(m.documentKey,e.documentKey),p!==0?p:kt(m.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class LA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ir(m){if(m.code!==pt.FAILED_PRECONDITION||m.message!==IA)throw m;Pt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(p=>{this.isDone=!0,this.result=p,this.nextCallback&&this.nextCallback(p)},p=>{this.isDone=!0,this.error=p,this.catchCallback&&this.catchCallback(p)})}catch(e){return this.next(void 0,e)}next(e,p){return this.callbackAttached&&Dt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(p,this.error):this.wrapSuccess(e,this.result):new mt((T,P)=>{this.nextCallback=M=>{this.wrapSuccess(e,M).next(T,P)},this.catchCallback=M=>{this.wrapFailure(p,M).next(T,P)}})}toPromise(){return new Promise((e,p)=>{this.next(e,p)})}wrapUserFunction(e){try{const p=e();return p instanceof mt?p:mt.resolve(p)}catch(p){return mt.reject(p)}}wrapSuccess(e,p){return e?this.wrapUserFunction(()=>e(p)):mt.resolve(p)}wrapFailure(e,p){return e?this.wrapUserFunction(()=>e(p)):mt.reject(p)}static resolve(e){return new mt((p,T)=>{p(e)})}static reject(e){return new mt((p,T)=>{T(e)})}static waitFor(e){return new mt((p,T)=>{let P=0,M=0,f=!1;e.forEach(C=>{++P,C.next(()=>{++M,f&&M===P&&p()},t=>T(t))}),f=!0,M===P&&p()})}static or(e){let p=mt.resolve(!1);for(const T of e)p=p.next(P=>P?mt.resolve(P):T());return p}static forEach(e,p){const T=[];return e.forEach((P,M)=>{T.push(p.call(this,P,M))}),this.waitFor(T)}static mapArray(e,p){return new mt((T,P)=>{const M=e.length,f=new Array(M);let C=0;for(let t=0;t<M;t++){const h=t;p(e[h]).next(g=>{f[h]=g,++C,C===M&&T(f)},g=>P(g))}})}static doWhile(e,p){return new mt((T,P)=>{const M=()=>{e()===!0?p().next(()=>{M()},P):T()};M()})}}function FA(m){const e=m.match(/Android ([\d.]+)/i),p=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(p)}function Lr(m){return m.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e,p){this.previousValue=e,p&&(p.sequenceNumberHandler=T=>this.oe(T),this._e=T=>p.writeSequenceNumber(T))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Kh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Df=-1;function kh(m){return m==null}function ih(m){return m===0&&1/m==-1/0}function OA(m){return typeof m=="number"&&Number.isInteger(m)&&!ih(m)&&m<=Number.MAX_SAFE_INTEGER&&m>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g0="";function DA(m){let e="";for(let p=0;p<m.length;p++)e.length>0&&(e=Gv(e)),e=NA(m.get(p),e);return Gv(e)}function NA(m,e){let p=e;const T=m.length;for(let P=0;P<T;P++){const M=m.charAt(P);switch(M){case"\0":p+="";break;case g0:p+="";break;default:p+=M}}return p}function Gv(m){return m+g0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zv(m){let e=0;for(const p in m)Object.prototype.hasOwnProperty.call(m,p)&&e++;return e}function ln(m,e){for(const p in m)Object.prototype.hasOwnProperty.call(m,p)&&e(p,m[p])}function y0(m){for(const e in m)if(Object.prototype.hasOwnProperty.call(m,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e,p){this.comparator=e,this.root=p||Ge.EMPTY}insert(e,p){return new Se(this.comparator,this.root.insert(e,p,this.comparator).copy(null,null,Ge.BLACK,null,null))}remove(e){return new Se(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ge.BLACK,null,null))}get(e){let p=this.root;for(;!p.isEmpty();){const T=this.comparator(e,p.key);if(T===0)return p.value;T<0?p=p.left:T>0&&(p=p.right)}return null}indexOf(e){let p=0,T=this.root;for(;!T.isEmpty();){const P=this.comparator(e,T.key);if(P===0)return p+T.left.size;P<0?T=T.left:(p+=T.left.size+1,T=T.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((p,T)=>(e(p,T),!1))}toString(){const e=[];return this.inorderTraversal((p,T)=>(e.push(`${p}:${T}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new xo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new xo(this.root,e,this.comparator,!1)}getReverseIterator(){return new xo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new xo(this.root,e,this.comparator,!0)}}class xo{constructor(e,p,T,P){this.isReverse=P,this.nodeStack=[];let M=1;for(;!e.isEmpty();)if(M=p?T(e.key,p):1,p&&P&&(M*=-1),M<0)e=this.isReverse?e.left:e.right;else{if(M===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const p={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return p}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ge{constructor(e,p,T,P,M){this.key=e,this.value=p,this.color=T??Ge.RED,this.left=P??Ge.EMPTY,this.right=M??Ge.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,p,T,P,M){return new Ge(e??this.key,p??this.value,T??this.color,P??this.left,M??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,p,T){let P=this;const M=T(e,P.key);return P=M<0?P.copy(null,null,null,P.left.insert(e,p,T),null):M===0?P.copy(null,p,null,null,null):P.copy(null,null,null,null,P.right.insert(e,p,T)),P.fixUp()}removeMin(){if(this.left.isEmpty())return Ge.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,p){let T,P=this;if(p(e,P.key)<0)P.left.isEmpty()||P.left.isRed()||P.left.left.isRed()||(P=P.moveRedLeft()),P=P.copy(null,null,null,P.left.remove(e,p),null);else{if(P.left.isRed()&&(P=P.rotateRight()),P.right.isEmpty()||P.right.isRed()||P.right.left.isRed()||(P=P.moveRedRight()),p(e,P.key)===0){if(P.right.isEmpty())return Ge.EMPTY;T=P.right.min(),P=P.copy(T.key,T.value,null,null,P.right.removeMin())}P=P.copy(null,null,null,null,P.right.remove(e,p))}return P.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ge.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ge.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),p=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,p)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Dt();const e=this.left.check();if(e!==this.right.check())throw Dt();return e+(this.isRed()?0:1)}}Ge.EMPTY=null,Ge.RED=!0,Ge.BLACK=!1;Ge.EMPTY=new class{constructor(){this.size=0}get key(){throw Dt()}get value(){throw Dt()}get color(){throw Dt()}get left(){throw Dt()}get right(){throw Dt()}copy(e,p,T,P,M){return this}insert(e,p,T){return new Ge(e,p)}remove(e,p){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{constructor(e){this.comparator=e,this.data=new Se(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((p,T)=>(e(p),!1))}forEachInRange(e,p){const T=this.data.getIteratorFrom(e[0]);for(;T.hasNext();){const P=T.getNext();if(this.comparator(P.key,e[1])>=0)return;p(P.key)}}forEachWhile(e,p){let T;for(T=p!==void 0?this.data.getIteratorFrom(p):this.data.getIterator();T.hasNext();)if(!e(T.getNext().key))return}firstAfterOrEqual(e){const p=this.data.getIteratorFrom(e);return p.hasNext()?p.getNext().key:null}getIterator(){return new Xv(this.data.getIterator())}getIteratorFrom(e){return new Xv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let p=this;return p.size<e.size&&(p=e,e=this),e.forEach(T=>{p=p.add(T)}),p}isEqual(e){if(!(e instanceof Oe)||this.size!==e.size)return!1;const p=this.data.getIterator(),T=e.data.getIterator();for(;p.hasNext();){const P=p.getNext().key,M=T.getNext().key;if(this.comparator(P,M)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(p=>{e.push(p)}),e}toString(){const e=[];return this.forEach(p=>e.push(p)),"SortedSet("+e.toString()+")"}copy(e){const p=new Oe(this.comparator);return p.data=e,p}}class Xv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(e){this.fields=e,e.sort(We.comparator)}static empty(){return new yi([])}unionWith(e){let p=new Oe(We.comparator);for(const T of this.fields)p=p.add(T);for(const T of e)p=p.add(T);return new yi(p.toArray())}covers(e){for(const p of this.fields)if(p.isPrefixOf(e))return!0;return!1}isEqual(e){return yr(this.fields,e.fields,(p,T)=>p.isEqual(T))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(e){this.binaryString=e}static fromBase64String(e){const p=function(P){try{return atob(P)}catch(M){throw typeof DOMException<"u"&&M instanceof DOMException?new x0("Invalid base64 string: "+M):M}}(e);return new $e(p)}static fromUint8Array(e){const p=function(P){let M="";for(let f=0;f<P.length;++f)M+=String.fromCharCode(P[f]);return M}(e);return new $e(p)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(p){return btoa(p)}(this.binaryString)}toUint8Array(){return function(p){const T=new Uint8Array(p.length);for(let P=0;P<p.length;P++)T[P]=p.charCodeAt(P);return T}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return kt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$e.EMPTY_BYTE_STRING=new $e("");const bA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qs(m){if(oe(!!m),typeof m=="string"){let e=0;const p=bA.exec(m);if(oe(!!p),p[1]){let P=p[1];P=(P+"000000000").substr(0,9),e=Number(P)}const T=new Date(m);return{seconds:Math.floor(T.getTime()/1e3),nanos:e}}return{seconds:Ae(m.seconds),nanos:Ae(m.nanos)}}function Ae(m){return typeof m=="number"?m:typeof m=="string"?Number(m):0}function _s(m){return typeof m=="string"?$e.fromBase64String(m):$e.fromUint8Array(m)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T0="server_timestamp",S0="__type__",E0="__previous_value__",C0="__local_write_time__";function Nf(m){var e,p;return((p=(((e=m==null?void 0:m.mapValue)===null||e===void 0?void 0:e.fields)||{})[S0])===null||p===void 0?void 0:p.stringValue)===T0}function jh(m){const e=m.mapValue.fields[E0];return Nf(e)?jh(e):e}function Ia(m){const e=qs(m.mapValue.fields[C0].timestampValue);return new Fe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{constructor(e,p,T,P,M,f,C,t,h){this.databaseId=e,this.appId=p,this.persistenceKey=T,this.host=P,this.ssl=M,this.forceLongPolling=f,this.autoDetectLongPolling=C,this.longPollingOptions=t,this.useFetchStreams=h}}const sh="(default)";class La{constructor(e,p){this.projectId=e,this.database=p||sh}static empty(){return new La("","")}get isDefaultDatabase(){return this.database===sh}isEqual(e){return e instanceof La&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A0="__type__",VA="__max__",To={mapValue:{}},P0="__vector__",nh="value";function tn(m){return"nullValue"in m?0:"booleanValue"in m?1:"integerValue"in m||"doubleValue"in m?2:"timestampValue"in m?3:"stringValue"in m?5:"bytesValue"in m?6:"referenceValue"in m?7:"geoPointValue"in m?8:"arrayValue"in m?9:"mapValue"in m?Nf(m)?4:GA(m)?9007199254740991:UA(m)?10:11:Dt()}function qi(m,e){if(m===e)return!0;const p=tn(m);if(p!==tn(e))return!1;switch(p){case 0:case 9007199254740991:return!0;case 1:return m.booleanValue===e.booleanValue;case 4:return Ia(m).isEqual(Ia(e));case 3:return function(P,M){if(typeof P.timestampValue=="string"&&typeof M.timestampValue=="string"&&P.timestampValue.length===M.timestampValue.length)return P.timestampValue===M.timestampValue;const f=qs(P.timestampValue),C=qs(M.timestampValue);return f.seconds===C.seconds&&f.nanos===C.nanos}(m,e);case 5:return m.stringValue===e.stringValue;case 6:return function(P,M){return _s(P.bytesValue).isEqual(_s(M.bytesValue))}(m,e);case 7:return m.referenceValue===e.referenceValue;case 8:return function(P,M){return Ae(P.geoPointValue.latitude)===Ae(M.geoPointValue.latitude)&&Ae(P.geoPointValue.longitude)===Ae(M.geoPointValue.longitude)}(m,e);case 2:return function(P,M){if("integerValue"in P&&"integerValue"in M)return Ae(P.integerValue)===Ae(M.integerValue);if("doubleValue"in P&&"doubleValue"in M){const f=Ae(P.doubleValue),C=Ae(M.doubleValue);return f===C?ih(f)===ih(C):isNaN(f)&&isNaN(C)}return!1}(m,e);case 9:return yr(m.arrayValue.values||[],e.arrayValue.values||[],qi);case 10:case 11:return function(P,M){const f=P.mapValue.fields||{},C=M.mapValue.fields||{};if(zv(f)!==zv(C))return!1;for(const t in f)if(f.hasOwnProperty(t)&&(C[t]===void 0||!qi(f[t],C[t])))return!1;return!0}(m,e);default:return Dt()}}function Fa(m,e){return(m.values||[]).find(p=>qi(p,e))!==void 0}function xr(m,e){if(m===e)return 0;const p=tn(m),T=tn(e);if(p!==T)return kt(p,T);switch(p){case 0:case 9007199254740991:return 0;case 1:return kt(m.booleanValue,e.booleanValue);case 2:return function(M,f){const C=Ae(M.integerValue||M.doubleValue),t=Ae(f.integerValue||f.doubleValue);return C<t?-1:C>t?1:C===t?0:isNaN(C)?isNaN(t)?0:-1:1}(m,e);case 3:return Wv(m.timestampValue,e.timestampValue);case 4:return Wv(Ia(m),Ia(e));case 5:return kt(m.stringValue,e.stringValue);case 6:return function(M,f){const C=_s(M),t=_s(f);return C.compareTo(t)}(m.bytesValue,e.bytesValue);case 7:return function(M,f){const C=M.split("/"),t=f.split("/");for(let h=0;h<C.length&&h<t.length;h++){const g=kt(C[h],t[h]);if(g!==0)return g}return kt(C.length,t.length)}(m.referenceValue,e.referenceValue);case 8:return function(M,f){const C=kt(Ae(M.latitude),Ae(f.latitude));return C!==0?C:kt(Ae(M.longitude),Ae(f.longitude))}(m.geoPointValue,e.geoPointValue);case 9:return Hv(m.arrayValue,e.arrayValue);case 10:return function(M,f){var C,t,h,g;const o=M.fields||{},a=f.fields||{},r=(C=o[nh])===null||C===void 0?void 0:C.arrayValue,i=(t=a[nh])===null||t===void 0?void 0:t.arrayValue,n=kt(((h=r==null?void 0:r.values)===null||h===void 0?void 0:h.length)||0,((g=i==null?void 0:i.values)===null||g===void 0?void 0:g.length)||0);return n!==0?n:Hv(r,i)}(m.mapValue,e.mapValue);case 11:return function(M,f){if(M===To.mapValue&&f===To.mapValue)return 0;if(M===To.mapValue)return 1;if(f===To.mapValue)return-1;const C=M.fields||{},t=Object.keys(C),h=f.fields||{},g=Object.keys(h);t.sort(),g.sort();for(let o=0;o<t.length&&o<g.length;++o){const a=kt(t[o],g[o]);if(a!==0)return a;const r=xr(C[t[o]],h[g[o]]);if(r!==0)return r}return kt(t.length,g.length)}(m.mapValue,e.mapValue);default:throw Dt()}}function Wv(m,e){if(typeof m=="string"&&typeof e=="string"&&m.length===e.length)return kt(m,e);const p=qs(m),T=qs(e),P=kt(p.seconds,T.seconds);return P!==0?P:kt(p.nanos,T.nanos)}function Hv(m,e){const p=m.values||[],T=e.values||[];for(let P=0;P<p.length&&P<T.length;++P){const M=xr(p[P],T[P]);if(M)return M}return kt(p.length,T.length)}function Tr(m){return bu(m)}function bu(m){return"nullValue"in m?"null":"booleanValue"in m?""+m.booleanValue:"integerValue"in m?""+m.integerValue:"doubleValue"in m?""+m.doubleValue:"timestampValue"in m?function(p){const T=qs(p);return`time(${T.seconds},${T.nanos})`}(m.timestampValue):"stringValue"in m?m.stringValue:"bytesValue"in m?function(p){return _s(p).toBase64()}(m.bytesValue):"referenceValue"in m?function(p){return Ft.fromName(p).toString()}(m.referenceValue):"geoPointValue"in m?function(p){return`geo(${p.latitude},${p.longitude})`}(m.geoPointValue):"arrayValue"in m?function(p){let T="[",P=!0;for(const M of p.values||[])P?P=!1:T+=",",T+=bu(M);return T+"]"}(m.arrayValue):"mapValue"in m?function(p){const T=Object.keys(p.fields||{}).sort();let P="{",M=!0;for(const f of T)M?M=!1:P+=",",P+=`${f}:${bu(p.fields[f])}`;return P+"}"}(m.mapValue):Dt()}function Do(m){switch(tn(m)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=jh(m);return e?16+Do(e):16;case 5:return 2*m.stringValue.length;case 6:return _s(m.bytesValue).approximateByteSize();case 7:return m.referenceValue.length;case 9:return function(T){return(T.values||[]).reduce((P,M)=>P+Do(M),0)}(m.arrayValue);case 10:case 11:return function(T){let P=0;return ln(T.fields,(M,f)=>{P+=M.length+Do(f)}),P}(m.mapValue);default:throw Dt()}}function Yv(m,e){return{referenceValue:`projects/${m.projectId}/databases/${m.database}/documents/${e.path.canonicalString()}`}}function Bu(m){return!!m&&"integerValue"in m}function bf(m){return!!m&&"arrayValue"in m}function $v(m){return!!m&&"nullValue"in m}function Kv(m){return!!m&&"doubleValue"in m&&isNaN(Number(m.doubleValue))}function No(m){return!!m&&"mapValue"in m}function UA(m){var e,p;return((p=(((e=m==null?void 0:m.mapValue)===null||e===void 0?void 0:e.fields)||{})[A0])===null||p===void 0?void 0:p.stringValue)===P0}function ua(m){if(m.geoPointValue)return{geoPointValue:Object.assign({},m.geoPointValue)};if(m.timestampValue&&typeof m.timestampValue=="object")return{timestampValue:Object.assign({},m.timestampValue)};if(m.mapValue){const e={mapValue:{fields:{}}};return ln(m.mapValue.fields,(p,T)=>e.mapValue.fields[p]=ua(T)),e}if(m.arrayValue){const e={arrayValue:{values:[]}};for(let p=0;p<(m.arrayValue.values||[]).length;++p)e.arrayValue.values[p]=ua(m.arrayValue.values[p]);return e}return Object.assign({},m)}function GA(m){return(((m.mapValue||{}).fields||{}).__type__||{}).stringValue===VA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(e){this.value=e}static empty(){return new ui({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let p=this.value;for(let T=0;T<e.length-1;++T)if(p=(p.mapValue.fields||{})[e.get(T)],!No(p))return null;return p=(p.mapValue.fields||{})[e.lastSegment()],p||null}}set(e,p){this.getFieldsMap(e.popLast())[e.lastSegment()]=ua(p)}setAll(e){let p=We.emptyPath(),T={},P=[];e.forEach((f,C)=>{if(!p.isImmediateParentOf(C)){const t=this.getFieldsMap(p);this.applyChanges(t,T,P),T={},P=[],p=C.popLast()}f?T[C.lastSegment()]=ua(f):P.push(C.lastSegment())});const M=this.getFieldsMap(p);this.applyChanges(M,T,P)}delete(e){const p=this.field(e.popLast());No(p)&&p.mapValue.fields&&delete p.mapValue.fields[e.lastSegment()]}isEqual(e){return qi(this.value,e.value)}getFieldsMap(e){let p=this.value;p.mapValue.fields||(p.mapValue={fields:{}});for(let T=0;T<e.length;++T){let P=p.mapValue.fields[e.get(T)];No(P)&&P.mapValue.fields||(P={mapValue:{fields:{}}},p.mapValue.fields[e.get(T)]=P),p=P}return p.mapValue.fields}applyChanges(e,p,T){ln(p,(P,M)=>e[P]=M);for(const P of T)delete e[P]}clone(){return new ui(ua(this.value))}}function R0(m){const e=[];return ln(m.fields,(p,T)=>{const P=new We([p]);if(No(T)){const M=R0(T.mapValue).fields;if(M.length===0)e.push(P);else for(const f of M)e.push(P.child(f))}else e.push(P)}),new yi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(e,p,T,P,M,f,C){this.key=e,this.documentType=p,this.version=T,this.readTime=P,this.createTime=M,this.data=f,this.documentState=C}static newInvalidDocument(e){return new Ze(e,0,Ut.min(),Ut.min(),Ut.min(),ui.empty(),0)}static newFoundDocument(e,p,T,P){return new Ze(e,1,p,Ut.min(),T,P,0)}static newNoDocument(e,p){return new Ze(e,2,p,Ut.min(),Ut.min(),ui.empty(),0)}static newUnknownDocument(e,p){return new Ze(e,3,p,Ut.min(),Ut.min(),ui.empty(),2)}convertToFoundDocument(e,p){return!this.createTime.isEqual(Ut.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=p,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ui.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ui.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ut.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ze&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ze(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(e,p){this.position=e,this.inclusive=p}}function kv(m,e,p){let T=0;for(let P=0;P<m.position.length;P++){const M=e[P],f=m.position[P];if(M.field.isKeyField()?T=Ft.comparator(Ft.fromName(f.referenceValue),p.key):T=xr(f,p.data.field(M.field)),M.dir==="desc"&&(T*=-1),T!==0)break}return T}function jv(m,e){if(m===null)return e===null;if(e===null||m.inclusive!==e.inclusive||m.position.length!==e.position.length)return!1;for(let p=0;p<m.position.length;p++)if(!qi(m.position[p],e.position[p]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(e,p="asc"){this.field=e,this.dir=p}}function zA(m,e){return m.dir===e.dir&&m.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{}class Me extends w0{constructor(e,p,T){super(),this.field=e,this.op=p,this.value=T}static create(e,p,T){return e.isKeyField()?p==="in"||p==="not-in"?this.createKeyFieldInFilter(e,p,T):new WA(e,p,T):p==="array-contains"?new $A(e,T):p==="in"?new KA(e,T):p==="not-in"?new kA(e,T):p==="array-contains-any"?new jA(e,T):new Me(e,p,T)}static createKeyFieldInFilter(e,p,T){return p==="in"?new HA(e,T):new YA(e,T)}matches(e){const p=e.data.field(this.field);return this.op==="!="?p!==null&&this.matchesComparison(xr(p,this.value)):p!==null&&tn(this.value)===tn(p)&&this.matchesComparison(xr(p,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Dt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Vi extends w0{constructor(e,p){super(),this.filters=e,this.op=p,this.ce=null}static create(e,p){return new Vi(e,p)}matches(e){return M0(this)?this.filters.find(p=>!p.matches(e))===void 0:this.filters.find(p=>p.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,p)=>e.concat(p.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function M0(m){return m.op==="and"}function I0(m){return XA(m)&&M0(m)}function XA(m){for(const e of m.filters)if(e instanceof Vi)return!1;return!0}function Vu(m){if(m instanceof Me)return m.field.canonicalString()+m.op.toString()+Tr(m.value);if(I0(m))return m.filters.map(e=>Vu(e)).join(",");{const e=m.filters.map(p=>Vu(p)).join(",");return`${m.op}(${e})`}}function L0(m,e){return m instanceof Me?function(T,P){return P instanceof Me&&T.op===P.op&&T.field.isEqual(P.field)&&qi(T.value,P.value)}(m,e):m instanceof Vi?function(T,P){return P instanceof Vi&&T.op===P.op&&T.filters.length===P.filters.length?T.filters.reduce((M,f,C)=>M&&L0(f,P.filters[C]),!0):!1}(m,e):void Dt()}function F0(m){return m instanceof Me?function(p){return`${p.field.canonicalString()} ${p.op} ${Tr(p.value)}`}(m):m instanceof Vi?function(p){return p.op.toString()+" {"+p.getFilters().map(F0).join(" ,")+"}"}(m):"Filter"}class WA extends Me{constructor(e,p,T){super(e,p,T),this.key=Ft.fromName(T.referenceValue)}matches(e){const p=Ft.comparator(e.key,this.key);return this.matchesComparison(p)}}class HA extends Me{constructor(e,p){super(e,"in",p),this.keys=O0("in",p)}matches(e){return this.keys.some(p=>p.isEqual(e.key))}}class YA extends Me{constructor(e,p){super(e,"not-in",p),this.keys=O0("not-in",p)}matches(e){return!this.keys.some(p=>p.isEqual(e.key))}}function O0(m,e){var p;return(((p=e.arrayValue)===null||p===void 0?void 0:p.values)||[]).map(T=>Ft.fromName(T.referenceValue))}class $A extends Me{constructor(e,p){super(e,"array-contains",p)}matches(e){const p=e.data.field(this.field);return bf(p)&&Fa(p.arrayValue,this.value)}}class KA extends Me{constructor(e,p){super(e,"in",p)}matches(e){const p=e.data.field(this.field);return p!==null&&Fa(this.value.arrayValue,p)}}class kA extends Me{constructor(e,p){super(e,"not-in",p)}matches(e){if(Fa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const p=e.data.field(this.field);return p!==null&&!Fa(this.value.arrayValue,p)}}class jA extends Me{constructor(e,p){super(e,"array-contains-any",p)}matches(e){const p=e.data.field(this.field);return!(!bf(p)||!p.arrayValue.values)&&p.arrayValue.values.some(T=>Fa(this.value.arrayValue,T))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{constructor(e,p=null,T=[],P=[],M=null,f=null,C=null){this.path=e,this.collectionGroup=p,this.orderBy=T,this.filters=P,this.limit=M,this.startAt=f,this.endAt=C,this.le=null}}function Qv(m,e=null,p=[],T=[],P=null,M=null,f=null){return new QA(m,e,p,T,P,M,f)}function Bf(m){const e=zt(m);if(e.le===null){let p=e.path.canonicalString();e.collectionGroup!==null&&(p+="|cg:"+e.collectionGroup),p+="|f:",p+=e.filters.map(T=>Vu(T)).join(","),p+="|ob:",p+=e.orderBy.map(T=>function(M){return M.field.canonicalString()+M.dir}(T)).join(","),kh(e.limit)||(p+="|l:",p+=e.limit),e.startAt&&(p+="|lb:",p+=e.startAt.inclusive?"b:":"a:",p+=e.startAt.position.map(T=>Tr(T)).join(",")),e.endAt&&(p+="|ub:",p+=e.endAt.inclusive?"a:":"b:",p+=e.endAt.position.map(T=>Tr(T)).join(",")),e.le=p}return e.le}function Vf(m,e){if(m.limit!==e.limit||m.orderBy.length!==e.orderBy.length)return!1;for(let p=0;p<m.orderBy.length;p++)if(!zA(m.orderBy[p],e.orderBy[p]))return!1;if(m.filters.length!==e.filters.length)return!1;for(let p=0;p<m.filters.length;p++)if(!L0(m.filters[p],e.filters[p]))return!1;return m.collectionGroup===e.collectionGroup&&!!m.path.isEqual(e.path)&&!!jv(m.startAt,e.startAt)&&jv(m.endAt,e.endAt)}function Uu(m){return Ft.isDocumentKey(m.path)&&m.collectionGroup===null&&m.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(e,p=null,T=[],P=[],M=null,f="F",C=null,t=null){this.path=e,this.collectionGroup=p,this.explicitOrderBy=T,this.filters=P,this.limit=M,this.limitType=f,this.startAt=C,this.endAt=t,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function JA(m,e,p,T,P,M,f,C){return new za(m,e,p,T,P,M,f,C)}function Qh(m){return new za(m)}function Jv(m){return m.filters.length===0&&m.limit===null&&m.startAt==null&&m.endAt==null&&(m.explicitOrderBy.length===0||m.explicitOrderBy.length===1&&m.explicitOrderBy[0].field.isKeyField())}function D0(m){return m.collectionGroup!==null}function fa(m){const e=zt(m);if(e.he===null){e.he=[];const p=new Set;for(const M of e.explicitOrderBy)e.he.push(M),p.add(M.field.canonicalString());const T=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let C=new Oe(We.comparator);return f.filters.forEach(t=>{t.getFlattenedFilters().forEach(h=>{h.isInequality()&&(C=C.add(h.field))})}),C})(e).forEach(M=>{p.has(M.canonicalString())||M.isKeyField()||e.he.push(new ah(M,T))}),p.has(We.keyField().canonicalString())||e.he.push(new ah(We.keyField(),T))}return e.he}function Qi(m){const e=zt(m);return e.Pe||(e.Pe=ZA(e,fa(m))),e.Pe}function ZA(m,e){if(m.limitType==="F")return Qv(m.path,m.collectionGroup,e,m.filters,m.limit,m.startAt,m.endAt);{e=e.map(P=>{const M=P.dir==="desc"?"asc":"desc";return new ah(P.field,M)});const p=m.endAt?new rh(m.endAt.position,m.endAt.inclusive):null,T=m.startAt?new rh(m.startAt.position,m.startAt.inclusive):null;return Qv(m.path,m.collectionGroup,e,m.filters,m.limit,p,T)}}function Gu(m,e){const p=m.filters.concat([e]);return new za(m.path,m.collectionGroup,m.explicitOrderBy.slice(),p,m.limit,m.limitType,m.startAt,m.endAt)}function zu(m,e,p){return new za(m.path,m.collectionGroup,m.explicitOrderBy.slice(),m.filters.slice(),e,p,m.startAt,m.endAt)}function Jh(m,e){return Vf(Qi(m),Qi(e))&&m.limitType===e.limitType}function N0(m){return`${Bf(Qi(m))}|lt:${m.limitType}`}function _n(m){return`Query(target=${function(p){let T=p.path.canonicalString();return p.collectionGroup!==null&&(T+=" collectionGroup="+p.collectionGroup),p.filters.length>0&&(T+=`, filters: [${p.filters.map(P=>F0(P)).join(", ")}]`),kh(p.limit)||(T+=", limit: "+p.limit),p.orderBy.length>0&&(T+=`, orderBy: [${p.orderBy.map(P=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(P)).join(", ")}]`),p.startAt&&(T+=", startAt: ",T+=p.startAt.inclusive?"b:":"a:",T+=p.startAt.position.map(P=>Tr(P)).join(",")),p.endAt&&(T+=", endAt: ",T+=p.endAt.inclusive?"a:":"b:",T+=p.endAt.position.map(P=>Tr(P)).join(",")),`Target(${T})`}(Qi(m))}; limitType=${m.limitType})`}function Zh(m,e){return e.isFoundDocument()&&function(T,P){const M=P.key.path;return T.collectionGroup!==null?P.key.hasCollectionId(T.collectionGroup)&&T.path.isPrefixOf(M):Ft.isDocumentKey(T.path)?T.path.isEqual(M):T.path.isImmediateParentOf(M)}(m,e)&&function(T,P){for(const M of fa(T))if(!M.field.isKeyField()&&P.data.field(M.field)===null)return!1;return!0}(m,e)&&function(T,P){for(const M of T.filters)if(!M.matches(P))return!1;return!0}(m,e)&&function(T,P){return!(T.startAt&&!function(f,C,t){const h=kv(f,C,t);return f.inclusive?h<=0:h<0}(T.startAt,fa(T),P)||T.endAt&&!function(f,C,t){const h=kv(f,C,t);return f.inclusive?h>=0:h>0}(T.endAt,fa(T),P))}(m,e)}function qA(m){return m.collectionGroup||(m.path.length%2==1?m.path.lastSegment():m.path.get(m.path.length-2))}function b0(m){return(e,p)=>{let T=!1;for(const P of fa(m)){const M=_A(P,e,p);if(M!==0)return M;T=T||P.field.isKeyField()}return 0}}function _A(m,e,p){const T=m.field.isKeyField()?Ft.comparator(e.key,p.key):function(M,f,C){const t=f.data.field(M),h=C.data.field(M);return t!==null&&h!==null?xr(t,h):Dt()}(m.field,e,p);switch(m.dir){case"asc":return T;case"desc":return-1*T;default:return Dt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e,p){this.mapKeyFn=e,this.equalsFn=p,this.inner={},this.innerSize=0}get(e){const p=this.mapKeyFn(e),T=this.inner[p];if(T!==void 0){for(const[P,M]of T)if(this.equalsFn(P,e))return M}}has(e){return this.get(e)!==void 0}set(e,p){const T=this.mapKeyFn(e),P=this.inner[T];if(P===void 0)return this.inner[T]=[[e,p]],void this.innerSize++;for(let M=0;M<P.length;M++)if(this.equalsFn(P[M][0],e))return void(P[M]=[e,p]);P.push([e,p]),this.innerSize++}delete(e){const p=this.mapKeyFn(e),T=this.inner[p];if(T===void 0)return!1;for(let P=0;P<T.length;P++)if(this.equalsFn(T[P][0],e))return T.length===1?delete this.inner[p]:T.splice(P,1),this.innerSize--,!0;return!1}forEach(e){ln(this.inner,(p,T)=>{for(const[P,M]of T)e(P,M)})}isEmpty(){return y0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tP=new Se(Ft.comparator);function ys(){return tP}const B0=new Se(Ft.comparator);function Jr(...m){let e=B0;for(const p of m)e=e.insert(p.key,p);return e}function V0(m){let e=B0;return m.forEach((p,T)=>e=e.insert(p,T.overlayedDocument)),e}function En(){return da()}function U0(){return da()}function da(){return new Wn(m=>m.toString(),(m,e)=>m.isEqual(e))}const eP=new Se(Ft.comparator),iP=new Oe(Ft.comparator);function $t(...m){let e=iP;for(const p of m)e=e.add(p);return e}const sP=new Oe(kt);function nP(){return sP}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uf(m,e){if(m.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ih(e)?"-0":e}}function G0(m){return{integerValue:""+m}}function rP(m,e){return OA(e)?G0(e):Uf(m,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(){this._=void 0}}function aP(m,e,p){return m instanceof oh?function(P,M){const f={fields:{[S0]:{stringValue:T0},[C0]:{timestampValue:{seconds:P.seconds,nanos:P.nanoseconds}}}};return M&&Nf(M)&&(M=jh(M)),M&&(f.fields[E0]=M),{mapValue:f}}(p,e):m instanceof Oa?X0(m,e):m instanceof Da?W0(m,e):function(P,M){const f=z0(P,M),C=Zv(f)+Zv(P.Ie);return Bu(f)&&Bu(P.Ie)?G0(C):Uf(P.serializer,C)}(m,e)}function oP(m,e,p){return m instanceof Oa?X0(m,e):m instanceof Da?W0(m,e):p}function z0(m,e){return m instanceof hh?function(T){return Bu(T)||function(M){return!!M&&"doubleValue"in M}(T)}(e)?e:{integerValue:0}:null}class oh extends qh{}class Oa extends qh{constructor(e){super(),this.elements=e}}function X0(m,e){const p=H0(e);for(const T of m.elements)p.some(P=>qi(P,T))||p.push(T);return{arrayValue:{values:p}}}class Da extends qh{constructor(e){super(),this.elements=e}}function W0(m,e){let p=H0(e);for(const T of m.elements)p=p.filter(P=>!qi(P,T));return{arrayValue:{values:p}}}class hh extends qh{constructor(e,p){super(),this.serializer=e,this.Ie=p}}function Zv(m){return Ae(m.integerValue||m.doubleValue)}function H0(m){return bf(m)&&m.arrayValue.values?m.arrayValue.values.slice():[]}function hP(m,e){return m.field.isEqual(e.field)&&function(T,P){return T instanceof Oa&&P instanceof Oa||T instanceof Da&&P instanceof Da?yr(T.elements,P.elements,qi):T instanceof hh&&P instanceof hh?qi(T.Ie,P.Ie):T instanceof oh&&P instanceof oh}(m.transform,e.transform)}class lP{constructor(e,p){this.version=e,this.transformResults=p}}class Oi{constructor(e,p){this.updateTime=e,this.exists=p}static none(){return new Oi}static exists(e){return new Oi(void 0,e)}static updateTime(e){return new Oi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function bo(m,e){return m.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(m.updateTime):m.exists===void 0||m.exists===e.isFoundDocument()}class _h{}function Y0(m,e){if(!m.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return m.isNoDocument()?new K0(m.key,Oi.none()):new Xa(m.key,m.data,Oi.none());{const p=m.data,T=ui.empty();let P=new Oe(We.comparator);for(let M of e.fields)if(!P.has(M)){let f=p.field(M);f===null&&M.length>1&&(M=M.popLast(),f=p.field(M)),f===null?T.delete(M):T.set(M,f),P=P.add(M)}return new un(m.key,T,new yi(P.toArray()),Oi.none())}}function uP(m,e,p){m instanceof Xa?function(P,M,f){const C=P.value.clone(),t=_v(P.fieldTransforms,M,f.transformResults);C.setAll(t),M.convertToFoundDocument(f.version,C).setHasCommittedMutations()}(m,e,p):m instanceof un?function(P,M,f){if(!bo(P.precondition,M))return void M.convertToUnknownDocument(f.version);const C=_v(P.fieldTransforms,M,f.transformResults),t=M.data;t.setAll($0(P)),t.setAll(C),M.convertToFoundDocument(f.version,t).setHasCommittedMutations()}(m,e,p):function(P,M,f){M.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,p)}function ca(m,e,p,T){return m instanceof Xa?function(M,f,C,t){if(!bo(M.precondition,f))return C;const h=M.value.clone(),g=tp(M.fieldTransforms,t,f);return h.setAll(g),f.convertToFoundDocument(f.version,h).setHasLocalMutations(),null}(m,e,p,T):m instanceof un?function(M,f,C,t){if(!bo(M.precondition,f))return C;const h=tp(M.fieldTransforms,t,f),g=f.data;return g.setAll($0(M)),g.setAll(h),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),C===null?null:C.unionWith(M.fieldMask.fields).unionWith(M.fieldTransforms.map(o=>o.field))}(m,e,p,T):function(M,f,C){return bo(M.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):C}(m,e,p)}function fP(m,e){let p=null;for(const T of m.fieldTransforms){const P=e.data.field(T.field),M=z0(T.transform,P||null);M!=null&&(p===null&&(p=ui.empty()),p.set(T.field,M))}return p||null}function qv(m,e){return m.type===e.type&&!!m.key.isEqual(e.key)&&!!m.precondition.isEqual(e.precondition)&&!!function(T,P){return T===void 0&&P===void 0||!(!T||!P)&&yr(T,P,(M,f)=>hP(M,f))}(m.fieldTransforms,e.fieldTransforms)&&(m.type===0?m.value.isEqual(e.value):m.type!==1||m.data.isEqual(e.data)&&m.fieldMask.isEqual(e.fieldMask))}class Xa extends _h{constructor(e,p,T,P=[]){super(),this.key=e,this.value=p,this.precondition=T,this.fieldTransforms=P,this.type=0}getFieldMask(){return null}}class un extends _h{constructor(e,p,T,P,M=[]){super(),this.key=e,this.data=p,this.fieldMask=T,this.precondition=P,this.fieldTransforms=M,this.type=1}getFieldMask(){return this.fieldMask}}function $0(m){const e=new Map;return m.fieldMask.fields.forEach(p=>{if(!p.isEmpty()){const T=m.data.field(p);e.set(p,T)}}),e}function _v(m,e,p){const T=new Map;oe(m.length===p.length);for(let P=0;P<p.length;P++){const M=m[P],f=M.transform,C=e.data.field(M.field);T.set(M.field,oP(f,C,p[P]))}return T}function tp(m,e,p){const T=new Map;for(const P of m){const M=P.transform,f=p.data.field(P.field);T.set(P.field,aP(M,f,e))}return T}class K0 extends _h{constructor(e,p){super(),this.key=e,this.precondition=p,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class dP extends _h{constructor(e,p){super(),this.key=e,this.precondition=p,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{constructor(e,p,T,P){this.batchId=e,this.localWriteTime=p,this.baseMutations=T,this.mutations=P}applyToRemoteDocument(e,p){const T=p.mutationResults;for(let P=0;P<this.mutations.length;P++){const M=this.mutations[P];M.key.isEqual(e.key)&&uP(M,e,T[P])}}applyToLocalView(e,p){for(const T of this.baseMutations)T.key.isEqual(e.key)&&(p=ca(T,e,p,this.localWriteTime));for(const T of this.mutations)T.key.isEqual(e.key)&&(p=ca(T,e,p,this.localWriteTime));return p}applyToLocalDocumentSet(e,p){const T=U0();return this.mutations.forEach(P=>{const M=e.get(P.key),f=M.overlayedDocument;let C=this.applyToLocalView(f,M.mutatedFields);C=p.has(P.key)?null:C;const t=Y0(f,C);t!==null&&T.set(P.key,t),f.isValidDocument()||f.convertToNoDocument(Ut.min())}),T}keys(){return this.mutations.reduce((e,p)=>e.add(p.key),$t())}isEqual(e){return this.batchId===e.batchId&&yr(this.mutations,e.mutations,(p,T)=>qv(p,T))&&yr(this.baseMutations,e.baseMutations,(p,T)=>qv(p,T))}}class Gf{constructor(e,p,T,P){this.batch=e,this.commitVersion=p,this.mutationResults=T,this.docVersions=P}static from(e,p,T){oe(e.mutations.length===T.length);let P=function(){return eP}();const M=e.mutations;for(let f=0;f<M.length;f++)P=P.insert(M[f].key,T[f].version);return new Gf(e,p,T,P)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vP{constructor(e,p){this.largestBatchId=e,this.mutation=p}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP{constructor(e,p){this.count=e,this.unchangedNames=p}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Re,Qt;function mP(m){switch(m){case pt.OK:return Dt();case pt.CANCELLED:case pt.UNKNOWN:case pt.DEADLINE_EXCEEDED:case pt.RESOURCE_EXHAUSTED:case pt.INTERNAL:case pt.UNAVAILABLE:case pt.UNAUTHENTICATED:return!1;case pt.INVALID_ARGUMENT:case pt.NOT_FOUND:case pt.ALREADY_EXISTS:case pt.PERMISSION_DENIED:case pt.FAILED_PRECONDITION:case pt.ABORTED:case pt.OUT_OF_RANGE:case pt.UNIMPLEMENTED:case pt.DATA_LOSS:return!0;default:return Dt()}}function k0(m){if(m===void 0)return gs("GRPC error has no .code"),pt.UNKNOWN;switch(m){case Re.OK:return pt.OK;case Re.CANCELLED:return pt.CANCELLED;case Re.UNKNOWN:return pt.UNKNOWN;case Re.DEADLINE_EXCEEDED:return pt.DEADLINE_EXCEEDED;case Re.RESOURCE_EXHAUSTED:return pt.RESOURCE_EXHAUSTED;case Re.INTERNAL:return pt.INTERNAL;case Re.UNAVAILABLE:return pt.UNAVAILABLE;case Re.UNAUTHENTICATED:return pt.UNAUTHENTICATED;case Re.INVALID_ARGUMENT:return pt.INVALID_ARGUMENT;case Re.NOT_FOUND:return pt.NOT_FOUND;case Re.ALREADY_EXISTS:return pt.ALREADY_EXISTS;case Re.PERMISSION_DENIED:return pt.PERMISSION_DENIED;case Re.FAILED_PRECONDITION:return pt.FAILED_PRECONDITION;case Re.ABORTED:return pt.ABORTED;case Re.OUT_OF_RANGE:return pt.OUT_OF_RANGE;case Re.UNIMPLEMENTED:return pt.UNIMPLEMENTED;case Re.DATA_LOSS:return pt.DATA_LOSS;default:return Dt()}}(Qt=Re||(Re={}))[Qt.OK=0]="OK",Qt[Qt.CANCELLED=1]="CANCELLED",Qt[Qt.UNKNOWN=2]="UNKNOWN",Qt[Qt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qt[Qt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qt[Qt.NOT_FOUND=5]="NOT_FOUND",Qt[Qt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qt[Qt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qt[Qt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qt[Qt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qt[Qt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qt[Qt.ABORTED=10]="ABORTED",Qt[Qt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qt[Qt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qt[Qt.INTERNAL=13]="INTERNAL",Qt[Qt.UNAVAILABLE=14]="UNAVAILABLE",Qt[Qt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gP(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yP=new Ys([4294967295,4294967295],0);function ep(m){const e=gP().encode(m),p=new u0;return p.update(e),new Uint8Array(p.digest())}function ip(m){const e=new DataView(m.buffer),p=e.getUint32(0,!0),T=e.getUint32(4,!0),P=e.getUint32(8,!0),M=e.getUint32(12,!0);return[new Ys([p,T],0),new Ys([P,M],0)]}class zf{constructor(e,p,T){if(this.bitmap=e,this.padding=p,this.hashCount=T,p<0||p>=8)throw new Zr(`Invalid padding: ${p}`);if(T<0)throw new Zr(`Invalid hash count: ${T}`);if(e.length>0&&this.hashCount===0)throw new Zr(`Invalid hash count: ${T}`);if(e.length===0&&p!==0)throw new Zr(`Invalid padding when bitmap length is 0: ${p}`);this.Ee=8*e.length-p,this.de=Ys.fromNumber(this.Ee)}Ae(e,p,T){let P=e.add(p.multiply(Ys.fromNumber(T)));return P.compare(yP)===1&&(P=new Ys([P.getBits(0),P.getBits(1)],0)),P.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const p=ep(e),[T,P]=ip(p);for(let M=0;M<this.hashCount;M++){const f=this.Ae(T,P,M);if(!this.Re(f))return!1}return!0}static create(e,p,T){const P=e%8==0?0:8-e%8,M=new Uint8Array(Math.ceil(e/8)),f=new zf(M,P,p);return T.forEach(C=>f.insert(C)),f}insert(e){if(this.Ee===0)return;const p=ep(e),[T,P]=ip(p);for(let M=0;M<this.hashCount;M++){const f=this.Ae(T,P,M);this.Ve(f)}}Ve(e){const p=Math.floor(e/8),T=e%8;this.bitmap[p]|=1<<T}}class Zr extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(e,p,T,P,M){this.snapshotVersion=e,this.targetChanges=p,this.targetMismatches=T,this.documentUpdates=P,this.resolvedLimboDocuments=M}static createSynthesizedRemoteEventForCurrentChange(e,p,T){const P=new Map;return P.set(e,Wa.createSynthesizedTargetChangeForCurrentChange(e,p,T)),new tl(Ut.min(),P,new Se(kt),ys(),$t())}}class Wa{constructor(e,p,T,P,M){this.resumeToken=e,this.current=p,this.addedDocuments=T,this.modifiedDocuments=P,this.removedDocuments=M}static createSynthesizedTargetChangeForCurrentChange(e,p,T){return new Wa(T,p,$t(),$t(),$t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(e,p,T,P){this.me=e,this.removedTargetIds=p,this.key=T,this.fe=P}}class j0{constructor(e,p){this.targetId=e,this.ge=p}}class Q0{constructor(e,p,T=$e.EMPTY_BYTE_STRING,P=null){this.state=e,this.targetIds=p,this.resumeToken=T,this.cause=P}}class sp{constructor(){this.pe=0,this.ye=np(),this.we=$e.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=$t(),p=$t(),T=$t();return this.ye.forEach((P,M)=>{switch(M){case 0:e=e.add(P);break;case 2:p=p.add(P);break;case 1:T=T.add(P);break;default:Dt()}}),new Wa(this.we,this.be,e,p,T)}Me(){this.Se=!1,this.ye=np()}xe(e,p){this.Se=!0,this.ye=this.ye.insert(e,p)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,oe(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class xP{constructor(e){this.ke=e,this.qe=new Map,this.Qe=ys(),this.$e=So(),this.Ke=So(),this.Ue=new Se(kt)}We(e){for(const p of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(p,e.fe):this.ze(p,e.key,e.fe);for(const p of e.removedTargetIds)this.ze(p,e.key,e.fe)}je(e){this.forEachTarget(e,p=>{const T=this.He(p);switch(e.state){case 0:this.Je(p)&&T.Ce(e.resumeToken);break;case 1:T.Be(),T.De||T.Me(),T.Ce(e.resumeToken);break;case 2:T.Be(),T.De||this.removeTarget(p);break;case 3:this.Je(p)&&(T.Le(),T.Ce(e.resumeToken));break;case 4:this.Je(p)&&(this.Ye(p),T.Ce(e.resumeToken));break;default:Dt()}})}forEachTarget(e,p){e.targetIds.length>0?e.targetIds.forEach(p):this.qe.forEach((T,P)=>{this.Je(P)&&p(P)})}Ze(e){const p=e.targetId,T=e.ge.count,P=this.Xe(p);if(P){const M=P.target;if(Uu(M))if(T===0){const f=new Ft(M.path);this.ze(p,f,Ze.newNoDocument(f,Ut.min()))}else oe(T===1);else{const f=this.et(p);if(f!==T){const C=this.tt(e),t=C?this.nt(C,e,f):1;if(t!==0){this.Ye(p);const h=t===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(p,h)}}}}}tt(e){const p=e.ge.unchangedNames;if(!p||!p.bits)return null;const{bits:{bitmap:T="",padding:P=0},hashCount:M=0}=p;let f,C;try{f=_s(T).toUint8Array()}catch(t){if(t instanceof x0)return wa("Decoding the base64 bloom filter in existence filter failed ("+t.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw t}try{C=new zf(f,P,M)}catch(t){return wa(t instanceof Zr?"BloomFilter error: ":"Applying bloom filter failed: ",t),null}return C.Ee===0?null:C}nt(e,p,T){return p.ge.count===T-this.st(e,p.targetId)?0:2}st(e,p){const T=this.ke.getRemoteKeysForTarget(p);let P=0;return T.forEach(M=>{const f=this.ke.it(),C=`projects/${f.projectId}/databases/${f.database}/documents/${M.path.canonicalString()}`;e.mightContain(C)||(this.ze(p,M,null),P++)}),P}ot(e){const p=new Map;this.qe.forEach((M,f)=>{const C=this.Xe(f);if(C){if(M.current&&Uu(C.target)){const t=new Ft(C.target.path);this._t(t).has(f)||this.ut(f,t)||this.ze(f,t,Ze.newNoDocument(t,e))}M.ve&&(p.set(f,M.Fe()),M.Me())}});let T=$t();this.Ke.forEach((M,f)=>{let C=!0;f.forEachWhile(t=>{const h=this.Xe(t);return!h||h.purpose==="TargetPurposeLimboResolution"||(C=!1,!1)}),C&&(T=T.add(M))}),this.Qe.forEach((M,f)=>f.setReadTime(e));const P=new tl(e,p,this.Ue,this.Qe,T);return this.Qe=ys(),this.$e=So(),this.Ke=So(),this.Ue=new Se(kt),P}Ge(e,p){if(!this.Je(e))return;const T=this.ut(e,p.key)?2:0;this.He(e).xe(p.key,T),this.Qe=this.Qe.insert(p.key,p),this.$e=this.$e.insert(p.key,this._t(p.key).add(e)),this.Ke=this.Ke.insert(p.key,this.ct(p.key).add(e))}ze(e,p,T){if(!this.Je(e))return;const P=this.He(e);this.ut(e,p)?P.xe(p,1):P.Oe(p),this.Ke=this.Ke.insert(p,this.ct(p).delete(e)),this.Ke=this.Ke.insert(p,this.ct(p).add(e)),T&&(this.Qe=this.Qe.insert(p,T))}removeTarget(e){this.qe.delete(e)}et(e){const p=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+p.addedDocuments.size-p.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let p=this.qe.get(e);return p||(p=new sp,this.qe.set(e,p)),p}ct(e){let p=this.Ke.get(e);return p||(p=new Oe(kt),this.Ke=this.Ke.insert(e,p)),p}_t(e){let p=this.$e.get(e);return p||(p=new Oe(kt),this.$e=this.$e.insert(e,p)),p}Je(e){const p=this.Xe(e)!==null;return p||Pt("WatchChangeAggregator","Detected inactive target",e),p}Xe(e){const p=this.qe.get(e);return p&&p.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new sp),this.ke.getRemoteKeysForTarget(e).forEach(p=>{this.ze(e,p,null)})}ut(e,p){return this.ke.getRemoteKeysForTarget(e).has(p)}}function So(){return new Se(Ft.comparator)}function np(){return new Se(Ft.comparator)}const TP={asc:"ASCENDING",desc:"DESCENDING"},SP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},EP={and:"AND",or:"OR"};class CP{constructor(e,p){this.databaseId=e,this.useProto3Json=p}}function Xu(m,e){return m.useProto3Json||kh(e)?e:{value:e}}function lh(m,e){return m.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function J0(m,e){return m.useProto3Json?e.toBase64():e.toUint8Array()}function AP(m,e){return lh(m,e.toTimestamp())}function Ji(m){return oe(!!m),Ut.fromTimestamp(function(p){const T=qs(p);return new Fe(T.seconds,T.nanos)}(m))}function Xf(m,e){return Wu(m,e).canonicalString()}function Wu(m,e){const p=function(P){return new ge(["projects",P.projectId,"databases",P.database])}(m).child("documents");return e===void 0?p:p.child(e)}function Z0(m){const e=ge.fromString(m);return oe(iy(e)),e}function Hu(m,e){return Xf(m.databaseId,e.path)}function _l(m,e){const p=Z0(e);if(p.get(1)!==m.databaseId.projectId)throw new Rt(pt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+p.get(1)+" vs "+m.databaseId.projectId);if(p.get(3)!==m.databaseId.database)throw new Rt(pt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+p.get(3)+" vs "+m.databaseId.database);return new Ft(_0(p))}function q0(m,e){return Xf(m.databaseId,e)}function PP(m){const e=Z0(m);return e.length===4?ge.emptyPath():_0(e)}function Yu(m){return new ge(["projects",m.databaseId.projectId,"databases",m.databaseId.database]).canonicalString()}function _0(m){return oe(m.length>4&&m.get(4)==="documents"),m.popFirst(5)}function rp(m,e,p){return{name:Hu(m,e),fields:p.value.mapValue.fields}}function RP(m,e){let p;if("targetChange"in e){e.targetChange;const T=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Dt()}(e.targetChange.targetChangeType||"NO_CHANGE"),P=e.targetChange.targetIds||[],M=function(h,g){return h.useProto3Json?(oe(g===void 0||typeof g=="string"),$e.fromBase64String(g||"")):(oe(g===void 0||g instanceof Buffer||g instanceof Uint8Array),$e.fromUint8Array(g||new Uint8Array))}(m,e.targetChange.resumeToken),f=e.targetChange.cause,C=f&&function(h){const g=h.code===void 0?pt.UNKNOWN:k0(h.code);return new Rt(g,h.message||"")}(f);p=new Q0(T,P,M,C||null)}else if("documentChange"in e){e.documentChange;const T=e.documentChange;T.document,T.document.name,T.document.updateTime;const P=_l(m,T.document.name),M=Ji(T.document.updateTime),f=T.document.createTime?Ji(T.document.createTime):Ut.min(),C=new ui({mapValue:{fields:T.document.fields}}),t=Ze.newFoundDocument(P,M,f,C),h=T.targetIds||[],g=T.removedTargetIds||[];p=new Bo(h,g,t.key,t)}else if("documentDelete"in e){e.documentDelete;const T=e.documentDelete;T.document;const P=_l(m,T.document),M=T.readTime?Ji(T.readTime):Ut.min(),f=Ze.newNoDocument(P,M),C=T.removedTargetIds||[];p=new Bo([],C,f.key,f)}else if("documentRemove"in e){e.documentRemove;const T=e.documentRemove;T.document;const P=_l(m,T.document),M=T.removedTargetIds||[];p=new Bo([],M,P,null)}else{if(!("filter"in e))return Dt();{e.filter;const T=e.filter;T.targetId;const{count:P=0,unchangedNames:M}=T,f=new pP(P,M),C=T.targetId;p=new j0(C,f)}}return p}function wP(m,e){let p;if(e instanceof Xa)p={update:rp(m,e.key,e.value)};else if(e instanceof K0)p={delete:Hu(m,e.key)};else if(e instanceof un)p={update:rp(m,e.key,e.data),updateMask:BP(e.fieldMask)};else{if(!(e instanceof dP))return Dt();p={verify:Hu(m,e.key)}}return e.fieldTransforms.length>0&&(p.updateTransforms=e.fieldTransforms.map(T=>function(M,f){const C=f.transform;if(C instanceof oh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(C instanceof Oa)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:C.elements}};if(C instanceof Da)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:C.elements}};if(C instanceof hh)return{fieldPath:f.field.canonicalString(),increment:C.Ie};throw Dt()}(0,T))),e.precondition.isNone||(p.currentDocument=function(P,M){return M.updateTime!==void 0?{updateTime:AP(P,M.updateTime)}:M.exists!==void 0?{exists:M.exists}:Dt()}(m,e.precondition)),p}function MP(m,e){return m&&m.length>0?(oe(e!==void 0),m.map(p=>function(P,M){let f=P.updateTime?Ji(P.updateTime):Ji(M);return f.isEqual(Ut.min())&&(f=Ji(M)),new lP(f,P.transformResults||[])}(p,e))):[]}function IP(m,e){return{documents:[q0(m,e.path)]}}function LP(m,e){const p={structuredQuery:{}},T=e.path;let P;e.collectionGroup!==null?(P=T,p.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(P=T.popLast(),p.structuredQuery.from=[{collectionId:T.lastSegment()}]),p.parent=q0(m,P);const M=function(h){if(h.length!==0)return ey(Vi.create(h,"and"))}(e.filters);M&&(p.structuredQuery.where=M);const f=function(h){if(h.length!==0)return h.map(g=>function(a){return{field:tr(a.field),direction:DP(a.dir)}}(g))}(e.orderBy);f&&(p.structuredQuery.orderBy=f);const C=Xu(m,e.limit);return C!==null&&(p.structuredQuery.limit=C),e.startAt&&(p.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(p.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{ht:p,parent:P}}function FP(m){let e=PP(m.parent);const p=m.structuredQuery,T=p.from?p.from.length:0;let P=null;if(T>0){oe(T===1);const g=p.from[0];g.allDescendants?P=g.collectionId:e=e.child(g.collectionId)}let M=[];p.where&&(M=function(o){const a=ty(o);return a instanceof Vi&&I0(a)?a.getFilters():[a]}(p.where));let f=[];p.orderBy&&(f=function(o){return o.map(a=>function(i){return new ah(er(i.field),function(l){switch(l){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(i.direction))}(a))}(p.orderBy));let C=null;p.limit&&(C=function(o){let a;return a=typeof o=="object"?o.value:o,kh(a)?null:a}(p.limit));let t=null;p.startAt&&(t=function(o){const a=!!o.before,r=o.values||[];return new rh(r,a)}(p.startAt));let h=null;return p.endAt&&(h=function(o){const a=!o.before,r=o.values||[];return new rh(r,a)}(p.endAt)),JA(e,P,f,M,C,"F",t,h)}function OP(m,e){const p=function(P){switch(P){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Dt()}}(e.purpose);return p==null?null:{"goog-listen-tags":p}}function ty(m){return m.unaryFilter!==void 0?function(p){switch(p.unaryFilter.op){case"IS_NAN":const T=er(p.unaryFilter.field);return Me.create(T,"==",{doubleValue:NaN});case"IS_NULL":const P=er(p.unaryFilter.field);return Me.create(P,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const M=er(p.unaryFilter.field);return Me.create(M,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=er(p.unaryFilter.field);return Me.create(f,"!=",{nullValue:"NULL_VALUE"});default:return Dt()}}(m):m.fieldFilter!==void 0?function(p){return Me.create(er(p.fieldFilter.field),function(P){switch(P){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Dt()}}(p.fieldFilter.op),p.fieldFilter.value)}(m):m.compositeFilter!==void 0?function(p){return Vi.create(p.compositeFilter.filters.map(T=>ty(T)),function(P){switch(P){case"AND":return"and";case"OR":return"or";default:return Dt()}}(p.compositeFilter.op))}(m):Dt()}function DP(m){return TP[m]}function NP(m){return SP[m]}function bP(m){return EP[m]}function tr(m){return{fieldPath:m.canonicalString()}}function er(m){return We.fromServerFormat(m.fieldPath)}function ey(m){return m instanceof Me?function(p){if(p.op==="=="){if(Kv(p.value))return{unaryFilter:{field:tr(p.field),op:"IS_NAN"}};if($v(p.value))return{unaryFilter:{field:tr(p.field),op:"IS_NULL"}}}else if(p.op==="!="){if(Kv(p.value))return{unaryFilter:{field:tr(p.field),op:"IS_NOT_NAN"}};if($v(p.value))return{unaryFilter:{field:tr(p.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:tr(p.field),op:NP(p.op),value:p.value}}}(m):m instanceof Vi?function(p){const T=p.getFilters().map(P=>ey(P));return T.length===1?T[0]:{compositeFilter:{op:bP(p.op),filters:T}}}(m):Dt()}function BP(m){const e=[];return m.fields.forEach(p=>e.push(p.canonicalString())),{fieldPaths:e}}function iy(m){return m.length>=4&&m.get(0)==="projects"&&m.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(e,p,T,P,M=Ut.min(),f=Ut.min(),C=$e.EMPTY_BYTE_STRING,t=null){this.target=e,this.targetId=p,this.purpose=T,this.sequenceNumber=P,this.snapshotVersion=M,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=C,this.expectedCount=t}withSequenceNumber(e){return new Gs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,p){return new Gs(this.target,this.targetId,this.purpose,this.sequenceNumber,p,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Gs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Gs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VP{constructor(e){this.Tt=e}}function UP(m){const e=FP({parent:m.parent,structuredQuery:m.structuredQuery});return m.limitType==="LAST"?zu(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GP{constructor(){this.Tn=new zP}addToCollectionParentIndex(e,p){return this.Tn.add(p),mt.resolve()}getCollectionParents(e,p){return mt.resolve(this.Tn.getEntries(p))}addFieldIndex(e,p){return mt.resolve()}deleteFieldIndex(e,p){return mt.resolve()}deleteAllFieldIndexes(e){return mt.resolve()}createTargetIndexes(e,p){return mt.resolve()}getDocumentsMatchingTarget(e,p){return mt.resolve(null)}getIndexType(e,p){return mt.resolve(0)}getFieldIndexes(e,p){return mt.resolve([])}getNextCollectionGroupToUpdate(e){return mt.resolve(null)}getMinOffset(e,p){return mt.resolve(Zs.min())}getMinOffsetFromCollectionGroup(e,p){return mt.resolve(Zs.min())}updateCollectionGroup(e,p,T){return mt.resolve()}updateIndexEntries(e,p){return mt.resolve()}}class zP{constructor(){this.index={}}add(e){const p=e.lastSegment(),T=e.popLast(),P=this.index[p]||new Oe(ge.comparator),M=!P.has(T);return this.index[p]=P.add(T),M}has(e){const p=e.lastSegment(),T=e.popLast(),P=this.index[p];return P&&P.has(T)}getEntries(e){return(this.index[e]||new Oe(ge.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ap={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},sy=41943040;class oi{static withCacheSize(e){return new oi(e,oi.DEFAULT_COLLECTION_PERCENTILE,oi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,p,T){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=p,this.maximumSequenceNumbersToCollect=T}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */oi.DEFAULT_COLLECTION_PERCENTILE=10,oi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,oi.DEFAULT=new oi(sy,oi.DEFAULT_COLLECTION_PERCENTILE,oi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),oi.DISABLED=new oi(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new Sr(0)}static Un(){return new Sr(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const op="LruGarbageCollector",ny=1048576;function hp([m,e],[p,T]){const P=kt(m,p);return P===0?kt(e,T):P}class XP{constructor(e){this.Hn=e,this.buffer=new Oe(hp),this.Jn=0}Yn(){return++this.Jn}Zn(e){const p=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(p);else{const T=this.buffer.last();hp(p,T)<0&&(this.buffer=this.buffer.delete(T).add(p))}}get maxValue(){return this.buffer.last()[0]}}class WP{constructor(e,p,T){this.garbageCollector=e,this.asyncQueue=p,this.localStore=T,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){Pt(op,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(p){Lr(p)?Pt(op,"Ignoring IndexedDB error during garbage collection: ",p):await Ir(p)}await this.er(3e5)})}}class HP{constructor(e,p){this.tr=e,this.params=p}calculateTargetCount(e,p){return this.tr.nr(e).next(T=>Math.floor(p/100*T))}nthSequenceNumber(e,p){if(p===0)return mt.resolve(Kh.ae);const T=new XP(p);return this.tr.forEachTarget(e,P=>T.Zn(P.sequenceNumber)).next(()=>this.tr.rr(e,P=>T.Zn(P))).next(()=>T.maxValue)}removeTargets(e,p,T){return this.tr.removeTargets(e,p,T)}removeOrphanedDocuments(e,p){return this.tr.removeOrphanedDocuments(e,p)}collect(e,p){return this.params.cacheSizeCollectionThreshold===-1?(Pt("LruGarbageCollector","Garbage collection skipped; disabled"),mt.resolve(ap)):this.getCacheSize(e).next(T=>T<this.params.cacheSizeCollectionThreshold?(Pt("LruGarbageCollector",`Garbage collection skipped; Cache size ${T} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ap):this.ir(e,p))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,p){let T,P,M,f,C,t,h;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(o=>(o>this.params.maximumSequenceNumbersToCollect?(Pt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${o}`),P=this.params.maximumSequenceNumbersToCollect):P=o,f=Date.now(),this.nthSequenceNumber(e,P))).next(o=>(T=o,C=Date.now(),this.removeTargets(e,T,p))).next(o=>(M=o,t=Date.now(),this.removeOrphanedDocuments(e,T))).next(o=>(h=Date.now(),qn()<=Wt.DEBUG&&Pt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-g}ms
	Determined least recently used ${P} in `+(C-f)+`ms
	Removed ${M} targets in `+(t-C)+`ms
	Removed ${o} documents in `+(h-t)+`ms
Total Duration: ${h-g}ms`),mt.resolve({didRun:!0,sequenceNumbersCollected:P,targetsRemoved:M,documentsRemoved:o})))}}function YP(m,e){return new HP(m,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $P{constructor(){this.changes=new Wn(e=>e.toString(),(e,p)=>e.isEqual(p)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,p){this.assertNotApplied(),this.changes.set(e,Ze.newInvalidDocument(e).setReadTime(p))}getEntry(e,p){this.assertNotApplied();const T=this.changes.get(p);return T!==void 0?mt.resolve(T):this.getFromCache(e,p)}getEntries(e,p){return this.getAllFromCache(e,p)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KP{constructor(e,p){this.overlayedDocument=e,this.mutatedFields=p}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kP{constructor(e,p,T,P){this.remoteDocumentCache=e,this.mutationQueue=p,this.documentOverlayCache=T,this.indexManager=P}getDocument(e,p){let T=null;return this.documentOverlayCache.getOverlay(e,p).next(P=>(T=P,this.remoteDocumentCache.getEntry(e,p))).next(P=>(T!==null&&ca(T.mutation,P,yi.empty(),Fe.now()),P))}getDocuments(e,p){return this.remoteDocumentCache.getEntries(e,p).next(T=>this.getLocalViewOfDocuments(e,T,$t()).next(()=>T))}getLocalViewOfDocuments(e,p,T=$t()){const P=En();return this.populateOverlays(e,P,p).next(()=>this.computeViews(e,p,P,T).next(M=>{let f=Jr();return M.forEach((C,t)=>{f=f.insert(C,t.overlayedDocument)}),f}))}getOverlayedDocuments(e,p){const T=En();return this.populateOverlays(e,T,p).next(()=>this.computeViews(e,p,T,$t()))}populateOverlays(e,p,T){const P=[];return T.forEach(M=>{p.has(M)||P.push(M)}),this.documentOverlayCache.getOverlays(e,P).next(M=>{M.forEach((f,C)=>{p.set(f,C)})})}computeViews(e,p,T,P){let M=ys();const f=da(),C=function(){return da()}();return p.forEach((t,h)=>{const g=T.get(h.key);P.has(h.key)&&(g===void 0||g.mutation instanceof un)?M=M.insert(h.key,h):g!==void 0?(f.set(h.key,g.mutation.getFieldMask()),ca(g.mutation,h,g.mutation.getFieldMask(),Fe.now())):f.set(h.key,yi.empty())}),this.recalculateAndSaveOverlays(e,M).next(t=>(t.forEach((h,g)=>f.set(h,g)),p.forEach((h,g)=>{var o;return C.set(h,new KP(g,(o=f.get(h))!==null&&o!==void 0?o:null))}),C))}recalculateAndSaveOverlays(e,p){const T=da();let P=new Se((f,C)=>f-C),M=$t();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,p).next(f=>{for(const C of f)C.keys().forEach(t=>{const h=p.get(t);if(h===null)return;let g=T.get(t)||yi.empty();g=C.applyToLocalView(h,g),T.set(t,g);const o=(P.get(C.batchId)||$t()).add(t);P=P.insert(C.batchId,o)})}).next(()=>{const f=[],C=P.getReverseIterator();for(;C.hasNext();){const t=C.getNext(),h=t.key,g=t.value,o=U0();g.forEach(a=>{if(!M.has(a)){const r=Y0(p.get(a),T.get(a));r!==null&&o.set(a,r),M=M.add(a)}}),f.push(this.documentOverlayCache.saveOverlays(e,h,o))}return mt.waitFor(f)}).next(()=>T)}recalculateAndSaveOverlaysForDocumentKeys(e,p){return this.remoteDocumentCache.getEntries(e,p).next(T=>this.recalculateAndSaveOverlays(e,T))}getDocumentsMatchingQuery(e,p,T,P){return function(f){return Ft.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(p)?this.getDocumentsMatchingDocumentQuery(e,p.path):D0(p)?this.getDocumentsMatchingCollectionGroupQuery(e,p,T,P):this.getDocumentsMatchingCollectionQuery(e,p,T,P)}getNextDocuments(e,p,T,P){return this.remoteDocumentCache.getAllFromCollectionGroup(e,p,T,P).next(M=>{const f=P-M.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,p,T.largestBatchId,P-M.size):mt.resolve(En());let C=Ma,t=M;return f.next(h=>mt.forEach(h,(g,o)=>(C<o.largestBatchId&&(C=o.largestBatchId),M.get(g)?mt.resolve():this.remoteDocumentCache.getEntry(e,g).next(a=>{t=t.insert(g,a)}))).next(()=>this.populateOverlays(e,h,M)).next(()=>this.computeViews(e,t,h,$t())).next(g=>({batchId:C,changes:V0(g)})))})}getDocumentsMatchingDocumentQuery(e,p){return this.getDocument(e,new Ft(p)).next(T=>{let P=Jr();return T.isFoundDocument()&&(P=P.insert(T.key,T)),P})}getDocumentsMatchingCollectionGroupQuery(e,p,T,P){const M=p.collectionGroup;let f=Jr();return this.indexManager.getCollectionParents(e,M).next(C=>mt.forEach(C,t=>{const h=function(o,a){return new za(a,null,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(p,t.child(M));return this.getDocumentsMatchingCollectionQuery(e,h,T,P).next(g=>{g.forEach((o,a)=>{f=f.insert(o,a)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,p,T,P){let M;return this.documentOverlayCache.getOverlaysForCollection(e,p.path,T.largestBatchId).next(f=>(M=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,p,T,M,P))).next(f=>{M.forEach((t,h)=>{const g=h.getKey();f.get(g)===null&&(f=f.insert(g,Ze.newInvalidDocument(g)))});let C=Jr();return f.forEach((t,h)=>{const g=M.get(t);g!==void 0&&ca(g.mutation,h,yi.empty(),Fe.now()),Zh(p,h)&&(C=C.insert(t,h))}),C})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jP{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,p){return mt.resolve(this.dr.get(p))}saveBundleMetadata(e,p){return this.dr.set(p.id,function(P){return{id:P.id,version:P.version,createTime:Ji(P.createTime)}}(p)),mt.resolve()}getNamedQuery(e,p){return mt.resolve(this.Ar.get(p))}saveNamedQuery(e,p){return this.Ar.set(p.name,function(P){return{name:P.name,query:UP(P.bundledQuery),readTime:Ji(P.readTime)}}(p)),mt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QP{constructor(){this.overlays=new Se(Ft.comparator),this.Rr=new Map}getOverlay(e,p){return mt.resolve(this.overlays.get(p))}getOverlays(e,p){const T=En();return mt.forEach(p,P=>this.getOverlay(e,P).next(M=>{M!==null&&T.set(P,M)})).next(()=>T)}saveOverlays(e,p,T){return T.forEach((P,M)=>{this.Et(e,p,M)}),mt.resolve()}removeOverlaysForBatchId(e,p,T){const P=this.Rr.get(T);return P!==void 0&&(P.forEach(M=>this.overlays=this.overlays.remove(M)),this.Rr.delete(T)),mt.resolve()}getOverlaysForCollection(e,p,T){const P=En(),M=p.length+1,f=new Ft(p.child("")),C=this.overlays.getIteratorFrom(f);for(;C.hasNext();){const t=C.getNext().value,h=t.getKey();if(!p.isPrefixOf(h.path))break;h.path.length===M&&t.largestBatchId>T&&P.set(t.getKey(),t)}return mt.resolve(P)}getOverlaysForCollectionGroup(e,p,T,P){let M=new Se((h,g)=>h-g);const f=this.overlays.getIterator();for(;f.hasNext();){const h=f.getNext().value;if(h.getKey().getCollectionGroup()===p&&h.largestBatchId>T){let g=M.get(h.largestBatchId);g===null&&(g=En(),M=M.insert(h.largestBatchId,g)),g.set(h.getKey(),h)}}const C=En(),t=M.getIterator();for(;t.hasNext()&&(t.getNext().value.forEach((h,g)=>C.set(h,g)),!(C.size()>=P)););return mt.resolve(C)}Et(e,p,T){const P=this.overlays.get(T.key);if(P!==null){const f=this.Rr.get(P.largestBatchId).delete(T.key);this.Rr.set(P.largestBatchId,f)}this.overlays=this.overlays.insert(T.key,new vP(p,T));let M=this.Rr.get(p);M===void 0&&(M=$t(),this.Rr.set(p,M)),this.Rr.set(p,M.add(T.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JP{constructor(){this.sessionToken=$e.EMPTY_BYTE_STRING}getSessionToken(e){return mt.resolve(this.sessionToken)}setSessionToken(e,p){return this.sessionToken=p,mt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(){this.Vr=new Oe(Ne.mr),this.gr=new Oe(Ne.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,p){const T=new Ne(e,p);this.Vr=this.Vr.add(T),this.gr=this.gr.add(T)}yr(e,p){e.forEach(T=>this.addReference(T,p))}removeReference(e,p){this.wr(new Ne(e,p))}br(e,p){e.forEach(T=>this.removeReference(T,p))}Sr(e){const p=new Ft(new ge([])),T=new Ne(p,e),P=new Ne(p,e+1),M=[];return this.gr.forEachInRange([T,P],f=>{this.wr(f),M.push(f.key)}),M}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const p=new Ft(new ge([])),T=new Ne(p,e),P=new Ne(p,e+1);let M=$t();return this.gr.forEachInRange([T,P],f=>{M=M.add(f.key)}),M}containsKey(e){const p=new Ne(e,0),T=this.Vr.firstAfterOrEqual(p);return T!==null&&e.isEqual(T.key)}}class Ne{constructor(e,p){this.key=e,this.Cr=p}static mr(e,p){return Ft.comparator(e.key,p.key)||kt(e.Cr,p.Cr)}static pr(e,p){return kt(e.Cr,p.Cr)||Ft.comparator(e.key,p.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZP{constructor(e,p){this.indexManager=e,this.referenceDelegate=p,this.mutationQueue=[],this.Fr=1,this.Mr=new Oe(Ne.mr)}checkEmpty(e){return mt.resolve(this.mutationQueue.length===0)}addMutationBatch(e,p,T,P){const M=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new cP(M,p,T,P);this.mutationQueue.push(f);for(const C of P)this.Mr=this.Mr.add(new Ne(C.key,M)),this.indexManager.addToCollectionParentIndex(e,C.key.path.popLast());return mt.resolve(f)}lookupMutationBatch(e,p){return mt.resolve(this.Or(p))}getNextMutationBatchAfterBatchId(e,p){const T=p+1,P=this.Nr(T),M=P<0?0:P;return mt.resolve(this.mutationQueue.length>M?this.mutationQueue[M]:null)}getHighestUnacknowledgedBatchId(){return mt.resolve(this.mutationQueue.length===0?Df:this.Fr-1)}getAllMutationBatches(e){return mt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,p){const T=new Ne(p,0),P=new Ne(p,Number.POSITIVE_INFINITY),M=[];return this.Mr.forEachInRange([T,P],f=>{const C=this.Or(f.Cr);M.push(C)}),mt.resolve(M)}getAllMutationBatchesAffectingDocumentKeys(e,p){let T=new Oe(kt);return p.forEach(P=>{const M=new Ne(P,0),f=new Ne(P,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([M,f],C=>{T=T.add(C.Cr)})}),mt.resolve(this.Br(T))}getAllMutationBatchesAffectingQuery(e,p){const T=p.path,P=T.length+1;let M=T;Ft.isDocumentKey(M)||(M=M.child(""));const f=new Ne(new Ft(M),0);let C=new Oe(kt);return this.Mr.forEachWhile(t=>{const h=t.key.path;return!!T.isPrefixOf(h)&&(h.length===P&&(C=C.add(t.Cr)),!0)},f),mt.resolve(this.Br(C))}Br(e){const p=[];return e.forEach(T=>{const P=this.Or(T);P!==null&&p.push(P)}),p}removeMutationBatch(e,p){oe(this.Lr(p.batchId,"removed")===0),this.mutationQueue.shift();let T=this.Mr;return mt.forEach(p.mutations,P=>{const M=new Ne(P.key,p.batchId);return T=T.delete(M),this.referenceDelegate.markPotentiallyOrphaned(e,P.key)}).next(()=>{this.Mr=T})}qn(e){}containsKey(e,p){const T=new Ne(p,0),P=this.Mr.firstAfterOrEqual(T);return mt.resolve(p.isEqual(P&&P.key))}performConsistencyCheck(e){return this.mutationQueue.length,mt.resolve()}Lr(e,p){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const p=this.Nr(e);return p<0||p>=this.mutationQueue.length?null:this.mutationQueue[p]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qP{constructor(e){this.kr=e,this.docs=function(){return new Se(Ft.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,p){const T=p.key,P=this.docs.get(T),M=P?P.size:0,f=this.kr(p);return this.docs=this.docs.insert(T,{document:p.mutableCopy(),size:f}),this.size+=f-M,this.indexManager.addToCollectionParentIndex(e,T.path.popLast())}removeEntry(e){const p=this.docs.get(e);p&&(this.docs=this.docs.remove(e),this.size-=p.size)}getEntry(e,p){const T=this.docs.get(p);return mt.resolve(T?T.document.mutableCopy():Ze.newInvalidDocument(p))}getEntries(e,p){let T=ys();return p.forEach(P=>{const M=this.docs.get(P);T=T.insert(P,M?M.document.mutableCopy():Ze.newInvalidDocument(P))}),mt.resolve(T)}getDocumentsMatchingQuery(e,p,T,P){let M=ys();const f=p.path,C=new Ft(f.child("__id-9223372036854775808__")),t=this.docs.getIteratorFrom(C);for(;t.hasNext();){const{key:h,value:{document:g}}=t.getNext();if(!f.isPrefixOf(h.path))break;h.path.length>f.length+1||MA(wA(g),T)<=0||(P.has(g.key)||Zh(p,g))&&(M=M.insert(g.key,g.mutableCopy()))}return mt.resolve(M)}getAllFromCollectionGroup(e,p,T,P){Dt()}qr(e,p){return mt.forEach(this.docs,T=>p(T))}newChangeBuffer(e){return new _P(this)}getSize(e){return mt.resolve(this.size)}}class _P extends $P{constructor(e){super(),this.Ir=e}applyChanges(e){const p=[];return this.changes.forEach((T,P)=>{P.isValidDocument()?p.push(this.Ir.addEntry(e,P)):this.Ir.removeEntry(T)}),mt.waitFor(p)}getFromCache(e,p){return this.Ir.getEntry(e,p)}getAllFromCache(e,p){return this.Ir.getEntries(e,p)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(e){this.persistence=e,this.Qr=new Wn(p=>Bf(p),Vf),this.lastRemoteSnapshotVersion=Ut.min(),this.highestTargetId=0,this.$r=0,this.Kr=new Wf,this.targetCount=0,this.Ur=Sr.Kn()}forEachTarget(e,p){return this.Qr.forEach((T,P)=>p(P)),mt.resolve()}getLastRemoteSnapshotVersion(e){return mt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return mt.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),mt.resolve(this.highestTargetId)}setTargetsMetadata(e,p,T){return T&&(this.lastRemoteSnapshotVersion=T),p>this.$r&&(this.$r=p),mt.resolve()}zn(e){this.Qr.set(e.target,e);const p=e.targetId;p>this.highestTargetId&&(this.Ur=new Sr(p),this.highestTargetId=p),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,p){return this.zn(p),this.targetCount+=1,mt.resolve()}updateTargetData(e,p){return this.zn(p),mt.resolve()}removeTargetData(e,p){return this.Qr.delete(p.target),this.Kr.Sr(p.targetId),this.targetCount-=1,mt.resolve()}removeTargets(e,p,T){let P=0;const M=[];return this.Qr.forEach((f,C)=>{C.sequenceNumber<=p&&T.get(C.targetId)===null&&(this.Qr.delete(f),M.push(this.removeMatchingKeysForTargetId(e,C.targetId)),P++)}),mt.waitFor(M).next(()=>P)}getTargetCount(e){return mt.resolve(this.targetCount)}getTargetData(e,p){const T=this.Qr.get(p)||null;return mt.resolve(T)}addMatchingKeys(e,p,T){return this.Kr.yr(p,T),mt.resolve()}removeMatchingKeys(e,p,T){this.Kr.br(p,T);const P=this.persistence.referenceDelegate,M=[];return P&&p.forEach(f=>{M.push(P.markPotentiallyOrphaned(e,f))}),mt.waitFor(M)}removeMatchingKeysForTargetId(e,p){return this.Kr.Sr(p),mt.resolve()}getMatchingKeysForTargetId(e,p){const T=this.Kr.vr(p);return mt.resolve(T)}containsKey(e,p){return mt.resolve(this.Kr.containsKey(p))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry{constructor(e,p){this.Wr={},this.overlays={},this.Gr=new Kh(0),this.zr=!1,this.zr=!0,this.jr=new JP,this.referenceDelegate=e(this),this.Hr=new tR(this),this.indexManager=new GP,this.remoteDocumentCache=function(P){return new qP(P)}(T=>this.referenceDelegate.Jr(T)),this.serializer=new VP(p),this.Yr=new jP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let p=this.overlays[e.toKey()];return p||(p=new QP,this.overlays[e.toKey()]=p),p}getMutationQueue(e,p){let T=this.Wr[e.toKey()];return T||(T=new ZP(p,this.referenceDelegate),this.Wr[e.toKey()]=T),T}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,p,T){Pt("MemoryPersistence","Starting transaction:",e);const P=new eR(this.Gr.next());return this.referenceDelegate.Zr(),T(P).next(M=>this.referenceDelegate.Xr(P).next(()=>M)).toPromise().then(M=>(P.raiseOnCommittedEvent(),M))}ei(e,p){return mt.or(Object.values(this.Wr).map(T=>()=>T.containsKey(e,p)))}}class eR extends LA{constructor(e){super(),this.currentSequenceNumber=e}}class Hf{constructor(e){this.persistence=e,this.ti=new Wf,this.ni=null}static ri(e){return new Hf(e)}get ii(){if(this.ni)return this.ni;throw Dt()}addReference(e,p,T){return this.ti.addReference(T,p),this.ii.delete(T.toString()),mt.resolve()}removeReference(e,p,T){return this.ti.removeReference(T,p),this.ii.add(T.toString()),mt.resolve()}markPotentiallyOrphaned(e,p){return this.ii.add(p.toString()),mt.resolve()}removeTarget(e,p){this.ti.Sr(p.targetId).forEach(P=>this.ii.add(P.toString()));const T=this.persistence.getTargetCache();return T.getMatchingKeysForTargetId(e,p.targetId).next(P=>{P.forEach(M=>this.ii.add(M.toString()))}).next(()=>T.removeTargetData(e,p))}Zr(){this.ni=new Set}Xr(e){const p=this.persistence.getRemoteDocumentCache().newChangeBuffer();return mt.forEach(this.ii,T=>{const P=Ft.fromPath(T);return this.si(e,P).next(M=>{M||p.removeEntry(P,Ut.min())})}).next(()=>(this.ni=null,p.apply(e)))}updateLimboDocument(e,p){return this.si(e,p).next(T=>{T?this.ii.delete(p.toString()):this.ii.add(p.toString())})}Jr(e){return 0}si(e,p){return mt.or([()=>mt.resolve(this.ti.containsKey(p)),()=>this.persistence.getTargetCache().containsKey(e,p),()=>this.persistence.ei(e,p)])}}class uh{constructor(e,p){this.persistence=e,this.oi=new Wn(T=>DA(T.path),(T,P)=>T.isEqual(P)),this.garbageCollector=YP(this,p)}static ri(e,p){return new uh(e,p)}Zr(){}Xr(e){return mt.resolve()}forEachTarget(e,p){return this.persistence.getTargetCache().forEachTarget(e,p)}nr(e){const p=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(T=>p.next(P=>T+P))}sr(e){let p=0;return this.rr(e,T=>{p++}).next(()=>p)}rr(e,p){return mt.forEach(this.oi,(T,P)=>this.ar(e,T,P).next(M=>M?mt.resolve():p(P)))}removeTargets(e,p,T){return this.persistence.getTargetCache().removeTargets(e,p,T)}removeOrphanedDocuments(e,p){let T=0;const P=this.persistence.getRemoteDocumentCache(),M=P.newChangeBuffer();return P.qr(e,f=>this.ar(e,f,p).next(C=>{C||(T++,M.removeEntry(f,Ut.min()))})).next(()=>M.apply(e)).next(()=>T)}markPotentiallyOrphaned(e,p){return this.oi.set(p,e.currentSequenceNumber),mt.resolve()}removeTarget(e,p){const T=p.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,T)}addReference(e,p,T){return this.oi.set(T,e.currentSequenceNumber),mt.resolve()}removeReference(e,p,T){return this.oi.set(T,e.currentSequenceNumber),mt.resolve()}updateLimboDocument(e,p){return this.oi.set(p,e.currentSequenceNumber),mt.resolve()}Jr(e){let p=e.key.toString().length;return e.isFoundDocument()&&(p+=Do(e.data.value)),p}ar(e,p,T){return mt.or([()=>this.persistence.ei(e,p),()=>this.persistence.getTargetCache().containsKey(e,p),()=>{const P=this.oi.get(p);return mt.resolve(P!==void 0&&P>T)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf{constructor(e,p,T,P){this.targetId=e,this.fromCache=p,this.Hi=T,this.Ji=P}static Yi(e,p){let T=$t(),P=$t();for(const M of p.docChanges)switch(M.type){case 0:T=T.add(M.doc.key);break;case 1:P=P.add(M.doc.key)}return new Yf(e,p.fromCache,T,P)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return _C()?8:FA(ye())>0?6:4}()}initialize(e,p){this.ns=e,this.indexManager=p,this.Zi=!0}getDocumentsMatchingQuery(e,p,T,P){const M={result:null};return this.rs(e,p).next(f=>{M.result=f}).next(()=>{if(!M.result)return this.ss(e,p,P,T).next(f=>{M.result=f})}).next(()=>{if(M.result)return;const f=new iR;return this._s(e,p,f).next(C=>{if(M.result=C,this.Xi)return this.us(e,p,f,C.size)})}).next(()=>M.result)}us(e,p,T,P){return T.documentReadCount<this.es?(qn()<=Wt.DEBUG&&Pt("QueryEngine","SDK will not create cache indexes for query:",_n(p),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),mt.resolve()):(qn()<=Wt.DEBUG&&Pt("QueryEngine","Query:",_n(p),"scans",T.documentReadCount,"local documents and returns",P,"documents as results."),T.documentReadCount>this.ts*P?(qn()<=Wt.DEBUG&&Pt("QueryEngine","The SDK decides to create cache indexes for query:",_n(p),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Qi(p))):mt.resolve())}rs(e,p){if(Jv(p))return mt.resolve(null);let T=Qi(p);return this.indexManager.getIndexType(e,T).next(P=>P===0?null:(p.limit!==null&&P===1&&(p=zu(p,null,"F"),T=Qi(p)),this.indexManager.getDocumentsMatchingTarget(e,T).next(M=>{const f=$t(...M);return this.ns.getDocuments(e,f).next(C=>this.indexManager.getMinOffset(e,T).next(t=>{const h=this.cs(p,C);return this.ls(p,h,f,t.readTime)?this.rs(e,zu(p,null,"F")):this.hs(e,h,p,t)}))})))}ss(e,p,T,P){return Jv(p)||P.isEqual(Ut.min())?mt.resolve(null):this.ns.getDocuments(e,T).next(M=>{const f=this.cs(p,M);return this.ls(p,f,T,P)?mt.resolve(null):(qn()<=Wt.DEBUG&&Pt("QueryEngine","Re-using previous result from %s to execute query: %s",P.toString(),_n(p)),this.hs(e,f,p,RA(P,Ma)).next(C=>C))})}cs(e,p){let T=new Oe(b0(e));return p.forEach((P,M)=>{Zh(e,M)&&(T=T.add(M))}),T}ls(e,p,T,P){if(e.limit===null)return!1;if(T.size!==p.size)return!0;const M=e.limitType==="F"?p.last():p.first();return!!M&&(M.hasPendingWrites||M.version.compareTo(P)>0)}_s(e,p,T){return qn()<=Wt.DEBUG&&Pt("QueryEngine","Using full collection scan to execute query:",_n(p)),this.ns.getDocumentsMatchingQuery(e,p,Zs.min(),T)}hs(e,p,T,P){return this.ns.getDocumentsMatchingQuery(e,T,P).next(M=>(p.forEach(f=>{M=M.insert(f.key,f)}),M))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $f="LocalStore",nR=3e8;class rR{constructor(e,p,T,P){this.persistence=e,this.Ps=p,this.serializer=P,this.Ts=new Se(kt),this.Is=new Wn(M=>Bf(M),Vf),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(T)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new kP(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",p=>e.collect(p,this.Ts))}}function aR(m,e,p,T){return new rR(m,e,p,T)}async function ay(m,e){const p=zt(m);return await p.persistence.runTransaction("Handle user change","readonly",T=>{let P;return p.mutationQueue.getAllMutationBatches(T).next(M=>(P=M,p.As(e),p.mutationQueue.getAllMutationBatches(T))).next(M=>{const f=[],C=[];let t=$t();for(const h of P){f.push(h.batchId);for(const g of h.mutations)t=t.add(g.key)}for(const h of M){C.push(h.batchId);for(const g of h.mutations)t=t.add(g.key)}return p.localDocuments.getDocuments(T,t).next(h=>({Rs:h,removedBatchIds:f,addedBatchIds:C}))})})}function oR(m,e){const p=zt(m);return p.persistence.runTransaction("Acknowledge batch","readwrite-primary",T=>{const P=e.batch.keys(),M=p.ds.newChangeBuffer({trackRemovals:!0});return function(C,t,h,g){const o=h.batch,a=o.keys();let r=mt.resolve();return a.forEach(i=>{r=r.next(()=>g.getEntry(t,i)).next(n=>{const l=h.docVersions.get(i);oe(l!==null),n.version.compareTo(l)<0&&(o.applyToRemoteDocument(n,h),n.isValidDocument()&&(n.setReadTime(h.commitVersion),g.addEntry(n)))})}),r.next(()=>C.mutationQueue.removeMutationBatch(t,o))}(p,T,e,M).next(()=>M.apply(T)).next(()=>p.mutationQueue.performConsistencyCheck(T)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(T,P,e.batch.batchId)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(T,function(C){let t=$t();for(let h=0;h<C.mutationResults.length;++h)C.mutationResults[h].transformResults.length>0&&(t=t.add(C.batch.mutations[h].key));return t}(e))).next(()=>p.localDocuments.getDocuments(T,P))})}function oy(m){const e=zt(m);return e.persistence.runTransaction("Get last remote snapshot version","readonly",p=>e.Hr.getLastRemoteSnapshotVersion(p))}function hR(m,e){const p=zt(m),T=e.snapshotVersion;let P=p.Ts;return p.persistence.runTransaction("Apply remote event","readwrite-primary",M=>{const f=p.ds.newChangeBuffer({trackRemovals:!0});P=p.Ts;const C=[];e.targetChanges.forEach((g,o)=>{const a=P.get(o);if(!a)return;C.push(p.Hr.removeMatchingKeys(M,g.removedDocuments,o).next(()=>p.Hr.addMatchingKeys(M,g.addedDocuments,o)));let r=a.withSequenceNumber(M.currentSequenceNumber);e.targetMismatches.get(o)!==null?r=r.withResumeToken($e.EMPTY_BYTE_STRING,Ut.min()).withLastLimboFreeSnapshotVersion(Ut.min()):g.resumeToken.approximateByteSize()>0&&(r=r.withResumeToken(g.resumeToken,T)),P=P.insert(o,r),function(n,l,s){return n.resumeToken.approximateByteSize()===0||l.snapshotVersion.toMicroseconds()-n.snapshotVersion.toMicroseconds()>=nR?!0:s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size>0}(a,r,g)&&C.push(p.Hr.updateTargetData(M,r))});let t=ys(),h=$t();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&C.push(p.persistence.referenceDelegate.updateLimboDocument(M,g))}),C.push(lR(M,f,e.documentUpdates).next(g=>{t=g.Vs,h=g.fs})),!T.isEqual(Ut.min())){const g=p.Hr.getLastRemoteSnapshotVersion(M).next(o=>p.Hr.setTargetsMetadata(M,M.currentSequenceNumber,T));C.push(g)}return mt.waitFor(C).next(()=>f.apply(M)).next(()=>p.localDocuments.getLocalViewOfDocuments(M,t,h)).next(()=>t)}).then(M=>(p.Ts=P,M))}function lR(m,e,p){let T=$t(),P=$t();return p.forEach(M=>T=T.add(M)),e.getEntries(m,T).next(M=>{let f=ys();return p.forEach((C,t)=>{const h=M.get(C);t.isFoundDocument()!==h.isFoundDocument()&&(P=P.add(C)),t.isNoDocument()&&t.version.isEqual(Ut.min())?(e.removeEntry(C,t.readTime),f=f.insert(C,t)):!h.isValidDocument()||t.version.compareTo(h.version)>0||t.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(t),f=f.insert(C,t)):Pt($f,"Ignoring outdated watch update for ",C,". Current version:",h.version," Watch version:",t.version)}),{Vs:f,fs:P}})}function uR(m,e){const p=zt(m);return p.persistence.runTransaction("Get next mutation batch","readonly",T=>(e===void 0&&(e=Df),p.mutationQueue.getNextMutationBatchAfterBatchId(T,e)))}function fR(m,e){const p=zt(m);return p.persistence.runTransaction("Allocate target","readwrite",T=>{let P;return p.Hr.getTargetData(T,e).next(M=>M?(P=M,mt.resolve(P)):p.Hr.allocateTargetId(T).next(f=>(P=new Gs(e,f,"TargetPurposeListen",T.currentSequenceNumber),p.Hr.addTargetData(T,P).next(()=>P))))}).then(T=>{const P=p.Ts.get(T.targetId);return(P===null||T.snapshotVersion.compareTo(P.snapshotVersion)>0)&&(p.Ts=p.Ts.insert(T.targetId,T),p.Is.set(e,T.targetId)),T})}async function $u(m,e,p){const T=zt(m),P=T.Ts.get(e),M=p?"readwrite":"readwrite-primary";try{p||await T.persistence.runTransaction("Release target",M,f=>T.persistence.referenceDelegate.removeTarget(f,P))}catch(f){if(!Lr(f))throw f;Pt($f,`Failed to update sequence numbers for target ${e}: ${f}`)}T.Ts=T.Ts.remove(e),T.Is.delete(P.target)}function lp(m,e,p){const T=zt(m);let P=Ut.min(),M=$t();return T.persistence.runTransaction("Execute query","readwrite",f=>function(t,h,g){const o=zt(t),a=o.Is.get(g);return a!==void 0?mt.resolve(o.Ts.get(a)):o.Hr.getTargetData(h,g)}(T,f,Qi(e)).next(C=>{if(C)return P=C.lastLimboFreeSnapshotVersion,T.Hr.getMatchingKeysForTargetId(f,C.targetId).next(t=>{M=t})}).next(()=>T.Ps.getDocumentsMatchingQuery(f,e,p?P:Ut.min(),p?M:$t())).next(C=>(dR(T,qA(e),C),{documents:C,gs:M})))}function dR(m,e,p){let T=m.Es.get(e)||Ut.min();p.forEach((P,M)=>{M.readTime.compareTo(T)>0&&(T=M.readTime)}),m.Es.set(e,T)}class up{constructor(){this.activeTargetIds=nP()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class cR{constructor(){this.ho=new up,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,p,T){}addLocalQueryTarget(e,p=!0){return p&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,p,T){this.Po[e]=p}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new up,Promise.resolve()}handleUserChange(e,p,T){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fp="ConnectivityMonitor";class dp{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){Pt(fp,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){Pt(fp,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Eo=null;function Ku(){return Eo===null?Eo=function(){return 268435456+Math.round(2147483648*Math.random())}():Eo++,"0x"+Eo.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tu="RestConnection",pR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class mR{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const p=e.ssl?"https":"http",T=encodeURIComponent(this.databaseId.projectId),P=encodeURIComponent(this.databaseId.database);this.po=p+"://"+e.host,this.yo=`projects/${T}/databases/${P}`,this.wo=this.databaseId.database===sh?`project_id=${T}`:`project_id=${T}&database_id=${P}`}bo(e,p,T,P,M){const f=Ku(),C=this.So(e,p.toUriEncodedString());Pt(tu,`Sending RPC '${e}' ${f}:`,C,T);const t={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(t,P,M),this.vo(e,C,t,T).then(h=>(Pt(tu,`Received RPC '${e}' ${f}: `,h),h),h=>{throw wa(tu,`RPC '${e}' ${f} failed with error: `,h,"url: ",C,"request:",T),h})}Co(e,p,T,P,M,f){return this.bo(e,p,T,P,M)}Do(e,p,T){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Mr}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),p&&p.headers.forEach((P,M)=>e[M]=P),T&&T.headers.forEach((P,M)=>e[M]=P)}So(e,p){const T=pR[e];return`${this.po}/v1/${p}:${T}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const je="WebChannelConnection";class yR extends mR{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,p,T,P){const M=Ku();return new Promise((f,C)=>{const t=new f0;t.setWithCredentials(!0),t.listenOnce(d0.COMPLETE,()=>{try{switch(t.getLastErrorCode()){case Oo.NO_ERROR:const g=t.getResponseJson();Pt(je,`XHR for RPC '${e}' ${M} received:`,JSON.stringify(g)),f(g);break;case Oo.TIMEOUT:Pt(je,`RPC '${e}' ${M} timed out`),C(new Rt(pt.DEADLINE_EXCEEDED,"Request time out"));break;case Oo.HTTP_ERROR:const o=t.getStatus();if(Pt(je,`RPC '${e}' ${M} failed with status:`,o,"response text:",t.getResponseText()),o>0){let a=t.getResponseJson();Array.isArray(a)&&(a=a[0]);const r=a==null?void 0:a.error;if(r&&r.status&&r.message){const i=function(l){const s=l.toLowerCase().replace(/_/g,"-");return Object.values(pt).indexOf(s)>=0?s:pt.UNKNOWN}(r.status);C(new Rt(i,r.message))}else C(new Rt(pt.UNKNOWN,"Server responded with status "+t.getStatus()))}else C(new Rt(pt.UNAVAILABLE,"Connection failed."));break;default:Dt()}}finally{Pt(je,`RPC '${e}' ${M} completed.`)}});const h=JSON.stringify(P);Pt(je,`RPC '${e}' ${M} sending request:`,P),t.send(p,"POST",h,T,15)})}Wo(e,p,T){const P=Ku(),M=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=p0(),C=v0(),t={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(t.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(t.useFetchStreams=!0),this.Do(t.initMessageHeaders,p,T),t.encodeInitMessageHeaders=!0;const g=M.join("");Pt(je,`Creating RPC '${e}' stream ${P}: ${g}`,t);const o=f.createWebChannel(g,t);let a=!1,r=!1;const i=new gR({Fo:l=>{r?Pt(je,`Not sending because RPC '${e}' stream ${P} is closed:`,l):(a||(Pt(je,`Opening RPC '${e}' stream ${P} transport.`),o.open(),a=!0),Pt(je,`RPC '${e}' stream ${P} sending:`,l),o.send(l))},Mo:()=>o.close()}),n=(l,s,u)=>{l.listen(s,d=>{try{u(d)}catch(c){setTimeout(()=>{throw c},0)}})};return n(o,Qr.EventType.OPEN,()=>{r||(Pt(je,`RPC '${e}' stream ${P} transport opened.`),i.Qo())}),n(o,Qr.EventType.CLOSE,()=>{r||(r=!0,Pt(je,`RPC '${e}' stream ${P} transport closed`),i.Ko())}),n(o,Qr.EventType.ERROR,l=>{r||(r=!0,wa(je,`RPC '${e}' stream ${P} transport errored:`,l),i.Ko(new Rt(pt.UNAVAILABLE,"The operation could not be completed")))}),n(o,Qr.EventType.MESSAGE,l=>{var s;if(!r){const u=l.data[0];oe(!!u);const d=u,c=(d==null?void 0:d.error)||((s=d[0])===null||s===void 0?void 0:s.error);if(c){Pt(je,`RPC '${e}' stream ${P} received error:`,c);const v=c.status;let y=function(E){const A=Re[E];if(A!==void 0)return k0(A)}(v),x=c.message;y===void 0&&(y=pt.INTERNAL,x="Unknown error status: "+v+" with message "+c.message),r=!0,i.Ko(new Rt(y,x)),o.close()}else Pt(je,`RPC '${e}' stream ${P} received:`,u),i.Uo(u)}}),n(C,c0.STAT_EVENT,l=>{l.stat===Nu.PROXY?Pt(je,`RPC '${e}' stream ${P} detected buffering proxy`):l.stat===Nu.NOPROXY&&Pt(je,`RPC '${e}' stream ${P} detected no buffering proxy`)}),setTimeout(()=>{i.$o()},0),i}}function eu(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function el(m){return new CP(m,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hy{constructor(e,p,T=1e3,P=1.5,M=6e4){this.Ti=e,this.timerId=p,this.Go=T,this.zo=P,this.jo=M,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const p=Math.floor(this.Ho+this.e_()),T=Math.max(0,Date.now()-this.Yo),P=Math.max(0,p-T);P>0&&Pt("ExponentialBackoff",`Backing off for ${P} ms (base delay: ${this.Ho} ms, delay with jitter: ${p} ms, last attempt: ${T} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,P,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cp="PersistentStream";class ly{constructor(e,p,T,P,M,f,C,t){this.Ti=e,this.n_=T,this.r_=P,this.connection=M,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=C,this.listener=t,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new hy(e,p)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,p){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():p&&p.code===pt.RESOURCE_EXHAUSTED?(gs(p.toString()),gs("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):p&&p.code===pt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(p)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),p=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([T,P])=>{this.i_===p&&this.V_(T,P)},T=>{e(()=>{const P=new Rt(pt.UNKNOWN,"Fetching auth token failed: "+T.message);return this.m_(P)})})}V_(e,p){const T=this.R_(this.i_);this.stream=this.f_(e,p),this.stream.xo(()=>{T(()=>this.listener.xo())}),this.stream.No(()=>{T(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(P=>{T(()=>this.m_(P))}),this.stream.onMessage(P=>{T(()=>++this.__==1?this.g_(P):this.onNext(P))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return Pt(cp,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return p=>{this.Ti.enqueueAndForget(()=>this.i_===e?p():(Pt(cp,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class xR extends ly{constructor(e,p,T,P,M,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",p,T,P,f),this.serializer=M}f_(e,p){return this.connection.Wo("Listen",e,p)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const p=RP(this.serializer,e),T=function(M){if(!("targetChange"in M))return Ut.min();const f=M.targetChange;return f.targetIds&&f.targetIds.length?Ut.min():f.readTime?Ji(f.readTime):Ut.min()}(e);return this.listener.p_(p,T)}y_(e){const p={};p.database=Yu(this.serializer),p.addTarget=function(M,f){let C;const t=f.target;if(C=Uu(t)?{documents:IP(M,t)}:{query:LP(M,t).ht},C.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){C.resumeToken=J0(M,f.resumeToken);const h=Xu(M,f.expectedCount);h!==null&&(C.expectedCount=h)}else if(f.snapshotVersion.compareTo(Ut.min())>0){C.readTime=lh(M,f.snapshotVersion.toTimestamp());const h=Xu(M,f.expectedCount);h!==null&&(C.expectedCount=h)}return C}(this.serializer,e);const T=OP(this.serializer,e);T&&(p.labels=T),this.I_(p)}w_(e){const p={};p.database=Yu(this.serializer),p.removeTarget=e,this.I_(p)}}class TR extends ly{constructor(e,p,T,P,M,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",p,T,P,f),this.serializer=M}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,p){return this.connection.Wo("Write",e,p)}g_(e){return oe(!!e.streamToken),this.lastStreamToken=e.streamToken,oe(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){oe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const p=MP(e.writeResults,e.commitTime),T=Ji(e.commitTime);return this.listener.v_(T,p)}C_(){const e={};e.database=Yu(this.serializer),this.I_(e)}S_(e){const p={streamToken:this.lastStreamToken,writes:e.map(T=>wP(this.serializer,T))};this.I_(p)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{}class ER extends SR{constructor(e,p,T,P){super(),this.authCredentials=e,this.appCheckCredentials=p,this.connection=T,this.serializer=P,this.F_=!1}M_(){if(this.F_)throw new Rt(pt.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,p,T,P){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([M,f])=>this.connection.bo(e,Wu(p,T),P,M,f)).catch(M=>{throw M.name==="FirebaseError"?(M.code===pt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),M):new Rt(pt.UNKNOWN,M.toString())})}Co(e,p,T,P,M){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,C])=>this.connection.Co(e,Wu(p,T),P,f,C,M)).catch(f=>{throw f.name==="FirebaseError"?(f.code===pt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new Rt(pt.UNKNOWN,f.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class CR{constructor(e,p){this.asyncQueue=e,this.onlineStateHandler=p,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const p=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(gs(p),this.N_=!1):Pt("OnlineStateTracker",p)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dn="RemoteStore";class AR{constructor(e,p,T,P,M){this.localStore=e,this.datastore=p,this.asyncQueue=T,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=M,this.z_.To(f=>{T.enqueueAndForget(async()=>{Hn(this)&&(Pt(Dn,"Restarting streams for network reachability change."),await async function(t){const h=zt(t);h.W_.add(4),await Ha(h),h.j_.set("Unknown"),h.W_.delete(4),await il(h)}(this))})}),this.j_=new CR(T,P)}}async function il(m){if(Hn(m))for(const e of m.G_)await e(!0)}async function Ha(m){for(const e of m.G_)await e(!1)}function uy(m,e){const p=zt(m);p.U_.has(e.targetId)||(p.U_.set(e.targetId,e),Qf(p)?jf(p):Fr(p).c_()&&kf(p,e))}function Kf(m,e){const p=zt(m),T=Fr(p);p.U_.delete(e),T.c_()&&fy(p,e),p.U_.size===0&&(T.c_()?T.P_():Hn(p)&&p.j_.set("Unknown"))}function kf(m,e){if(m.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ut.min())>0){const p=m.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(p)}Fr(m).y_(e)}function fy(m,e){m.H_.Ne(e),Fr(m).w_(e)}function jf(m){m.H_=new xP({getRemoteKeysForTarget:e=>m.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>m.U_.get(e)||null,it:()=>m.datastore.serializer.databaseId}),Fr(m).start(),m.j_.B_()}function Qf(m){return Hn(m)&&!Fr(m).u_()&&m.U_.size>0}function Hn(m){return zt(m).W_.size===0}function dy(m){m.H_=void 0}async function PR(m){m.j_.set("Online")}async function RR(m){m.U_.forEach((e,p)=>{kf(m,e)})}async function wR(m,e){dy(m),Qf(m)?(m.j_.q_(e),jf(m)):m.j_.set("Unknown")}async function MR(m,e,p){if(m.j_.set("Online"),e instanceof Q0&&e.state===2&&e.cause)try{await async function(P,M){const f=M.cause;for(const C of M.targetIds)P.U_.has(C)&&(await P.remoteSyncer.rejectListen(C,f),P.U_.delete(C),P.H_.removeTarget(C))}(m,e)}catch(T){Pt(Dn,"Failed to remove targets %s: %s ",e.targetIds.join(","),T),await fh(m,T)}else if(e instanceof Bo?m.H_.We(e):e instanceof j0?m.H_.Ze(e):m.H_.je(e),!p.isEqual(Ut.min()))try{const T=await oy(m.localStore);p.compareTo(T)>=0&&await function(M,f){const C=M.H_.ot(f);return C.targetChanges.forEach((t,h)=>{if(t.resumeToken.approximateByteSize()>0){const g=M.U_.get(h);g&&M.U_.set(h,g.withResumeToken(t.resumeToken,f))}}),C.targetMismatches.forEach((t,h)=>{const g=M.U_.get(t);if(!g)return;M.U_.set(t,g.withResumeToken($e.EMPTY_BYTE_STRING,g.snapshotVersion)),fy(M,t);const o=new Gs(g.target,t,h,g.sequenceNumber);kf(M,o)}),M.remoteSyncer.applyRemoteEvent(C)}(m,p)}catch(T){Pt(Dn,"Failed to raise snapshot:",T),await fh(m,T)}}async function fh(m,e,p){if(!Lr(e))throw e;m.W_.add(1),await Ha(m),m.j_.set("Offline"),p||(p=()=>oy(m.localStore)),m.asyncQueue.enqueueRetryable(async()=>{Pt(Dn,"Retrying IndexedDB access"),await p(),m.W_.delete(1),await il(m)})}function cy(m,e){return e().catch(p=>fh(m,p,e))}async function sl(m){const e=zt(m),p=en(e);let T=e.K_.length>0?e.K_[e.K_.length-1].batchId:Df;for(;IR(e);)try{const P=await uR(e.localStore,T);if(P===null){e.K_.length===0&&p.P_();break}T=P.batchId,LR(e,P)}catch(P){await fh(e,P)}vy(e)&&py(e)}function IR(m){return Hn(m)&&m.K_.length<10}function LR(m,e){m.K_.push(e);const p=en(m);p.c_()&&p.b_&&p.S_(e.mutations)}function vy(m){return Hn(m)&&!en(m).u_()&&m.K_.length>0}function py(m){en(m).start()}async function FR(m){en(m).C_()}async function OR(m){const e=en(m);for(const p of m.K_)e.S_(p.mutations)}async function DR(m,e,p){const T=m.K_.shift(),P=Gf.from(T,e,p);await cy(m,()=>m.remoteSyncer.applySuccessfulWrite(P)),await sl(m)}async function NR(m,e){e&&en(m).b_&&await async function(T,P){if(function(f){return mP(f)&&f!==pt.ABORTED}(P.code)){const M=T.K_.shift();en(T).h_(),await cy(T,()=>T.remoteSyncer.rejectFailedWrite(M.batchId,P)),await sl(T)}}(m,e),vy(m)&&py(m)}async function vp(m,e){const p=zt(m);p.asyncQueue.verifyOperationInProgress(),Pt(Dn,"RemoteStore received new credentials");const T=Hn(p);p.W_.add(3),await Ha(p),T&&p.j_.set("Unknown"),await p.remoteSyncer.handleCredentialChange(e),p.W_.delete(3),await il(p)}async function bR(m,e){const p=zt(m);e?(p.W_.delete(2),await il(p)):e||(p.W_.add(2),await Ha(p),p.j_.set("Unknown"))}function Fr(m){return m.J_||(m.J_=function(p,T,P){const M=zt(p);return M.M_(),new xR(T,M.connection,M.authCredentials,M.appCheckCredentials,M.serializer,P)}(m.datastore,m.asyncQueue,{xo:PR.bind(null,m),No:RR.bind(null,m),Lo:wR.bind(null,m),p_:MR.bind(null,m)}),m.G_.push(async e=>{e?(m.J_.h_(),Qf(m)?jf(m):m.j_.set("Unknown")):(await m.J_.stop(),dy(m))})),m.J_}function en(m){return m.Y_||(m.Y_=function(p,T,P){const M=zt(p);return M.M_(),new TR(T,M.connection,M.authCredentials,M.appCheckCredentials,M.serializer,P)}(m.datastore,m.asyncQueue,{xo:()=>Promise.resolve(),No:FR.bind(null,m),Lo:NR.bind(null,m),D_:OR.bind(null,m),v_:DR.bind(null,m)}),m.G_.push(async e=>{e?(m.Y_.h_(),await sl(m)):(await m.Y_.stop(),m.K_.length>0&&(Pt(Dn,`Stopping write stream with ${m.K_.length} pending writes`),m.K_=[]))})),m.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{constructor(e,p,T,P,M){this.asyncQueue=e,this.timerId=p,this.targetTimeMs=T,this.op=P,this.removalCallback=M,this.deferred=new vs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,p,T,P,M){const f=Date.now()+T,C=new Jf(e,p,f,P,M);return C.start(T),C}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Rt(pt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Zf(m,e){if(gs("AsyncQueue",`${e}: ${m}`),Lr(m))return new Rt(pt.UNAVAILABLE,`${e}: ${m}`);throw m}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{static emptySet(e){return new dr(e.comparator)}constructor(e){this.comparator=e?(p,T)=>e(p,T)||Ft.comparator(p.key,T.key):(p,T)=>Ft.comparator(p.key,T.key),this.keyedMap=Jr(),this.sortedSet=new Se(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const p=this.keyedMap.get(e);return p?this.sortedSet.indexOf(p):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((p,T)=>(e(p),!1))}add(e){const p=this.delete(e.key);return p.copy(p.keyedMap.insert(e.key,e),p.sortedSet.insert(e,null))}delete(e){const p=this.get(e);return p?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(p)):this}isEqual(e){if(!(e instanceof dr)||this.size!==e.size)return!1;const p=this.sortedSet.getIterator(),T=e.sortedSet.getIterator();for(;p.hasNext();){const P=p.getNext().key,M=T.getNext().key;if(!P.isEqual(M))return!1}return!0}toString(){const e=[];return this.forEach(p=>{e.push(p.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,p){const T=new dr;return T.comparator=this.comparator,T.keyedMap=e,T.sortedSet=p,T}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp{constructor(){this.Z_=new Se(Ft.comparator)}track(e){const p=e.doc.key,T=this.Z_.get(p);T?e.type!==0&&T.type===3?this.Z_=this.Z_.insert(p,e):e.type===3&&T.type!==1?this.Z_=this.Z_.insert(p,{type:T.type,doc:e.doc}):e.type===2&&T.type===2?this.Z_=this.Z_.insert(p,{type:2,doc:e.doc}):e.type===2&&T.type===0?this.Z_=this.Z_.insert(p,{type:0,doc:e.doc}):e.type===1&&T.type===0?this.Z_=this.Z_.remove(p):e.type===1&&T.type===2?this.Z_=this.Z_.insert(p,{type:1,doc:T.doc}):e.type===0&&T.type===1?this.Z_=this.Z_.insert(p,{type:2,doc:e.doc}):Dt():this.Z_=this.Z_.insert(p,e)}X_(){const e=[];return this.Z_.inorderTraversal((p,T)=>{e.push(T)}),e}}class Er{constructor(e,p,T,P,M,f,C,t,h){this.query=e,this.docs=p,this.oldDocs=T,this.docChanges=P,this.mutatedKeys=M,this.fromCache=f,this.syncStateChanged=C,this.excludesMetadataChanges=t,this.hasCachedResults=h}static fromInitialDocuments(e,p,T,P,M){const f=[];return p.forEach(C=>{f.push({type:0,doc:C})}),new Er(e,p,dr.emptySet(p),f,T,P,!0,!1,M)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Jh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const p=this.docChanges,T=e.docChanges;if(p.length!==T.length)return!1;for(let P=0;P<p.length;P++)if(p[P].type!==T[P].type||!p[P].doc.isEqual(T[P].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class VR{constructor(){this.queries=mp(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(p,T){const P=zt(p),M=P.queries;P.queries=mp(),M.forEach((f,C)=>{for(const t of C.ta)t.onError(T)})})(this,new Rt(pt.ABORTED,"Firestore shutting down"))}}function mp(){return new Wn(m=>N0(m),Jh)}async function qf(m,e){const p=zt(m);let T=3;const P=e.query;let M=p.queries.get(P);M?!M.na()&&e.ra()&&(T=2):(M=new BR,T=e.ra()?0:1);try{switch(T){case 0:M.ea=await p.onListen(P,!0);break;case 1:M.ea=await p.onListen(P,!1);break;case 2:await p.onFirstRemoteStoreListen(P)}}catch(f){const C=Zf(f,`Initialization of query '${_n(e.query)}' failed`);return void e.onError(C)}p.queries.set(P,M),M.ta.push(e),e.sa(p.onlineState),M.ea&&e.oa(M.ea)&&td(p)}async function _f(m,e){const p=zt(m),T=e.query;let P=3;const M=p.queries.get(T);if(M){const f=M.ta.indexOf(e);f>=0&&(M.ta.splice(f,1),M.ta.length===0?P=e.ra()?0:1:!M.na()&&e.ra()&&(P=2))}switch(P){case 0:return p.queries.delete(T),p.onUnlisten(T,!0);case 1:return p.queries.delete(T),p.onUnlisten(T,!1);case 2:return p.onLastRemoteStoreUnlisten(T);default:return}}function UR(m,e){const p=zt(m);let T=!1;for(const P of e){const M=P.query,f=p.queries.get(M);if(f){for(const C of f.ta)C.oa(P)&&(T=!0);f.ea=P}}T&&td(p)}function GR(m,e,p){const T=zt(m),P=T.queries.get(e);if(P)for(const M of P.ta)M.onError(p);T.queries.delete(e)}function td(m){m.ia.forEach(e=>{e.next()})}var ku,gp;(gp=ku||(ku={}))._a="default",gp.Cache="cache";class ed{constructor(e,p,T){this.query=e,this.aa=p,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=T||{}}oa(e){if(!this.options.includeMetadataChanges){const T=[];for(const P of e.docChanges)P.type!==3&&T.push(P);e=new Er(e.query,e.docs,e.oldDocs,T,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let p=!1;return this.ua?this.la(e)&&(this.aa.next(e),p=!0):this.ha(e,this.onlineState)&&(this.Pa(e),p=!0),this.ca=e,p}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let p=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),p=!0),p}ha(e,p){if(!e.fromCache||!this.ra())return!0;const T=p!=="Offline";return(!this.options.Ta||!T)&&(!e.docs.isEmpty()||e.hasCachedResults||p==="Offline")}la(e){if(e.docChanges.length>0)return!0;const p=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!p)&&this.options.includeMetadataChanges===!0}Pa(e){e=Er.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==ku.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my{constructor(e){this.key=e}}class gy{constructor(e){this.key=e}}class zR{constructor(e,p){this.query=e,this.fa=p,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=$t(),this.mutatedKeys=$t(),this.ya=b0(e),this.wa=new dr(this.ya)}get ba(){return this.fa}Sa(e,p){const T=p?p.Da:new pp,P=p?p.wa:this.wa;let M=p?p.mutatedKeys:this.mutatedKeys,f=P,C=!1;const t=this.query.limitType==="F"&&P.size===this.query.limit?P.last():null,h=this.query.limitType==="L"&&P.size===this.query.limit?P.first():null;if(e.inorderTraversal((g,o)=>{const a=P.get(g),r=Zh(this.query,o)?o:null,i=!!a&&this.mutatedKeys.has(a.key),n=!!r&&(r.hasLocalMutations||this.mutatedKeys.has(r.key)&&r.hasCommittedMutations);let l=!1;a&&r?a.data.isEqual(r.data)?i!==n&&(T.track({type:3,doc:r}),l=!0):this.va(a,r)||(T.track({type:2,doc:r}),l=!0,(t&&this.ya(r,t)>0||h&&this.ya(r,h)<0)&&(C=!0)):!a&&r?(T.track({type:0,doc:r}),l=!0):a&&!r&&(T.track({type:1,doc:a}),l=!0,(t||h)&&(C=!0)),l&&(r?(f=f.add(r),M=n?M.add(g):M.delete(g)):(f=f.delete(g),M=M.delete(g)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const g=this.query.limitType==="F"?f.last():f.first();f=f.delete(g.key),M=M.delete(g.key),T.track({type:1,doc:g})}return{wa:f,Da:T,ls:C,mutatedKeys:M}}va(e,p){return e.hasLocalMutations&&p.hasCommittedMutations&&!p.hasLocalMutations}applyChanges(e,p,T,P){const M=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const f=e.Da.X_();f.sort((g,o)=>function(r,i){const n=l=>{switch(l){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Dt()}};return n(r)-n(i)}(g.type,o.type)||this.ya(g.doc,o.doc)),this.Ca(T),P=P!=null&&P;const C=p&&!P?this.Fa():[],t=this.pa.size===0&&this.current&&!P?1:0,h=t!==this.ga;return this.ga=t,f.length!==0||h?{snapshot:new Er(this.query,e.wa,M,f,e.mutatedKeys,t===0,h,!1,!!T&&T.resumeToken.approximateByteSize()>0),Ma:C}:{Ma:C}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new pp,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(p=>this.fa=this.fa.add(p)),e.modifiedDocuments.forEach(p=>{}),e.removedDocuments.forEach(p=>this.fa=this.fa.delete(p)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=$t(),this.wa.forEach(T=>{this.xa(T.key)&&(this.pa=this.pa.add(T.key))});const p=[];return e.forEach(T=>{this.pa.has(T)||p.push(new gy(T))}),this.pa.forEach(T=>{e.has(T)||p.push(new my(T))}),p}Oa(e){this.fa=e.gs,this.pa=$t();const p=this.Sa(e.documents);return this.applyChanges(p,!0)}Na(){return Er.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const id="SyncEngine";class XR{constructor(e,p,T){this.query=e,this.targetId=p,this.view=T}}class WR{constructor(e){this.key=e,this.Ba=!1}}class HR{constructor(e,p,T,P,M,f){this.localStore=e,this.remoteStore=p,this.eventManager=T,this.sharedClientState=P,this.currentUser=M,this.maxConcurrentLimboResolutions=f,this.La={},this.ka=new Wn(C=>N0(C),Jh),this.qa=new Map,this.Qa=new Set,this.$a=new Se(Ft.comparator),this.Ka=new Map,this.Ua=new Wf,this.Wa={},this.Ga=new Map,this.za=Sr.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function YR(m,e,p=!0){const T=Cy(m);let P;const M=T.ka.get(e);return M?(T.sharedClientState.addLocalQueryTarget(M.targetId),P=M.view.Na()):P=await yy(T,e,p,!0),P}async function $R(m,e){const p=Cy(m);await yy(p,e,!0,!1)}async function yy(m,e,p,T){const P=await fR(m.localStore,Qi(e)),M=P.targetId,f=m.sharedClientState.addLocalQueryTarget(M,p);let C;return T&&(C=await KR(m,e,M,f==="current",P.resumeToken)),m.isPrimaryClient&&p&&uy(m.remoteStore,P),C}async function KR(m,e,p,T,P){m.Ha=(o,a,r)=>async function(n,l,s,u){let d=l.view.Sa(s);d.ls&&(d=await lp(n.localStore,l.query,!1).then(({documents:x})=>l.view.Sa(x,d)));const c=u&&u.targetChanges.get(l.targetId),v=u&&u.targetMismatches.get(l.targetId)!=null,y=l.view.applyChanges(d,n.isPrimaryClient,c,v);return xp(n,l.targetId,y.Ma),y.snapshot}(m,o,a,r);const M=await lp(m.localStore,e,!0),f=new zR(e,M.gs),C=f.Sa(M.documents),t=Wa.createSynthesizedTargetChangeForCurrentChange(p,T&&m.onlineState!=="Offline",P),h=f.applyChanges(C,m.isPrimaryClient,t);xp(m,p,h.Ma);const g=new XR(e,p,f);return m.ka.set(e,g),m.qa.has(p)?m.qa.get(p).push(e):m.qa.set(p,[e]),h.snapshot}async function kR(m,e,p){const T=zt(m),P=T.ka.get(e),M=T.qa.get(P.targetId);if(M.length>1)return T.qa.set(P.targetId,M.filter(f=>!Jh(f,e))),void T.ka.delete(e);T.isPrimaryClient?(T.sharedClientState.removeLocalQueryTarget(P.targetId),T.sharedClientState.isActiveQueryTarget(P.targetId)||await $u(T.localStore,P.targetId,!1).then(()=>{T.sharedClientState.clearQueryState(P.targetId),p&&Kf(T.remoteStore,P.targetId),ju(T,P.targetId)}).catch(Ir)):(ju(T,P.targetId),await $u(T.localStore,P.targetId,!0))}async function jR(m,e){const p=zt(m),T=p.ka.get(e),P=p.qa.get(T.targetId);p.isPrimaryClient&&P.length===1&&(p.sharedClientState.removeLocalQueryTarget(T.targetId),Kf(p.remoteStore,T.targetId))}async function QR(m,e,p){const T=iw(m);try{const P=await function(f,C){const t=zt(f),h=Fe.now(),g=C.reduce((r,i)=>r.add(i.key),$t());let o,a;return t.persistence.runTransaction("Locally write mutations","readwrite",r=>{let i=ys(),n=$t();return t.ds.getEntries(r,g).next(l=>{i=l,i.forEach((s,u)=>{u.isValidDocument()||(n=n.add(s))})}).next(()=>t.localDocuments.getOverlayedDocuments(r,i)).next(l=>{o=l;const s=[];for(const u of C){const d=fP(u,o.get(u.key).overlayedDocument);d!=null&&s.push(new un(u.key,d,R0(d.value.mapValue),Oi.exists(!0)))}return t.mutationQueue.addMutationBatch(r,h,s,C)}).next(l=>{a=l;const s=l.applyToLocalDocumentSet(o,n);return t.documentOverlayCache.saveOverlays(r,l.batchId,s)})}).then(()=>({batchId:a.batchId,changes:V0(o)}))}(T.localStore,e);T.sharedClientState.addPendingMutation(P.batchId),function(f,C,t){let h=f.Wa[f.currentUser.toKey()];h||(h=new Se(kt)),h=h.insert(C,t),f.Wa[f.currentUser.toKey()]=h}(T,P.batchId,p),await Ya(T,P.changes),await sl(T.remoteStore)}catch(P){const M=Zf(P,"Failed to persist write");p.reject(M)}}async function xy(m,e){const p=zt(m);try{const T=await hR(p.localStore,e);e.targetChanges.forEach((P,M)=>{const f=p.Ka.get(M);f&&(oe(P.addedDocuments.size+P.modifiedDocuments.size+P.removedDocuments.size<=1),P.addedDocuments.size>0?f.Ba=!0:P.modifiedDocuments.size>0?oe(f.Ba):P.removedDocuments.size>0&&(oe(f.Ba),f.Ba=!1))}),await Ya(p,T,e)}catch(T){await Ir(T)}}function yp(m,e,p){const T=zt(m);if(T.isPrimaryClient&&p===0||!T.isPrimaryClient&&p===1){const P=[];T.ka.forEach((M,f)=>{const C=f.view.sa(e);C.snapshot&&P.push(C.snapshot)}),function(f,C){const t=zt(f);t.onlineState=C;let h=!1;t.queries.forEach((g,o)=>{for(const a of o.ta)a.sa(C)&&(h=!0)}),h&&td(t)}(T.eventManager,e),P.length&&T.La.p_(P),T.onlineState=e,T.isPrimaryClient&&T.sharedClientState.setOnlineState(e)}}async function JR(m,e,p){const T=zt(m);T.sharedClientState.updateQueryState(e,"rejected",p);const P=T.Ka.get(e),M=P&&P.key;if(M){let f=new Se(Ft.comparator);f=f.insert(M,Ze.newNoDocument(M,Ut.min()));const C=$t().add(M),t=new tl(Ut.min(),new Map,new Se(kt),f,C);await xy(T,t),T.$a=T.$a.remove(M),T.Ka.delete(e),sd(T)}else await $u(T.localStore,e,!1).then(()=>ju(T,e,p)).catch(Ir)}async function ZR(m,e){const p=zt(m),T=e.batch.batchId;try{const P=await oR(p.localStore,e);Sy(p,T,null),Ty(p,T),p.sharedClientState.updateMutationState(T,"acknowledged"),await Ya(p,P)}catch(P){await Ir(P)}}async function qR(m,e,p){const T=zt(m);try{const P=await function(f,C){const t=zt(f);return t.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let g;return t.mutationQueue.lookupMutationBatch(h,C).next(o=>(oe(o!==null),g=o.keys(),t.mutationQueue.removeMutationBatch(h,o))).next(()=>t.mutationQueue.performConsistencyCheck(h)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(h,g,C)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,g)).next(()=>t.localDocuments.getDocuments(h,g))})}(T.localStore,e);Sy(T,e,p),Ty(T,e),T.sharedClientState.updateMutationState(e,"rejected",p),await Ya(T,P)}catch(P){await Ir(P)}}function Ty(m,e){(m.Ga.get(e)||[]).forEach(p=>{p.resolve()}),m.Ga.delete(e)}function Sy(m,e,p){const T=zt(m);let P=T.Wa[T.currentUser.toKey()];if(P){const M=P.get(e);M&&(p?M.reject(p):M.resolve(),P=P.remove(e)),T.Wa[T.currentUser.toKey()]=P}}function ju(m,e,p=null){m.sharedClientState.removeLocalQueryTarget(e);for(const T of m.qa.get(e))m.ka.delete(T),p&&m.La.Ja(T,p);m.qa.delete(e),m.isPrimaryClient&&m.Ua.Sr(e).forEach(T=>{m.Ua.containsKey(T)||Ey(m,T)})}function Ey(m,e){m.Qa.delete(e.path.canonicalString());const p=m.$a.get(e);p!==null&&(Kf(m.remoteStore,p),m.$a=m.$a.remove(e),m.Ka.delete(p),sd(m))}function xp(m,e,p){for(const T of p)T instanceof my?(m.Ua.addReference(T.key,e),_R(m,T)):T instanceof gy?(Pt(id,"Document no longer in limbo: "+T.key),m.Ua.removeReference(T.key,e),m.Ua.containsKey(T.key)||Ey(m,T.key)):Dt()}function _R(m,e){const p=e.key,T=p.path.canonicalString();m.$a.get(p)||m.Qa.has(T)||(Pt(id,"New document in limbo: "+p),m.Qa.add(T),sd(m))}function sd(m){for(;m.Qa.size>0&&m.$a.size<m.maxConcurrentLimboResolutions;){const e=m.Qa.values().next().value;m.Qa.delete(e);const p=new Ft(ge.fromString(e)),T=m.za.next();m.Ka.set(T,new WR(p)),m.$a=m.$a.insert(p,T),uy(m.remoteStore,new Gs(Qi(Qh(p.path)),T,"TargetPurposeLimboResolution",Kh.ae))}}async function Ya(m,e,p){const T=zt(m),P=[],M=[],f=[];T.ka.isEmpty()||(T.ka.forEach((C,t)=>{f.push(T.Ha(t,e,p).then(h=>{var g;if((h||p)&&T.isPrimaryClient){const o=h?!h.fromCache:(g=p==null?void 0:p.targetChanges.get(t.targetId))===null||g===void 0?void 0:g.current;T.sharedClientState.updateQueryState(t.targetId,o?"current":"not-current")}if(h){P.push(h);const o=Yf.Yi(t.targetId,h);M.push(o)}}))}),await Promise.all(f),T.La.p_(P),await async function(t,h){const g=zt(t);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",o=>mt.forEach(h,a=>mt.forEach(a.Hi,r=>g.persistence.referenceDelegate.addReference(o,a.targetId,r)).next(()=>mt.forEach(a.Ji,r=>g.persistence.referenceDelegate.removeReference(o,a.targetId,r)))))}catch(o){if(!Lr(o))throw o;Pt($f,"Failed to update sequence numbers: "+o)}for(const o of h){const a=o.targetId;if(!o.fromCache){const r=g.Ts.get(a),i=r.snapshotVersion,n=r.withLastLimboFreeSnapshotVersion(i);g.Ts=g.Ts.insert(a,n)}}}(T.localStore,M))}async function tw(m,e){const p=zt(m);if(!p.currentUser.isEqual(e)){Pt(id,"User change. New user:",e.toKey());const T=await ay(p.localStore,e);p.currentUser=e,function(M,f){M.Ga.forEach(C=>{C.forEach(t=>{t.reject(new Rt(pt.CANCELLED,f))})}),M.Ga.clear()}(p,"'waitForPendingWrites' promise is rejected due to a user change."),p.sharedClientState.handleUserChange(e,T.removedBatchIds,T.addedBatchIds),await Ya(p,T.Rs)}}function ew(m,e){const p=zt(m),T=p.Ka.get(e);if(T&&T.Ba)return $t().add(T.key);{let P=$t();const M=p.qa.get(e);if(!M)return P;for(const f of M){const C=p.ka.get(f);P=P.unionWith(C.view.ba)}return P}}function Cy(m){const e=zt(m);return e.remoteStore.remoteSyncer.applyRemoteEvent=xy.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ew.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=JR.bind(null,e),e.La.p_=UR.bind(null,e.eventManager),e.La.Ja=GR.bind(null,e.eventManager),e}function iw(m){const e=zt(m);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ZR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=qR.bind(null,e),e}class dh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=el(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,p){return null}nu(e,p){return null}eu(e){return aR(this.persistence,new sR,e.initialUser,this.serializer)}Xa(e){return new ry(Hf.ri,this.serializer)}Za(e){return new cR}async terminate(){var e,p;(e=this.gcScheduler)===null||e===void 0||e.stop(),(p=this.indexBackfillerScheduler)===null||p===void 0||p.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}dh.provider={build:()=>new dh};class sw extends dh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,p){oe(this.persistence.referenceDelegate instanceof uh);const T=this.persistence.referenceDelegate.garbageCollector;return new WP(T,e.asyncQueue,p)}Xa(e){const p=this.cacheSizeBytes!==void 0?oi.withCacheSize(this.cacheSizeBytes):oi.DEFAULT;return new ry(T=>uh.ri(T,p),this.serializer)}}class Qu{async initialize(e,p){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(p),this.remoteStore=this.createRemoteStore(p),this.eventManager=this.createEventManager(p),this.syncEngine=this.createSyncEngine(p,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=T=>yp(this.syncEngine,T,1),this.remoteStore.remoteSyncer.handleCredentialChange=tw.bind(null,this.syncEngine),await bR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new VR}()}createDatastore(e){const p=el(e.databaseInfo.databaseId),T=function(M){return new yR(M)}(e.databaseInfo);return function(M,f,C,t){return new ER(M,f,C,t)}(e.authCredentials,e.appCheckCredentials,T,p)}createRemoteStore(e){return function(T,P,M,f,C){return new AR(T,P,M,f,C)}(this.localStore,this.datastore,e.asyncQueue,p=>yp(this.syncEngine,p,0),function(){return dp.D()?new dp:new vR}())}createSyncEngine(e,p){return function(P,M,f,C,t,h,g){const o=new HR(P,M,f,C,t,h);return g&&(o.ja=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,p)}async terminate(){var e,p;await async function(P){const M=zt(P);Pt(Dn,"RemoteStore shutting down."),M.W_.add(5),await Ha(M),M.z_.shutdown(),M.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(p=this.eventManager)===null||p===void 0||p.terminate()}}Qu.provider={build:()=>new Qu};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):gs("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,p){setTimeout(()=>{this.muted||e(p)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sn="FirestoreClient";class nw{constructor(e,p,T,P,M){this.authCredentials=e,this.appCheckCredentials=p,this.asyncQueue=T,this.databaseInfo=P,this.user=ai.UNAUTHENTICATED,this.clientId=m0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=M,this.authCredentials.start(T,async f=>{Pt(sn,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(T,f=>(Pt(sn,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new vs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(p){const T=Zf(p,"Failed to shutdown persistence");e.reject(T)}}),e.promise}}async function iu(m,e){m.asyncQueue.verifyOperationInProgress(),Pt(sn,"Initializing OfflineComponentProvider");const p=m.configuration;await e.initialize(p);let T=p.initialUser;m.setCredentialChangeListener(async P=>{T.isEqual(P)||(await ay(e.localStore,P),T=P)}),e.persistence.setDatabaseDeletedListener(()=>m.terminate()),m._offlineComponents=e}async function Tp(m,e){m.asyncQueue.verifyOperationInProgress();const p=await rw(m);Pt(sn,"Initializing OnlineComponentProvider"),await e.initialize(p,m.configuration),m.setCredentialChangeListener(T=>vp(e.remoteStore,T)),m.setAppCheckTokenChangeListener((T,P)=>vp(e.remoteStore,P)),m._onlineComponents=e}async function rw(m){if(!m._offlineComponents)if(m._uninitializedComponentsProvider){Pt(sn,"Using user provided OfflineComponentProvider");try{await iu(m,m._uninitializedComponentsProvider._offline)}catch(e){const p=e;if(!function(P){return P.name==="FirebaseError"?P.code===pt.FAILED_PRECONDITION||P.code===pt.UNIMPLEMENTED:!(typeof DOMException<"u"&&P instanceof DOMException)||P.code===22||P.code===20||P.code===11}(p))throw p;wa("Error using user provided cache. Falling back to memory cache: "+p),await iu(m,new dh)}}else Pt(sn,"Using default OfflineComponentProvider"),await iu(m,new sw(void 0));return m._offlineComponents}async function Ay(m){return m._onlineComponents||(m._uninitializedComponentsProvider?(Pt(sn,"Using user provided OnlineComponentProvider"),await Tp(m,m._uninitializedComponentsProvider._online)):(Pt(sn,"Using default OnlineComponentProvider"),await Tp(m,new Qu))),m._onlineComponents}function aw(m){return Ay(m).then(e=>e.syncEngine)}async function ch(m){const e=await Ay(m),p=e.eventManager;return p.onListen=YR.bind(null,e.syncEngine),p.onUnlisten=kR.bind(null,e.syncEngine),p.onFirstRemoteStoreListen=$R.bind(null,e.syncEngine),p.onLastRemoteStoreUnlisten=jR.bind(null,e.syncEngine),p}function ow(m,e,p={}){const T=new vs;return m.asyncQueue.enqueueAndForget(async()=>function(M,f,C,t,h){const g=new nd({next:a=>{g.su(),f.enqueueAndForget(()=>_f(M,o));const r=a.docs.has(C);!r&&a.fromCache?h.reject(new Rt(pt.UNAVAILABLE,"Failed to get document because the client is offline.")):r&&a.fromCache&&t&&t.source==="server"?h.reject(new Rt(pt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(a)},error:a=>h.reject(a)}),o=new ed(Qh(C.path),g,{includeMetadataChanges:!0,Ta:!0});return qf(M,o)}(await ch(m),m.asyncQueue,e,p,T)),T.promise}function hw(m,e,p={}){const T=new vs;return m.asyncQueue.enqueueAndForget(async()=>function(M,f,C,t,h){const g=new nd({next:a=>{g.su(),f.enqueueAndForget(()=>_f(M,o)),a.fromCache&&t.source==="server"?h.reject(new Rt(pt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(a)},error:a=>h.reject(a)}),o=new ed(C,g,{includeMetadataChanges:!0,Ta:!0});return qf(M,o)}(await ch(m),m.asyncQueue,e,p,T)),T.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Py(m){const e={};return m.timeoutSeconds!==void 0&&(e.timeoutSeconds=m.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sp=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ry(m,e,p){if(!p)throw new Rt(pt.INVALID_ARGUMENT,`Function ${m}() cannot be called with an empty ${e}.`)}function lw(m,e,p,T){if(e===!0&&T===!0)throw new Rt(pt.INVALID_ARGUMENT,`${m} and ${p} cannot be used together.`)}function Ep(m){if(!Ft.isDocumentKey(m))throw new Rt(pt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${m} has ${m.length}.`)}function Cp(m){if(Ft.isDocumentKey(m))throw new Rt(pt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${m} has ${m.length}.`)}function nl(m){if(m===void 0)return"undefined";if(m===null)return"null";if(typeof m=="string")return m.length>20&&(m=`${m.substring(0,20)}...`),JSON.stringify(m);if(typeof m=="number"||typeof m=="boolean")return""+m;if(typeof m=="object"){if(m instanceof Array)return"an array";{const e=function(T){return T.constructor?T.constructor.name:null}(m);return e?`a custom ${e} object`:"an object"}}return typeof m=="function"?"a function":Dt()}function wi(m,e){if("_delegate"in m&&(m=m._delegate),!(m instanceof e)){if(e.name===m.constructor.name)throw new Rt(pt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const p=nl(m);throw new Rt(pt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${p}`)}}return m}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uw="firestore.googleapis.com",Ap=!0;class Pp{constructor(e){var p,T;if(e.host===void 0){if(e.ssl!==void 0)throw new Rt(pt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=uw,this.ssl=Ap}else this.host=e.host,this.ssl=(p=e.ssl)!==null&&p!==void 0?p:Ap;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=sy;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<ny)throw new Rt(pt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}lw("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Py((T=e.experimentalLongPollingOptions)!==null&&T!==void 0?T:{}),function(M){if(M.timeoutSeconds!==void 0){if(isNaN(M.timeoutSeconds))throw new Rt(pt.INVALID_ARGUMENT,`invalid long polling timeout: ${M.timeoutSeconds} (must not be NaN)`);if(M.timeoutSeconds<5)throw new Rt(pt.INVALID_ARGUMENT,`invalid long polling timeout: ${M.timeoutSeconds} (minimum allowed value is 5)`);if(M.timeoutSeconds>30)throw new Rt(pt.INVALID_ARGUMENT,`invalid long polling timeout: ${M.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(T,P){return T.timeoutSeconds===P.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class rd{constructor(e,p,T,P){this._authCredentials=e,this._appCheckCredentials=p,this._databaseId=T,this._app=P,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Pp({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Rt(pt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Rt(pt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Pp(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(T){if(!T)return new xA;switch(T.type){case"firstParty":return new EA(T.sessionIndex||"0",T.iamToken||null,T.authTokenFactory||null);case"provider":return T.client;default:throw new Rt(pt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(p){const T=Sp.get(p);T&&(Pt("ComponentProvider","Removing Datastore"),Sp.delete(p),T.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e,p,T){this.converter=p,this._query=T,this.type="query",this.firestore=e}withConverter(e){return new Yn(this.firestore,e,this._query)}}class _e{constructor(e,p,T){this.converter=p,this._key=T,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $s(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _e(this.firestore,e,this._key)}}class $s extends Yn{constructor(e,p,T){super(e,p,Qh(T)),this._path=T,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _e(this.firestore,null,new Ft(e))}withConverter(e){return new $s(this.firestore,e,this._path)}}function Rp(m,e,...p){if(m=Te(m),Ry("collection","path",e),m instanceof rd){const T=ge.fromString(e,...p);return Cp(T),new $s(m,null,T)}{if(!(m instanceof _e||m instanceof $s))throw new Rt(pt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const T=m._path.child(ge.fromString(e,...p));return Cp(T),new $s(m.firestore,null,T)}}function qr(m,e,...p){if(m=Te(m),arguments.length===1&&(e=m0.newId()),Ry("doc","path",e),m instanceof rd){const T=ge.fromString(e,...p);return Ep(T),new _e(m,null,new Ft(T))}{if(!(m instanceof _e||m instanceof $s))throw new Rt(pt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const T=m._path.child(ge.fromString(e,...p));return Ep(T),new _e(m.firestore,m instanceof $s?m.converter:null,new Ft(T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wp="AsyncQueue";class Mp{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new hy(this,"async_queue_retry"),this.bu=()=>{const T=eu();T&&Pt(wp,"Visibility state changed to "+T.visibilityState),this.a_.t_()},this.Su=e;const p=eu();p&&typeof p.addEventListener=="function"&&p.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const p=eu();p&&typeof p.removeEventListener=="function"&&p.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const p=new vs;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(p.resolve,p.reject),p.promise)).then(()=>p.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Lr(e))throw e;Pt(wp,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const p=this.Su.then(()=>(this.pu=!0,e().catch(T=>{this.gu=T,this.pu=!1;const P=function(f){let C=f.message||"";return f.stack&&(C=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),C}(T);throw gs("INTERNAL UNHANDLED ERROR: ",P),T}).then(T=>(this.pu=!1,T))));return this.Su=p,p}enqueueAfterDelay(e,p,T){this.Du(),this.wu.indexOf(e)>-1&&(p=0);const P=Jf.createAndSchedule(this,e,p,T,M=>this.Fu(M));return this.fu.push(P),P}Du(){this.gu&&Dt()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const p of this.fu)if(p.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((p,T)=>p.targetTimeMs-T.targetTimeMs);for(const p of this.fu)if(p.skipDelay(),e!=="all"&&p.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const p=this.fu.indexOf(e);this.fu.splice(p,1)}}function Ip(m){return function(p,T){if(typeof p!="object"||p===null)return!1;const P=p;for(const M of T)if(M in P&&typeof P[M]=="function")return!0;return!1}(m,["next","error","complete"])}class nn extends rd{constructor(e,p,T,P){super(e,p,T,P),this.type="firestore",this._queue=new Mp,this._persistenceKey=(P==null?void 0:P.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Mp(e),this._firestoreClient=void 0,await e}}}function fw(m,e,p){p||(p=sh);const T=Xn(m,"firestore");if(T.isInitialized(p)){const P=T.getImmediate({identifier:p}),M=T.getOptions(p);if(Js(M,e))return P;throw new Rt(pt.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new Rt(pt.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<ny)throw new Rt(pt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return T.initialize({options:e,instanceIdentifier:p})}function rl(m){if(m._terminated)throw new Rt(pt.FAILED_PRECONDITION,"The client has already been terminated.");return m._firestoreClient||dw(m),m._firestoreClient}function dw(m){var e,p,T;const P=m._freezeSettings(),M=function(C,t,h,g){return new BA(C,t,h,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,Py(g.experimentalLongPollingOptions),g.useFetchStreams)}(m._databaseId,((e=m._app)===null||e===void 0?void 0:e.options.appId)||"",m._persistenceKey,P);m._componentsProvider||!((p=P.localCache)===null||p===void 0)&&p._offlineComponentProvider&&(!((T=P.localCache)===null||T===void 0)&&T._onlineComponentProvider)&&(m._componentsProvider={_offline:P.localCache._offlineComponentProvider,_online:P.localCache._onlineComponentProvider}),m._firestoreClient=new nw(m._authCredentials,m._appCheckCredentials,m._queue,M,m._componentsProvider&&function(C){const t=C==null?void 0:C._online.build();return{_offline:C==null?void 0:C._offline.build(t),_online:t}}(m._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Cr($e.fromBase64String(e))}catch(p){throw new Rt(pt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+p)}}static fromUint8Array(e){return new Cr($e.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(...e){for(let p=0;p<e.length;++p)if(e[p].length===0)throw new Rt(pt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new We(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(e,p){if(!isFinite(e)||e<-90||e>90)throw new Rt(pt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(p)||p<-180||p>180)throw new Rt(pt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+p);this._lat=e,this._long=p}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return kt(this._lat,e._lat)||kt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(e){this._values=(e||[]).map(p=>p)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(T,P){if(T.length!==P.length)return!1;for(let M=0;M<T.length;++M)if(T[M]!==P[M])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cw=/^__.*__$/;class vw{constructor(e,p,T){this.data=e,this.fieldMask=p,this.fieldTransforms=T}toMutation(e,p){return this.fieldMask!==null?new un(e,this.data,this.fieldMask,p,this.fieldTransforms):new Xa(e,this.data,p,this.fieldTransforms)}}class wy{constructor(e,p,T){this.data=e,this.fieldMask=p,this.fieldTransforms=T}toMutation(e,p){return new un(e,this.data,this.fieldMask,p,this.fieldTransforms)}}function My(m){switch(m){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Dt()}}class ld{constructor(e,p,T,P,M,f){this.settings=e,this.databaseId=p,this.serializer=T,this.ignoreUndefinedProperties=P,M===void 0&&this.Bu(),this.fieldTransforms=M||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new ld(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var p;const T=(p=this.path)===null||p===void 0?void 0:p.child(e),P=this.ku({path:T,Qu:!1});return P.$u(e),P}Ku(e){var p;const T=(p=this.path)===null||p===void 0?void 0:p.child(e),P=this.ku({path:T,Qu:!1});return P.Bu(),P}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return vh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(p=>e.isPrefixOf(p))!==void 0||this.fieldTransforms.find(p=>e.isPrefixOf(p.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(My(this.Lu)&&cw.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class pw{constructor(e,p,T){this.databaseId=e,this.ignoreUndefinedProperties=p,this.serializer=T||el(e)}ju(e,p,T,P=!1){return new ld({Lu:e,methodName:p,zu:T,path:We.emptyPath(),Qu:!1,Gu:P},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ol(m){const e=m._freezeSettings(),p=el(m._databaseId);return new pw(m._databaseId,!!e.ignoreUndefinedProperties,p)}function Iy(m,e,p,T,P,M={}){const f=m.ju(M.merge||M.mergeFields?2:0,e,p,P);ud("Data must be an object, but it was:",f,T);const C=Ly(T,f);let t,h;if(M.merge)t=new yi(f.fieldMask),h=f.fieldTransforms;else if(M.mergeFields){const g=[];for(const o of M.mergeFields){const a=Ju(e,o,p);if(!f.contains(a))throw new Rt(pt.INVALID_ARGUMENT,`Field '${a}' is specified in your field mask but missing from your input data.`);Oy(g,a)||g.push(a)}t=new yi(g),h=f.fieldTransforms.filter(o=>t.covers(o.field))}else t=null,h=f.fieldTransforms;return new vw(new ui(C),t,h)}class hl extends ad{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof hl}}function mw(m,e,p,T){const P=m.ju(1,e,p);ud("Data must be an object, but it was:",P,T);const M=[],f=ui.empty();ln(T,(t,h)=>{const g=fd(e,t,p);h=Te(h);const o=P.Ku(g);if(h instanceof hl)M.push(g);else{const a=$a(h,o);a!=null&&(M.push(g),f.set(g,a))}});const C=new yi(M);return new wy(f,C,P.fieldTransforms)}function gw(m,e,p,T,P,M){const f=m.ju(1,e,p),C=[Ju(e,T,p)],t=[P];if(M.length%2!=0)throw new Rt(pt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let a=0;a<M.length;a+=2)C.push(Ju(e,M[a])),t.push(M[a+1]);const h=[],g=ui.empty();for(let a=C.length-1;a>=0;--a)if(!Oy(h,C[a])){const r=C[a];let i=t[a];i=Te(i);const n=f.Ku(r);if(i instanceof hl)h.push(r);else{const l=$a(i,n);l!=null&&(h.push(r),g.set(r,l))}}const o=new yi(h);return new wy(g,o,f.fieldTransforms)}function yw(m,e,p,T=!1){return $a(p,m.ju(T?4:3,e))}function $a(m,e){if(Fy(m=Te(m)))return ud("Unsupported field value:",e,m),Ly(m,e);if(m instanceof ad)return function(T,P){if(!My(P.Lu))throw P.Wu(`${T._methodName}() can only be used with update() and set()`);if(!P.path)throw P.Wu(`${T._methodName}() is not currently supported inside arrays`);const M=T._toFieldTransform(P);M&&P.fieldTransforms.push(M)}(m,e),null;if(m===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),m instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(T,P){const M=[];let f=0;for(const C of T){let t=$a(C,P.Uu(f));t==null&&(t={nullValue:"NULL_VALUE"}),M.push(t),f++}return{arrayValue:{values:M}}}(m,e)}return function(T,P){if((T=Te(T))===null)return{nullValue:"NULL_VALUE"};if(typeof T=="number")return rP(P.serializer,T);if(typeof T=="boolean")return{booleanValue:T};if(typeof T=="string")return{stringValue:T};if(T instanceof Date){const M=Fe.fromDate(T);return{timestampValue:lh(P.serializer,M)}}if(T instanceof Fe){const M=new Fe(T.seconds,1e3*Math.floor(T.nanoseconds/1e3));return{timestampValue:lh(P.serializer,M)}}if(T instanceof od)return{geoPointValue:{latitude:T.latitude,longitude:T.longitude}};if(T instanceof Cr)return{bytesValue:J0(P.serializer,T._byteString)};if(T instanceof _e){const M=P.databaseId,f=T.firestore._databaseId;if(!f.isEqual(M))throw P.Wu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${M.projectId}/${M.database}`);return{referenceValue:Xf(T.firestore._databaseId||P.databaseId,T._key.path)}}if(T instanceof hd)return function(f,C){return{mapValue:{fields:{[A0]:{stringValue:P0},[nh]:{arrayValue:{values:f.toArray().map(h=>{if(typeof h!="number")throw C.Wu("VectorValues must only contain numeric values.");return Uf(C.serializer,h)})}}}}}}(T,P);throw P.Wu(`Unsupported field value: ${nl(T)}`)}(m,e)}function Ly(m,e){const p={};return y0(m)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ln(m,(T,P)=>{const M=$a(P,e.qu(T));M!=null&&(p[T]=M)}),{mapValue:{fields:p}}}function Fy(m){return!(typeof m!="object"||m===null||m instanceof Array||m instanceof Date||m instanceof Fe||m instanceof od||m instanceof Cr||m instanceof _e||m instanceof ad||m instanceof hd)}function ud(m,e,p){if(!Fy(p)||!function(P){return typeof P=="object"&&P!==null&&(Object.getPrototypeOf(P)===Object.prototype||Object.getPrototypeOf(P)===null)}(p)){const T=nl(p);throw T==="an object"?e.Wu(m+" a custom object"):e.Wu(m+" "+T)}}function Ju(m,e,p){if((e=Te(e))instanceof al)return e._internalPath;if(typeof e=="string")return fd(m,e);throw vh("Field path arguments must be of type string or ",m,!1,void 0,p)}const xw=new RegExp("[~\\*/\\[\\]]");function fd(m,e,p){if(e.search(xw)>=0)throw vh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,m,!1,void 0,p);try{return new al(...e.split("."))._internalPath}catch{throw vh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,m,!1,void 0,p)}}function vh(m,e,p,T,P){const M=T&&!T.isEmpty(),f=P!==void 0;let C=`Function ${e}() called with invalid data`;p&&(C+=" (via `toFirestore()`)"),C+=". ";let t="";return(M||f)&&(t+=" (found",M&&(t+=` in field ${T}`),f&&(t+=` in document ${P}`),t+=")"),new Rt(pt.INVALID_ARGUMENT,C+m+t)}function Oy(m,e){return m.some(p=>p.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy{constructor(e,p,T,P,M){this._firestore=e,this._userDataWriter=p,this._key=T,this._document=P,this._converter=M}get id(){return this._key.path.lastSegment()}get ref(){return new _e(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Tw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const p=this._document.data.field(dd("DocumentSnapshot.get",e));if(p!==null)return this._userDataWriter.convertValue(p)}}}class Tw extends Dy{data(){return super.data()}}function dd(m,e){return typeof e=="string"?fd(m,e):e instanceof al?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ny(m){if(m.limitType==="L"&&m.explicitOrderBy.length===0)throw new Rt(pt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class cd{}class Sw extends cd{}function by(m,e,...p){let T=[];e instanceof cd&&T.push(e),T=T.concat(p),function(M){const f=M.filter(t=>t instanceof vd).length,C=M.filter(t=>t instanceof ll).length;if(f>1||f>0&&C>0)throw new Rt(pt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(T);for(const P of T)m=P._apply(m);return m}class ll extends Sw{constructor(e,p,T){super(),this._field=e,this._op=p,this._value=T,this.type="where"}static _create(e,p,T){return new ll(e,p,T)}_apply(e){const p=this._parse(e);return By(e._query,p),new Yn(e.firestore,e.converter,Gu(e._query,p))}_parse(e){const p=ol(e.firestore);return function(M,f,C,t,h,g,o){let a;if(h.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new Rt(pt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){Fp(o,g);const i=[];for(const n of o)i.push(Lp(t,M,n));a={arrayValue:{values:i}}}else a=Lp(t,M,o)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||Fp(o,g),a=yw(C,f,o,g==="in"||g==="not-in");return Me.create(h,g,a)}(e._query,"where",p,e.firestore._databaseId,this._field,this._op,this._value)}}function Ew(m,e,p){const T=e,P=dd("where",m);return ll._create(P,T,p)}class vd extends cd{constructor(e,p){super(),this.type=e,this._queryConstraints=p}static _create(e,p){return new vd(e,p)}_parse(e){const p=this._queryConstraints.map(T=>T._parse(e)).filter(T=>T.getFilters().length>0);return p.length===1?p[0]:Vi.create(p,this._getOperator())}_apply(e){const p=this._parse(e);return p.getFilters().length===0?e:(function(P,M){let f=P;const C=M.getFlattenedFilters();for(const t of C)By(f,t),f=Gu(f,t)}(e._query,p),new Yn(e.firestore,e.converter,Gu(e._query,p)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Lp(m,e,p){if(typeof(p=Te(p))=="string"){if(p==="")throw new Rt(pt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!D0(e)&&p.indexOf("/")!==-1)throw new Rt(pt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${p}' contains a '/' character.`);const T=e.path.child(ge.fromString(p));if(!Ft.isDocumentKey(T))throw new Rt(pt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${T}' is not because it has an odd number of segments (${T.length}).`);return Yv(m,new Ft(T))}if(p instanceof _e)return Yv(m,p._key);throw new Rt(pt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${nl(p)}.`)}function Fp(m,e){if(!Array.isArray(m)||m.length===0)throw new Rt(pt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function By(m,e){const p=function(P,M){for(const f of P)for(const C of f.getFlattenedFilters())if(M.indexOf(C.op)>=0)return C.op;return null}(m.filters,function(P){switch(P){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(p!==null)throw p===e.op?new Rt(pt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Rt(pt.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${p.toString()}' filters.`)}class Cw{convertValue(e,p="none"){switch(tn(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ae(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,p);case 5:return e.stringValue;case 6:return this.convertBytes(_s(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,p);case 11:return this.convertObject(e.mapValue,p);case 10:return this.convertVectorValue(e.mapValue);default:throw Dt()}}convertObject(e,p){return this.convertObjectMap(e.fields,p)}convertObjectMap(e,p="none"){const T={};return ln(e,(P,M)=>{T[P]=this.convertValue(M,p)}),T}convertVectorValue(e){var p,T,P;const M=(P=(T=(p=e.fields)===null||p===void 0?void 0:p[nh].arrayValue)===null||T===void 0?void 0:T.values)===null||P===void 0?void 0:P.map(f=>Ae(f.doubleValue));return new hd(M)}convertGeoPoint(e){return new od(Ae(e.latitude),Ae(e.longitude))}convertArray(e,p){return(e.values||[]).map(T=>this.convertValue(T,p))}convertServerTimestamp(e,p){switch(p){case"previous":const T=jh(e);return T==null?null:this.convertValue(T,p);case"estimate":return this.convertTimestamp(Ia(e));default:return null}}convertTimestamp(e){const p=qs(e);return new Fe(p.seconds,p.nanos)}convertDocumentKey(e,p){const T=ge.fromString(e);oe(iy(T));const P=new La(T.get(1),T.get(3)),M=new Ft(T.popFirst(5));return P.isEqual(p)||gs(`Document ${M} contains a document reference within a different database (${P.projectId}/${P.database}) which is not supported. It will be treated as a reference in the current database (${p.projectId}/${p.database}) instead.`),M}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vy(m,e,p){let T;return T=m?m.toFirestore(e):e,T}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e,p){this.hasPendingWrites=e,this.fromCache=p}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Uy extends Dy{constructor(e,p,T,P,M,f){super(e,p,T,P,f),this._firestore=e,this._firestoreImpl=e,this.metadata=M}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const p=new Vo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(p,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,p={}){if(this._document){const T=this._document.data.field(dd("DocumentSnapshot.get",e));if(T!==null)return this._userDataWriter.convertValue(T,p.serverTimestamps)}}}class Vo extends Uy{data(e={}){return super.data(e)}}class Gy{constructor(e,p,T,P){this._firestore=e,this._userDataWriter=p,this._snapshot=P,this.metadata=new _r(P.hasPendingWrites,P.fromCache),this.query=T}get docs(){const e=[];return this.forEach(p=>e.push(p)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,p){this._snapshot.docs.forEach(T=>{e.call(p,new Vo(this._firestore,this._userDataWriter,T.key,T,new _r(this._snapshot.mutatedKeys.has(T.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const p=!!e.includeMetadataChanges;if(p&&this._snapshot.excludesMetadataChanges)throw new Rt(pt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===p||(this._cachedChanges=function(P,M){if(P._snapshot.oldDocs.isEmpty()){let f=0;return P._snapshot.docChanges.map(C=>{const t=new Vo(P._firestore,P._userDataWriter,C.doc.key,C.doc,new _r(P._snapshot.mutatedKeys.has(C.doc.key),P._snapshot.fromCache),P.query.converter);return C.doc,{type:"added",doc:t,oldIndex:-1,newIndex:f++}})}{let f=P._snapshot.oldDocs;return P._snapshot.docChanges.filter(C=>M||C.type!==3).map(C=>{const t=new Vo(P._firestore,P._userDataWriter,C.doc.key,C.doc,new _r(P._snapshot.mutatedKeys.has(C.doc.key),P._snapshot.fromCache),P.query.converter);let h=-1,g=-1;return C.type!==0&&(h=f.indexOf(C.doc.key),f=f.delete(C.doc.key)),C.type!==1&&(f=f.add(C.doc),g=f.indexOf(C.doc.key)),{type:Aw(C.type),doc:t,oldIndex:h,newIndex:g}})}}(this,p),this._cachedChangesIncludeMetadataChanges=p),this._cachedChanges}}function Aw(m){switch(m){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Dt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function su(m){m=wi(m,_e);const e=wi(m.firestore,nn);return ow(rl(e),m._key).then(p=>zy(e,m,p))}class pd extends Cw{constructor(e){super(),this.firestore=e}convertBytes(e){return new Cr(e)}convertReference(e){const p=this.convertDocumentKey(e,this.firestore._databaseId);return new _e(this.firestore,null,p)}}function Op(m){m=wi(m,Yn);const e=wi(m.firestore,nn),p=rl(e),T=new pd(e);return Ny(m._query),hw(p,m._query).then(P=>new Gy(e,T,m,P))}function Pw(m,e,p){m=wi(m,_e);const T=wi(m.firestore,nn),P=Vy(m.converter,e);return md(T,[Iy(ol(T),"setDoc",m._key,P,m.converter!==null,p).toMutation(m._key,Oi.none())])}function Rw(m,e,p,...T){m=wi(m,_e);const P=wi(m.firestore,nn),M=ol(P);let f;return f=typeof(e=Te(e))=="string"||e instanceof al?gw(M,"updateDoc",m._key,e,p,T):mw(M,"updateDoc",m._key,e),md(P,[f.toMutation(m._key,Oi.exists(!0))])}function ww(m,e){const p=wi(m.firestore,nn),T=qr(m),P=Vy(m.converter,e);return md(p,[Iy(ol(m.firestore),"addDoc",T._key,P,m.converter!==null,{}).toMutation(T._key,Oi.exists(!1))]).then(()=>T)}function Dp(m,...e){var p,T,P;m=Te(m);let M={includeMetadataChanges:!1,source:"default"},f=0;typeof e[f]!="object"||Ip(e[f])||(M=e[f],f++);const C={includeMetadataChanges:M.includeMetadataChanges,source:M.source};if(Ip(e[f])){const o=e[f];e[f]=(p=o.next)===null||p===void 0?void 0:p.bind(o),e[f+1]=(T=o.error)===null||T===void 0?void 0:T.bind(o),e[f+2]=(P=o.complete)===null||P===void 0?void 0:P.bind(o)}let t,h,g;if(m instanceof _e)h=wi(m.firestore,nn),g=Qh(m._key.path),t={next:o=>{e[f]&&e[f](zy(h,m,o))},error:e[f+1],complete:e[f+2]};else{const o=wi(m,Yn);h=wi(o.firestore,nn),g=o._query;const a=new pd(h);t={next:r=>{e[f]&&e[f](new Gy(h,a,o,r))},error:e[f+1],complete:e[f+2]},Ny(m._query)}return function(a,r,i,n){const l=new nd(n),s=new ed(r,l,i);return a.asyncQueue.enqueueAndForget(async()=>qf(await ch(a),s)),()=>{l.su(),a.asyncQueue.enqueueAndForget(async()=>_f(await ch(a),s))}}(rl(h),g,C,t)}function md(m,e){return function(T,P){const M=new vs;return T.asyncQueue.enqueueAndForget(async()=>QR(await aw(T),P,M)),M.promise}(rl(m),e)}function zy(m,e,p){const T=p.docs.get(e._key),P=new pd(m);return new Uy(m,P,e._key,T,new _r(p.hasPendingWrites,p.fromCache),e.converter)}(function(e,p=!0){(function(P){Mr=P})(As),Mi(new Ti("firestore",(T,{instanceIdentifier:P,options:M})=>{const f=T.getProvider("app").getImmediate(),C=new nn(new TA(T.getProvider("auth-internal")),new CA(f,T.getProvider("app-check-internal")),function(h,g){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Rt(pt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new La(h.options.projectId,g)}(f,P),f);return M=Object.assign({useFetchStreams:p},M),C._setSettings(M),C},"PUBLIC").setMultipleInstances(!0)),di(Dv,Nv,e),di(Dv,Nv,"esm2017")})();class hi{static handleDefaultValue(e,p,T){if(e!==void 0)return e;throw new Error(`Could not load data, expected ${p} to be of type ${T}`)}static handleData(e,p,T){return!e||typeof e!="object"?this.handleDefaultValue(void 0,p,T):e[p]}static loadString(e,p,T){const P=this.handleData(e,p,"string");return typeof P=="string"?P:this.handleDefaultValue(T,p,"string")}static loadStringOrNull(e,p,T){const P=this.handleData(e,p,"string");return typeof P=="string"?P:this.handleDefaultValue(T,p,"string")}static loadBoolean(e,p,T){const P=this.handleData(e,p,"boolean");return typeof P=="boolean"?P:this.handleDefaultValue(T,p,"boolean")}static loadBooleanOrNull(e,p,T){const P=this.handleData(e,p,"boolean");return typeof P=="boolean"?P:this.handleDefaultValue(T,p,"boolean")}static loadNumber(e,p,T){const P=this.handleData(e,p,"number");return typeof P=="number"?P:this.handleDefaultValue(T,p,"number")}static loadNumberOrNull(e,p,T){const P=this.handleData(e,p,"number");return typeof P=="number"?P:this.handleDefaultValue(T,p,"number")}static loadEnum(e,p,T,P){const M=this.handleData(e,p,"string");return P.includes(M)?M:this.handleDefaultValue(T,p,"enum")}static loadEnumOrNull(e,p,T,P){const M=this.handleData(e,p,"string");return P.includes(M)?M:this.handleDefaultValue(T,p,"enum")}static loadArray(e,p,T){const P=this.handleData(e,p,"array");return Array.isArray(P)?P:this.handleDefaultValue(T,p,"array")}static loadArrayOrNull(e,p,T){const P=this.handleData(e,p,"array");return Array.isArray(P)?P:this.handleDefaultValue(T,p,"array")}static loadObject(e,p,T){const P=this.handleData(e,p,"object");return typeof P=="object"&&P!==null?P:this.handleDefaultValue(T,p,"object")}static loadObjectOrNull(e,p,T){const P=this.handleData(e,p,"object");return typeof P=="object"&&P!==null?P:this.handleDefaultValue(T,p,"object")}}const wh=class wh{constructor(e){vt(this,"id","");vt(this,"score",0);vt(this,"createdAt",new Date);vt(this,"userId","");vt(this,"version","0.0.39");vt(this,"gameMode",Mu.Normal);vt(this,"hasDebugged",!1);e&&(this.id=hi.loadString(e,"id",this.id),this.score=hi.loadNumber(e,"score",this.score),this.userId=hi.loadString(e,"userId",this.userId),this.version=hi.loadString(e,"version",this.version),this.gameMode=hi.loadEnum(e,"gameMode",this.gameMode,Object.values(Mu)),this.hasDebugged=hi.loadBoolean(e,"hasDebugged",this.hasDebugged))}getRawData(){return{score:this.score,createdAt:this.createdAt,userId:this.userId,version:this.version,gameMode:this.gameMode,hasDebugged:this.hasDebugged}}};vt(wh,"Converter",{toFirestore:e=>e.getRawData(),fromFirestore:e=>{const p=e.data();return new wh({...p,id:e.id})}});let va=wh;const gd=zn("hiscores",()=>{const m=Bt([]),e=Bt(!1),p=f=>{m.value=Array.isArray(f)?f:[f]};return{hiscores:m,hasDebugged:e,addNewHiscore:async(f,C)=>{const t=new va({score:C,userId:f,hasDebugged:e.value});if(t.score>Mt.hiscores.threshold){const h=await ze.addDocument(Xs.Hiscores,t,va.Converter);t.id=h}return e.value=!1,t},subscribeHiscores:async()=>{const f=ze.getCollectionRef(Xs.Hiscores),C=Ew("hasDebugged","==",!1);ze.subscribe({key:"hiscores",queryRef:by(f,C).withConverter(va.Converter),callback:p,error:t=>{console.error("Error in subscription to hiscores.",t)}})},unsubscribeHiscores:async()=>{ze.unsubscribe("hiscores")}}}),yd=zn("interface",()=>{const{isPlaying:m}=He(pi()),e=Bt(!1),p=Bt(!1),T=Bt(!1);return{isGameMenuVisible:T,isHiscoresVisible:e,isSettingsVisible:p,toggleGameMenu:()=>{m.value||(T.value=!T.value)},toggleHiscores:()=>e.value=!e.value,toggleSettings:()=>p.value=!p.value}}),Ks=new wr.Events.EventEmitter;var ps=(m=>(m.PreloadComplete="preloadComplete",m.CurrentSceneReady="currentSceneReady",m.SetVolume="setVolume",m.SetMusicVolume="setMusicVolume",m.SetSfxVolume="setSfxVolume",m.TogglePaused="togglePaused",m))(ps||{});const xd=zn("settings",()=>{const m=Bt(!1),e=Bt(1),p=Bt(1),T=Bt(1),P=Ot({get(){return e.value},set(t){e.value=t,localStorage.setItem("settings",JSON.stringify({currentVolume:t})),Ks.emit(ps.SetVolume,t)}});return{currentVolume:P,isFullscreen:m,musicVolume:p,sfxVolume:T,setVolume:t=>{P.value=t},setMusicVolume:t=>{p.value=t,Ks.emit(ps.SetMusicVolume,t)},setSfxVolume:t=>{T.value=t,Ks.emit(ps.SetSfxVolume,t)}}}),Mh=class Mh{constructor(e){vt(this,"id","");vt(this,"displayName",null);vt(this,"firstName",null);vt(this,"lastName",null);vt(this,"email",null);vt(this,"country",null);vt(this,"createdAt",new Date);vt(this,"updatedAt",new Date);vt(this,"photoUrl",null);vt(this,"phoneNumber",null);e&&(this.id=hi.loadString(e,"id"),this.displayName=hi.loadStringOrNull(e,"displayName",null),this.firstName=hi.loadStringOrNull(e,"firstName",null),this.lastName=hi.loadStringOrNull(e,"lastName",null),this.email=hi.loadStringOrNull(e,"email",null),this.country=hi.loadStringOrNull(e,"country",null),this.photoUrl=hi.loadStringOrNull(e,"photoUrl",null),this.phoneNumber=hi.loadStringOrNull(e,"phoneNumber",null))}get fullName(){return this.displayName?this.displayName:`${this.firstName} ${this.lastName}`}get initials(){var e,p;return this.displayName?this.displayName.split(" ").map(T=>T[0]).join(""):`${(e=this.firstName)==null?void 0:e.charAt(0)}${(p=this.lastName)==null?void 0:p.charAt(0)}`}getRawData(){return{displayName:this.displayName,firstName:this.firstName,lastName:this.lastName,email:this.email,country:this.country,createdAt:this.createdAt,updatedAt:this.updatedAt,photoUrl:this.photoUrl,phoneNumber:this.phoneNumber}}};vt(Mh,"Converter",{toFirestore:e=>e.getRawData(),fromFirestore:e=>{const p=e.data();return new Mh({...p,id:e.id})}});let ks=Mh;function Or(m,e){var p={};for(var T in m)Object.prototype.hasOwnProperty.call(m,T)&&e.indexOf(T)<0&&(p[T]=m[T]);if(m!=null&&typeof Object.getOwnPropertySymbols=="function")for(var P=0,T=Object.getOwnPropertySymbols(m);P<T.length;P++)e.indexOf(T[P])<0&&Object.prototype.propertyIsEnumerable.call(m,T[P])&&(p[T[P]]=m[T[P]]);return p}function Xy(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Mw=Xy,Wy=new ts("auth","Firebase",Xy());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ph=new Ga("@firebase/auth");function Iw(m,...e){ph.logLevel<=Wt.WARN&&ph.warn(`Auth (${As}): ${m}`,...e)}function Uo(m,...e){ph.logLevel<=Wt.ERROR&&ph.error(`Auth (${As}): ${m}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _i(m,...e){throw Sd(m,...e)}function Di(m,...e){return Sd(m,...e)}function Td(m,e,p){const T=Object.assign(Object.assign({},Mw()),{[e]:p});return new ts("auth","Firebase",T).create(e,{appName:m.name})}function In(m){return Td(m,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Lw(m,e,p){const T=p;if(!(e instanceof T))throw T.name!==e.constructor.name&&_i(m,"argument-error"),Td(m,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Sd(m,...e){if(typeof m!="string"){const p=e[0],T=[...e.slice(1)];return T[0]&&(T[0].appName=m.name),m._errorFactory.create(p,...T)}return Wy.create(m,...e)}function bt(m,e,...p){if(!m)throw Sd(e,...p)}function us(m){const e="INTERNAL ASSERTION FAILED: "+m;throw Uo(e),new Error(e)}function xs(m,e){m||us(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zu(){var m;return typeof self<"u"&&((m=self.location)===null||m===void 0?void 0:m.href)||""}function Fw(){return Np()==="http:"||Np()==="https:"}function Np(){var m;return typeof self<"u"&&((m=self.location)===null||m===void 0?void 0:m.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ow(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Fw()||Lf()||"connection"in navigator)?navigator.onLine:!0}function Dw(){if(typeof navigator>"u")return null;const m=navigator;return m.languages&&m.languages[0]||m.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ka=class{constructor(e,p){this.shortDelay=e,this.longDelay=p,xs(p>e,"Short delay should be less than long delay!"),this.isMobile=Zg()||_g()}get(){return Ow()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ed(m,e){xs(m.emulator,"Emulator should always be set here");const{url:p}=m.emulator;return e?`${p}${e.startsWith("/")?e.slice(1):e}`:p}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hy=class{static initialize(e,p,T){this.fetchImpl=e,p&&(this.headersImpl=p),T&&(this.responseImpl=T)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;us("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;us("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;us("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bw=new Ka(3e4,6e4);function Cd(m,e){return m.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:m.tenantId}):e}async function Dr(m,e,p,T,P={}){return Yy(m,P,async()=>{let M={},f={};T&&(e==="GET"?f=T:M={body:JSON.stringify(T)});const C=hn(Object.assign({key:m.config.apiKey},f)).slice(1),t=await m._getAdditionalHeaders();t["Content-Type"]="application/json",m.languageCode&&(t["X-Firebase-Locale"]=m.languageCode);const h=Object.assign({method:e,headers:t},M);return qg()||(h.referrerPolicy="no-referrer"),Hy.fetch()($y(m,m.config.apiHost,p,C),h)})}async function Yy(m,e,p){m._canInitEmulator=!1;const T=Object.assign(Object.assign({},Nw),e);try{const P=new Vw(m),M=await Promise.race([p(),P.promise]);P.clearNetworkTimeout();const f=await M.json();if("needConfirmation"in f)throw Co(m,"account-exists-with-different-credential",f);if(M.ok&&!("errorMessage"in f))return f;{const C=M.ok?f.errorMessage:f.error.message,[t,h]=C.split(" : ");if(t==="FEDERATED_USER_ID_ALREADY_LINKED")throw Co(m,"credential-already-in-use",f);if(t==="EMAIL_EXISTS")throw Co(m,"email-already-in-use",f);if(t==="USER_DISABLED")throw Co(m,"user-disabled",f);const g=T[t]||t.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw Td(m,g,h);_i(m,g)}}catch(P){if(P instanceof Si)throw P;_i(m,"network-request-failed",{message:String(P)})}}async function Bw(m,e,p,T,P={}){const M=await Dr(m,e,p,T,P);return"mfaPendingCredential"in M&&_i(m,"multi-factor-auth-required",{_serverResponse:M}),M}function $y(m,e,p,T){const P=`${e}${p}?${T}`;return m.config.emulator?Ed(m.config,P):`${m.config.apiScheme}://${P}`}let Vw=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((p,T)=>{this.timer=setTimeout(()=>T(Di(this.auth,"network-request-failed")),bw.get())})}};function Co(m,e,p){const T={appName:m.name};p.email&&(T.email=p.email),p.phoneNumber&&(T.phoneNumber=p.phoneNumber);const P=Di(m,e,T);return P.customData._tokenResponse=p,P}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uw(m,e){return Dr(m,"POST","/v1/accounts:delete",e)}async function Ky(m,e){return Dr(m,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pa(m){if(m)try{const e=new Date(Number(m));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Gw(m,e=!1){const p=Te(m),T=await p.getIdToken(e),P=Ad(T);bt(P&&P.exp&&P.auth_time&&P.iat,p.auth,"internal-error");const M=typeof P.firebase=="object"?P.firebase:void 0,f=M==null?void 0:M.sign_in_provider;return{claims:P,token:T,authTime:pa(nu(P.auth_time)),issuedAtTime:pa(nu(P.iat)),expirationTime:pa(nu(P.exp)),signInProvider:f||null,signInSecondFactor:(M==null?void 0:M.sign_in_second_factor)||null}}function nu(m){return Number(m)*1e3}function Ad(m){const[e,p,T]=m.split(".");if(e===void 0||p===void 0||T===void 0)return Uo("JWT malformed, contained fewer than 3 sections"),null;try{const P=If(p);return P?JSON.parse(P):(Uo("Failed to decode base64 JWT payload"),null)}catch(P){return Uo("Caught error parsing JWT payload as JSON",P==null?void 0:P.toString()),null}}function bp(m){const e=Ad(m);return bt(e,"internal-error"),bt(typeof e.exp<"u","internal-error"),bt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Na(m,e,p=!1){if(p)return e;try{return await e}catch(T){throw T instanceof Si&&zw(T)&&m.auth.currentUser===m&&await m.auth.signOut(),T}}function zw({code:m}){return m==="auth/user-disabled"||m==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xw=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var p;if(e){const T=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),T}else{this.errorBackoff=3e4;const P=((p=this.user.stsTokenManager.expirationTime)!==null&&p!==void 0?p:0)-Date.now()-3e5;return Math.max(0,P)}}schedule(e=!1){if(!this.isRunning)return;const p=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},p)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qu=class{constructor(e,p){this.createdAt=e,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=pa(this.lastLoginAt),this.creationTime=pa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mh(m){var e;const p=m.auth,T=await m.getIdToken(),P=await Na(m,Ky(p,{idToken:T}));bt(P==null?void 0:P.users.length,p,"internal-error");const M=P.users[0];m._notifyReloadListener(M);const f=!((e=M.providerUserInfo)===null||e===void 0)&&e.length?ky(M.providerUserInfo):[],C=Hw(m.providerData,f),t=m.isAnonymous,h=!(m.email&&M.passwordHash)&&!(C!=null&&C.length),g=t?h:!1,o={uid:M.localId,displayName:M.displayName||null,photoURL:M.photoUrl||null,email:M.email||null,emailVerified:M.emailVerified||!1,phoneNumber:M.phoneNumber||null,tenantId:M.tenantId||null,providerData:C,metadata:new qu(M.createdAt,M.lastLoginAt),isAnonymous:g};Object.assign(m,o)}async function Ww(m){const e=Te(m);await mh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Hw(m,e){return[...m.filter(T=>!e.some(P=>P.providerId===T.providerId)),...e]}function ky(m){return m.map(e=>{var{providerId:p}=e,T=Or(e,["providerId"]);return{providerId:p,uid:T.rawId||"",displayName:T.displayName||null,email:T.email||null,phoneNumber:T.phoneNumber||null,photoURL:T.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yw(m,e){const p=await Yy(m,{},async()=>{const T=hn({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:P,apiKey:M}=m.config,f=$y(m,P,"/v1/token",`key=${M}`),C=await m._getAdditionalHeaders();return C["Content-Type"]="application/x-www-form-urlencoded",Hy.fetch()(f,{method:"POST",headers:C,body:T})});return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}}async function $w(m,e){return Dr(m,"POST","/v2/accounts:revokeToken",Cd(m,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ru=class _u{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){bt(e.idToken,"internal-error"),bt(typeof e.idToken<"u","internal-error"),bt(typeof e.refreshToken<"u","internal-error");const p="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):bp(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,p)}updateFromIdToken(e){bt(e.length!==0,"internal-error");const p=bp(e);this.updateTokensAndExpiration(e,null,p)}async getToken(e,p=!1){return!p&&this.accessToken&&!this.isExpired?this.accessToken:(bt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,p){const{accessToken:T,refreshToken:P,expiresIn:M}=await Yw(e,p);this.updateTokensAndExpiration(T,P,Number(M))}updateTokensAndExpiration(e,p,T){this.refreshToken=p||null,this.accessToken=e||null,this.expirationTime=Date.now()+T*1e3}static fromJSON(e,p){const{refreshToken:T,accessToken:P,expirationTime:M}=p,f=new _u;return T&&(bt(typeof T=="string","internal-error",{appName:e}),f.refreshToken=T),P&&(bt(typeof P=="string","internal-error",{appName:e}),f.accessToken=P),M&&(bt(typeof M=="number","internal-error",{appName:e}),f.expirationTime=M),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new _u,this.toJSON())}_performRefresh(){return us("not implemented")}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Is(m,e){bt(typeof m=="string"||typeof m>"u","internal-error",{appName:e})}let gh=class ta{constructor(e){var{uid:p,auth:T,stsTokenManager:P}=e,M=Or(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Xw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=T,this.stsTokenManager=P,this.accessToken=P.accessToken,this.displayName=M.displayName||null,this.email=M.email||null,this.emailVerified=M.emailVerified||!1,this.phoneNumber=M.phoneNumber||null,this.photoURL=M.photoURL||null,this.isAnonymous=M.isAnonymous||!1,this.tenantId=M.tenantId||null,this.providerData=M.providerData?[...M.providerData]:[],this.metadata=new qu(M.createdAt||void 0,M.lastLoginAt||void 0)}async getIdToken(e){const p=await Na(this,this.stsTokenManager.getToken(this.auth,e));return bt(p,this.auth,"internal-error"),this.accessToken!==p&&(this.accessToken=p,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),p}getIdTokenResult(e){return Gw(this,e)}reload(){return Ww(this)}_assign(e){this!==e&&(bt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(p=>Object.assign({},p)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const p=new ta(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return p.metadata._copy(this.metadata),p}_onReload(e){bt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,p=!1){let T=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),T=!0),p&&await mh(this),await this.auth._persistUserIfCurrent(this),T&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Xe(this.auth.app))return Promise.reject(In(this.auth));const e=await this.getIdToken();return await Na(this,Uw(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,p){var T,P,M,f,C,t,h,g;const o=(T=p.displayName)!==null&&T!==void 0?T:void 0,a=(P=p.email)!==null&&P!==void 0?P:void 0,r=(M=p.phoneNumber)!==null&&M!==void 0?M:void 0,i=(f=p.photoURL)!==null&&f!==void 0?f:void 0,n=(C=p.tenantId)!==null&&C!==void 0?C:void 0,l=(t=p._redirectEventId)!==null&&t!==void 0?t:void 0,s=(h=p.createdAt)!==null&&h!==void 0?h:void 0,u=(g=p.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:d,emailVerified:c,isAnonymous:v,providerData:y,stsTokenManager:x}=p;bt(d&&x,e,"internal-error");const S=ru.fromJSON(this.name,x);bt(typeof d=="string",e,"internal-error"),Is(o,e.name),Is(a,e.name),bt(typeof c=="boolean",e,"internal-error"),bt(typeof v=="boolean",e,"internal-error"),Is(r,e.name),Is(i,e.name),Is(n,e.name),Is(l,e.name),Is(s,e.name),Is(u,e.name);const E=new ta({uid:d,auth:e,email:a,emailVerified:c,displayName:o,isAnonymous:v,photoURL:i,phoneNumber:r,tenantId:n,stsTokenManager:S,createdAt:s,lastLoginAt:u});return y&&Array.isArray(y)&&(E.providerData=y.map(A=>Object.assign({},A))),l&&(E._redirectEventId=l),E}static async _fromIdTokenResponse(e,p,T=!1){const P=new ru;P.updateFromServerResponse(p);const M=new ta({uid:p.localId,auth:e,stsTokenManager:P,isAnonymous:T});return await mh(M),M}static async _fromGetAccountInfoResponse(e,p,T){const P=p.users[0];bt(P.localId!==void 0,"internal-error");const M=P.providerUserInfo!==void 0?ky(P.providerUserInfo):[],f=!(P.email&&P.passwordHash)&&!(M!=null&&M.length),C=new ru;C.updateFromIdToken(T);const t=new ta({uid:P.localId,auth:e,stsTokenManager:C,isAnonymous:f}),h={uid:P.localId,displayName:P.displayName||null,photoURL:P.photoUrl||null,email:P.email||null,emailVerified:P.emailVerified||!1,phoneNumber:P.phoneNumber||null,tenantId:P.tenantId||null,providerData:M,metadata:new qu(P.createdAt,P.lastLoginAt),isAnonymous:!(P.email&&P.passwordHash)&&!(M!=null&&M.length)};return Object.assign(t,h),t}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bp=new Map;function fs(m){xs(m instanceof Function,"Expected a class definition");let e=Bp.get(m);return e?(xs(e instanceof m,"Instance stored in cache mismatched with class"),e):(e=new m,Bp.set(m,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jy=class{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,p){this.storage[e]=p}async _get(e){const p=this.storage[e];return p===void 0?null:p}async _remove(e){delete this.storage[e]}_addListener(e,p){}_removeListener(e,p){}};jy.type="NONE";const Vp=jy;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Go(m,e,p){return`firebase:${m}:${e}:${p}`}let Up=class zo{constructor(e,p,T){this.persistence=e,this.auth=p,this.userKey=T;const{config:P,name:M}=this.auth;this.fullUserKey=Go(this.userKey,P.apiKey,M),this.fullPersistenceKey=Go("persistence",P.apiKey,M),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?gh._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const p=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,p)return this.setCurrentUser(p)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,p,T="authUser"){if(!p.length)return new zo(fs(Vp),e,T);const P=(await Promise.all(p.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let M=P[0]||fs(Vp);const f=Go(T,e.config.apiKey,e.name);let C=null;for(const h of p)try{const g=await h._get(f);if(g){const o=gh._fromJSON(e,g);h!==M&&(C=o),M=h;break}}catch{}const t=P.filter(h=>h._shouldAllowMigration);return!M._shouldAllowMigration||!t.length?new zo(M,e,T):(M=t[0],C&&await M._set(f,C.toJSON()),await Promise.all(p.map(async h=>{if(h!==M)try{await h._remove(f)}catch{}})),new zo(M,e,T))}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gp(m){const e=m.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(qy(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Qy(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(tx(e))return"Blackberry";if(ex(e))return"Webos";if(Jy(e))return"Safari";if((e.includes("chrome/")||Zy(e))&&!e.includes("edge/"))return"Chrome";if(_y(e))return"Android";{const p=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,T=m.match(p);if((T==null?void 0:T.length)===2)return T[1]}return"Other"}function Qy(m=ye()){return/firefox\//i.test(m)}function Jy(m=ye()){const e=m.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Zy(m=ye()){return/crios\//i.test(m)}function qy(m=ye()){return/iemobile/i.test(m)}function _y(m=ye()){return/android/i.test(m)}function tx(m=ye()){return/blackberry/i.test(m)}function ex(m=ye()){return/webos/i.test(m)}function Pd(m=ye()){return/iphone|ipad|ipod/i.test(m)||/macintosh/i.test(m)&&/mobile/i.test(m)}function Kw(m=ye()){var e;return Pd(m)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function kw(){return qC()&&document.documentMode===10}function ix(m=ye()){return Pd(m)||_y(m)||ex(m)||tx(m)||/windows phone/i.test(m)||qy(m)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sx(m,e=[]){let p;switch(m){case"Browser":p=Gp(ye());break;case"Worker":p=`${Gp(ye())}-${m}`;break;default:p=m}const T=e.length?e.join(","):"FirebaseCore-web";return`${p}/JsCore/${As}/${T}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jw=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,p){const T=M=>new Promise((f,C)=>{try{const t=e(M);f(t)}catch(t){C(t)}});T.onAbort=p,this.queue.push(T);const P=this.queue.length-1;return()=>{this.queue[P]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const p=[];try{for(const T of this.queue)await T(e),T.onAbort&&p.push(T.onAbort)}catch(T){p.reverse();for(const P of p)try{P()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:T==null?void 0:T.message})}}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qw(m,e={}){return Dr(m,"GET","/v2/passwordPolicy",Cd(m,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jw=6;let Zw=class{constructor(e){var p,T,P,M;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(p=f.minPasswordLength)!==null&&p!==void 0?p:Jw,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(P=(T=e.allowedNonAlphanumericCharacters)===null||T===void 0?void 0:T.join(""))!==null&&P!==void 0?P:"",this.forceUpgradeOnSignin=(M=e.forceUpgradeOnSignin)!==null&&M!==void 0?M:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var p,T,P,M,f,C;const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=(p=t.meetsMinPasswordLength)!==null&&p!==void 0?p:!0),t.isValid&&(t.isValid=(T=t.meetsMaxPasswordLength)!==null&&T!==void 0?T:!0),t.isValid&&(t.isValid=(P=t.containsLowercaseLetter)!==null&&P!==void 0?P:!0),t.isValid&&(t.isValid=(M=t.containsUppercaseLetter)!==null&&M!==void 0?M:!0),t.isValid&&(t.isValid=(f=t.containsNumericCharacter)!==null&&f!==void 0?f:!0),t.isValid&&(t.isValid=(C=t.containsNonAlphanumericCharacter)!==null&&C!==void 0?C:!0),t}validatePasswordLengthOptions(e,p){const T=this.customStrengthOptions.minPasswordLength,P=this.customStrengthOptions.maxPasswordLength;T&&(p.meetsMinPasswordLength=e.length>=T),P&&(p.meetsMaxPasswordLength=e.length<=P)}validatePasswordCharacterOptions(e,p){this.updatePasswordCharacterOptionsStatuses(p,!1,!1,!1,!1);let T;for(let P=0;P<e.length;P++)T=e.charAt(P),this.updatePasswordCharacterOptionsStatuses(p,T>="a"&&T<="z",T>="A"&&T<="Z",T>="0"&&T<="9",this.allowedNonAlphanumericCharacters.includes(T))}updatePasswordCharacterOptionsStatuses(e,p,T,P,M){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=p)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=T)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=P)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=M))}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qw=class{constructor(e,p,T,P){this.app=e,this.heartbeatServiceProvider=p,this.appCheckServiceProvider=T,this.config=P,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new zp(this),this.idTokenSubscription=new zp(this),this.beforeStateQueue=new jw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Wy,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=P.sdkClientVersion}_initializeWithPersistence(e,p){return p&&(this._popupRedirectResolver=fs(p)),this._initializationPromise=this.queue(async()=>{var T,P;if(!this._deleted&&(this.persistenceManager=await Up.create(this,e),!this._deleted)){if(!((T=this._popupRedirectResolver)===null||T===void 0)&&T._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(p),this.lastNotifiedUid=((P=this.currentUser)===null||P===void 0?void 0:P.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const p=await Ky(this,{idToken:e}),T=await gh._fromGetAccountInfoResponse(this,p,e);await this.directlySetCurrentUser(T)}catch(p){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",p),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var p;if(Xe(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(C=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(C,C))}):this.directlySetCurrentUser(null)}const T=await this.assertedPersistence.getCurrentUser();let P=T,M=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(p=this.redirectUser)===null||p===void 0?void 0:p._redirectEventId,C=P==null?void 0:P._redirectEventId,t=await this.tryRedirectSignIn(e);(!f||f===C)&&(t!=null&&t.user)&&(P=t.user,M=!0)}if(!P)return this.directlySetCurrentUser(null);if(!P._redirectEventId){if(M)try{await this.beforeStateQueue.runMiddleware(P)}catch(f){P=T,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return P?this.reloadAndSetCurrentUserOrClear(P):this.directlySetCurrentUser(null)}return bt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===P._redirectEventId?this.directlySetCurrentUser(P):this.reloadAndSetCurrentUserOrClear(P)}async tryRedirectSignIn(e){let p=null;try{p=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return p}async reloadAndSetCurrentUserOrClear(e){try{await mh(e)}catch(p){if((p==null?void 0:p.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Dw()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Xe(this.app))return Promise.reject(In(this));const p=e?Te(e):null;return p&&bt(p.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(p&&p._clone(this))}async _updateCurrentUser(e,p=!1){if(!this._deleted)return e&&bt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),p||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Xe(this.app)?Promise.reject(In(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Xe(this.app)?Promise.reject(In(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(fs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const p=this._getPasswordPolicyInternal();return p.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):p.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Qw(this),p=new Zw(e);this.tenantId===null?this._projectPasswordPolicy=p:this._tenantPasswordPolicies[this.tenantId]=p}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ts("auth","Firebase",e())}onAuthStateChanged(e,p,T){return this.registerStateListener(this.authStateSubscription,e,p,T)}beforeAuthStateChanged(e,p){return this.beforeStateQueue.pushCallback(e,p)}onIdTokenChanged(e,p,T){return this.registerStateListener(this.idTokenSubscription,e,p,T)}authStateReady(){return new Promise((e,p)=>{if(this.currentUser)e();else{const T=this.onAuthStateChanged(()=>{T(),e()},p)}})}async revokeAccessToken(e){if(this.currentUser){const p=await this.currentUser.getIdToken(),T={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:p};this.tenantId!=null&&(T.tenantId=this.tenantId),await $w(this,T)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,p){const T=await this.getOrInitRedirectPersistenceManager(p);return e===null?T.removeCurrentUser():T.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const p=e&&fs(e)||this._popupRedirectResolver;bt(p,this,"argument-error"),this.redirectPersistenceManager=await Up.create(this,[fs(p._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var p,T;return this._isInitialized&&await this.queue(async()=>{}),((p=this._currentUser)===null||p===void 0?void 0:p._redirectEventId)===e?this._currentUser:((T=this.redirectUser)===null||T===void 0?void 0:T._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const T=(p=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&p!==void 0?p:null;this.lastNotifiedUid!==T&&(this.lastNotifiedUid=T,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,p,T,P){if(this._deleted)return()=>{};const M=typeof p=="function"?p:p.next.bind(p);let f=!1;const C=this._isInitialized?Promise.resolve():this._initializationPromise;if(bt(C,this,"internal-error"),C.then(()=>{f||M(this.currentUser)}),typeof p=="function"){const t=e.addObserver(p,T,P);return()=>{f=!0,t()}}else{const t=e.addObserver(p);return()=>{f=!0,t()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return bt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=sx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const p={"X-Client-Version":this.clientVersion};this.app.options.appId&&(p["X-Firebase-gmpid"]=this.app.options.appId);const T=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());T&&(p["X-Firebase-Client"]=T);const P=await this._getAppCheckToken();return P&&(p["X-Firebase-AppCheck"]=P),p}async _getAppCheckToken(){var e;if(Xe(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const p=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return p!=null&&p.error&&Iw(`Error while retrieving App Check token: ${p.error}`),p==null?void 0:p.token}};function ul(m){return Te(m)}let zp=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=i0(p=>this.observer=p)}get next(){return bt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _w(m){Rd=m}function tM(m){return Rd.loadJS(m)}function eM(){return Rd.gapiScript}function iM(m){return`__${m}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sM(m,e){const p=Xn(m,"auth");if(p.isInitialized()){const P=p.getImmediate(),M=p.getOptions();if(Js(M,e??{}))return P;_i(P,"already-initialized")}return p.initialize({options:e})}function nM(m,e){const p=(e==null?void 0:e.persistence)||[],T=(Array.isArray(p)?p:[p]).map(fs);e!=null&&e.errorMap&&m._updateErrorMap(e.errorMap),m._initializeWithPersistence(T,e==null?void 0:e.popupRedirectResolver)}function rM(m,e,p){const T=ul(m);bt(/^https?:\/\//.test(e),T,"invalid-emulator-scheme");const P=!1,M=nx(e),{host:f,port:C}=aM(e),t=C===null?"":`:${C}`,h={url:`${M}//${f}${t}/`},g=Object.freeze({host:f,port:C,protocol:M.replace(":",""),options:Object.freeze({disableWarnings:P})});if(!T._canInitEmulator){bt(T.config.emulator&&T.emulatorConfig,T,"emulator-config-failed"),bt(Js(h,T.config.emulator)&&Js(g,T.emulatorConfig),T,"emulator-config-failed");return}T.config.emulator=h,T.emulatorConfig=g,T.settings.appVerificationDisabledForTesting=!0,oM()}function nx(m){const e=m.indexOf(":");return e<0?"":m.substr(0,e+1)}function aM(m){const e=nx(m),p=/(\/\/)?([^?#/]+)/.exec(m.substr(e.length));if(!p)return{host:"",port:null};const T=p[2].split("@").pop()||"",P=/^(\[[^\]]+\])(:|$)/.exec(T);if(P){const M=P[1];return{host:M,port:Xp(T.substr(M.length+1))}}else{const[M,f]=T.split(":");return{host:M,port:Xp(f)}}}function Xp(m){if(!m)return null;const e=Number(m);return isNaN(e)?null:e}function oM(){function m(){const e=document.createElement("p"),p=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",p.position="fixed",p.width="100%",p.backgroundColor="#ffffff",p.border=".1em solid #000000",p.color="#b50000",p.bottom="0px",p.left="0px",p.margin="0px",p.zIndex="10000",p.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rx=class{constructor(e,p){this.providerId=e,this.signInMethod=p}toJSON(){return us("not implemented")}_getIdTokenResponse(e){return us("not implemented")}_linkToIdToken(e,p){return us("not implemented")}_getReauthenticationResolver(e){return us("not implemented")}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cr(m,e){return Bw(m,"POST","/v1/accounts:signInWithIdp",Cd(m,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hM="http://localhost";let fl=class tf extends rx{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const p=new tf(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(p.idToken=e.idToken),e.accessToken&&(p.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(p.nonce=e.nonce),e.pendingToken&&(p.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(p.accessToken=e.oauthToken,p.secret=e.oauthTokenSecret):_i("argument-error"),p}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const p=typeof e=="string"?JSON.parse(e):e,{providerId:T,signInMethod:P}=p,M=Or(p,["providerId","signInMethod"]);if(!T||!P)return null;const f=new tf(T,P);return f.idToken=M.idToken||void 0,f.accessToken=M.accessToken||void 0,f.secret=M.secret,f.nonce=M.nonce,f.pendingToken=M.pendingToken||null,f}_getIdTokenResponse(e){const p=this.buildRequest();return cr(e,p)}_linkToIdToken(e,p){const T=this.buildRequest();return T.idToken=p,cr(e,T)}_getReauthenticationResolver(e){const p=this.buildRequest();return p.autoCreate=!1,cr(e,p)}buildRequest(){const e={requestUri:hM,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const p={};this.idToken&&(p.id_token=this.idToken),this.accessToken&&(p.access_token=this.accessToken),this.secret&&(p.oauth_token_secret=this.secret),p.providerId=this.providerId,this.nonce&&!this.pendingToken&&(p.nonce=this.nonce),e.postBody=hn(p)}return e}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wd=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ka=class extends wd{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ax=class ir extends ka{constructor(){super("facebook.com")}static credential(e){return fl._fromParams({providerId:ir.PROVIDER_ID,signInMethod:ir.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ir.credentialFromTaggedObject(e)}static credentialFromError(e){return ir.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ir.credential(e.oauthAccessToken)}catch{return null}}};ax.FACEBOOK_SIGN_IN_METHOD="facebook.com";ax.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ox=class sr extends ka{constructor(){super("google.com"),this.addScope("profile")}static credential(e,p){return fl._fromParams({providerId:sr.PROVIDER_ID,signInMethod:sr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:p})}static credentialFromResult(e){return sr.credentialFromTaggedObject(e)}static credentialFromError(e){return sr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:p,oauthAccessToken:T}=e;if(!p&&!T)return null;try{return sr.credential(p,T)}catch{return null}}};ox.GOOGLE_SIGN_IN_METHOD="google.com";ox.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hx=class nr extends ka{constructor(){super("github.com")}static credential(e){return fl._fromParams({providerId:nr.PROVIDER_ID,signInMethod:nr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return nr.credentialFromTaggedObject(e)}static credentialFromError(e){return nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return nr.credential(e.oauthAccessToken)}catch{return null}}};hx.GITHUB_SIGN_IN_METHOD="github.com";hx.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lx=class rr extends ka{constructor(){super("twitter.com")}static credential(e,p){return fl._fromParams({providerId:rr.PROVIDER_ID,signInMethod:rr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:p})}static credentialFromResult(e){return rr.credentialFromTaggedObject(e)}static credentialFromError(e){return rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:p,oauthTokenSecret:T}=e;if(!p||!T)return null;try{return rr.credential(p,T)}catch{return null}}};lx.TWITTER_SIGN_IN_METHOD="twitter.com";lx.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,p,T,P=!1){const M=await gh._fromIdTokenResponse(e,T,P),f=Wp(T);return new Ar({user:M,providerId:f,_tokenResponse:T,operationType:p})}static async _forOperation(e,p,T){await e._updateTokensIfNecessary(T,!0);const P=Wp(T);return new Ar({user:e,providerId:P,_tokenResponse:T,operationType:p})}}function Wp(m){return m.providerId?m.providerId:"phoneNumber"in m?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh extends Si{constructor(e,p,T,P){var M;super(p.code,p.message),this.operationType=T,this.user=P,Object.setPrototypeOf(this,yh.prototype),this.customData={appName:e.name,tenantId:(M=e.tenantId)!==null&&M!==void 0?M:void 0,_serverResponse:p.customData._serverResponse,operationType:T}}static _fromErrorAndOperation(e,p,T,P){return new yh(e,p,T,P)}}function ux(m,e,p,T){return(e==="reauthenticate"?p._getReauthenticationResolver(m):p._getIdTokenResponse(m)).catch(M=>{throw M.code==="auth/multi-factor-auth-required"?yh._fromErrorAndOperation(m,M,e,T):M})}async function lM(m,e,p=!1){const T=await Na(m,e._linkToIdToken(m.auth,await m.getIdToken()),p);return Ar._forOperation(m,"link",T)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uM(m,e,p=!1){const{auth:T}=m;if(Xe(T.app))return Promise.reject(In(T));const P="reauthenticate";try{const M=await Na(m,ux(T,P,e,m),p);bt(M.idToken,T,"internal-error");const f=Ad(M.idToken);bt(f,T,"internal-error");const{sub:C}=f;return bt(m.uid===C,T,"user-mismatch"),Ar._forOperation(m,P,M)}catch(M){throw(M==null?void 0:M.code)==="auth/user-not-found"&&_i(T,"user-mismatch"),M}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fM(m,e,p=!1){if(Xe(m.app))return Promise.reject(In(m));const T="signIn",P=await ux(m,T,e),M=await Ar._fromIdTokenResponse(m,T,P);return p||await m._updateCurrentUser(M.user),M}function dM(m,e,p,T){return Te(m).onIdTokenChanged(e,p,T)}function cM(m,e,p){return Te(m).beforeAuthStateChanged(e,p)}function vM(m,e,p,T){return Te(m).onAuthStateChanged(e,p,T)}function pM(m){return Te(m).signOut()}const xh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(e,p){this.storageRetriever=e,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem(xh,"1"),this.storage.removeItem(xh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,p){return this.storage.setItem(e,JSON.stringify(p)),Promise.resolve()}_get(e){const p=this.storage.getItem(e);return Promise.resolve(p?JSON.parse(p):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mM=1e3,gM=10;class dx extends fx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,p)=>this.onStorageEvent(e,p),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ix(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const p of Object.keys(this.listeners)){const T=this.storage.getItem(p),P=this.localCache[p];T!==P&&e(p,P,T)}}onStorageEvent(e,p=!1){if(!e.key){this.forAllChangedKeys((f,C,t)=>{this.notifyListeners(f,t)});return}const T=e.key;p?this.detachListener():this.stopPolling();const P=()=>{const f=this.storage.getItem(T);!p&&this.localCache[T]===f||this.notifyListeners(T,f)},M=this.storage.getItem(T);kw()&&M!==e.newValue&&e.newValue!==e.oldValue?setTimeout(P,gM):P()}notifyListeners(e,p){this.localCache[e]=p;const T=this.listeners[e];if(T)for(const P of Array.from(T))P(p&&JSON.parse(p))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,p,T)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:p,newValue:T}),!0)})},mM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,p){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(p)}_removeListener(e,p){this.listeners[e]&&(this.listeners[e].delete(p),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,p){await super._set(e,p),this.localCache[e]=JSON.stringify(p)}async _get(e){const p=await super._get(e);return this.localCache[e]=JSON.stringify(p),p}async _remove(e){await super._remove(e),delete this.localCache[e]}}dx.type="LOCAL";const yM=dx;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx extends fx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,p){}_removeListener(e,p){}}cx.type="SESSION";const vx=cx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xM(m){return Promise.all(m.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(p){return{fulfilled:!1,reason:p}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const p=this.receivers.find(P=>P.isListeningto(e));if(p)return p;const T=new dl(e);return this.receivers.push(T),T}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const p=e,{eventId:T,eventType:P,data:M}=p.data,f=this.handlersMap[P];if(!(f!=null&&f.size))return;p.ports[0].postMessage({status:"ack",eventId:T,eventType:P});const C=Array.from(f).map(async h=>h(p.origin,M)),t=await xM(C);p.ports[0].postMessage({status:"done",eventId:T,eventType:P,response:t})}_subscribe(e,p){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(p)}_unsubscribe(e,p){this.handlersMap[e]&&p&&this.handlersMap[e].delete(p),(!p||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}dl.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Md(m="",e=10){let p="";for(let T=0;T<e;T++)p+=Math.floor(Math.random()*10);return m+p}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TM{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,p,T=50){const P=typeof MessageChannel<"u"?new MessageChannel:null;if(!P)throw new Error("connection_unavailable");let M,f;return new Promise((C,t)=>{const h=Md("",20);P.port1.start();const g=setTimeout(()=>{t(new Error("unsupported_event"))},T);f={messageChannel:P,onMessage(o){const a=o;if(a.data.eventId===h)switch(a.data.status){case"ack":clearTimeout(g),M=setTimeout(()=>{t(new Error("timeout"))},3e3);break;case"done":clearTimeout(M),C(a.data.response);break;default:clearTimeout(g),clearTimeout(M),t(new Error("invalid_response"));break}}},this.handlers.add(f),P.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:h,data:p},[P.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zi(){return window}function SM(m){Zi().location.href=m}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function px(){return typeof Zi().WorkerGlobalScope<"u"&&typeof Zi().importScripts=="function"}async function EM(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function CM(){var m;return((m=navigator==null?void 0:navigator.serviceWorker)===null||m===void 0?void 0:m.controller)||null}function AM(){return px()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mx="firebaseLocalStorageDb",PM=1,Th="firebaseLocalStorage",gx="fbase_key";class ja{constructor(e){this.request=e}toPromise(){return new Promise((e,p)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function cl(m,e){return m.transaction([Th],e?"readwrite":"readonly").objectStore(Th)}function RM(){const m=indexedDB.deleteDatabase(mx);return new ja(m).toPromise()}function ef(){const m=indexedDB.open(mx,PM);return new Promise((e,p)=>{m.addEventListener("error",()=>{p(m.error)}),m.addEventListener("upgradeneeded",()=>{const T=m.result;try{T.createObjectStore(Th,{keyPath:gx})}catch(P){p(P)}}),m.addEventListener("success",async()=>{const T=m.result;T.objectStoreNames.contains(Th)?e(T):(T.close(),await RM(),e(await ef()))})})}async function Hp(m,e,p){const T=cl(m,!0).put({[gx]:e,value:p});return new ja(T).toPromise()}async function wM(m,e){const p=cl(m,!1).get(e),T=await new ja(p).toPromise();return T===void 0?null:T.value}function Yp(m,e){const p=cl(m,!0).delete(e);return new ja(p).toPromise()}const MM=800,IM=3;class yx{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ef(),this.db)}async _withRetries(e){let p=0;for(;;)try{const T=await this._openDb();return await e(T)}catch(T){if(p++>IM)throw T;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return px()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=dl._getInstance(AM()),this.receiver._subscribe("keyChanged",async(e,p)=>({keyProcessed:(await this._poll()).includes(p.key)})),this.receiver._subscribe("ping",async(e,p)=>["keyChanged"])}async initializeSender(){var e,p;if(this.activeServiceWorker=await EM(),!this.activeServiceWorker)return;this.sender=new TM(this.activeServiceWorker);const T=await this.sender._send("ping",{},800);T&&!((e=T[0])===null||e===void 0)&&e.fulfilled&&!((p=T[0])===null||p===void 0)&&p.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||CM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ef();return await Hp(e,xh,"1"),await Yp(e,xh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,p){return this._withPendingWrite(async()=>(await this._withRetries(T=>Hp(T,e,p)),this.localCache[e]=p,this.notifyServiceWorker(e)))}async _get(e){const p=await this._withRetries(T=>wM(T,e));return this.localCache[e]=p,p}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(p=>Yp(p,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(P=>{const M=cl(P,!1).getAll();return new ja(M).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const p=[],T=new Set;if(e.length!==0)for(const{fbase_key:P,value:M}of e)T.add(P),JSON.stringify(this.localCache[P])!==JSON.stringify(M)&&(this.notifyListeners(P,M),p.push(P));for(const P of Object.keys(this.localCache))this.localCache[P]&&!T.has(P)&&(this.notifyListeners(P,null),p.push(P));return p}notifyListeners(e,p){this.localCache[e]=p;const T=this.listeners[e];if(T)for(const P of Array.from(T))P(p)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),MM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,p){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(p)}_removeListener(e,p){this.listeners[e]&&(this.listeners[e].delete(p),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}yx.type="LOCAL";const LM=yx;new Ka(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xx(m,e){return e?fs(e):(bt(m._popupRedirectResolver,m,"argument-error"),m._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id extends rx{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return cr(e,this._buildIdpRequest())}_linkToIdToken(e,p){return cr(e,this._buildIdpRequest(p))}_getReauthenticationResolver(e){return cr(e,this._buildIdpRequest())}_buildIdpRequest(e){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(p.idToken=e),p}}function FM(m){return fM(m.auth,new Id(m),m.bypassAuthState)}function OM(m){const{auth:e,user:p}=m;return bt(p,e,"internal-error"),uM(p,new Id(m),m.bypassAuthState)}async function DM(m){const{auth:e,user:p}=m;return bt(p,e,"internal-error"),lM(p,new Id(m),m.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(e,p,T,P,M=!1){this.auth=e,this.resolver=T,this.user=P,this.bypassAuthState=M,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){return new Promise(async(e,p)=>{this.pendingPromise={resolve:e,reject:p};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(T){this.reject(T)}})}async onAuthEvent(e){const{urlResponse:p,sessionId:T,postBody:P,tenantId:M,error:f,type:C}=e;if(f){this.reject(f);return}const t={auth:this.auth,requestUri:p,sessionId:T,tenantId:M||void 0,postBody:P||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(C)(t))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return FM;case"linkViaPopup":case"linkViaRedirect":return DM;case"reauthViaPopup":case"reauthViaRedirect":return OM;default:_i(this.auth,"internal-error")}}resolve(e){xs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){xs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NM=new Ka(2e3,1e4);async function bM(m,e,p){if(Xe(m.app))return Promise.reject(Di(m,"operation-not-supported-in-this-environment"));const T=ul(m);Lw(m,e,wd);const P=xx(T,p);return new Cn(T,"signInViaPopup",e,P).executeNotNull()}class Cn extends Tx{constructor(e,p,T,P,M){super(e,p,P,M),this.provider=T,this.authWindow=null,this.pollId=null,Cn.currentPopupAction&&Cn.currentPopupAction.cancel(),Cn.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return bt(e,this.auth,"internal-error"),e}async onExecution(){xs(this.filter.length===1,"Popup operations only handle one event");const e=Md();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(p=>{this.reject(p)}),this.resolver._isIframeWebStorageSupported(this.auth,p=>{p||this.reject(Di(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Di(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Cn.currentPopupAction=null}pollUserCancellation(){const e=()=>{var p,T;if(!((T=(p=this.authWindow)===null||p===void 0?void 0:p.window)===null||T===void 0)&&T.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Di(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,NM.get())};e()}}Cn.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BM="pendingRedirect",Xo=new Map;class VM extends Tx{constructor(e,p,T=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,T),this.eventId=null}async execute(){let e=Xo.get(this.auth._key());if(!e){try{const T=await UM(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(T)}catch(p){e=()=>Promise.reject(p)}Xo.set(this.auth._key(),e)}return this.bypassAuthState||Xo.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const p=await this.auth._redirectUserForId(e.eventId);if(p)return this.user=p,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function UM(m,e){const p=XM(e),T=zM(m);if(!await T._isAvailable())return!1;const P=await T._get(p)==="true";return await T._remove(p),P}function GM(m,e){Xo.set(m._key(),e)}function zM(m){return fs(m._redirectPersistence)}function XM(m){return Go(BM,m.config.apiKey,m.name)}async function WM(m,e,p=!1){if(Xe(m.app))return Promise.reject(In(m));const T=ul(m),P=xx(T,e),f=await new VM(T,P,p).execute();return f&&!p&&(delete f.user._redirectEventId,await T._persistUserIfCurrent(f.user),await T._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HM=10*60*1e3;class YM{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let p=!1;return this.consumers.forEach(T=>{this.isEventForConsumer(e,T)&&(p=!0,this.sendToConsumer(e,T),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!$M(e)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=e,p=!0)),p}sendToConsumer(e,p){var T;if(e.error&&!Sx(e)){const P=((T=e.error.code)===null||T===void 0?void 0:T.split("auth/")[1])||"internal-error";p.onError(Di(this.auth,P))}else p.onAuthEvent(e)}isEventForConsumer(e,p){const T=p.eventId===null||!!e.eventId&&e.eventId===p.eventId;return p.filter.includes(e.type)&&T}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=HM&&this.cachedEventUids.clear(),this.cachedEventUids.has($p(e))}saveEventToCache(e){this.cachedEventUids.add($p(e)),this.lastProcessedEventTime=Date.now()}}function $p(m){return[m.type,m.eventId,m.sessionId,m.tenantId].filter(e=>e).join("-")}function Sx({type:m,error:e}){return m==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function $M(m){switch(m.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Sx(m);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KM(m,e={}){return Dr(m,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,jM=/^https?/;async function QM(m){if(m.config.emulator)return;const{authorizedDomains:e}=await KM(m);for(const p of e)try{if(JM(p))return}catch{}_i(m,"unauthorized-domain")}function JM(m){const e=Zu(),{protocol:p,hostname:T}=new URL(e);if(m.startsWith("chrome-extension://")){const f=new URL(m);return f.hostname===""&&T===""?p==="chrome-extension:"&&m.replace("chrome-extension://","")===e.replace("chrome-extension://",""):p==="chrome-extension:"&&f.hostname===T}if(!jM.test(p))return!1;if(kM.test(m))return T===m;const P=m.replace(/\./g,"\\.");return new RegExp("^(.+\\."+P+"|"+P+")$","i").test(T)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZM=new Ka(3e4,6e4);function Kp(){const m=Zi().___jsl;if(m!=null&&m.H){for(const e of Object.keys(m.H))if(m.H[e].r=m.H[e].r||[],m.H[e].L=m.H[e].L||[],m.H[e].r=[...m.H[e].L],m.CP)for(let p=0;p<m.CP.length;p++)m.CP[p]=null}}function qM(m){return new Promise((e,p)=>{var T,P,M;function f(){Kp(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Kp(),p(Di(m,"network-request-failed"))},timeout:ZM.get()})}if(!((P=(T=Zi().gapi)===null||T===void 0?void 0:T.iframes)===null||P===void 0)&&P.Iframe)e(gapi.iframes.getContext());else if(!((M=Zi().gapi)===null||M===void 0)&&M.load)f();else{const C=iM("iframefcb");return Zi()[C]=()=>{gapi.load?f():p(Di(m,"network-request-failed"))},tM(`${eM()}?onload=${C}`).catch(t=>p(t))}}).catch(e=>{throw Wo=null,e})}let Wo=null;function _M(m){return Wo=Wo||qM(m),Wo}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tI=new Ka(5e3,15e3),eI="__/auth/iframe",iI="emulator/auth/iframe",sI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},nI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function rI(m){const e=m.config;bt(e.authDomain,m,"auth-domain-config-required");const p=e.emulator?Ed(e,iI):`https://${m.config.authDomain}/${eI}`,T={apiKey:e.apiKey,appName:m.name,v:As},P=nI.get(m.config.apiHost);P&&(T.eid=P);const M=m._getFrameworks();return M.length&&(T.fw=M.join(",")),`${p}?${hn(T).slice(1)}`}async function aI(m){const e=await _M(m),p=Zi().gapi;return bt(p,m,"internal-error"),e.open({where:document.body,url:rI(m),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:sI,dontclear:!0},T=>new Promise(async(P,M)=>{await T.restyle({setHideOnLeave:!1});const f=Di(m,"network-request-failed"),C=Zi().setTimeout(()=>{M(f)},tI.get());function t(){Zi().clearTimeout(C),P(T)}T.ping(t).then(t,()=>{M(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},hI=500,lI=600,uI="_blank",fI="http://localhost";class kp{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function dI(m,e,p,T=hI,P=lI){const M=Math.max((window.screen.availHeight-P)/2,0).toString(),f=Math.max((window.screen.availWidth-T)/2,0).toString();let C="";const t=Object.assign(Object.assign({},oI),{width:T.toString(),height:P.toString(),top:M,left:f}),h=ye().toLowerCase();p&&(C=Zy(h)?uI:p),Qy(h)&&(e=e||fI,t.scrollbars="yes");const g=Object.entries(t).reduce((a,[r,i])=>`${a}${r}=${i},`,"");if(Kw(h)&&C!=="_self")return cI(e||"",C),new kp(null);const o=window.open(e||"",C,g);bt(o,m,"popup-blocked");try{o.focus()}catch{}return new kp(o)}function cI(m,e){const p=document.createElement("a");p.href=m,p.target=e;const T=document.createEvent("MouseEvent");T.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(T)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vI="__/auth/handler",pI="emulator/auth/handler",mI=encodeURIComponent("fac");async function jp(m,e,p,T,P,M){bt(m.config.authDomain,m,"auth-domain-config-required"),bt(m.config.apiKey,m,"invalid-api-key");const f={apiKey:m.config.apiKey,appName:m.name,authType:p,redirectUrl:T,v:As,eventId:P};if(e instanceof wd){e.setDefaultLanguage(m.languageCode),f.providerId=e.providerId||"",n2(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,o]of Object.entries({}))f[g]=o}if(e instanceof ka){const g=e.getScopes().filter(o=>o!=="");g.length>0&&(f.scopes=g.join(","))}m.tenantId&&(f.tid=m.tenantId);const C=f;for(const g of Object.keys(C))C[g]===void 0&&delete C[g];const t=await m._getAppCheckToken(),h=t?`#${mI}=${encodeURIComponent(t)}`:"";return`${gI(m)}?${hn(C).slice(1)}${h}`}function gI({config:m}){return m.emulator?Ed(m,pI):`https://${m.authDomain}/${vI}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const au="webStorageSupport";class yI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=vx,this._completeRedirectFn=WM,this._overrideRedirectResult=GM}async _openPopup(e,p,T,P){var M;xs((M=this.eventManagers[e._key()])===null||M===void 0?void 0:M.manager,"_initialize() not called before _openPopup()");const f=await jp(e,p,T,Zu(),P);return dI(e,f,Md())}async _openRedirect(e,p,T,P){await this._originValidation(e);const M=await jp(e,p,T,Zu(),P);return SM(M),new Promise(()=>{})}_initialize(e){const p=e._key();if(this.eventManagers[p]){const{manager:P,promise:M}=this.eventManagers[p];return P?Promise.resolve(P):(xs(M,"If manager is not set, promise should be"),M)}const T=this.initAndGetManager(e);return this.eventManagers[p]={promise:T},T.catch(()=>{delete this.eventManagers[p]}),T}async initAndGetManager(e){const p=await aI(e),T=new YM(e);return p.register("authEvent",P=>(bt(P==null?void 0:P.authEvent,e,"invalid-auth-event"),{status:T.onEvent(P.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:T},this.iframes[e._key()]=p,T}_isIframeWebStorageSupported(e,p){this.iframes[e._key()].send(au,{type:au},P=>{var M;const f=(M=P==null?void 0:P[0])===null||M===void 0?void 0:M[au];f!==void 0&&p(!!f),_i(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const p=e._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=QM(e)),this.originValidationPromises[p]}get _shouldInitProactively(){return ix()||Jy()||Pd()}}const xI=yI;var Qp="@firebase/auth",Jp="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let TI=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const p=this.auth.onIdTokenChanged(T=>{e((T==null?void 0:T.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,p),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const p=this.internalListeners.get(e);p&&(this.internalListeners.delete(e),p(),this.updateProactiveRefresh())}assertAuthConfigured(){bt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SI(m){switch(m){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function EI(m){Mi(new Ti("auth",(e,{options:p})=>{const T=e.getProvider("app").getImmediate(),P=e.getProvider("heartbeat"),M=e.getProvider("app-check-internal"),{apiKey:f,authDomain:C}=T.options;bt(f&&!f.includes(":"),"invalid-api-key",{appName:T.name});const t={apiKey:f,authDomain:C,clientPlatform:m,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:sx(m)},h=new qw(T,P,M,t);return nM(h,p),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,p,T)=>{e.getProvider("auth-internal").initialize()})),Mi(new Ti("auth-internal",e=>{const p=ul(e.getProvider("auth").getImmediate());return(T=>new TI(T))(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),di(Qp,Jp,SI(m)),di(Qp,Jp,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI=5*60,AI=Jg("authIdTokenMaxAge")||CI;let Zp=null;const PI=m=>async e=>{const p=e&&await e.getIdTokenResult(),T=p&&(new Date().getTime()-Date.parse(p.issuedAtTime))/1e3;if(T&&T>AI)return;const P=p==null?void 0:p.token;Zp!==P&&(Zp=P,await fetch(m,{method:P?"POST":"DELETE",headers:P?{Authorization:`Bearer ${P}`}:{}}))};function RI(m=o0()){const e=Xn(m,"auth");if(e.isInitialized())return e.getImmediate();const p=sM(m,{popupRedirectResolver:xI,persistence:[LM,yM,vx]}),T=Jg("authTokenSyncURL");if(T&&typeof isSecureContext=="boolean"&&isSecureContext){const M=new URL(T,location.origin);if(location.origin===M.origin){const f=PI(M.toString());cM(p,f,()=>f(p.currentUser)),dM(p,C=>f(C))}}const P=QC("auth");return P&&rM(p,`http://${P}`),p}function wI(){var m,e;return(e=(m=document.getElementsByTagName("head"))===null||m===void 0?void 0:m[0])!==null&&e!==void 0?e:document}_w({loadJS(m){return new Promise((e,p)=>{const T=document.createElement("script");T.setAttribute("src",m),T.onload=e,T.onerror=P=>{const M=Di("internal-error");M.customData=P,p(M)},T.type="text/javascript",T.charset="UTF-8",wI().appendChild(T)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});EI("Browser");const Ld=zn("auth",()=>{const m=Bt(null),e=Ot(()=>m.value!==null),p=async()=>{if(!m.value)throw new Error("User not logged in.");const f=await ze.getDocument(Xs.Profiles,m.value.uid,ks.Converter,!0),C=new ks({id:m.value.uid,displayName:m.value.displayName,email:m.value.email,phoneNumber:m.value.phoneNumber,photoUrl:m.value.photoURL,createdAt:f?f.createdAt:new Date,updatedAt:f?f.updatedAt:new Date});ze.setDocument(Xs.Profiles,m.value.uid,C,ks.Converter)};return{user:m,isLoggedIn:e,loginWithGoogle:async()=>{try{const f=await bM(ze.auth,ze.authProviders.google);m.value=f.user,await p()}catch(f){console.error(f)}},logout:async()=>{await pM(ze.auth),m.value=null},watchAuthState:()=>{vM(ze.auth,f=>{m.value=f??null})}}}),Fd=zn("profiles",()=>{const{user:m}=He(Ld()),e=Bt([]),p=Bt(null),T=g=>{e.value=Array.isArray(g)?g:[g]},P=g=>{p.value=Array.isArray(g)?g[0]:g},M=async g=>{await ze.subscribe({key:"profile",docRef:ze.getDocRef(Xs.Profiles,g,ks.Converter),callback:P,error:o=>{console.error("Error in subscription to profile.",o)}})},f=async()=>{ze.unsubscribe("profile",()=>p.value=null)},C=async()=>{const g=ze.getCollectionRef(Xs.Profiles);await ze.subscribe({key:"profiles",queryRef:by(g).withConverter(ks.Converter),callback:T,error:o=>{console.error("Error in subscription to profiles.",o)}})},t=async()=>{ze.unsubscribe("profiles")},h=async g=>{await ze.setDocument(Xs.Profiles,g.id,g,ks.Converter)};return fi(m,async(g,o)=>{g&&g.uid!==(o==null?void 0:o.uid)?await M(g.uid):await f()}),{profile:p,profiles:e,updateProfile:h,subscribeProfile:M,unsubscribeProfile:f,subscribeProfiles:C,unsubscribeProfiles:t}});class MI{constructor(e,p){vt(this,"scene");vt(this,"store",pi());vt(this,"position");vt(this,"onDestroy");vt(this,"id",Mf());vt(this,"type",we.EnergySmall);vt(this,"sprite");vt(this,"speed");vt(this,"isLarge",!1);this.scene=e,this.type=(p==null?void 0:p.type)??this.getRandomType((p==null?void 0:p.isLarge)??!1),this.isLarge=(p==null?void 0:p.isLarge)??!1,this.position=(p==null?void 0:p.position)??{x:0,y:0},this.sprite=this.create(),this.speed=(p==null?void 0:p.speed)??5,this.onDestroy=(p==null?void 0:p.onDestroy)??(()=>{})}get key(){return this.type}getRandomType(e){if(!e)return we.EnergySmall;const p=[we.EnergyMedium,we.EnergyMedium,we.EnergyMedium,we.EnergyLarge],T=[we.HpMedium,we.HpMedium,we.HpMedium,we.HpLarge];if(this.store.hp===Mt.player.hpMax)return Kl(p);const P=this.store.energy/100;return Math.random()>P?Kl(p):Kl(T)}create(){let e=2;return[we.EnergyMedium,we.HpMedium].includes(this.type)&&(e=1.5),this.scene.add.image(this.position.x,this.position.y,this.key).setOrigin(.5,.5).setRotation(Wi(0,Math.PI*2)).setScale(e).setDepth(100)}update(e){const p=e.x-this.sprite.x,T=e.y-this.sprite.y,P=Math.sqrt(p*p+T*T);if(P<300){const C=p/P*this.speed*3,t=T/P*this.speed*3;this.sprite.x+=C,this.sprite.y+=t}else this.sprite.x-=this.speed*3;this.sprite.rotation+=Mt.powerUp.rotationSpeed,(this.sprite.x<-this.sprite.width||this.sprite.y>this.scene.scale.height+this.sprite.height)&&this.destroy()}destroy(e=!1){var p;this.sprite.destroy(),e&&this.type!==we.EnergySmall&&((p=this.scene.audio)==null||p.playSfx("powerUp")),this.onDestroy(this.id,{isDestroyedByPlayer:e,type:this.type,position:this.position})}}const qp={volume:1,fade:!1,duration:200};let II=class{constructor(e){vt(this,"scene");vt(this,"store",xd());vt(this,"soundtrack",null);vt(this,"sfx",{playerBeam:null,playerDamage:null,playerDash:null,playerDeath:null,playerScream:null,asteroidExplosion:null,powerUp:null});var T;this.scene=e;const p=this.store.currentVolume;this.soundtrack=this.scene.sound.add("soundtrack",{loop:!0,volume:p*.8}),this.sfx={playerBeam:this.scene.sound.add("playerBeam",{volume:0,loop:!0}),playerDamage:this.scene.sound.add("playerDamage",{volume:p}),playerDash:this.scene.sound.add("playerDash",{volume:p}),playerDeath:this.scene.sound.add("playerDeath",{volume:p}),playerScream:this.scene.sound.add("playerScream",{volume:p*.5}),asteroidExplosion:this.scene.sound.add("asteroidExplosion",{volume:p}),powerUp:this.scene.sound.add("powerUp",{volume:p})};for(const P in this.sfx)(T=this.sfx[P])!=null&&T.loop&&this.sfx[P].play();Ks.on(ps.SetVolume,P=>{this.updateVolume(P)})}updateVolume(e){this.scene.sound.setVolume(e)}playSfx(e,p=qp){const T=this.sfx[e];if(!(p.fade||T.loop))T.play();else{this.scene.tweens.killTweensOf(T),T.loop||(T.setVolume(0),T.play());const M=this.store.currentVolume*(p.volume??1);this.scene.tweens.add({targets:T,volume:M,duration:p.duration,ease:"Linear"})}}stopSfx(e,p=qp){const T=this.sfx[e];if(!(p.fade||T.loop))T.stop();else{const M=this.scene.tweens.add({targets:T,volume:0,duration:p.duration,ease:"Linear"});if(T.loop)return;M.on("complete",()=>T.stop())}}playAttack(){this.playSfx("playerScream",{fade:!0}),this.playSfx("playerBeam",{fade:!0,volume:.2})}stopAttack(){this.stopSfx("playerScream",{fade:!0}),this.stopSfx("playerBeam",{fade:!0})}playBeamHit(){}stopBeamHit(){}stopAll(){this.scene.sound.stopAll()}};class Ex extends wr.Scene{constructor(){super("Game");vt(this,"controls",null);vt(this,"background",null);vt(this,"player",null);vt(this,"velocity",1);vt(this,"asteroidSpeed",0);vt(this,"store",pi());vt(this,"asteroids",[]);vt(this,"lastSpawnTime",0);vt(this,"powerUps",[]);vt(this,"audio",null)}reset(){var p,T;this.asteroids.forEach(P=>P.destroy()),this.asteroids=[],this.powerUps.forEach(P=>P.destroy()),this.powerUps=[],(p=this.player)==null||p.setPosition(200,this.scale.height/2),(T=this.player)==null||T.stopBeam(),this.lastSpawnTime=0}togglePaused(){this.store.togglePaused(),this.store.isPaused?this.scene.pause():this.scene.resume()}create(){var p;if(!this.input.keyboard)throw new Error("No keyboard input found");this.audio=new II(this),(p=this.audio.soundtrack)==null||p.play(),this.controls=new bI(this.input.keyboard),this.background=new NI(this,this.controls),this.player=new DI(this,this.controls),this.player.setDepth(1e3),this.player.setPosition(200,this.scale.height/2),Ho(this.anims,"explosion/md","explosion/md",[0,1,2,3],0),Ks.emit(ps.CurrentSceneReady,this)}update(p,T){var t,h,g,o,a;if(!this.player||!this.background||this.store.isPaused)return;if(this.velocity=1+Math.log1p(Math.max(1,this.store.score/500))*2+Math.pow(this.store.score/1e3,1.025),this.velocity=Ai(this.velocity,1,30),!this.store.isInGame){this.background.update(this.velocity);return}if(!this.store.isPlaying)return;const P=this.player.currentPosition;this.asteroids.forEach(r=>r.update()),this.powerUps.forEach(r=>r.update(P)),this.background.update(this.velocity),this.player.update(this.velocity,p,T),this.trySpawnAsteroid();const M=this.player.bounds,f=this.isCollisionAsteroidDetected(M),C=this.isCollisionPowerUpDetected(M);if(f?((t=this.audio)==null||t.playBeamHit(),(h=this.player)!=null&&h.isDashing?(this.player.hp-=f.damage*Mt.player.dashDamageReduction,f.destroy(!0)):(this.player.hp-=f.damage,f.destroy(!1))):(g=this.audio)==null||g.stopBeamHit(),C&&C.destroy(!0),(a=(o=this.player)==null?void 0:o.beam)!=null&&a.isActive){const r=this.player.beam.sprite,i=new Phaser.Geom.Line(this.player.x+this.player.sprite.width/2-50,this.player.y,this.player.x+Math.cos(r.rotation)*r.displayWidth,this.player.y+Math.sin(r.rotation)*r.displayWidth);this.asteroids.forEach(n=>{var s;const l=n.sprite.getBounds();Phaser.Geom.Intersects.LineToRectangle(i,l)&&(n.hp-=((s=this.player)==null?void 0:s.damage)??1)})}}trySpawnAsteroid(){let p=Mt.asteroid.baseSpawnRate/this.velocity;if(this.store.score>2e3){const P=Math.log1p((this.store.score-2e3)/1e3);p=p/(1+P)}this.time.now-this.lastSpawnTime>=p&&(this.lastSpawnTime=this.time.now,this.spawnAsteroid())}isCollisionAsteroidDetected(p){if(this.store.debug.isCollisionDisabled)return!1;for(const T of this.asteroids){const P=T.sprite.getBounds();if(Phaser.Geom.Rectangle.Overlaps(p,P))return T}return!1}isCollisionPowerUpDetected(p){for(const T of this.powerUps){const P=T.sprite.getBounds();if(Phaser.Geom.Intersects.RectangleToRectangle(p,P))return T}return!1}spawnAsteroid(){this.asteroidSpeed=this.velocity*.5;const p=new BC(this,{maxSpeed:this.asteroidSpeed,isLarge:Math.random()>.75,onDestroy:this.onDestroyAsteroid.bind(this)});this.asteroids.push(p)}spawnPowerUp(p,T){const P=new MI(this,{position:p,isLarge:T,speed:this.asteroidSpeed,onDestroy:this.onDestroyPowerUp.bind(this)});this.powerUps.push(P)}onDestroyAsteroid(p,T){this.asteroids=this.asteroids.filter(P=>P.id!==p),T!=null&&T.isDestroyedByPlayer&&(this.store.increaseScore(T.isLarge?Mt.asteroid.large.score:Mt.asteroid.small.score),this.spawnPowerUp(T.position,T.isLarge))}onDestroyPowerUp(p,T){if(this.powerUps=this.powerUps.filter(P=>P.id!==p),!(!(T!=null&&T.isDestroyedByPlayer)||!this.player))switch(T.type){case we.HpLarge:this.player.hp+=Mt.powerUp.hpLarge;break;case we.HpMedium:this.player.hp+=Mt.powerUp.hpMedium;break;case we.HpSmall:this.player.hp+=Mt.powerUp.hpSmall;break;case we.EnergyLarge:this.player.energy+=Mt.powerUp.energyLarge;break;case we.EnergyMedium:this.player.energy+=Mt.powerUp.energyMedium;break;case we.EnergySmall:default:this.player.energy+=Mt.powerUp.energySmall;break}}}class LI extends wr.Scene{constructor(){super("Preloader")}init(){const{setPreloadProgress:e}=pi();this.load.on("progress",p=>{e(p)})}preload(){this.load.setPath("assets"),this.load.image("player","whale.png"),this.load.image("blackhole","blackhole.png"),this.load.image("background/stars","background/stars.png"),this.load.image("background/dust","background/dust.png"),this.load.image("background/nebulae","background/nebulae.png"),this.load.image("background/planets","background/planets.png"),this.load.image("asteroid/1","asteroid/1.png"),this.load.image("asteroid/2","asteroid/2.png"),this.load.image("asteroid/3","asteroid/3.png"),this.load.image("asteroid/4","asteroid/4.png"),this.load.image("asteroid/5","asteroid/5.png"),this.load.image("asteroid/6","asteroid/6.png"),this.load.image("powerup/hp-small","powerup/pink0.png"),this.load.image("powerup/hp-medium","powerup/pink1.png"),this.load.image("powerup/hp-large","powerup/pink2.png"),this.load.image("powerup/energy-small","powerup/blue0.png"),this.load.image("powerup/energy-medium","powerup/blue1.png"),this.load.image("powerup/energy-large","powerup/blue2.png"),this.load.spritesheet("beam","beam.png",{frameWidth:64,frameHeight:64}),this.load.spritesheet("explosion/md","explosion/md.png",{frameWidth:32,frameHeight:32}),this.load.audio("soundtrack","soundtracks/OutOfTheOrbit.mp3"),this.load.audio("playerDamage","sfx/playerDamage.mp3"),this.load.audio("playerBeam","sfx/playerBeam.mp3"),this.load.audio("playerDash","sfx/playerDash.mp3"),this.load.audio("playerDeath","sfx/playerDeath.mp3"),this.load.audio("playerScream","sfx/playerScream.mp3"),this.load.audio("asteroidExplosion","sfx/asteroidExplosion.mp3"),this.load.audio("powerUp","sfx/powerUp.mp3")}create(){Ks.emit(ps.PreloadComplete,this),this.scene.start("Game")}}const Ao=(m,e,p)=>{const T=m.textures.get(e).getSourceImage().height;return m.add.tileSprite(0,0,m.scale.width,m.scale.height,e).setOrigin(0,0).setScrollFactor(0).setScale(m.scale.height/T).setDepth((p==null?void 0:p.depth)??0).setAlpha((p==null?void 0:p.alpha)??1)},Ho=(m,e,p,T,P=-1)=>m.create({key:e,frames:m.generateFrameNames(p,{frames:T}),frameRate:10,repeat:P}),FI=m=>m instanceof Ex;class OI{constructor(e,p){vt(this,"scene");vt(this,"key","beam");vt(this,"origin",{x:0,y:0});vt(this,"originOffset",{x:-50,y:0});vt(this,"position",{x:0,y:0});vt(this,"id",Mf());vt(this,"sprite");vt(this,"isActive",!1);vt(this,"beamStartTime",0);vt(this,"scaleX",Mt.beam.scaleX);vt(this,"currentAngle",0);vt(this,"weight",.2);this.scene=e,this.origin=p,this.position={x:p.x+this.originOffset.x,y:p.y+this.originOffset.y},this.sprite=this.scene.add.sprite(this.position.x,this.position.y,this.key).setAlpha(0).setOrigin(0,.5),Ho(this.scene.anims,"beam-start","beam",[0,1,2,3,4,5,6,7],0),Ho(this.scene.anims,"beam-active","beam",[8,9,10,11,12,13,14,15]),Ho(this.scene.anims,"beam-end","beam",[16,17,18,19,20,21,22,23],0)}get bounds(){const e=this.sprite.getBounds().getPoints(4),p=Math.min(...e.map(f=>f.x)),T=Math.max(...e.map(f=>f.x)),P=Math.min(...e.map(f=>f.y)),M=Math.max(...e.map(f=>f.y));return new Phaser.Geom.Rectangle(p,P,T-p,M-P)}get scaleY(){var e;return Ai(((e=this.scene.player)==null?void 0:e.damage)??1,1,4)}start(e){this.isActive=!0,this.sprite.setAlpha(1).setOrigin(0,.5).setScale(this.scaleX,this.scaleY),this.sprite.anims&&(this.sprite.anims.play("beam-start").once("animationcomplete",()=>this.isActive&&this.sprite.anims.play("beam-active")),this.update(e),this.beamStartTime=this.scene.time.now)}update(e){if(!this.isActive)return;const p=this.scene.input.activePointer,{x:T,y:P}={x:e.x+this.position.x,y:e.y+this.position.y},M=Phaser.Math.Angle.Between(T,P,p.worldX,p.worldY),f=Mt.beam.minAngle,C=Mt.beam.maxAngle,t=Ai(M,f,C);this.currentAngle+=(t-this.currentAngle)*this.weight,this.sprite.setRotation(this.currentAngle)}end(){this.isActive=!1,this.sprite.anims.stop(),this.sprite.anims.play("beam-end").once("animationcomplete",()=>this.sprite.setScale(this.scaleX,this.scaleY)),this.beamStartTime=0}destroy(){this.sprite.destroy()}handleScaling(){if(!this.isActive)return;const e=Mt.beam.maxScale,p=Mt.beam.scaleDuration,T=Math.min(1,(this.scene.time.now-this.beamStartTime)/p),P=this.scaleX+(e-this.scaleX)*T;this.sprite.setScale(P,this.scaleY)}}class DI extends Phaser.GameObjects.Container{constructor(p,T){super(p,0,0);vt(this,"sprite");vt(this,"scene");vt(this,"controls");vt(this,"store",pi());vt(this,"velocity",{x:Mt.player.velocity,y:Mt.player.velocity});vt(this,"maxVelocity",{x:Mt.player.maxVelocity,y:Mt.player.maxVelocity});vt(this,"acceleration",{x:Mt.player.acceleration,y:Mt.player.acceleration});vt(this,"deceleration",{x:Mt.player.deceleration,y:Mt.player.deceleration});vt(this,"beam",null);vt(this,"energyDrainRate",Mt.player.energyDrainRate);vt(this,"_isDashing",!1);vt(this,"dashDistance",Mt.player.dashDistance);vt(this,"dashCooldown",Mt.player.dashCooldown);vt(this,"lastDashTime",0);vt(this,"dashDestinationPos",{x:0,y:0});vt(this,"audio",null);this.scene=p,this.controls=T,this.audio=p.audio;const P=this.scene.textures.get("player").getSourceImage();this.beam=new OI(this.scene,{x:P.width/2,y:0}),this.add(this.beam.sprite),this.sprite=p.add.image(0,0,"player"),this.add(this.sprite),p.add.existing(this),p.input.on("pointerdown",this.startBeam,this),p.input.on("pointerup",this.stopBeam,this)}get hp(){return this.store.hp}set hp(p){var M,f,C,t;if(this.store.debug.isImmortal)return;const T=p<this.hp,P=Ai(p,0,Mt.player.hpMax);this.store.setPlayerHp(P),T&&(P<=0?(f=(M=this.audio)==null?void 0:M.sfx.playerDeath)==null||f.play():(t=(C=this.audio)==null?void 0:C.sfx.playerDamage)==null||t.play(),this.sprite.setTint(Mt.player.colorDamage),this.sprite.setPipeline("glow"),window.setTimeout(()=>{this.sprite.clearTint(),this.sprite.resetPipeline()},200))}get energy(){return this.store.energy}set energy(p){if(this.store.debug.hasInfiniteEnergy)return;const T=Ai(p,0,Mt.player.energyMax);this.store.setPlayerEnergy(T)}get isDashing(){return this._isDashing}set isDashing(p){var T,P;this._isDashing=p,p&&((P=(T=this.audio)==null?void 0:T.sfx.playerDash)==null||P.play(),this.energy-=Mt.player.dashEnergyCost)}get hasEnergyForBeam(){return this.energy>=this.energyDrainRate||this.store.debug.hasInfiniteEnergy}get hasEnergyForDash(){return this.energy>=Mt.player.dashEnergyCost||this.store.debug.hasInfiniteEnergy}get currentPosition(){return{x:this.x,y:this.y}}get damage(){const p=this.store.score;return p<1e3?1:1+(p-1e3)/500}get bounds(){const p=Mt.player.boundsPadding,T=this.sprite.getBounds();return new Phaser.Geom.Rectangle(T.x+p,T.y+p,T.width-p*2,T.height-p*2)}update(p,T,P){var f,C;const M=this.scene.time.now;this.controls.space&&M-this.lastDashTime>=this.dashCooldown&&this.hasEnergyForDash&&(this.isDashing=!0,this.lastDashTime=M,this.dashDestinationPos={x:this.x+(this.controls.left?-this.dashDistance:this.controls.right?this.dashDistance:0),y:this.y+(this.controls.up?-this.dashDistance:this.controls.down?this.dashDistance:0)},this.dashDestinationPos=this.getClampedPosition(this.dashDestinationPos.x,this.dashDestinationPos.y),this.controls.space=!1),this.isDashing?this.handleDash():(this.updateVelocity(),this.updatePosition()),this.store.setPlayerPosition(this.x,this.y),this.hasEnergyForBeam&&((f=this.beam)!=null&&f.isActive)?(this.beam.handleScaling(),this.updateBeam(),this.energy-=this.energyDrainRate):(C=this.beam)!=null&&C.isActive?this.stopBeam():this.energy+=Mt.player.energyRegen}destroy(){this.beam&&(this.scene.input.off("pointerdown",this.startBeam,this),this.scene.input.off("pointerup",this.stopBeam,this),this.beam.destroy()),super.destroy()}getClampedPosition(p,T){return{x:Ai(p,0,this.scene.scale.width-this.sprite.width),y:Ai(T,0,this.scene.scale.height-this.sprite.height)}}updatePosition(){this.x+=this.velocity.x,this.y+=this.velocity.y;const p=this.getClampedPosition(this.x,this.y);this.x=p.x,this.y=p.y}updateVelocity(){this.controls.left?this.velocity.x=Math.max(this.velocity.x-this.acceleration.x,-this.maxVelocity.x):this.controls.right?this.velocity.x=Math.min(this.velocity.x+this.acceleration.x,this.maxVelocity.x):this.velocity.x>0?this.velocity.x=Math.max(0,this.velocity.x-this.deceleration.x):this.velocity.x<0&&(this.velocity.x=Math.min(0,this.velocity.x+this.deceleration.x)),this.controls.up?this.velocity.y=Math.max(this.velocity.y-this.acceleration.y,-this.maxVelocity.y):this.controls.down?this.velocity.y=Math.min(this.velocity.y+this.acceleration.y,this.maxVelocity.y):this.velocity.y>0?this.velocity.y=Math.max(0,this.velocity.y-this.deceleration.y):this.velocity.y<0&&(this.velocity.y=Math.min(0,this.velocity.y+this.deceleration.y))}handleDash(){const p=this.dashDestinationPos.x-this.x,T=this.dashDestinationPos.y-this.y,P=Math.sqrt(p*p+T*T);if(P>20){const M=Mt.player.dashSpeed;this.velocity.x=p/P*M,this.velocity.y=T/P*M,this.sprite.setTint(Mt.player.colorDash),this.sprite.setPipeline("glow")}else this.velocity.x=this.controls.right?this.maxVelocity.x:this.controls.left?-this.maxVelocity.x:0,this.velocity.y=this.controls.down?this.maxVelocity.y:this.controls.up?-this.maxVelocity.y:0,this.isDashing=!1,this.sprite.clearTint(),this.sprite.resetPipeline();this.updatePosition()}startBeam(){var p,T;this.store.isPlaying&&this.hasEnergyForBeam&&((p=this.audio)==null||p.playAttack(),(T=this.beam)==null||T.start(this.currentPosition))}stopBeam(){var p,T,P;(p=this.beam)!=null&&p.isActive&&this.store.isPlaying&&((T=this.audio)==null||T.stopAttack(),(P=this.beam)==null||P.end())}updateBeam(){var p,T;this.hasEnergyForBeam&&(p=this.beam)!=null&&p.isActive&&((T=this.beam)==null||T.update(this.currentPosition))}}class NI{constructor(e,p){vt(this,"scene");vt(this,"controls");vt(this,"store",pi());vt(this,"bgDust");vt(this,"bgStars");vt(this,"bgNebulae");vt(this,"bgPlanets");vt(this,"velocity",1);this.scene=e,this.controls=p,this.bgDust=Ao(e,"background/dust",{depth:10,alpha:.5}),this.bgNebulae=Ao(e,"background/nebulae",{depth:20,alpha:.5}),this.bgStars=Ao(e,"background/stars",{depth:30,alpha:1}),this.bgPlanets=Ao(e,"background/planets",{depth:40,alpha:1})}update(e){this.velocity=e,this.bgDust.tilePositionX+=this.velocity*.25,this.bgNebulae.tilePositionX+=this.velocity*.25,this.bgStars.tilePositionX+=this.velocity*.275,this.bgPlanets.tilePositionX+=this.velocity*.3}}class bI{constructor(e){vt(this,"store",pi());vt(this,"left",!1);vt(this,"right",!1);vt(this,"up",!1);vt(this,"down",!1);vt(this,"space",!1);vt(this,"esc",!1);vt(this,"special1",!1);vt(this,"special2",!1);e.on("keydown",p=>{if(this.store.isPlaying)switch(p.code){case"ArrowLeft":case"KeyA":this.left=!0;break;case"ArrowRight":case"KeyD":this.right=!0;break;case"ArrowUp":case"KeyW":this.up=!0;break;case"ArrowDown":case"KeyS":this.down=!0;break;case"Space":this.space=!0;break;case"Escape":this.esc=!0;break;case"KeyE":this.special1=!0;break;case"KeyQ":this.special2=!0;break}}),e.on("keyup",p=>{switch(p.code){case"ArrowLeft":case"KeyA":this.left=!1;break;case"ArrowRight":case"KeyD":this.right=!1;break;case"ArrowUp":case"KeyW":this.up=!1;break;case"ArrowDown":case"KeyS":this.down=!1;break;case"Space":this.space=!1;break;case"Escape":this.esc=!1;break;case"KeyE":this.special1=!1;break;case"KeyQ":this.special2=!1;break}})}}const pi=zn("game",()=>{const m=Bt(xe.Preload),e=Bt(new FC),p=Bt(0),T=Bt(),P=Bt({x:0,y:0}),M=Bt(0),f=Bt(Mt.player.hpStart),C=Bt(Mt.player.energyStart),t=Bt(0),h=(S=1)=>M.value+=S,g=S=>f.value=Ai(S,0,Mt.player.hpMax),o=S=>C.value=Ai(S,0,Mt.player.energyMax),a=S=>p.value=S,r=S=>T.value=S,i=S=>{[xe.Playing,xe.Paused].includes(m.value)&&(S===void 0?m.value=m.value===xe.Playing?xe.Paused:xe.Playing:m.value=S?xe.Paused:xe.Playing)},n=(S,E)=>P.value={x:S,y:E},l=Ot(()=>m.value===xe.Paused),s=Ot(()=>m.value===xe.Playing),u=Ot(()=>m.value===xe.Preload),d=Ot(()=>m.value===xe.Menu),c=Ot(()=>m.value===xe.GameOver),v=Ot(()=>s.value||l.value),y=()=>{f.value=Mt.player.hpStart,C.value=Mt.player.energyStart,M.value=0,t.value=Date.now(),T.value&&FI(T.value)&&T.value.reset()},x=S=>{m.value!==xe.Paused&&S===xe.Playing&&y(),m.value=S};return fi(f,S=>{m.value===xe.Playing&&(S>0||x(xe.GameOver))}),{currentScene:T,debug:e,energy:C,hp:f,increaseScore:h,isGameOver:c,isInGame:v,isInMenu:d,isPaused:l,isPlaying:s,isPreloading:u,playerPosition:P,playStart:t,preloadProgress:p,reset:y,score:M,setCurrentScene:r,setGameState:x,setPlayerEnergy:o,setPlayerHp:g,setPreloadProgress:a,setPlayerPosition:n,state:m,togglePaused:i}}),BI={class:"debug"},VI={class:"debug__card-position"},UI=se({__name:"Debug",setup(m){const e=pi(),{debug:p,playerPosition:T,hp:P,score:M,state:f,energy:C,currentScene:t}=He(e),{setPlayerHp:h,setPlayerEnergy:g}=e,o=wn("nyxButton"),a=wn("nyxCard"),r=Bt(!1),i=Bt(!1),{cssVariables:n}=Rf(o,a,{gap:Bt(Yt.XLarge),position:Bt(he.TopLeft),offsetX:-5,offsetY:-10}),l=S=>{var E,A;r.value=!1,i.value=S===void 0?!i.value:S,(A=(E=o.value)==null?void 0:E.$el)==null||A.blur()},s=Ot({get:()=>M.value.toString(),set:S=>M.value=parseInt(S)}),u=Ot({get:()=>P.value.toString(),set:S=>h(parseInt(S))}),d=Ot({get:()=>C.value.toString(),set:S=>g(parseInt(S))}),c=Ot(()=>({x:parseFloat(T.value.x.toFixed(2)),y:parseFloat(T.value.y.toFixed(2))})),v=Ot(()=>Object.values(xe).map(S=>({label:S,value:S}))),y=()=>{const S=Kt(t.value);S&&S.spawnAsteroid()},x=()=>{p.value.isEnabled=!1};return fi(f,()=>r.value=!1),(S,E)=>(gt(),Tt("div",BI,[Ct(ot(Be),{ref_key:"nyxButton",ref:o,class:"debug__button",theme:ot(pe).Danger,size:ot(Yt).Small,tabindex:"-1",onClick:l},{default:Vt(()=>E[9]||(E[9]=[re("Debog")])),_:1},8,["theme","size"]),Ct(ot(Rr),{modelValue:r.value,"onUpdate:modelValue":E[0]||(E[0]=A=>r.value=A),title:"Config"},{default:Vt(()=>[wt("pre",null,ee(ot(Mt)),1)]),_:1},8,["modelValue"]),(gt(),Ie(Bh,{to:"body"},[Ct(ot(KE),{class:Zt(["debug__card",{"debug__card--visible":i.value}]),size:ot(Yt).Large,style:qe(ot(n)),ref_key:"nyxCard",ref:a},{default:Vt(()=>[Ct(ot(Yg),{class:"debug__card-content"},{default:Vt(()=>[wt("span",VI,[wt("pre",null,"x: "+ee(c.value.x),1),wt("pre",null,"y: "+ee(c.value.y),1)]),Ct(ot(bs),{label:"HP"},{default:Vt(({id:A})=>[Ct(ot(Yl),{class:"debug__card-input",id:A,modelValue:u.value,"onUpdate:modelValue":E[1]||(E[1]=R=>u.value=R),type:ot(ha).Number,max:100},null,8,["id","modelValue","type"])]),_:1}),Ct(ot(bs),{label:"Energy"},{default:Vt(({id:A})=>[Ct(ot(Yl),{class:"debug__card-input",id:A,modelValue:d.value,"onUpdate:modelValue":E[2]||(E[2]=R=>d.value=R),type:ot(ha).Number},null,8,["id","modelValue","type"])]),_:1}),Ct(ot(bs),{label:"Score"},{default:Vt(({id:A})=>[Ct(ot(Yl),{class:"debug__card-input",id:A,modelValue:s.value,"onUpdate:modelValue":E[3]||(E[3]=R=>s.value=R),type:ot(ha).Number},null,8,["id","modelValue","type"])]),_:1}),Ht("",!0),Ct(ot(bs),null,{default:Vt(({id:A})=>[Ct(ot(Lo),{id:A,modelValue:ot(p).isImmortal,"onUpdate:modelValue":E[5]||(E[5]=R=>ot(p).isImmortal=R),label:"Immortality"},null,8,["id","modelValue"])]),_:1}),Ct(ot(bs),null,{default:Vt(({id:A})=>[Ct(ot(Lo),{id:A,modelValue:ot(p).hasInfiniteEnergy,"onUpdate:modelValue":E[6]||(E[6]=R=>ot(p).hasInfiniteEnergy=R),label:"Infinite Energy"},null,8,["id","modelValue"])]),_:1}),Ct(ot(bs),null,{default:Vt(({id:A})=>[Ct(ot(Lo),{id:A,modelValue:ot(p).isCollisionDisabled,"onUpdate:modelValue":E[7]||(E[7]=R=>ot(p).isCollisionDisabled=R),label:"Disable Collision"},null,8,["id","modelValue"])]),_:1}),Ct(ot(Be),{class:"debug__card-button",onClick:y},{default:Vt(()=>E[10]||(E[10]=[re("Spawn Asteroid")])),_:1}),Ct(ot(Be),{class:"debug__card-button",onClick:E[8]||(E[8]=A=>r.value=!0)},{default:Vt(()=>E[11]||(E[11]=[re("View config")])),_:1}),Ct(ot(Be),{class:"debug__card-button",onClick:x},{default:Vt(()=>E[12]||(E[12]=[re("Disable debug")])),_:1})]),_:1})]),_:1},8,["class","size","style"])]))]))}}),GI=Yh(UI,[["__scopeId","data-v-2fe3a6db"]]),zI={type:wr.AUTO,width:window.innerWidth,height:window.innerHeight,parent:"game",backgroundColor:"#000000",pixelArt:!0,fps:{target:60,min:60},scene:[GC,LI,Ex]},XI=m=>new wr.Game({...zI,parent:m}),WI={id:"game",class:"game"},HI=se({__name:"Game",setup(m){const{setCurrentScene:e,setGameState:p}=pi(),T=Bt();return Es(()=>{T.value=XI("game"),Ks.on(ps.CurrentSceneReady,M=>e(M)),Ks.on(ps.PreloadComplete,()=>p(xe.Menu))}),Un(()=>{T.value&&(T.value.destroy(!0),T.value=null)}),(M,f)=>(gt(),Tt("main",WI))}}),YI=Yh(HI,[["__scopeId","data-v-16e8efe5"]]),$I={key:0,class:"game-interface"},KI=se({__name:"GameInterface",setup(m){const{hp:e,energy:p,score:T,isPlaying:P,isPaused:M,debug:f,isInGame:C}=He(pi()),t=Bt(null),h=Bt(0);Es(()=>{t.value=window.setInterval(()=>{!P.value||M.value||(T.value+=1)},500)}),Vn(()=>{t.value&&window.clearInterval(t.value)});const g=()=>{f.value.isEnabled||(h.value+=1,!(h.value<10)&&(f.value.isEnabled=!0,h.value=0))};return(o,a)=>ot(C)?(gt(),Tt("header",$I,[Ct(ot(wu),{class:"game-interface__progress",modelValue:ot(e),max:100,size:ot(Yt).XLarge,theme:ot(pe).Danger,showValue:"start"},null,8,["modelValue","size","theme"]),wt("span",{class:"game-interface__score",onClick:g},ee(ot(T)),1),Ct(ot(wu),{class:"game-interface__progress",modelValue:ot(p),max:100,size:ot(Yt).XLarge,theme:ot(pe).Secondary,showValue:"start"},null,8,["modelValue","size","theme"])])):Ht("",!0)}}),Cx=se({__name:"Settings",setup(m){const{isFullscreen:e,currentVolume:p}=He(xd());return fi(e,T=>{T?document.documentElement.requestFullscreen():document.exitFullscreen()}),(T,P)=>(gt(),Ie(ot(Yg),null,{default:Vt(()=>[Ct(ot(bs),{label:"Volume"},{default:Vt(({id:M})=>[Ct(ot(dC),{for:M,modelValue:ot(p),"onUpdate:modelValue":P[0]||(P[0]=f=>ae(p)?p.value=f:null),max:1,min:0,step:.05,shape:ot(on).Rectangle},null,8,["for","modelValue","shape"])]),_:1}),Ct(ot(bs),{label:"Fullscreen"},{default:Vt(({id:M})=>[Ct(ot(Lo),{for:M,modelValue:ot(e),"onUpdate:modelValue":P[1]||(P[1]=f=>ae(e)?e.value=f:null)},null,8,["for","modelValue"])]),_:1})]),_:1}))}}),kI={class:"game-menu__buttons"},_p=se({__name:"GameMenu",setup(m){const e=pi(),{isPlaying:p,isPaused:T}=He(e),P=h=>{h.key==="Escape"&&e.togglePaused()},M=Ot(()=>{let h="game-menu";return T.value&&(h+=" game-menu--visible"),h}),f=()=>{e.reset(),e.togglePaused()},C=()=>{e.reset(),e.setGameState(xe.Menu)},t=()=>{e.togglePaused()};return Es(()=>{window.addEventListener("keydown",P)}),Un(()=>{window.removeEventListener("keydown",P)}),(h,g)=>ot(T)?(gt(),Ie(ot(Rr),{key:0,customClass:M.value,size:ot(Yt).Small,static:""},{footer:Vt(()=>[wt("div",kI,[Ct(ot(Be),{onClick:f,theme:ot(pe).Warning},{default:Vt(()=>g[0]||(g[0]=[re("Restart")])),_:1},8,["theme"]),Ct(ot(Be),{onClick:C,theme:ot(pe).Danger},{default:Vt(()=>g[1]||(g[1]=[re("Quit")])),_:1},8,["theme"]),Ct(ot(Be),{onClick:t,theme:ot(pe).Primary},{default:Vt(()=>g[2]||(g[2]=[re("Resume")])),_:1},8,["theme"])])]),default:Vt(()=>[Ct(Cx)]),_:1},8,["customClass","size"])):Ht("",!0)}}),jI={key:0},QI={key:1},JI=se({__name:"GameOver",setup(m){const e=pi(),{isGameOver:p,score:T,debug:P}=He(e),{addNewHiscore:M}=gd(),{profile:f}=He(Fd()),C=Bt(null),t=()=>{e.reset(),e.setGameState(xe.Playing)},h=()=>{e.reset(),e.setGameState(xe.Menu)};return fi(p,async g=>{var o;C.value=null,!(!g||!((o=f.value)!=null&&o.id))&&(P.value.isEnabled=!1,C.value=await M(f.value.id,T.value))}),(g,o)=>ot(p)?(gt(),Ie(ot(Rr),{key:0,size:ot(Yt).Small,static:""},{footer:Vt(()=>[Ct(ot(Be),{onClick:t},{default:Vt(()=>o[0]||(o[0]=[re("Restart")])),_:1}),Ct(ot(Be),{onClick:h},{default:Vt(()=>o[1]||(o[1]=[re("Main Menu")])),_:1})]),default:Vt(()=>{var a,r;return[o[2]||(o[2]=wt("h1",null,"Game Over",-1)),wt("p",null,"Score: "+ee(ot(T)),1),(a=C.value)!=null&&a.hasDebugged?(gt(),Tt("p",jI," You played with debug mode enabled. Hiscore will not be visible in the leaderboard. ")):Ht("",!0),(r=C.value)!=null&&r.score&&C.value.score<ot(Mt).hiscores.threshold?(gt(),Tt("p",QI," You need a minimum score of "+ee(ot(Mt).hiscores.threshold)+" to make it into the leaderboard. ",1)):Ht("",!0)]}),_:1},8,["size"])):Ht("",!0)}}),ZI=()=>{const m=gd(),e=Fd(),{hiscores:p}=He(m),{profiles:T}=He(e),P=Ot(()=>p.value.map(M=>{const f=T.value.find(C=>C.id===M.userId);return{name:f==null?void 0:f.fullName,score:M.score,version:M.version}}).sort((M,f)=>f.score-M.score));return ag(()=>{e.subscribeProfiles(),m.subscribeHiscores()}),Vn(()=>{m.unsubscribeHiscores(),e.unsubscribeProfiles()}),{hiscoresData:P}},qI=se({__name:"Hiscores",setup(m){const{isHiscoresVisible:e}=He(yd()),{hiscoresData:p}=ZI();return(T,P)=>(gt(),Ie(ot(Rr),{modelValue:ot(e),"onUpdate:modelValue":P[1]||(P[1]=M=>ae(e)?e.value=M:null),size:ot(Yt).Large,customClass:"view-hiscores"},{default:Vt(()=>[Ct(ot($g),{modelValue:ot(p),"onUpdate:modelValue":P[0]||(P[0]=M=>ae(p)?p.value=M:null),size:ot(Yt).Small,gridTemplateColumns:"1fr 10rem 10rem",header:"sticky"},null,8,["modelValue","size"])]),_:1},8,["modelValue","size"]))}}),_I="/nyx-game/assets/logo-Bof7pWK0.png",t3={class:"main-menu"},e3={key:0},i3={key:0},s3={key:1},n3="#71657A",r3=se({__name:"MainMenu",setup(m){const e=Ld(),{profile:p}=He(Fd()),{toggleHiscores:T,toggleSettings:P}=yd(),{setGameState:M}=pi(),{loginWithGoogle:f,logout:C}=e,{isLoggedIn:t}=He(e);return(h,g)=>(gt(),Tt("div",t3,[ot(p)?(gt(),Tt("header",e3,[Ct(ot(UE),{src:ot(p).photoUrl??void 0,name:ot(p).displayName??void 0,size:ot(Yt).Small,color:n3},null,8,["src","name","size"])])):Ht("",!0),wt("section",null,[g[6]||(g[6]=wt("img",{src:_I},null,-1)),ot(t)?(gt(),Tt("nav",i3,[Ct(ot(Be),{class:"button-play",theme:ot(pe).Primary,size:ot(Yt).XLarge,onClick:g[0]||(g[0]=o=>ot(M)(ot(xe).Playing))},{default:Vt(()=>g[1]||(g[1]=[re("Play")])),_:1},8,["theme","size"]),Ct(ot(Be),{size:ot(Yt).Small,onClick:ot(T)},{default:Vt(()=>g[2]||(g[2]=[re("Hiscores")])),_:1},8,["size","onClick"]),Ct(ot(Be),{size:ot(Yt).Small,onClick:ot(P)},{default:Vt(()=>g[3]||(g[3]=[re("Settings")])),_:1},8,["size","onClick"]),Ct(ot(Be),{size:ot(Yt).Small,onClick:ot(C)},{default:Vt(()=>g[4]||(g[4]=[re("Logout")])),_:1},8,["size","onClick"])])):(gt(),Tt("nav",s3,[Ct(ot(Be),{size:ot(Yt).XLarge,onClick:ot(f)},{default:Vt(()=>g[5]||(g[5]=[re("Login")])),_:1},8,["size","onClick"])]))]),g[7]||(g[7]=wt("footer",null,null,-1))]))}}),a3=Yh(r3,[["__scopeId","data-v-42a7529b"]]),o3={key:0,class:"preloader"},h3={key:0,class:"interface"},l3={class:"version"},u3=se({__name:"App",setup(m){const{currentVolume:e}=He(xd()),{debug:p,isInMenu:T,isPreloading:P,preloadProgress:M}=He(pi()),{setScreenSize:f}=zC(),{isSettingsVisible:C}=He(yd()),{watchAuthState:t}=Ld(),{hasDebugged:h}=He(gd()),g="0.0.39";return fi(p,o=>{o.isEnabled&&(h.value=!0)},{immediate:!0,deep:1}),Es(async()=>{t();const o=JSON.parse(localStorage.getItem("settings")??"{}");e.value=o.currentVolume!==void 0?o.currentVolume:1,window.addEventListener("resize",f)}),Vn(async()=>{window.removeEventListener("resize",f)}),(o,a)=>(gt(),Tt(ce,null,[ot(P)?(gt(),Tt("div",o3,[Ct(ot(wu),{class:"preloader__progress",modelValue:ot(M),"onUpdate:modelValue":a[0]||(a[0]=r=>ae(M)?M.value=r:null),min:0,max:1,theme:ot(pe).Primary,size:ot(Yt).XLarge},null,8,["modelValue","theme","size"])])):Ht("",!0),Ct(BS,{name:"fade"},{default:Vt(()=>[ot(T)?(gt(),Tt("div",h3,[Ct(ot(a3),{class:"view"}),Ct(ot(Rr),{modelValue:ot(C),"onUpdate:modelValue":a[1]||(a[1]=r=>ae(C)?C.value=r:null)},{default:Vt(()=>[Ct(ot(Cx))]),_:1},8,["modelValue"]),Ct(ot(qI)),Ct(ot(_p)),Ct(ot(LC))])):Ht("",!0)]),_:1}),ot(p).isEnabled?(gt(),Ie(ot(GI),{key:1})):Ht("",!0),Ct(ot(_p)),Ct(ot(YI)),Ct(ot(KI)),Ct(ot(JI)),wt("span",l3,ee(ot(g)),1)],64))}});var f3="firebase",d3="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */di(f3,d3,"app");const Ax="@firebase/installations",Od="0.6.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Px=1e4,Rx=`w:${Od}`,wx="FIS_v2",c3="https://firebaseinstallations.googleapis.com/v1",v3=60*60*1e3,p3="installations",m3="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g3={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Nn=new ts(p3,m3,g3);function Mx(m){return m instanceof Si&&m.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ix({projectId:m}){return`${c3}/projects/${m}/installations`}function Lx(m){return{token:m.token,requestStatus:2,expiresIn:x3(m.expiresIn),creationTime:Date.now()}}async function Fx(m,e){const T=(await e.json()).error;return Nn.create("request-failed",{requestName:m,serverCode:T.code,serverMessage:T.message,serverStatus:T.status})}function Ox({apiKey:m}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":m})}function y3(m,{refreshToken:e}){const p=Ox(m);return p.append("Authorization",T3(e)),p}async function Dx(m){const e=await m();return e.status>=500&&e.status<600?m():e}function x3(m){return Number(m.replace("s","000"))}function T3(m){return`${wx} ${m}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S3({appConfig:m,heartbeatServiceProvider:e},{fid:p}){const T=Ix(m),P=Ox(m),M=e.getImmediate({optional:!0});if(M){const h=await M.getHeartbeatsHeader();h&&P.append("x-firebase-client",h)}const f={fid:p,authVersion:wx,appId:m.appId,sdkVersion:Rx},C={method:"POST",headers:P,body:JSON.stringify(f)},t=await Dx(()=>fetch(T,C));if(t.ok){const h=await t.json();return{fid:h.fid||p,registrationStatus:2,refreshToken:h.refreshToken,authToken:Lx(h.authToken)}}else throw await Fx("Create Installation",t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nx(m){return new Promise(e=>{setTimeout(e,m)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E3(m){return btoa(String.fromCharCode(...m)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C3=/^[cdef][\w-]{21}$/,sf="";function A3(){try{const m=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(m),m[0]=112+m[0]%16;const p=P3(m);return C3.test(p)?p:sf}catch{return sf}}function P3(m){return E3(m).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vl(m){return`${m.appName}!${m.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bx=new Map;function Bx(m,e){const p=vl(m);Vx(p,e),R3(p,e)}function Vx(m,e){const p=bx.get(m);if(p)for(const T of p)T(e)}function R3(m,e){const p=w3();p&&p.postMessage({key:m,fid:e}),M3()}let An=null;function w3(){return!An&&"BroadcastChannel"in self&&(An=new BroadcastChannel("[Firebase] FID Change"),An.onmessage=m=>{Vx(m.data.key,m.data.fid)}),An}function M3(){bx.size===0&&An&&(An.close(),An=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I3="firebase-installations-database",L3=1,bn="firebase-installations-store";let ou=null;function Dd(){return ou||(ou=r0(I3,L3,{upgrade:(m,e)=>{switch(e){case 0:m.createObjectStore(bn)}}})),ou}async function Sh(m,e){const p=vl(m),P=(await Dd()).transaction(bn,"readwrite"),M=P.objectStore(bn),f=await M.get(p);return await M.put(e,p),await P.done,(!f||f.fid!==e.fid)&&Bx(m,e.fid),e}async function Ux(m){const e=vl(m),T=(await Dd()).transaction(bn,"readwrite");await T.objectStore(bn).delete(e),await T.done}async function pl(m,e){const p=vl(m),P=(await Dd()).transaction(bn,"readwrite"),M=P.objectStore(bn),f=await M.get(p),C=e(f);return C===void 0?await M.delete(p):await M.put(C,p),await P.done,C&&(!f||f.fid!==C.fid)&&Bx(m,C.fid),C}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nd(m){let e;const p=await pl(m.appConfig,T=>{const P=F3(T),M=O3(m,P);return e=M.registrationPromise,M.installationEntry});return p.fid===sf?{installationEntry:await e}:{installationEntry:p,registrationPromise:e}}function F3(m){const e=m||{fid:A3(),registrationStatus:0};return Gx(e)}function O3(m,e){if(e.registrationStatus===0){if(!navigator.onLine){const P=Promise.reject(Nn.create("app-offline"));return{installationEntry:e,registrationPromise:P}}const p={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},T=D3(m,p);return{installationEntry:p,registrationPromise:T}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:N3(m)}:{installationEntry:e}}async function D3(m,e){try{const p=await S3(m,e);return Sh(m.appConfig,p)}catch(p){throw Mx(p)&&p.customData.serverCode===409?await Ux(m.appConfig):await Sh(m.appConfig,{fid:e.fid,registrationStatus:0}),p}}async function N3(m){let e=await tm(m.appConfig);for(;e.registrationStatus===1;)await Nx(100),e=await tm(m.appConfig);if(e.registrationStatus===0){const{installationEntry:p,registrationPromise:T}=await Nd(m);return T||p}return e}function tm(m){return pl(m,e=>{if(!e)throw Nn.create("installation-not-found");return Gx(e)})}function Gx(m){return b3(m)?{fid:m.fid,registrationStatus:0}:m}function b3(m){return m.registrationStatus===1&&m.registrationTime+Px<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B3({appConfig:m,heartbeatServiceProvider:e},p){const T=V3(m,p),P=y3(m,p),M=e.getImmediate({optional:!0});if(M){const h=await M.getHeartbeatsHeader();h&&P.append("x-firebase-client",h)}const f={installation:{sdkVersion:Rx,appId:m.appId}},C={method:"POST",headers:P,body:JSON.stringify(f)},t=await Dx(()=>fetch(T,C));if(t.ok){const h=await t.json();return Lx(h)}else throw await Fx("Generate Auth Token",t)}function V3(m,{fid:e}){return`${Ix(m)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bd(m,e=!1){let p;const T=await pl(m.appConfig,M=>{if(!zx(M))throw Nn.create("not-registered");const f=M.authToken;if(!e&&z3(f))return M;if(f.requestStatus===1)return p=U3(m,e),M;{if(!navigator.onLine)throw Nn.create("app-offline");const C=W3(M);return p=G3(m,C),C}});return p?await p:T.authToken}async function U3(m,e){let p=await em(m.appConfig);for(;p.authToken.requestStatus===1;)await Nx(100),p=await em(m.appConfig);const T=p.authToken;return T.requestStatus===0?bd(m,e):T}function em(m){return pl(m,e=>{if(!zx(e))throw Nn.create("not-registered");const p=e.authToken;return H3(p)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function G3(m,e){try{const p=await B3(m,e),T=Object.assign(Object.assign({},e),{authToken:p});return await Sh(m.appConfig,T),p}catch(p){if(Mx(p)&&(p.customData.serverCode===401||p.customData.serverCode===404))await Ux(m.appConfig);else{const T=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Sh(m.appConfig,T)}throw p}}function zx(m){return m!==void 0&&m.registrationStatus===2}function z3(m){return m.requestStatus===2&&!X3(m)}function X3(m){const e=Date.now();return e<m.creationTime||m.creationTime+m.expiresIn<e+v3}function W3(m){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},m),{authToken:e})}function H3(m){return m.requestStatus===1&&m.requestTime+Px<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y3(m){const e=m,{installationEntry:p,registrationPromise:T}=await Nd(e);return T?T.catch(console.error):bd(e).catch(console.error),p.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $3(m,e=!1){const p=m;return await K3(p),(await bd(p,e)).token}async function K3(m){const{registrationPromise:e}=await Nd(m);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k3(m){if(!m||!m.options)throw hu("App Configuration");if(!m.name)throw hu("App Name");const e=["projectId","apiKey","appId"];for(const p of e)if(!m.options[p])throw hu(p);return{appName:m.name,projectId:m.options.projectId,apiKey:m.options.apiKey,appId:m.options.appId}}function hu(m){return Nn.create("missing-app-config-values",{valueName:m})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xx="installations",j3="installations-internal",Q3=m=>{const e=m.getProvider("app").getImmediate(),p=k3(e),T=Xn(e,"heartbeat");return{app:e,appConfig:p,heartbeatServiceProvider:T,_delete:()=>Promise.resolve()}},J3=m=>{const e=m.getProvider("app").getImmediate(),p=Xn(e,Xx).getImmediate();return{getId:()=>Y3(p),getToken:P=>$3(p,P)}};function Z3(){Mi(new Ti(Xx,Q3,"PUBLIC")),Mi(new Ti(j3,J3,"PRIVATE"))}Z3();di(Ax,Od);di(Ax,Od,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eh="analytics",q3="firebase_id",_3="origin",t4=60*1e3,e4="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Bd="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ci=new Ga("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i4={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},xi=new ts("analytics","Analytics",i4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s4(m){if(!m.startsWith(Bd)){const e=xi.create("invalid-gtag-resource",{gtagURL:m});return ci.warn(e.message),""}return m}function Wx(m){return Promise.all(m.map(e=>e.catch(p=>p)))}function n4(m,e){let p;return window.trustedTypes&&(p=window.trustedTypes.createPolicy(m,e)),p}function r4(m,e){const p=n4("firebase-js-sdk-policy",{createScriptURL:s4}),T=document.createElement("script"),P=`${Bd}?l=${m}&id=${e}`;T.src=p?p==null?void 0:p.createScriptURL(P):P,T.async=!0,document.head.appendChild(T)}function a4(m){let e=[];return Array.isArray(window[m])?e=window[m]:window[m]=e,e}async function o4(m,e,p,T,P,M){const f=T[P];try{if(f)await e[f];else{const t=(await Wx(p)).find(h=>h.measurementId===P);t&&await e[t.appId]}}catch(C){ci.error(C)}m("config",P,M)}async function h4(m,e,p,T,P){try{let M=[];if(P&&P.send_to){let f=P.send_to;Array.isArray(f)||(f=[f]);const C=await Wx(p);for(const t of f){const h=C.find(o=>o.measurementId===t),g=h&&e[h.appId];if(g)M.push(g);else{M=[];break}}}M.length===0&&(M=Object.values(e)),await Promise.all(M),m("event",T,P||{})}catch(M){ci.error(M)}}function l4(m,e,p,T){async function P(M,...f){try{if(M==="event"){const[C,t]=f;await h4(m,e,p,C,t)}else if(M==="config"){const[C,t]=f;await o4(m,e,p,T,C,t)}else if(M==="consent"){const[C,t]=f;m("consent",C,t)}else if(M==="get"){const[C,t,h]=f;m("get",C,t,h)}else if(M==="set"){const[C]=f;m("set",C)}else m(M,...f)}catch(C){ci.error(C)}}return P}function u4(m,e,p,T,P){let M=function(...f){window[T].push(arguments)};return window[P]&&typeof window[P]=="function"&&(M=window[P]),window[P]=l4(M,m,e,p),{gtagCore:M,wrappedGtag:window[P]}}function f4(m){const e=window.document.getElementsByTagName("script");for(const p of Object.values(e))if(p.src&&p.src.includes(Bd)&&p.src.includes(m))return p;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d4=30,c4=1e3;class v4{constructor(e={},p=c4){this.throttleMetadata=e,this.intervalMillis=p}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,p){this.throttleMetadata[e]=p}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const Hx=new v4;function p4(m){return new Headers({Accept:"application/json","x-goog-api-key":m})}async function m4(m){var e;const{appId:p,apiKey:T}=m,P={method:"GET",headers:p4(T)},M=e4.replace("{app-id}",p),f=await fetch(M,P);if(f.status!==200&&f.status!==304){let C="";try{const t=await f.json();!((e=t.error)===null||e===void 0)&&e.message&&(C=t.error.message)}catch{}throw xi.create("config-fetch-failed",{httpStatus:f.status,responseMessage:C})}return f.json()}async function g4(m,e=Hx,p){const{appId:T,apiKey:P,measurementId:M}=m.options;if(!T)throw xi.create("no-app-id");if(!P){if(M)return{measurementId:M,appId:T};throw xi.create("no-api-key")}const f=e.getThrottleMetadata(T)||{backoffCount:0,throttleEndTimeMillis:Date.now()},C=new T4;return setTimeout(async()=>{C.abort()},t4),Yx({appId:T,apiKey:P,measurementId:M},f,C,e)}async function Yx(m,{throttleEndTimeMillis:e,backoffCount:p},T,P=Hx){var M;const{appId:f,measurementId:C}=m;try{await y4(T,e)}catch(t){if(C)return ci.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${C} provided in the "measurementId" field in the local Firebase config. [${t==null?void 0:t.message}]`),{appId:f,measurementId:C};throw t}try{const t=await m4(m);return P.deleteThrottleMetadata(f),t}catch(t){const h=t;if(!x4(h)){if(P.deleteThrottleMetadata(f),C)return ci.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${C} provided in the "measurementId" field in the local Firebase config. [${h==null?void 0:h.message}]`),{appId:f,measurementId:C};throw t}const g=Number((M=h==null?void 0:h.customData)===null||M===void 0?void 0:M.httpStatus)===503?Cv(p,P.intervalMillis,d4):Cv(p,P.intervalMillis),o={throttleEndTimeMillis:Date.now()+g,backoffCount:p+1};return P.setThrottleMetadata(f,o),ci.debug(`Calling attemptFetch again in ${g} millis`),Yx(m,o,T,P)}}function y4(m,e){return new Promise((p,T)=>{const P=Math.max(e-Date.now(),0),M=setTimeout(p,P);m.addEventListener(()=>{clearTimeout(M),T(xi.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function x4(m){if(!(m instanceof Si)||!m.customData)return!1;const e=Number(m.customData.httpStatus);return e===429||e===500||e===503||e===504}class T4{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function S4(m,e,p,T,P){if(P&&P.global){m("event",p,T);return}else{const M=await e,f=Object.assign(Object.assign({},T),{send_to:M});m("event",p,f)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E4(){if(t0())try{await e0()}catch(m){return ci.warn(xi.create("indexeddb-unavailable",{errorInfo:m==null?void 0:m.toString()}).message),!1}else return ci.warn(xi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function C4(m,e,p,T,P,M,f){var C;const t=g4(m);t.then(r=>{p[r.measurementId]=r.appId,m.options.measurementId&&r.measurementId!==m.options.measurementId&&ci.warn(`The measurement ID in the local Firebase config (${m.options.measurementId}) does not match the measurement ID fetched from the server (${r.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(r=>ci.error(r)),e.push(t);const h=E4().then(r=>{if(r)return T.getId()}),[g,o]=await Promise.all([t,h]);f4(M)||r4(M,g.measurementId),P("js",new Date);const a=(C=f==null?void 0:f.config)!==null&&C!==void 0?C:{};return a[_3]="firebase",a.update=!0,o!=null&&(a[q3]=o),P("config",g.measurementId,a),g.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A4{constructor(e){this.app=e}_delete(){return delete ma[this.app.options.appId],Promise.resolve()}}let ma={},im=[];const sm={};let lu="dataLayer",P4="gtag",nm,$x,rm=!1;function R4(){const m=[];if(Lf()&&m.push("This is a browser extension environment."),t2()||m.push("Cookies are not available."),m.length>0){const e=m.map((T,P)=>`(${P+1}) ${T}`).join(" "),p=xi.create("invalid-analytics-context",{errorInfo:e});ci.warn(p.message)}}function w4(m,e,p){R4();const T=m.options.appId;if(!T)throw xi.create("no-app-id");if(!m.options.apiKey)if(m.options.measurementId)ci.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${m.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw xi.create("no-api-key");if(ma[T]!=null)throw xi.create("already-exists",{id:T});if(!rm){a4(lu);const{wrappedGtag:M,gtagCore:f}=u4(ma,im,sm,lu,P4);$x=M,nm=f,rm=!0}return ma[T]=C4(m,im,sm,e,nm,lu,p),new A4(m)}function M4(m=o0()){m=Te(m);const e=Xn(m,Eh);return e.isInitialized()?e.getImmediate():I4(m)}function I4(m,e={}){const p=Xn(m,Eh);if(p.isInitialized()){const P=p.getImmediate();if(Js(e,p.getOptions()))return P;throw xi.create("already-initialized")}return p.initialize({options:e})}function L4(m,e,p,T){m=Te(m),S4($x,ma[m.app.options.appId],e,p,T).catch(P=>ci.error(P))}const am="@firebase/analytics",om="0.10.12";function F4(){Mi(new Ti(Eh,(e,{options:p})=>{const T=e.getProvider("app").getImmediate(),P=e.getProvider("installations-internal").getImmediate();return w4(T,P,p)},"PUBLIC")),Mi(new Ti("analytics-internal",m,"PRIVATE")),di(am,om),di(am,om,"esm2017");function m(e){try{const p=e.getProvider(Eh).getImmediate();return{logEvent:(T,P,M)=>L4(p,T,P,M)}}catch(p){throw xi.create("interop-component-reg-failed",{reason:p})}}}F4();function Kx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const O4=Kx,kx=new ts("auth","Firebase",Kx());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ch=new Ga("@firebase/auth");function D4(m,...e){Ch.logLevel<=Wt.WARN&&Ch.warn(`Auth (${As}): ${m}`,...e)}function Yo(m,...e){Ch.logLevel<=Wt.ERROR&&Ch.error(`Auth (${As}): ${m}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ah(m,...e){throw Vd(m,...e)}function jx(m,...e){return Vd(m,...e)}function Qx(m,e,p){const T=Object.assign(Object.assign({},O4()),{[e]:p});return new ts("auth","Firebase",T).create(e,{appName:m.name})}function $o(m){return Qx(m,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Vd(m,...e){if(typeof m!="string"){const p=e[0],T=[...e.slice(1)];return T[0]&&(T[0].appName=m.name),m._errorFactory.create(p,...T)}return kx.create(m,...e)}function ie(m,e,...p){if(!m)throw Vd(e,...p)}function ds(m){const e="INTERNAL ASSERTION FAILED: "+m;throw Yo(e),new Error(e)}function Ph(m,e){m||ds(e)}function N4(){return hm()==="http:"||hm()==="https:"}function hm(){var m;return typeof self<"u"&&((m=self.location)===null||m===void 0?void 0:m.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(N4()||Lf()||"connection"in navigator)?navigator.onLine:!0}function B4(){if(typeof navigator>"u")return null;const m=navigator;return m.languages&&m.languages[0]||m.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4{constructor(e,p){this.shortDelay=e,this.longDelay=p,Ph(p>e,"Short delay should be less than long delay!"),this.isMobile=Zg()||_g()}get(){return b4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U4(m,e){Ph(m.emulator,"Emulator should always be set here");const{url:p}=m.emulator;return e?`${p}${e.startsWith("/")?e.slice(1):e}`:p}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{static initialize(e,p,T){this.fetchImpl=e,p&&(this.headersImpl=p),T&&(this.responseImpl=T)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ds("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ds("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ds("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z4=new V4(3e4,6e4);function Ud(m,e){return m.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:m.tenantId}):e}async function Qa(m,e,p,T,P={}){return Zx(m,P,async()=>{let M={},f={};T&&(e==="GET"?f=T:M={body:JSON.stringify(T)});const C=hn(Object.assign({key:m.config.apiKey},f)).slice(1),t=await m._getAdditionalHeaders();t["Content-Type"]="application/json",m.languageCode&&(t["X-Firebase-Locale"]=m.languageCode);const h=Object.assign({method:e,headers:t},M);return qg()||(h.referrerPolicy="no-referrer"),Jx.fetch()(qx(m,m.config.apiHost,p,C),h)})}async function Zx(m,e,p){m._canInitEmulator=!1;const T=Object.assign(Object.assign({},G4),e);try{const P=new W4(m),M=await Promise.race([p(),P.promise]);P.clearNetworkTimeout();const f=await M.json();if("needConfirmation"in f)throw Po(m,"account-exists-with-different-credential",f);if(M.ok&&!("errorMessage"in f))return f;{const C=M.ok?f.errorMessage:f.error.message,[t,h]=C.split(" : ");if(t==="FEDERATED_USER_ID_ALREADY_LINKED")throw Po(m,"credential-already-in-use",f);if(t==="EMAIL_EXISTS")throw Po(m,"email-already-in-use",f);if(t==="USER_DISABLED")throw Po(m,"user-disabled",f);const g=T[t]||t.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw Qx(m,g,h);Ah(m,g)}}catch(P){if(P instanceof Si)throw P;Ah(m,"network-request-failed",{message:String(P)})}}async function X4(m,e,p,T,P={}){const M=await Qa(m,e,p,T,P);return"mfaPendingCredential"in M&&Ah(m,"multi-factor-auth-required",{_serverResponse:M}),M}function qx(m,e,p,T){const P=`${e}${p}?${T}`;return m.config.emulator?U4(m.config,P):`${m.config.apiScheme}://${P}`}class W4{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((p,T)=>{this.timer=setTimeout(()=>T(jx(this.auth,"network-request-failed")),z4.get())})}}function Po(m,e,p){const T={appName:m.name};p.email&&(T.email=p.email),p.phoneNumber&&(T.phoneNumber=p.phoneNumber);const P=jx(m,e,T);return P.customData._tokenResponse=p,P}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H4(m,e){return Qa(m,"POST","/v1/accounts:delete",e)}async function _x(m,e){return Qa(m,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ga(m){if(m)try{const e=new Date(Number(m));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Y4(m,e=!1){const p=Te(m),T=await p.getIdToken(e),P=t1(T);ie(P&&P.exp&&P.auth_time&&P.iat,p.auth,"internal-error");const M=typeof P.firebase=="object"?P.firebase:void 0,f=M==null?void 0:M.sign_in_provider;return{claims:P,token:T,authTime:ga(uu(P.auth_time)),issuedAtTime:ga(uu(P.iat)),expirationTime:ga(uu(P.exp)),signInProvider:f||null,signInSecondFactor:(M==null?void 0:M.sign_in_second_factor)||null}}function uu(m){return Number(m)*1e3}function t1(m){const[e,p,T]=m.split(".");if(e===void 0||p===void 0||T===void 0)return Yo("JWT malformed, contained fewer than 3 sections"),null;try{const P=If(p);return P?JSON.parse(P):(Yo("Failed to decode base64 JWT payload"),null)}catch(P){return Yo("Caught error parsing JWT payload as JSON",P==null?void 0:P.toString()),null}}function lm(m){const e=t1(m);return ie(e,"internal-error"),ie(typeof e.exp<"u","internal-error"),ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nf(m,e,p=!1){if(p)return e;try{return await e}catch(T){throw T instanceof Si&&$4(T)&&m.auth.currentUser===m&&await m.auth.signOut(),T}}function $4({code:m}){return m==="auth/user-disabled"||m==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var p;if(e){const T=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),T}else{this.errorBackoff=3e4;const P=((p=this.user.stsTokenManager.expirationTime)!==null&&p!==void 0?p:0)-Date.now()-3e5;return Math.max(0,P)}}schedule(e=!1){if(!this.isRunning)return;const p=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},p)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(e,p){this.createdAt=e,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=ga(this.lastLoginAt),this.creationTime=ga(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rh(m){var e;const p=m.auth,T=await m.getIdToken(),P=await nf(m,_x(p,{idToken:T}));ie(P==null?void 0:P.users.length,p,"internal-error");const M=P.users[0];m._notifyReloadListener(M);const f=!((e=M.providerUserInfo)===null||e===void 0)&&e.length?e1(M.providerUserInfo):[],C=j4(m.providerData,f),t=m.isAnonymous,h=!(m.email&&M.passwordHash)&&!(C!=null&&C.length),g=t?h:!1,o={uid:M.localId,displayName:M.displayName||null,photoURL:M.photoUrl||null,email:M.email||null,emailVerified:M.emailVerified||!1,phoneNumber:M.phoneNumber||null,tenantId:M.tenantId||null,providerData:C,metadata:new rf(M.createdAt,M.lastLoginAt),isAnonymous:g};Object.assign(m,o)}async function k4(m){const e=Te(m);await Rh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function j4(m,e){return[...m.filter(T=>!e.some(P=>P.providerId===T.providerId)),...e]}function e1(m){return m.map(e=>{var{providerId:p}=e,T=Or(e,["providerId"]);return{providerId:p,uid:T.rawId||"",displayName:T.displayName||null,email:T.email||null,phoneNumber:T.phoneNumber||null,photoURL:T.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q4(m,e){const p=await Zx(m,{},async()=>{const T=hn({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:P,apiKey:M}=m.config,f=qx(m,P,"/v1/token",`key=${M}`),C=await m._getAdditionalHeaders();return C["Content-Type"]="application/x-www-form-urlencoded",Jx.fetch()(f,{method:"POST",headers:C,body:T})});return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}}async function J4(m,e){return Qa(m,"POST","/v2/accounts:revokeToken",Ud(m,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ie(e.idToken,"internal-error"),ie(typeof e.idToken<"u","internal-error"),ie(typeof e.refreshToken<"u","internal-error");const p="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):lm(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,p)}updateFromIdToken(e){ie(e.length!==0,"internal-error");const p=lm(e);this.updateTokensAndExpiration(e,null,p)}async getToken(e,p=!1){return!p&&this.accessToken&&!this.isExpired?this.accessToken:(ie(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,p){const{accessToken:T,refreshToken:P,expiresIn:M}=await Q4(e,p);this.updateTokensAndExpiration(T,P,Number(M))}updateTokensAndExpiration(e,p,T){this.refreshToken=p||null,this.accessToken=e||null,this.expirationTime=Date.now()+T*1e3}static fromJSON(e,p){const{refreshToken:T,accessToken:P,expirationTime:M}=p,f=new vr;return T&&(ie(typeof T=="string","internal-error",{appName:e}),f.refreshToken=T),P&&(ie(typeof P=="string","internal-error",{appName:e}),f.accessToken=P),M&&(ie(typeof M=="number","internal-error",{appName:e}),f.expirationTime=M),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new vr,this.toJSON())}_performRefresh(){return ds("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ls(m,e){ie(typeof m=="string"||typeof m>"u","internal-error",{appName:e})}class zs{constructor(e){var{uid:p,auth:T,stsTokenManager:P}=e,M=Or(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new K4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=T,this.stsTokenManager=P,this.accessToken=P.accessToken,this.displayName=M.displayName||null,this.email=M.email||null,this.emailVerified=M.emailVerified||!1,this.phoneNumber=M.phoneNumber||null,this.photoURL=M.photoURL||null,this.isAnonymous=M.isAnonymous||!1,this.tenantId=M.tenantId||null,this.providerData=M.providerData?[...M.providerData]:[],this.metadata=new rf(M.createdAt||void 0,M.lastLoginAt||void 0)}async getIdToken(e){const p=await nf(this,this.stsTokenManager.getToken(this.auth,e));return ie(p,this.auth,"internal-error"),this.accessToken!==p&&(this.accessToken=p,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),p}getIdTokenResult(e){return Y4(this,e)}reload(){return k4(this)}_assign(e){this!==e&&(ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(p=>Object.assign({},p)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const p=new zs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return p.metadata._copy(this.metadata),p}_onReload(e){ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,p=!1){let T=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),T=!0),p&&await Rh(this),await this.auth._persistUserIfCurrent(this),T&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Xe(this.auth.app))return Promise.reject($o(this.auth));const e=await this.getIdToken();return await nf(this,H4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,p){var T,P,M,f,C,t,h,g;const o=(T=p.displayName)!==null&&T!==void 0?T:void 0,a=(P=p.email)!==null&&P!==void 0?P:void 0,r=(M=p.phoneNumber)!==null&&M!==void 0?M:void 0,i=(f=p.photoURL)!==null&&f!==void 0?f:void 0,n=(C=p.tenantId)!==null&&C!==void 0?C:void 0,l=(t=p._redirectEventId)!==null&&t!==void 0?t:void 0,s=(h=p.createdAt)!==null&&h!==void 0?h:void 0,u=(g=p.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:d,emailVerified:c,isAnonymous:v,providerData:y,stsTokenManager:x}=p;ie(d&&x,e,"internal-error");const S=vr.fromJSON(this.name,x);ie(typeof d=="string",e,"internal-error"),Ls(o,e.name),Ls(a,e.name),ie(typeof c=="boolean",e,"internal-error"),ie(typeof v=="boolean",e,"internal-error"),Ls(r,e.name),Ls(i,e.name),Ls(n,e.name),Ls(l,e.name),Ls(s,e.name),Ls(u,e.name);const E=new zs({uid:d,auth:e,email:a,emailVerified:c,displayName:o,isAnonymous:v,photoURL:i,phoneNumber:r,tenantId:n,stsTokenManager:S,createdAt:s,lastLoginAt:u});return y&&Array.isArray(y)&&(E.providerData=y.map(A=>Object.assign({},A))),l&&(E._redirectEventId=l),E}static async _fromIdTokenResponse(e,p,T=!1){const P=new vr;P.updateFromServerResponse(p);const M=new zs({uid:p.localId,auth:e,stsTokenManager:P,isAnonymous:T});return await Rh(M),M}static async _fromGetAccountInfoResponse(e,p,T){const P=p.users[0];ie(P.localId!==void 0,"internal-error");const M=P.providerUserInfo!==void 0?e1(P.providerUserInfo):[],f=!(P.email&&P.passwordHash)&&!(M!=null&&M.length),C=new vr;C.updateFromIdToken(T);const t=new zs({uid:P.localId,auth:e,stsTokenManager:C,isAnonymous:f}),h={uid:P.localId,displayName:P.displayName||null,photoURL:P.photoUrl||null,email:P.email||null,emailVerified:P.emailVerified||!1,phoneNumber:P.phoneNumber||null,tenantId:P.tenantId||null,providerData:M,metadata:new rf(P.createdAt,P.lastLoginAt),isAnonymous:!(P.email&&P.passwordHash)&&!(M!=null&&M.length)};return Object.assign(t,h),t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const um=new Map;function Pn(m){Ph(m instanceof Function,"Expected a class definition");let e=um.get(m);return e?(Ph(e instanceof m,"Instance stored in cache mismatched with class"),e):(e=new m,um.set(m,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,p){this.storage[e]=p}async _get(e){const p=this.storage[e];return p===void 0?null:p}async _remove(e){delete this.storage[e]}_addListener(e,p){}_removeListener(e,p){}}i1.type="NONE";const fm=i1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fu(m,e,p){return`firebase:${m}:${e}:${p}`}class pr{constructor(e,p,T){this.persistence=e,this.auth=p,this.userKey=T;const{config:P,name:M}=this.auth;this.fullUserKey=fu(this.userKey,P.apiKey,M),this.fullPersistenceKey=fu("persistence",P.apiKey,M),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?zs._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const p=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,p)return this.setCurrentUser(p)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,p,T="authUser"){if(!p.length)return new pr(Pn(fm),e,T);const P=(await Promise.all(p.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let M=P[0]||Pn(fm);const f=fu(T,e.config.apiKey,e.name);let C=null;for(const h of p)try{const g=await h._get(f);if(g){const o=zs._fromJSON(e,g);h!==M&&(C=o),M=h;break}}catch{}const t=P.filter(h=>h._shouldAllowMigration);return!M._shouldAllowMigration||!t.length?new pr(M,e,T):(M=t[0],C&&await M._set(f,C.toJSON()),await Promise.all(p.map(async h=>{if(h!==M)try{await h._remove(f)}catch{}})),new pr(M,e,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dm(m){const e=m.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(tL(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Z4(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(iL(e))return"Blackberry";if(sL(e))return"Webos";if(q4(e))return"Safari";if((e.includes("chrome/")||_4(e))&&!e.includes("edge/"))return"Chrome";if(eL(e))return"Android";{const p=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,T=m.match(p);if((T==null?void 0:T.length)===2)return T[1]}return"Other"}function Z4(m=ye()){return/firefox\//i.test(m)}function q4(m=ye()){const e=m.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _4(m=ye()){return/crios\//i.test(m)}function tL(m=ye()){return/iemobile/i.test(m)}function eL(m=ye()){return/android/i.test(m)}function iL(m=ye()){return/blackberry/i.test(m)}function sL(m=ye()){return/webos/i.test(m)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s1(m,e=[]){let p;switch(m){case"Browser":p=dm(ye());break;case"Worker":p=`${dm(ye())}-${m}`;break;default:p=m}const T=e.length?e.join(","):"FirebaseCore-web";return`${p}/JsCore/${As}/${T}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,p){const T=M=>new Promise((f,C)=>{try{const t=e(M);f(t)}catch(t){C(t)}});T.onAbort=p,this.queue.push(T);const P=this.queue.length-1;return()=>{this.queue[P]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const p=[];try{for(const T of this.queue)await T(e),T.onAbort&&p.push(T.onAbort)}catch(T){p.reverse();for(const P of p)try{P()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:T==null?void 0:T.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rL(m,e={}){return Qa(m,"GET","/v2/passwordPolicy",Ud(m,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aL=6;class oL{constructor(e){var p,T,P,M;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(p=f.minPasswordLength)!==null&&p!==void 0?p:aL,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(P=(T=e.allowedNonAlphanumericCharacters)===null||T===void 0?void 0:T.join(""))!==null&&P!==void 0?P:"",this.forceUpgradeOnSignin=(M=e.forceUpgradeOnSignin)!==null&&M!==void 0?M:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var p,T,P,M,f,C;const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=(p=t.meetsMinPasswordLength)!==null&&p!==void 0?p:!0),t.isValid&&(t.isValid=(T=t.meetsMaxPasswordLength)!==null&&T!==void 0?T:!0),t.isValid&&(t.isValid=(P=t.containsLowercaseLetter)!==null&&P!==void 0?P:!0),t.isValid&&(t.isValid=(M=t.containsUppercaseLetter)!==null&&M!==void 0?M:!0),t.isValid&&(t.isValid=(f=t.containsNumericCharacter)!==null&&f!==void 0?f:!0),t.isValid&&(t.isValid=(C=t.containsNonAlphanumericCharacter)!==null&&C!==void 0?C:!0),t}validatePasswordLengthOptions(e,p){const T=this.customStrengthOptions.minPasswordLength,P=this.customStrengthOptions.maxPasswordLength;T&&(p.meetsMinPasswordLength=e.length>=T),P&&(p.meetsMaxPasswordLength=e.length<=P)}validatePasswordCharacterOptions(e,p){this.updatePasswordCharacterOptionsStatuses(p,!1,!1,!1,!1);let T;for(let P=0;P<e.length;P++)T=e.charAt(P),this.updatePasswordCharacterOptionsStatuses(p,T>="a"&&T<="z",T>="A"&&T<="Z",T>="0"&&T<="9",this.allowedNonAlphanumericCharacters.includes(T))}updatePasswordCharacterOptionsStatuses(e,p,T,P,M){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=p)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=T)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=P)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=M))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hL{constructor(e,p,T,P){this.app=e,this.heartbeatServiceProvider=p,this.appCheckServiceProvider=T,this.config=P,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new cm(this),this.idTokenSubscription=new cm(this),this.beforeStateQueue=new nL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=kx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=P.sdkClientVersion}_initializeWithPersistence(e,p){return p&&(this._popupRedirectResolver=Pn(p)),this._initializationPromise=this.queue(async()=>{var T,P;if(!this._deleted&&(this.persistenceManager=await pr.create(this,e),!this._deleted)){if(!((T=this._popupRedirectResolver)===null||T===void 0)&&T._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(p),this.lastNotifiedUid=((P=this.currentUser)===null||P===void 0?void 0:P.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const p=await _x(this,{idToken:e}),T=await zs._fromGetAccountInfoResponse(this,p,e);await this.directlySetCurrentUser(T)}catch(p){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",p),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var p;if(Xe(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(C=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(C,C))}):this.directlySetCurrentUser(null)}const T=await this.assertedPersistence.getCurrentUser();let P=T,M=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(p=this.redirectUser)===null||p===void 0?void 0:p._redirectEventId,C=P==null?void 0:P._redirectEventId,t=await this.tryRedirectSignIn(e);(!f||f===C)&&(t!=null&&t.user)&&(P=t.user,M=!0)}if(!P)return this.directlySetCurrentUser(null);if(!P._redirectEventId){if(M)try{await this.beforeStateQueue.runMiddleware(P)}catch(f){P=T,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return P?this.reloadAndSetCurrentUserOrClear(P):this.directlySetCurrentUser(null)}return ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===P._redirectEventId?this.directlySetCurrentUser(P):this.reloadAndSetCurrentUserOrClear(P)}async tryRedirectSignIn(e){let p=null;try{p=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return p}async reloadAndSetCurrentUserOrClear(e){try{await Rh(e)}catch(p){if((p==null?void 0:p.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=B4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Xe(this.app))return Promise.reject($o(this));const p=e?Te(e):null;return p&&ie(p.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(p&&p._clone(this))}async _updateCurrentUser(e,p=!1){if(!this._deleted)return e&&ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),p||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Xe(this.app)?Promise.reject($o(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Xe(this.app)?Promise.reject($o(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Pn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const p=this._getPasswordPolicyInternal();return p.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):p.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await rL(this),p=new oL(e);this.tenantId===null?this._projectPasswordPolicy=p:this._tenantPasswordPolicies[this.tenantId]=p}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ts("auth","Firebase",e())}onAuthStateChanged(e,p,T){return this.registerStateListener(this.authStateSubscription,e,p,T)}beforeAuthStateChanged(e,p){return this.beforeStateQueue.pushCallback(e,p)}onIdTokenChanged(e,p,T){return this.registerStateListener(this.idTokenSubscription,e,p,T)}authStateReady(){return new Promise((e,p)=>{if(this.currentUser)e();else{const T=this.onAuthStateChanged(()=>{T(),e()},p)}})}async revokeAccessToken(e){if(this.currentUser){const p=await this.currentUser.getIdToken(),T={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:p};this.tenantId!=null&&(T.tenantId=this.tenantId),await J4(this,T)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,p){const T=await this.getOrInitRedirectPersistenceManager(p);return e===null?T.removeCurrentUser():T.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const p=e&&Pn(e)||this._popupRedirectResolver;ie(p,this,"argument-error"),this.redirectPersistenceManager=await pr.create(this,[Pn(p._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var p,T;return this._isInitialized&&await this.queue(async()=>{}),((p=this._currentUser)===null||p===void 0?void 0:p._redirectEventId)===e?this._currentUser:((T=this.redirectUser)===null||T===void 0?void 0:T._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const T=(p=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&p!==void 0?p:null;this.lastNotifiedUid!==T&&(this.lastNotifiedUid=T,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,p,T,P){if(this._deleted)return()=>{};const M=typeof p=="function"?p:p.next.bind(p);let f=!1;const C=this._isInitialized?Promise.resolve():this._initializationPromise;if(ie(C,this,"internal-error"),C.then(()=>{f||M(this.currentUser)}),typeof p=="function"){const t=e.addObserver(p,T,P);return()=>{f=!0,t()}}else{const t=e.addObserver(p);return()=>{f=!0,t()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=s1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const p={"X-Client-Version":this.clientVersion};this.app.options.appId&&(p["X-Firebase-gmpid"]=this.app.options.appId);const T=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());T&&(p["X-Firebase-Client"]=T);const P=await this._getAppCheckToken();return P&&(p["X-Firebase-AppCheck"]=P),p}async _getAppCheckToken(){var e;if(Xe(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const p=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return p!=null&&p.error&&D4(`Error while retrieving App Check token: ${p.error}`),p==null?void 0:p.token}}function lL(m){return Te(m)}class cm{constructor(e){this.auth=e,this.observer=null,this.addObserver=i0(p=>this.observer=p)}get next(){return ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function uL(m,e){const p=(e==null?void 0:e.persistence)||[],T=(Array.isArray(p)?p:[p]).map(Pn);e!=null&&e.errorMap&&m._updateErrorMap(e.errorMap),m._initializeWithPersistence(T,e==null?void 0:e.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fL{constructor(e,p){this.providerId=e,this.signInMethod=p}toJSON(){return ds("not implemented")}_getIdTokenResponse(e){return ds("not implemented")}_linkToIdToken(e,p){return ds("not implemented")}_getReauthenticationResolver(e){return ds("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function du(m,e){return X4(m,"POST","/v1/accounts:signInWithIdp",Ud(m,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dL="http://localhost";class Bn extends fL{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const p=new Bn(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(p.idToken=e.idToken),e.accessToken&&(p.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(p.nonce=e.nonce),e.pendingToken&&(p.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(p.accessToken=e.oauthToken,p.secret=e.oauthTokenSecret):Ah("argument-error"),p}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const p=typeof e=="string"?JSON.parse(e):e,{providerId:T,signInMethod:P}=p,M=Or(p,["providerId","signInMethod"]);if(!T||!P)return null;const f=new Bn(T,P);return f.idToken=M.idToken||void 0,f.accessToken=M.accessToken||void 0,f.secret=M.secret,f.nonce=M.nonce,f.pendingToken=M.pendingToken||null,f}_getIdTokenResponse(e){const p=this.buildRequest();return du(e,p)}_linkToIdToken(e,p){const T=this.buildRequest();return T.idToken=p,du(e,T)}_getReauthenticationResolver(e){const p=this.buildRequest();return p.autoCreate=!1,du(e,p)}buildRequest(){const e={requestUri:dL,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const p={};this.idToken&&(p.id_token=this.idToken),this.accessToken&&(p.access_token=this.accessToken),this.secret&&(p.oauth_token_secret=this.secret),p.providerId=this.providerId,this.nonce&&!this.pendingToken&&(p.nonce=this.nonce),e.postBody=hn(p)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cL{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml extends cL{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs extends ml{constructor(){super("facebook.com")}static credential(e){return Bn._fromParams({providerId:Bs.PROVIDER_ID,signInMethod:Bs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Bs.credentialFromTaggedObject(e)}static credentialFromError(e){return Bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Bs.credential(e.oauthAccessToken)}catch{return null}}}Bs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Bs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls extends ml{constructor(){super("google.com"),this.addScope("profile")}static credential(e,p){return Bn._fromParams({providerId:ls.PROVIDER_ID,signInMethod:ls.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:p})}static credentialFromResult(e){return ls.credentialFromTaggedObject(e)}static credentialFromError(e){return ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:p,oauthAccessToken:T}=e;if(!p&&!T)return null;try{return ls.credential(p,T)}catch{return null}}}ls.GOOGLE_SIGN_IN_METHOD="google.com";ls.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs extends ml{constructor(){super("github.com")}static credential(e){return Bn._fromParams({providerId:Vs.PROVIDER_ID,signInMethod:Vs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vs.credentialFromTaggedObject(e)}static credentialFromError(e){return Vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Vs.credential(e.oauthAccessToken)}catch{return null}}}Vs.GITHUB_SIGN_IN_METHOD="github.com";Vs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us extends ml{constructor(){super("twitter.com")}static credential(e,p){return Bn._fromParams({providerId:Us.PROVIDER_ID,signInMethod:Us.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:p})}static credentialFromResult(e){return Us.credentialFromTaggedObject(e)}static credentialFromError(e){return Us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:p,oauthTokenSecret:T}=e;if(!p||!T)return null;try{return Us.credential(p,T)}catch{return null}}}Us.TWITTER_SIGN_IN_METHOD="twitter.com";Us.PROVIDER_ID="twitter.com";var vm="@firebase/auth",pm="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vL{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const p=this.auth.onIdTokenChanged(T=>{e((T==null?void 0:T.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,p),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const p=this.internalListeners.get(e);p&&(this.internalListeners.delete(e),p(),this.updateProactiveRefresh())}assertAuthConfigured(){ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pL(m){switch(m){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function mL(m){Mi(new Ti("auth",(e,{options:p})=>{const T=e.getProvider("app").getImmediate(),P=e.getProvider("heartbeat"),M=e.getProvider("app-check-internal"),{apiKey:f,authDomain:C}=T.options;ie(f&&!f.includes(":"),"invalid-api-key",{appName:T.name});const t={apiKey:f,authDomain:C,clientPlatform:m,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:s1(m)},h=new hL(T,P,M,t);return uL(h,p),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,p,T)=>{e.getProvider("auth-internal").initialize()})),Mi(new Ti("auth-internal",e=>{const p=lL(e.getProvider("auth").getImmediate());return(T=>new vL(T))(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),di(vm,pm,pL(m)),di(vm,pm,"esm2017")}mL("WebExtension");const gL={apiKey:"AIzaSyB8U-G13jDAjURH-PWBDmMp0l8XJFIeCOM",authDomain:"nyxbase-2f10e.firebaseapp.com",projectId:"nyxbase-2f10e",storageBucket:"nyxbase-2f10e.firebasestorage.app",messagingSenderId:"782425608263",appId:"1:782425608263:web:8a75ca84179aeb25ef2162"};class yL{constructor(e=gL){vt(this,"subscriptions",{});vt(this,"app");vt(this,"db");vt(this,"analytics");vt(this,"auth");vt(this,"authProviders",{google:new ls});vt(this,"unsubscribe",(e,p)=>{if(!this.subscriptions[e]){console.warn(`You should not unsubscribe if you have not yet subscribed to key "${e}".`);return}if(this.subscriptions[e].count-=1,this.subscriptions[e].count!==0)return;const T=this.subscriptions[e].destroy;T?(delete this.subscriptions[e],T(),p==null||p()):console.warn(`Unsubscribe called with key "${e}" while subscribe is waiting to complete.`)});vt(this,"getCollectionRef",(e,p)=>p?Rp(this.db,e).withConverter(p):Rp(this.db,e));vt(this,"getDocRef",(e,p,T)=>{const P=this.getCollectionRef(e);return p!==null?T?qr(P,p).withConverter(T):qr(P,p):T?qr(P).withConverter(T):qr(P)});vt(this,"getSnapshot",async(e,p,T)=>{const P=this.getDocRef(e,p,T);return await su(P)});vt(this,"getDocData",async(e,p,T)=>{const P=await this.getSnapshot(e,p,T);return P.exists()?P.data():(console.error(`There is no document with id "${p}" in collection "${e}".`),null)});vt(this,"getDocDataByRef",async e=>{const p=await su(e);if(p.exists())return p.data();console.error(`No document found with reference id "${e.id}".`)});vt(this,"getDocDataByQuery",async e=>{const p=await Op(e);return p.empty?(console.error(`No document(s) found using query "${e}".`),[]):p.docs.map(T=>T.data())});vt(this,"getCollectionData",async(e,p)=>{const T=this.getCollectionRef(e,p),P=await Op(T);return P.empty?(console.error(`Collection "${e}" is empty.`),[]):P.docs.map(M=>M.data())});this.app=a0(e),this.db=fw(this.app,{ignoreUndefinedProperties:!0}),this.analytics=M4(this.app),this.auth=RI(this.app)}getRunningKeys(e=""){return Object.keys(this.subscriptions).filter(p=>p.startsWith(e))}async getDocument(e,p,T,P=!1){const M=this.getDocRef(e,p,T),f=await su(M);return f.exists()?f.data():(P||console.error(`No document found with id "${p}" in collection "${e}".`),null)}async addDocument(e,p,T){const P=this.getCollectionRef(e),M=T?T.toFirestore(p):p;return(await ww(P,M)).id}async setDocument(e,p,T,P){const M=this.getDocRef(e,p,P);await Pw(M,T)}async updateDocument(e,p,T,P){const M=this.getDocRef(e,p,P);await Rw(M,T)}async subscribe({key:e,docRef:p,queryRef:T,callback:P,error:M,converter:f}){if(this.subscriptions[e]===void 0&&(this.subscriptions[e]={key:e,count:0}),this.subscriptions[e].count+=1,this.subscriptions[e].count===1)try{if(p){const C=Dp(p,t=>this.handleDocSnapshot(t,P,f),M);this.subscriptions[e].destroy=C}else if(T){const C=Dp(T,t=>this.handleQuerySnapshot(t,P,f),M);this.subscriptions[e].destroy=C}}catch(C){console.error(`Error subscribing to key "${e}":`,C)}}getData(e,p){return p?p.fromFirestore(e):e.data()}handleDocSnapshot(e,p,T){if(!e.exists())return;const P=this.getData(e,T);P&&p(P)}handleQuerySnapshot(e,p,T){const P=e.docs.map(M=>this.getData(M,T));p(P)}}const ze=new yL;dE(u3).use(pE()).use(EE,{pixel:!0}).mount("#app");
